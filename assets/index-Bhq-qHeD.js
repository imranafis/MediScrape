(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function Mf(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Nh={exports:{}},Qa={},Lh={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $g;function JE(){if($g)return Ke;$g=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function I(V){return V===null||typeof V!="object"?null:(V=T&&V[T]||V["@@iterator"],typeof V=="function"?V:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,j={};function F(V,Y,_e){this.props=V,this.context=Y,this.refs=j,this.updater=_e||C}F.prototype.isReactComponent={},F.prototype.setState=function(V,Y){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Y,"setState")},F.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function W(){}W.prototype=F.prototype;function te(V,Y,_e){this.props=V,this.context=Y,this.refs=j,this.updater=_e||C}var Z=te.prototype=new W;Z.constructor=te,b(Z,F.prototype),Z.isPureReactComponent=!0;var pe=Array.isArray,U=Object.prototype.hasOwnProperty,ce={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function x(V,Y,_e){var De,Le={},Be=null,Qe=null;if(Y!=null)for(De in Y.ref!==void 0&&(Qe=Y.ref),Y.key!==void 0&&(Be=""+Y.key),Y)U.call(Y,De)&&!P.hasOwnProperty(De)&&(Le[De]=Y[De]);var Ye=arguments.length-2;if(Ye===1)Le.children=_e;else if(1<Ye){for(var je=Array(Ye),ht=0;ht<Ye;ht++)je[ht]=arguments[ht+2];Le.children=je}if(V&&V.defaultProps)for(De in Ye=V.defaultProps,Ye)Le[De]===void 0&&(Le[De]=Ye[De]);return{$$typeof:n,type:V,key:Be,ref:Qe,props:Le,_owner:ce.current}}function S(V,Y){return{$$typeof:n,type:V.type,key:Y,ref:V.ref,props:V.props,_owner:V._owner}}function A(V){return typeof V=="object"&&V!==null&&V.$$typeof===n}function D(V){var Y={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(_e){return Y[_e]})}var O=/\/+/g;function k(V,Y){return typeof V=="object"&&V!==null&&V.key!=null?D(""+V.key):Y.toString(36)}function He(V,Y,_e,De,Le){var Be=typeof V;(Be==="undefined"||Be==="boolean")&&(V=null);var Qe=!1;if(V===null)Qe=!0;else switch(Be){case"string":case"number":Qe=!0;break;case"object":switch(V.$$typeof){case n:case e:Qe=!0}}if(Qe)return Qe=V,Le=Le(Qe),V=De===""?"."+k(Qe,0):De,pe(Le)?(_e="",V!=null&&(_e=V.replace(O,"$&/")+"/"),He(Le,Y,_e,"",function(ht){return ht})):Le!=null&&(A(Le)&&(Le=S(Le,_e+(!Le.key||Qe&&Qe.key===Le.key?"":(""+Le.key).replace(O,"$&/")+"/")+V)),Y.push(Le)),1;if(Qe=0,De=De===""?".":De+":",pe(V))for(var Ye=0;Ye<V.length;Ye++){Be=V[Ye];var je=De+k(Be,Ye);Qe+=He(Be,Y,_e,je,Le)}else if(je=I(V),typeof je=="function")for(V=je.call(V),Ye=0;!(Be=V.next()).done;)Be=Be.value,je=De+k(Be,Ye++),Qe+=He(Be,Y,_e,je,Le);else if(Be==="object")throw Y=String(V),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Qe}function Me(V,Y,_e){if(V==null)return V;var De=[],Le=0;return He(V,De,"","",function(Be){return Y.call(_e,Be,Le++)}),De}function kt(V){if(V._status===-1){var Y=V._result;Y=Y(),Y.then(function(_e){(V._status===0||V._status===-1)&&(V._status=1,V._result=_e)},function(_e){(V._status===0||V._status===-1)&&(V._status=2,V._result=_e)}),V._status===-1&&(V._status=0,V._result=Y)}if(V._status===1)return V._result.default;throw V._result}var Ge={current:null},oe={transition:null},he={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:oe,ReactCurrentOwner:ce};function fe(){throw Error("act(...) is not supported in production builds of React.")}return Ke.Children={map:Me,forEach:function(V,Y,_e){Me(V,function(){Y.apply(this,arguments)},_e)},count:function(V){var Y=0;return Me(V,function(){Y++}),Y},toArray:function(V){return Me(V,function(Y){return Y})||[]},only:function(V){if(!A(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Ke.Component=F,Ke.Fragment=t,Ke.Profiler=s,Ke.PureComponent=te,Ke.StrictMode=i,Ke.Suspense=p,Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=he,Ke.act=fe,Ke.cloneElement=function(V,Y,_e){if(V==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+V+".");var De=b({},V.props),Le=V.key,Be=V.ref,Qe=V._owner;if(Y!=null){if(Y.ref!==void 0&&(Be=Y.ref,Qe=ce.current),Y.key!==void 0&&(Le=""+Y.key),V.type&&V.type.defaultProps)var Ye=V.type.defaultProps;for(je in Y)U.call(Y,je)&&!P.hasOwnProperty(je)&&(De[je]=Y[je]===void 0&&Ye!==void 0?Ye[je]:Y[je])}var je=arguments.length-2;if(je===1)De.children=_e;else if(1<je){Ye=Array(je);for(var ht=0;ht<je;ht++)Ye[ht]=arguments[ht+2];De.children=Ye}return{$$typeof:n,type:V.type,key:Le,ref:Be,props:De,_owner:Qe}},Ke.createContext=function(V){return V={$$typeof:c,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},V.Provider={$$typeof:a,_context:V},V.Consumer=V},Ke.createElement=x,Ke.createFactory=function(V){var Y=x.bind(null,V);return Y.type=V,Y},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(V){return{$$typeof:h,render:V}},Ke.isValidElement=A,Ke.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:kt}},Ke.memo=function(V,Y){return{$$typeof:v,type:V,compare:Y===void 0?null:Y}},Ke.startTransition=function(V){var Y=oe.transition;oe.transition={};try{V()}finally{oe.transition=Y}},Ke.unstable_act=fe,Ke.useCallback=function(V,Y){return Ge.current.useCallback(V,Y)},Ke.useContext=function(V){return Ge.current.useContext(V)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(V){return Ge.current.useDeferredValue(V)},Ke.useEffect=function(V,Y){return Ge.current.useEffect(V,Y)},Ke.useId=function(){return Ge.current.useId()},Ke.useImperativeHandle=function(V,Y,_e){return Ge.current.useImperativeHandle(V,Y,_e)},Ke.useInsertionEffect=function(V,Y){return Ge.current.useInsertionEffect(V,Y)},Ke.useLayoutEffect=function(V,Y){return Ge.current.useLayoutEffect(V,Y)},Ke.useMemo=function(V,Y){return Ge.current.useMemo(V,Y)},Ke.useReducer=function(V,Y,_e){return Ge.current.useReducer(V,Y,_e)},Ke.useRef=function(V){return Ge.current.useRef(V)},Ke.useState=function(V){return Ge.current.useState(V)},Ke.useSyncExternalStore=function(V,Y,_e){return Ge.current.useSyncExternalStore(V,Y,_e)},Ke.useTransition=function(){return Ge.current.useTransition()},Ke.version="18.3.1",Ke}var Hg;function Vf(){return Hg||(Hg=1,Lh.exports=JE()),Lh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qg;function ZE(){if(qg)return Qa;qg=1;var n=Vf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(h,p,v){var _,T={},I=null,C=null;v!==void 0&&(I=""+v),p.key!==void 0&&(I=""+p.key),p.ref!==void 0&&(C=p.ref);for(_ in p)i.call(p,_)&&!a.hasOwnProperty(_)&&(T[_]=p[_]);if(h&&h.defaultProps)for(_ in p=h.defaultProps,p)T[_]===void 0&&(T[_]=p[_]);return{$$typeof:e,type:h,key:I,ref:C,props:T,_owner:s.current}}return Qa.Fragment=t,Qa.jsx=c,Qa.jsxs=c,Qa}var Wg;function eT(){return Wg||(Wg=1,Nh.exports=ZE()),Nh.exports}var ae=eT(),B=Vf();const tT=Mf(B);var qu={},Oh={exports:{}},zn={},Mh={exports:{}},Vh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kg;function nT(){return Kg||(Kg=1,function(n){function e(oe,he){var fe=oe.length;oe.push(he);e:for(;0<fe;){var V=fe-1>>>1,Y=oe[V];if(0<s(Y,he))oe[V]=he,oe[fe]=Y,fe=V;else break e}}function t(oe){return oe.length===0?null:oe[0]}function i(oe){if(oe.length===0)return null;var he=oe[0],fe=oe.pop();if(fe!==he){oe[0]=fe;e:for(var V=0,Y=oe.length,_e=Y>>>1;V<_e;){var De=2*(V+1)-1,Le=oe[De],Be=De+1,Qe=oe[Be];if(0>s(Le,fe))Be<Y&&0>s(Qe,Le)?(oe[V]=Qe,oe[Be]=fe,V=Be):(oe[V]=Le,oe[De]=fe,V=De);else if(Be<Y&&0>s(Qe,fe))oe[V]=Qe,oe[Be]=fe,V=Be;else break e}}return he}function s(oe,he){var fe=oe.sortIndex-he.sortIndex;return fe!==0?fe:oe.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var p=[],v=[],_=1,T=null,I=3,C=!1,b=!1,j=!1,F=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Z(oe){for(var he=t(v);he!==null;){if(he.callback===null)i(v);else if(he.startTime<=oe)i(v),he.sortIndex=he.expirationTime,e(p,he);else break;he=t(v)}}function pe(oe){if(j=!1,Z(oe),!b)if(t(p)!==null)b=!0,kt(U);else{var he=t(v);he!==null&&Ge(pe,he.startTime-oe)}}function U(oe,he){b=!1,j&&(j=!1,W(x),x=-1),C=!0;var fe=I;try{for(Z(he),T=t(p);T!==null&&(!(T.expirationTime>he)||oe&&!D());){var V=T.callback;if(typeof V=="function"){T.callback=null,I=T.priorityLevel;var Y=V(T.expirationTime<=he);he=n.unstable_now(),typeof Y=="function"?T.callback=Y:T===t(p)&&i(p),Z(he)}else i(p);T=t(p)}if(T!==null)var _e=!0;else{var De=t(v);De!==null&&Ge(pe,De.startTime-he),_e=!1}return _e}finally{T=null,I=fe,C=!1}}var ce=!1,P=null,x=-1,S=5,A=-1;function D(){return!(n.unstable_now()-A<S)}function O(){if(P!==null){var oe=n.unstable_now();A=oe;var he=!0;try{he=P(!0,oe)}finally{he?k():(ce=!1,P=null)}}else ce=!1}var k;if(typeof te=="function")k=function(){te(O)};else if(typeof MessageChannel<"u"){var He=new MessageChannel,Me=He.port2;He.port1.onmessage=O,k=function(){Me.postMessage(null)}}else k=function(){F(O,0)};function kt(oe){P=oe,ce||(ce=!0,k())}function Ge(oe,he){x=F(function(){oe(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(oe){oe.callback=null},n.unstable_continueExecution=function(){b||C||(b=!0,kt(U))},n.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<oe?Math.floor(1e3/oe):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(oe){switch(I){case 1:case 2:case 3:var he=3;break;default:he=I}var fe=I;I=he;try{return oe()}finally{I=fe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(oe,he){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var fe=I;I=oe;try{return he()}finally{I=fe}},n.unstable_scheduleCallback=function(oe,he,fe){var V=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?V+fe:V):fe=V,oe){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=fe+Y,oe={id:_++,callback:he,priorityLevel:oe,startTime:fe,expirationTime:Y,sortIndex:-1},fe>V?(oe.sortIndex=fe,e(v,oe),t(p)===null&&oe===t(v)&&(j?(W(x),x=-1):j=!0,Ge(pe,fe-V))):(oe.sortIndex=Y,e(p,oe),b||C||(b=!0,kt(U))),oe},n.unstable_shouldYield=D,n.unstable_wrapCallback=function(oe){var he=I;return function(){var fe=I;I=he;try{return oe.apply(this,arguments)}finally{I=fe}}}}(Vh)),Vh}var Gg;function rT(){return Gg||(Gg=1,Mh.exports=nT()),Mh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qg;function iT(){if(Qg)return zn;Qg=1;var n=Vf(),e=rT();function t(r){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function a(r,o){c(r,o),c(r+"Capture",o)}function c(r,o){for(s[r]=o,r=0;r<o.length;r++)i.add(o[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},T={};function I(r){return p.call(T,r)?!0:p.call(_,r)?!1:v.test(r)?T[r]=!0:(_[r]=!0,!1)}function C(r,o,l,d){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function b(r,o,l,d){if(o===null||typeof o>"u"||C(r,o,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function j(r,o,l,d,f,g,w){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=r,this.type=o,this.sanitizeURL=g,this.removeEmptyString=w}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){F[r]=new j(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var o=r[0];F[o]=new j(o,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){F[r]=new j(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){F[r]=new j(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){F[r]=new j(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){F[r]=new j(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){F[r]=new j(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){F[r]=new j(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){F[r]=new j(r,5,!1,r.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function te(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var o=r.replace(W,te);F[o]=new j(o,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var o=r.replace(W,te);F[o]=new j(o,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var o=r.replace(W,te);F[o]=new j(o,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){F[r]=new j(r,1,!1,r.toLowerCase(),null,!1,!1)}),F.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){F[r]=new j(r,1,!1,r.toLowerCase(),null,!0,!0)});function Z(r,o,l,d){var f=F.hasOwnProperty(o)?F[o]:null;(f!==null?f.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(b(o,l,f,d)&&(l=null),d||f===null?I(o)&&(l===null?r.removeAttribute(o):r.setAttribute(o,""+l)):f.mustUseProperty?r[f.propertyName]=l===null?f.type===3?!1:"":l:(o=f.attributeName,d=f.attributeNamespace,l===null?r.removeAttribute(o):(f=f.type,l=f===3||f===4&&l===!0?"":""+l,d?r.setAttributeNS(d,o,l):r.setAttribute(o,l))))}var pe=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),ce=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),D=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),He=Symbol.for("react.suspense_list"),Me=Symbol.for("react.memo"),kt=Symbol.for("react.lazy"),Ge=Symbol.for("react.offscreen"),oe=Symbol.iterator;function he(r){return r===null||typeof r!="object"?null:(r=oe&&r[oe]||r["@@iterator"],typeof r=="function"?r:null)}var fe=Object.assign,V;function Y(r){if(V===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);V=o&&o[1]||""}return`
`+V+r}var _e=!1;function De(r,o){if(!r||_e)return"";_e=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(K){var d=K}Reflect.construct(r,[],o)}else{try{o.call()}catch(K){d=K}r.call(o.prototype)}else{try{throw Error()}catch(K){d=K}r()}}catch(K){if(K&&d&&typeof K.stack=="string"){for(var f=K.stack.split(`
`),g=d.stack.split(`
`),w=f.length-1,R=g.length-1;1<=w&&0<=R&&f[w]!==g[R];)R--;for(;1<=w&&0<=R;w--,R--)if(f[w]!==g[R]){if(w!==1||R!==1)do if(w--,R--,0>R||f[w]!==g[R]){var N=`
`+f[w].replace(" at new "," at ");return r.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",r.displayName)),N}while(1<=w&&0<=R);break}}}finally{_e=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?Y(r):""}function Le(r){switch(r.tag){case 5:return Y(r.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return r=De(r.type,!1),r;case 11:return r=De(r.type.render,!1),r;case 1:return r=De(r.type,!0),r;default:return""}}function Be(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case P:return"Fragment";case ce:return"Portal";case S:return"Profiler";case x:return"StrictMode";case k:return"Suspense";case He:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case D:return(r.displayName||"Context")+".Consumer";case A:return(r._context.displayName||"Context")+".Provider";case O:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Me:return o=r.displayName||null,o!==null?o:Be(r.type)||"Memo";case kt:o=r._payload,r=r._init;try{return Be(r(o))}catch{}}return null}function Qe(r){var o=r.type;switch(r.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=o.render,r=r.displayName||r.name||"",o.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Be(o);case 8:return o===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ye(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function je(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ht(r){var o=je(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),d=""+r[o];if(!r.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,g=l.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return f.call(this)},set:function(w){d=""+w,g.call(this,w)}}),Object.defineProperty(r,o,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(w){d=""+w},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Zt(r){r._valueTracker||(r._valueTracker=ht(r))}function En(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var l=o.getValue(),d="";return r&&(d=je(r)?r.checked?"true":"false":r.value),r=d,r!==l?(o.setValue(r),!0):!1}function Ut(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function nr(r,o){var l=o.checked;return fe({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function yr(r,o){var l=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;l=Ye(o.value!=null?o.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function _r(r,o){o=o.checked,o!=null&&Z(r,"checked",o,!1)}function An(r,o){_r(r,o);var l=Ye(o.value),d=o.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}o.hasOwnProperty("value")?$n(r,o.type,l):o.hasOwnProperty("defaultValue")&&$n(r,o.type,Ye(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(r.defaultChecked=!!o.defaultChecked)}function Br(r,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+r._wrapperState.initialValue,l||o===r.value||(r.value=o),r.defaultValue=o}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function $n(r,o,l){(o!=="number"||Ut(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var cn=Array.isArray;function jt(r,o,l,d){if(r=r.options,o){o={};for(var f=0;f<l.length;f++)o["$"+l[f]]=!0;for(l=0;l<r.length;l++)f=o.hasOwnProperty("$"+r[l].value),r[l].selected!==f&&(r[l].selected=f),f&&d&&(r[l].defaultSelected=!0)}else{for(l=""+Ye(l),o=null,f=0;f<r.length;f++){if(r[f].value===l){r[f].selected=!0,d&&(r[f].defaultSelected=!0);return}o!==null||r[f].disabled||(o=r[f])}o!==null&&(o.selected=!0)}}function Hn(r,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return fe({},o,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function wr(r,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(cn(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}r._wrapperState={initialValue:Ye(l)}}function de(r,o){var l=Ye(o.value),d=Ye(o.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),o.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function Ie(r){var o=r.textContent;o===r._wrapperState.initialValue&&o!==""&&o!==null&&(r.value=o)}function Ne(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function We(r,o){return r==null||r==="http://www.w3.org/1999/xhtml"?Ne(o):r==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var mt,qn=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,d,f){MSApp.execUnsafeLocalFunction(function(){return r(o,l,d,f)})}:r}(function(r,o){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=o;else{for(mt=mt||document.createElement("div"),mt.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=mt.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;o.firstChild;)r.appendChild(o.firstChild)}});function xt(r,o){if(o){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=o;return}}r.textContent=o}var Cn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pn=["Webkit","ms","Moz","O"];Object.keys(Cn).forEach(function(r){Pn.forEach(function(o){o=o+r.charAt(0).toUpperCase()+r.substring(1),Cn[o]=Cn[r]})});function rr(r,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||Cn.hasOwnProperty(r)&&Cn[r]?(""+o).trim():o+"px"}function ir(r,o){r=r.style;for(var l in o)if(o.hasOwnProperty(l)){var d=l.indexOf("--")===0,f=rr(l,o[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,f):r[l]=f}}var or=fe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bn(r,o){if(o){if(or[r]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function sr(r,o){if(r.indexOf("-")===-1)return typeof o.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tn=null;function $r(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ci=null,Dn=null,Wn=null;function Er(r){if(r=La(r)){if(typeof ci!="function")throw Error(t(280));var o=r.stateNode;o&&(o=su(o),ci(r.stateNode,r.type,o))}}function xn(r){Dn?Wn?Wn.push(r):Wn=[r]:Dn=r}function bo(){if(Dn){var r=Dn,o=Wn;if(Wn=Dn=null,Er(r),o)for(r=0;r<o.length;r++)Er(o[r])}}function di(r,o){return r(o)}function L(){}var z=!1;function G(r,o,l){if(z)return r(o,l);z=!0;try{return di(r,o,l)}finally{z=!1,(Dn!==null||Wn!==null)&&(L(),bo())}}function X(r,o){var l=r.stateNode;if(l===null)return null;var d=su(l);if(d===null)return null;l=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var me=!1;if(h)try{var we={};Object.defineProperty(we,"passive",{get:function(){me=!0}}),window.addEventListener("test",we,we),window.removeEventListener("test",we,we)}catch{me=!1}function Ae(r,o,l,d,f,g,w,R,N){var K=Array.prototype.slice.call(arguments,3);try{o.apply(l,K)}catch(ne){this.onError(ne)}}var ge=!1,Te=null,le=!1,Oe=null,qe={onError:function(r){ge=!0,Te=r}};function ut(r,o,l,d,f,g,w,R,N){ge=!1,Te=null,Ae.apply(qe,arguments)}function Dt(r,o,l,d,f,g,w,R,N){if(ut.apply(this,arguments),ge){if(ge){var K=Te;ge=!1,Te=null}else throw Error(t(198));le||(le=!0,Oe=K)}}function Ze(r){var o=r,l=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,o.flags&4098&&(l=o.return),r=o.return;while(r)}return o.tag===3?l:null}function st(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function ct(r){if(Ze(r)!==r)throw Error(t(188))}function Tr(r){var o=r.alternate;if(!o){if(o=Ze(r),o===null)throw Error(t(188));return o!==r?null:r}for(var l=r,d=o;;){var f=l.return;if(f===null)break;var g=f.alternate;if(g===null){if(d=f.return,d!==null){l=d;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===l)return ct(f),r;if(g===d)return ct(f),o;g=g.sibling}throw Error(t(188))}if(l.return!==d.return)l=f,d=g;else{for(var w=!1,R=f.child;R;){if(R===l){w=!0,l=f,d=g;break}if(R===d){w=!0,d=f,l=g;break}R=R.sibling}if(!w){for(R=g.child;R;){if(R===l){w=!0,l=g,d=f;break}if(R===d){w=!0,d=g,l=f;break}R=R.sibling}if(!w)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:o}function xr(r){return r=Tr(r),r!==null?dn(r):null}function dn(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var o=dn(r);if(o!==null)return o;r=r.sibling}return null}var en=e.unstable_scheduleCallback,hi=e.unstable_cancelCallback,Hr=e.unstable_shouldYield,Ir=e.unstable_requestPaint,dt=e.unstable_now,fi=e.unstable_getCurrentPriorityLevel,rt=e.unstable_ImmediatePriority,_t=e.unstable_UserBlockingPriority,tn=e.unstable_NormalPriority,Sr=e.unstable_LowPriority,wt=e.unstable_IdlePriority,Nn=null,hn=null;function fs(r){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(Nn,r,void 0,(r.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:Fl,ya=Math.log,Vl=Math.LN2;function Fl(r){return r>>>=0,r===0?32:31-(ya(r)/Vl|0)|0}var ps=64,ms=4194304;function $i(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Do(r,o){var l=r.pendingLanes;if(l===0)return 0;var d=0,f=r.suspendedLanes,g=r.pingedLanes,w=l&268435455;if(w!==0){var R=w&~f;R!==0?d=$i(R):(g&=w,g!==0&&(d=$i(g)))}else w=l&~f,w!==0?d=$i(w):g!==0&&(d=$i(g));if(d===0)return 0;if(o!==0&&o!==d&&!(o&f)&&(f=d&-d,g=o&-o,f>=g||f===16&&(g&4194240)!==0))return o;if(d&4&&(d|=l&16),o=r.entangledLanes,o!==0)for(r=r.entanglements,o&=d;0<o;)l=31-In(o),f=1<<l,d|=r[l],o&=~f;return d}function ud(r,o){switch(r){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pi(r,o){for(var l=r.suspendedLanes,d=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var w=31-In(g),R=1<<w,N=f[w];N===-1?(!(R&l)||R&d)&&(f[w]=ud(R,o)):N<=o&&(r.expiredLanes|=R),g&=~R}}function Kn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function No(){var r=ps;return ps<<=1,!(ps&4194240)&&(ps=64),r}function Hi(r){for(var o=[],l=0;31>l;l++)o.push(r);return o}function qi(r,o,l){r.pendingLanes|=o,o!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,o=31-In(o),r[o]=l}function gt(r,o){var l=r.pendingLanes&~o;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=o,r.mutableReadLanes&=o,r.entangledLanes&=o,o=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var f=31-In(l),g=1<<f;o[f]=0,d[f]=-1,r[f]=-1,l&=~g}}function Wi(r,o){var l=r.entangledLanes|=o;for(r=r.entanglements;l;){var d=31-In(l),f=1<<d;f&o|r[d]&o&&(r[d]|=o),l&=~f}}var et=0;function Ki(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Ul,gs,jl,zl,Bl,_a=!1,qr=[],nn=null,Rr=null,kr=null,Gi=new Map,ar=new Map,Wr=[],cd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $l(r,o){switch(r){case"focusin":case"focusout":nn=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":Gi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ar.delete(o.pointerId)}}function Ln(r,o,l,d,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:o,domEventName:l,eventSystemFlags:d,nativeEvent:g,targetContainers:[f]},o!==null&&(o=La(o),o!==null&&gs(o)),r):(r.eventSystemFlags|=d,o=r.targetContainers,f!==null&&o.indexOf(f)===-1&&o.push(f),r)}function dd(r,o,l,d,f){switch(o){case"focusin":return nn=Ln(nn,r,o,l,d,f),!0;case"dragenter":return Rr=Ln(Rr,r,o,l,d,f),!0;case"mouseover":return kr=Ln(kr,r,o,l,d,f),!0;case"pointerover":var g=f.pointerId;return Gi.set(g,Ln(Gi.get(g)||null,r,o,l,d,f)),!0;case"gotpointercapture":return g=f.pointerId,ar.set(g,Ln(ar.get(g)||null,r,o,l,d,f)),!0}return!1}function Hl(r){var o=Fo(r.target);if(o!==null){var l=Ze(o);if(l!==null){if(o=l.tag,o===13){if(o=st(l),o!==null){r.blockedOn=o,Bl(r.priority,function(){jl(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function mi(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var l=vs(r.domEventName,r.eventSystemFlags,o[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);Tn=d,l.target.dispatchEvent(d),Tn=null}else return o=La(l),o!==null&&gs(o),r.blockedOn=l,!1;o.shift()}return!0}function Lo(r,o,l){mi(r)&&l.delete(o)}function ql(){_a=!1,nn!==null&&mi(nn)&&(nn=null),Rr!==null&&mi(Rr)&&(Rr=null),kr!==null&&mi(kr)&&(kr=null),Gi.forEach(Lo),ar.forEach(Lo)}function Ar(r,o){r.blockedOn===o&&(r.blockedOn=null,_a||(_a=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ql)))}function Cr(r){function o(f){return Ar(f,r)}if(0<qr.length){Ar(qr[0],r);for(var l=1;l<qr.length;l++){var d=qr[l];d.blockedOn===r&&(d.blockedOn=null)}}for(nn!==null&&Ar(nn,r),Rr!==null&&Ar(Rr,r),kr!==null&&Ar(kr,r),Gi.forEach(o),ar.forEach(o),l=0;l<Wr.length;l++)d=Wr[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<Wr.length&&(l=Wr[0],l.blockedOn===null);)Hl(l),l.blockedOn===null&&Wr.shift()}var gi=pe.ReactCurrentBatchConfig,Qi=!0;function It(r,o,l,d){var f=et,g=gi.transition;gi.transition=null;try{et=1,wa(r,o,l,d)}finally{et=f,gi.transition=g}}function hd(r,o,l,d){var f=et,g=gi.transition;gi.transition=null;try{et=4,wa(r,o,l,d)}finally{et=f,gi.transition=g}}function wa(r,o,l,d){if(Qi){var f=vs(r,o,l,d);if(f===null)xd(r,o,d,Oo,l),$l(r,d);else if(dd(f,r,o,l,d))d.stopPropagation();else if($l(r,d),o&4&&-1<cd.indexOf(r)){for(;f!==null;){var g=La(f);if(g!==null&&Ul(g),g=vs(r,o,l,d),g===null&&xd(r,o,d,Oo,l),g===f)break;f=g}f!==null&&d.stopPropagation()}else xd(r,o,d,null,l)}}var Oo=null;function vs(r,o,l,d){if(Oo=null,r=$r(d),r=Fo(r),r!==null)if(o=Ze(r),o===null)r=null;else if(l=o.tag,l===13){if(r=st(o),r!==null)return r;r=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null);return Oo=r,null}function Ea(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fi()){case rt:return 1;case _t:return 4;case tn:case Sr:return 16;case wt:return 536870912;default:return 16}default:return 16}}var Gn=null,ys=null,On=null;function Ta(){if(On)return On;var r,o=ys,l=o.length,d,f="value"in Gn?Gn.value:Gn.textContent,g=f.length;for(r=0;r<l&&o[r]===f[r];r++);var w=l-r;for(d=1;d<=w&&o[l-d]===f[g-d];d++);return On=f.slice(r,1<d?1-d:void 0)}function _s(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function Kr(){return!0}function xa(){return!1}function rn(r){function o(l,d,f,g,w){this._reactName=l,this._targetInst=f,this.type=d,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(l=r[R],this[R]=l?l(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Kr:xa,this.isPropagationStopped=xa,this}return fe(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Kr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Kr)},persist:function(){},isPersistent:Kr}),o}var Pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ws=rn(Pr),Gr=fe({},Pr,{view:0,detail:0}),fd=rn(Gr),Es,vi,Yi,Mo=fe({},Gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Yi&&(Yi&&r.type==="mousemove"?(Es=r.screenX-Yi.screenX,vi=r.screenY-Yi.screenY):vi=Es=0,Yi=r),Es)},movementY:function(r){return"movementY"in r?r.movementY:vi}}),Ts=rn(Mo),Ia=fe({},Mo,{dataTransfer:0}),Wl=rn(Ia),xs=fe({},Gr,{relatedTarget:0}),Is=rn(xs),Kl=fe({},Pr,{animationName:0,elapsedTime:0,pseudoElement:0}),yi=rn(Kl),Gl=fe({},Pr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Ql=rn(Gl),Yl=fe({},Pr,{data:0}),Sa=rn(Yl),Ss={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jl(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=Xl[r])?!!o[r]:!1}function Qr(){return Jl}var u=fe({},Gr,{key:function(r){if(r.key){var o=Ss[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=_s(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Sn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qr,charCode:function(r){return r.type==="keypress"?_s(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?_s(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=rn(u),y=fe({},Mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=rn(y),$=fe({},Gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qr}),Q=rn($),ue=fe({},Pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),pt=rn(ue),zt=fe({},Mo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),it=rn(zt),Kt=[9,13,27,32],Mt=h&&"CompositionEvent"in window,lr=null;h&&"documentMode"in document&&(lr=document.documentMode);var Qn=h&&"TextEvent"in window&&!lr,Vo=h&&(!Mt||lr&&8<lr&&11>=lr),Rs=" ",Vp=!1;function Fp(r,o){switch(r){case"keyup":return Kt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Up(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ks=!1;function Q0(r,o){switch(r){case"compositionend":return Up(o);case"keypress":return o.which!==32?null:(Vp=!0,Rs);case"textInput":return r=o.data,r===Rs&&Vp?null:r;default:return null}}function Y0(r,o){if(ks)return r==="compositionend"||!Mt&&Fp(r,o)?(r=Ta(),On=ys=Gn=null,ks=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Vo&&o.locale!=="ko"?null:o.data;default:return null}}var X0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jp(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!X0[r.type]:o==="textarea"}function zp(r,o,l,d){xn(d),o=ru(o,"onChange"),0<o.length&&(l=new ws("onChange","change",null,l,d),r.push({event:l,listeners:o}))}var Ra=null,ka=null;function J0(r){om(r,0)}function Zl(r){var o=Ds(r);if(En(o))return r}function Z0(r,o){if(r==="change")return o}var Bp=!1;if(h){var pd;if(h){var md="oninput"in document;if(!md){var $p=document.createElement("div");$p.setAttribute("oninput","return;"),md=typeof $p.oninput=="function"}pd=md}else pd=!1;Bp=pd&&(!document.documentMode||9<document.documentMode)}function Hp(){Ra&&(Ra.detachEvent("onpropertychange",qp),ka=Ra=null)}function qp(r){if(r.propertyName==="value"&&Zl(ka)){var o=[];zp(o,ka,r,$r(r)),G(J0,o)}}function eE(r,o,l){r==="focusin"?(Hp(),Ra=o,ka=l,Ra.attachEvent("onpropertychange",qp)):r==="focusout"&&Hp()}function tE(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Zl(ka)}function nE(r,o){if(r==="click")return Zl(o)}function rE(r,o){if(r==="input"||r==="change")return Zl(o)}function iE(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var br=typeof Object.is=="function"?Object.is:iE;function Aa(r,o){if(br(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var l=Object.keys(r),d=Object.keys(o);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var f=l[d];if(!p.call(o,f)||!br(r[f],o[f]))return!1}return!0}function Wp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Kp(r,o){var l=Wp(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=o&&d>=o)return{node:l,offset:o-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Wp(l)}}function Gp(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?Gp(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function Qp(){for(var r=window,o=Ut();o instanceof r.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)r=o.contentWindow;else break;o=Ut(r.document)}return o}function gd(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}function oE(r){var o=Qp(),l=r.focusedElem,d=r.selectionRange;if(o!==l&&l&&l.ownerDocument&&Gp(l.ownerDocument.documentElement,l)){if(d!==null&&gd(l)){if(o=d.start,r=d.end,r===void 0&&(r=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(r,l.value.length);else if(r=(o=l.ownerDocument||document)&&o.defaultView||window,r.getSelection){r=r.getSelection();var f=l.textContent.length,g=Math.min(d.start,f);d=d.end===void 0?g:Math.min(d.end,f),!r.extend&&g>d&&(f=d,d=g,g=f),f=Kp(l,g);var w=Kp(l,d);f&&w&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(o=o.createRange(),o.setStart(f.node,f.offset),r.removeAllRanges(),g>d?(r.addRange(o),r.extend(w.node,w.offset)):(o.setEnd(w.node,w.offset),r.addRange(o)))}}for(o=[],r=l;r=r.parentNode;)r.nodeType===1&&o.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)r=o[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var sE=h&&"documentMode"in document&&11>=document.documentMode,As=null,vd=null,Ca=null,yd=!1;function Yp(r,o,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;yd||As==null||As!==Ut(d)||(d=As,"selectionStart"in d&&gd(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ca&&Aa(Ca,d)||(Ca=d,d=ru(vd,"onSelect"),0<d.length&&(o=new ws("onSelect","select",null,o,l),r.push({event:o,listeners:d}),o.target=As)))}function eu(r,o){var l={};return l[r.toLowerCase()]=o.toLowerCase(),l["Webkit"+r]="webkit"+o,l["Moz"+r]="moz"+o,l}var Cs={animationend:eu("Animation","AnimationEnd"),animationiteration:eu("Animation","AnimationIteration"),animationstart:eu("Animation","AnimationStart"),transitionend:eu("Transition","TransitionEnd")},_d={},Xp={};h&&(Xp=document.createElement("div").style,"AnimationEvent"in window||(delete Cs.animationend.animation,delete Cs.animationiteration.animation,delete Cs.animationstart.animation),"TransitionEvent"in window||delete Cs.transitionend.transition);function tu(r){if(_d[r])return _d[r];if(!Cs[r])return r;var o=Cs[r],l;for(l in o)if(o.hasOwnProperty(l)&&l in Xp)return _d[r]=o[l];return r}var Jp=tu("animationend"),Zp=tu("animationiteration"),em=tu("animationstart"),tm=tu("transitionend"),nm=new Map,rm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xi(r,o){nm.set(r,o),a(o,[r])}for(var wd=0;wd<rm.length;wd++){var Ed=rm[wd],aE=Ed.toLowerCase(),lE=Ed[0].toUpperCase()+Ed.slice(1);Xi(aE,"on"+lE)}Xi(Jp,"onAnimationEnd"),Xi(Zp,"onAnimationIteration"),Xi(em,"onAnimationStart"),Xi("dblclick","onDoubleClick"),Xi("focusin","onFocus"),Xi("focusout","onBlur"),Xi(tm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pa));function im(r,o,l){var d=r.type||"unknown-event";r.currentTarget=l,Dt(d,o,void 0,r),r.currentTarget=null}function om(r,o){o=(o&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],f=d.event;d=d.listeners;e:{var g=void 0;if(o)for(var w=d.length-1;0<=w;w--){var R=d[w],N=R.instance,K=R.currentTarget;if(R=R.listener,N!==g&&f.isPropagationStopped())break e;im(f,R,K),g=N}else for(w=0;w<d.length;w++){if(R=d[w],N=R.instance,K=R.currentTarget,R=R.listener,N!==g&&f.isPropagationStopped())break e;im(f,R,K),g=N}}}if(le)throw r=Oe,le=!1,Oe=null,r}function Et(r,o){var l=o[Cd];l===void 0&&(l=o[Cd]=new Set);var d=r+"__bubble";l.has(d)||(sm(o,r,2,!1),l.add(d))}function Td(r,o,l){var d=0;o&&(d|=4),sm(l,r,d,o)}var nu="_reactListening"+Math.random().toString(36).slice(2);function ba(r){if(!r[nu]){r[nu]=!0,i.forEach(function(l){l!=="selectionchange"&&(uE.has(l)||Td(l,!1,r),Td(l,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[nu]||(o[nu]=!0,Td("selectionchange",!1,o))}}function sm(r,o,l,d){switch(Ea(o)){case 1:var f=It;break;case 4:f=hd;break;default:f=wa}l=f.bind(null,o,l,r),f=void 0,!me||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(f=!0),d?f!==void 0?r.addEventListener(o,l,{capture:!0,passive:f}):r.addEventListener(o,l,!0):f!==void 0?r.addEventListener(o,l,{passive:f}):r.addEventListener(o,l,!1)}function xd(r,o,l,d,f){var g=d;if(!(o&1)&&!(o&2)&&d!==null)e:for(;;){if(d===null)return;var w=d.tag;if(w===3||w===4){var R=d.stateNode.containerInfo;if(R===f||R.nodeType===8&&R.parentNode===f)break;if(w===4)for(w=d.return;w!==null;){var N=w.tag;if((N===3||N===4)&&(N=w.stateNode.containerInfo,N===f||N.nodeType===8&&N.parentNode===f))return;w=w.return}for(;R!==null;){if(w=Fo(R),w===null)return;if(N=w.tag,N===5||N===6){d=g=w;continue e}R=R.parentNode}}d=d.return}G(function(){var K=g,ne=$r(l),ie=[];e:{var ee=nm.get(r);if(ee!==void 0){var ve=ws,xe=r;switch(r){case"keypress":if(_s(l)===0)break e;case"keydown":case"keyup":ve=m;break;case"focusin":xe="focus",ve=Is;break;case"focusout":xe="blur",ve=Is;break;case"beforeblur":case"afterblur":ve=Is;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=Ts;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=Wl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=Q;break;case Jp:case Zp:case em:ve=yi;break;case tm:ve=pt;break;case"scroll":ve=fd;break;case"wheel":ve=it;break;case"copy":case"cut":case"paste":ve=Ql;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=E}var Se=(o&4)!==0,Lt=!Se&&r==="scroll",H=Se?ee!==null?ee+"Capture":null:ee;Se=[];for(var M=K,q;M!==null;){q=M;var se=q.stateNode;if(q.tag===5&&se!==null&&(q=se,H!==null&&(se=X(M,H),se!=null&&Se.push(Da(M,se,q)))),Lt)break;M=M.return}0<Se.length&&(ee=new ve(ee,xe,null,l,ne),ie.push({event:ee,listeners:Se}))}}if(!(o&7)){e:{if(ee=r==="mouseover"||r==="pointerover",ve=r==="mouseout"||r==="pointerout",ee&&l!==Tn&&(xe=l.relatedTarget||l.fromElement)&&(Fo(xe)||xe[_i]))break e;if((ve||ee)&&(ee=ne.window===ne?ne:(ee=ne.ownerDocument)?ee.defaultView||ee.parentWindow:window,ve?(xe=l.relatedTarget||l.toElement,ve=K,xe=xe?Fo(xe):null,xe!==null&&(Lt=Ze(xe),xe!==Lt||xe.tag!==5&&xe.tag!==6)&&(xe=null)):(ve=null,xe=K),ve!==xe)){if(Se=Ts,se="onMouseLeave",H="onMouseEnter",M="mouse",(r==="pointerout"||r==="pointerover")&&(Se=E,se="onPointerLeave",H="onPointerEnter",M="pointer"),Lt=ve==null?ee:Ds(ve),q=xe==null?ee:Ds(xe),ee=new Se(se,M+"leave",ve,l,ne),ee.target=Lt,ee.relatedTarget=q,se=null,Fo(ne)===K&&(Se=new Se(H,M+"enter",xe,l,ne),Se.target=q,Se.relatedTarget=Lt,se=Se),Lt=se,ve&&xe)t:{for(Se=ve,H=xe,M=0,q=Se;q;q=Ps(q))M++;for(q=0,se=H;se;se=Ps(se))q++;for(;0<M-q;)Se=Ps(Se),M--;for(;0<q-M;)H=Ps(H),q--;for(;M--;){if(Se===H||H!==null&&Se===H.alternate)break t;Se=Ps(Se),H=Ps(H)}Se=null}else Se=null;ve!==null&&am(ie,ee,ve,Se,!1),xe!==null&&Lt!==null&&am(ie,Lt,xe,Se,!0)}}e:{if(ee=K?Ds(K):window,ve=ee.nodeName&&ee.nodeName.toLowerCase(),ve==="select"||ve==="input"&&ee.type==="file")var Re=Z0;else if(jp(ee))if(Bp)Re=rE;else{Re=tE;var Ce=eE}else(ve=ee.nodeName)&&ve.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(Re=nE);if(Re&&(Re=Re(r,K))){zp(ie,Re,l,ne);break e}Ce&&Ce(r,ee,K),r==="focusout"&&(Ce=ee._wrapperState)&&Ce.controlled&&ee.type==="number"&&$n(ee,"number",ee.value)}switch(Ce=K?Ds(K):window,r){case"focusin":(jp(Ce)||Ce.contentEditable==="true")&&(As=Ce,vd=K,Ca=null);break;case"focusout":Ca=vd=As=null;break;case"mousedown":yd=!0;break;case"contextmenu":case"mouseup":case"dragend":yd=!1,Yp(ie,l,ne);break;case"selectionchange":if(sE)break;case"keydown":case"keyup":Yp(ie,l,ne)}var Pe;if(Mt)e:{switch(r){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else ks?Fp(r,l)&&(Fe="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Fe="onCompositionStart");Fe&&(Vo&&l.locale!=="ko"&&(ks||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&ks&&(Pe=Ta()):(Gn=ne,ys="value"in Gn?Gn.value:Gn.textContent,ks=!0)),Ce=ru(K,Fe),0<Ce.length&&(Fe=new Sa(Fe,r,null,l,ne),ie.push({event:Fe,listeners:Ce}),Pe?Fe.data=Pe:(Pe=Up(l),Pe!==null&&(Fe.data=Pe)))),(Pe=Qn?Q0(r,l):Y0(r,l))&&(K=ru(K,"onBeforeInput"),0<K.length&&(ne=new Sa("onBeforeInput","beforeinput",null,l,ne),ie.push({event:ne,listeners:K}),ne.data=Pe))}om(ie,o)})}function Da(r,o,l){return{instance:r,listener:o,currentTarget:l}}function ru(r,o){for(var l=o+"Capture",d=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=X(r,l),g!=null&&d.unshift(Da(r,g,f)),g=X(r,o),g!=null&&d.push(Da(r,g,f))),r=r.return}return d}function Ps(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function am(r,o,l,d,f){for(var g=o._reactName,w=[];l!==null&&l!==d;){var R=l,N=R.alternate,K=R.stateNode;if(N!==null&&N===d)break;R.tag===5&&K!==null&&(R=K,f?(N=X(l,g),N!=null&&w.unshift(Da(l,N,R))):f||(N=X(l,g),N!=null&&w.push(Da(l,N,R)))),l=l.return}w.length!==0&&r.push({event:o,listeners:w})}var cE=/\r\n?/g,dE=/\u0000|\uFFFD/g;function lm(r){return(typeof r=="string"?r:""+r).replace(cE,`
`).replace(dE,"")}function iu(r,o,l){if(o=lm(o),lm(r)!==o&&l)throw Error(t(425))}function ou(){}var Id=null,Sd=null;function Rd(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var kd=typeof setTimeout=="function"?setTimeout:void 0,hE=typeof clearTimeout=="function"?clearTimeout:void 0,um=typeof Promise=="function"?Promise:void 0,fE=typeof queueMicrotask=="function"?queueMicrotask:typeof um<"u"?function(r){return um.resolve(null).then(r).catch(pE)}:kd;function pE(r){setTimeout(function(){throw r})}function Ad(r,o){var l=o,d=0;do{var f=l.nextSibling;if(r.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(d===0){r.removeChild(f),Cr(o);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=f}while(l);Cr(o)}function Ji(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return r}function cm(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return r;o--}else l==="/$"&&o++}r=r.previousSibling}return null}var bs=Math.random().toString(36).slice(2),Yr="__reactFiber$"+bs,Na="__reactProps$"+bs,_i="__reactContainer$"+bs,Cd="__reactEvents$"+bs,mE="__reactListeners$"+bs,gE="__reactHandles$"+bs;function Fo(r){var o=r[Yr];if(o)return o;for(var l=r.parentNode;l;){if(o=l[_i]||l[Yr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(r=cm(r);r!==null;){if(l=r[Yr])return l;r=cm(r)}return o}r=l,l=r.parentNode}return null}function La(r){return r=r[Yr]||r[_i],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Ds(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function su(r){return r[Na]||null}var Pd=[],Ns=-1;function Zi(r){return{current:r}}function Tt(r){0>Ns||(r.current=Pd[Ns],Pd[Ns]=null,Ns--)}function yt(r,o){Ns++,Pd[Ns]=r.current,r.current=o}var eo={},fn=Zi(eo),Mn=Zi(!1),Uo=eo;function Ls(r,o){var l=r.type.contextTypes;if(!l)return eo;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in l)f[g]=o[g];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=o,r.__reactInternalMemoizedMaskedChildContext=f),f}function Vn(r){return r=r.childContextTypes,r!=null}function au(){Tt(Mn),Tt(fn)}function dm(r,o,l){if(fn.current!==eo)throw Error(t(168));yt(fn,o),yt(Mn,l)}function hm(r,o,l){var d=r.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var f in d)if(!(f in o))throw Error(t(108,Qe(r)||"Unknown",f));return fe({},l,d)}function lu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||eo,Uo=fn.current,yt(fn,r),yt(Mn,Mn.current),!0}function fm(r,o,l){var d=r.stateNode;if(!d)throw Error(t(169));l?(r=hm(r,o,Uo),d.__reactInternalMemoizedMergedChildContext=r,Tt(Mn),Tt(fn),yt(fn,r)):Tt(Mn),yt(Mn,l)}var wi=null,uu=!1,bd=!1;function pm(r){wi===null?wi=[r]:wi.push(r)}function vE(r){uu=!0,pm(r)}function to(){if(!bd&&wi!==null){bd=!0;var r=0,o=et;try{var l=wi;for(et=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}wi=null,uu=!1}catch(f){throw wi!==null&&(wi=wi.slice(r+1)),en(rt,to),f}finally{et=o,bd=!1}}return null}var Os=[],Ms=0,cu=null,du=0,ur=[],cr=0,jo=null,Ei=1,Ti="";function zo(r,o){Os[Ms++]=du,Os[Ms++]=cu,cu=r,du=o}function mm(r,o,l){ur[cr++]=Ei,ur[cr++]=Ti,ur[cr++]=jo,jo=r;var d=Ei;r=Ti;var f=32-In(d)-1;d&=~(1<<f),l+=1;var g=32-In(o)+f;if(30<g){var w=f-f%5;g=(d&(1<<w)-1).toString(32),d>>=w,f-=w,Ei=1<<32-In(o)+f|l<<f|d,Ti=g+r}else Ei=1<<g|l<<f|d,Ti=r}function Dd(r){r.return!==null&&(zo(r,1),mm(r,1,0))}function Nd(r){for(;r===cu;)cu=Os[--Ms],Os[Ms]=null,du=Os[--Ms],Os[Ms]=null;for(;r===jo;)jo=ur[--cr],ur[cr]=null,Ti=ur[--cr],ur[cr]=null,Ei=ur[--cr],ur[cr]=null}var Yn=null,Xn=null,St=!1,Dr=null;function gm(r,o){var l=pr(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=r,o=r.deletions,o===null?(r.deletions=[l],r.flags|=16):o.push(l)}function vm(r,o){switch(r.tag){case 5:var l=r.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(r.stateNode=o,Yn=r,Xn=Ji(o.firstChild),!0):!1;case 6:return o=r.pendingProps===""||o.nodeType!==3?null:o,o!==null?(r.stateNode=o,Yn=r,Xn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=jo!==null?{id:Ei,overflow:Ti}:null,r.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=pr(18,null,null,0),l.stateNode=o,l.return=r,r.child=l,Yn=r,Xn=null,!0):!1;default:return!1}}function Ld(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Od(r){if(St){var o=Xn;if(o){var l=o;if(!vm(r,o)){if(Ld(r))throw Error(t(418));o=Ji(l.nextSibling);var d=Yn;o&&vm(r,o)?gm(d,l):(r.flags=r.flags&-4097|2,St=!1,Yn=r)}}else{if(Ld(r))throw Error(t(418));r.flags=r.flags&-4097|2,St=!1,Yn=r}}}function ym(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Yn=r}function hu(r){if(r!==Yn)return!1;if(!St)return ym(r),St=!0,!1;var o;if((o=r.tag!==3)&&!(o=r.tag!==5)&&(o=r.type,o=o!=="head"&&o!=="body"&&!Rd(r.type,r.memoizedProps)),o&&(o=Xn)){if(Ld(r))throw _m(),Error(t(418));for(;o;)gm(r,o),o=Ji(o.nextSibling)}if(ym(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(o===0){Xn=Ji(r.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}r=r.nextSibling}Xn=null}}else Xn=Yn?Ji(r.stateNode.nextSibling):null;return!0}function _m(){for(var r=Xn;r;)r=Ji(r.nextSibling)}function Vs(){Xn=Yn=null,St=!1}function Md(r){Dr===null?Dr=[r]:Dr.push(r)}var yE=pe.ReactCurrentBatchConfig;function Oa(r,o,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,r));var f=d,g=""+r;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===g?o.ref:(o=function(w){var R=f.refs;w===null?delete R[g]:R[g]=w},o._stringRef=g,o)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function fu(r,o){throw r=Object.prototype.toString.call(o),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r))}function wm(r){var o=r._init;return o(r._payload)}function Em(r){function o(H,M){if(r){var q=H.deletions;q===null?(H.deletions=[M],H.flags|=16):q.push(M)}}function l(H,M){if(!r)return null;for(;M!==null;)o(H,M),M=M.sibling;return null}function d(H,M){for(H=new Map;M!==null;)M.key!==null?H.set(M.key,M):H.set(M.index,M),M=M.sibling;return H}function f(H,M){return H=uo(H,M),H.index=0,H.sibling=null,H}function g(H,M,q){return H.index=q,r?(q=H.alternate,q!==null?(q=q.index,q<M?(H.flags|=2,M):q):(H.flags|=2,M)):(H.flags|=1048576,M)}function w(H){return r&&H.alternate===null&&(H.flags|=2),H}function R(H,M,q,se){return M===null||M.tag!==6?(M=kh(q,H.mode,se),M.return=H,M):(M=f(M,q),M.return=H,M)}function N(H,M,q,se){var Re=q.type;return Re===P?ne(H,M,q.props.children,se,q.key):M!==null&&(M.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===kt&&wm(Re)===M.type)?(se=f(M,q.props),se.ref=Oa(H,M,q),se.return=H,se):(se=Vu(q.type,q.key,q.props,null,H.mode,se),se.ref=Oa(H,M,q),se.return=H,se)}function K(H,M,q,se){return M===null||M.tag!==4||M.stateNode.containerInfo!==q.containerInfo||M.stateNode.implementation!==q.implementation?(M=Ah(q,H.mode,se),M.return=H,M):(M=f(M,q.children||[]),M.return=H,M)}function ne(H,M,q,se,Re){return M===null||M.tag!==7?(M=Qo(q,H.mode,se,Re),M.return=H,M):(M=f(M,q),M.return=H,M)}function ie(H,M,q){if(typeof M=="string"&&M!==""||typeof M=="number")return M=kh(""+M,H.mode,q),M.return=H,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case U:return q=Vu(M.type,M.key,M.props,null,H.mode,q),q.ref=Oa(H,null,M),q.return=H,q;case ce:return M=Ah(M,H.mode,q),M.return=H,M;case kt:var se=M._init;return ie(H,se(M._payload),q)}if(cn(M)||he(M))return M=Qo(M,H.mode,q,null),M.return=H,M;fu(H,M)}return null}function ee(H,M,q,se){var Re=M!==null?M.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return Re!==null?null:R(H,M,""+q,se);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case U:return q.key===Re?N(H,M,q,se):null;case ce:return q.key===Re?K(H,M,q,se):null;case kt:return Re=q._init,ee(H,M,Re(q._payload),se)}if(cn(q)||he(q))return Re!==null?null:ne(H,M,q,se,null);fu(H,q)}return null}function ve(H,M,q,se,Re){if(typeof se=="string"&&se!==""||typeof se=="number")return H=H.get(q)||null,R(M,H,""+se,Re);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case U:return H=H.get(se.key===null?q:se.key)||null,N(M,H,se,Re);case ce:return H=H.get(se.key===null?q:se.key)||null,K(M,H,se,Re);case kt:var Ce=se._init;return ve(H,M,q,Ce(se._payload),Re)}if(cn(se)||he(se))return H=H.get(q)||null,ne(M,H,se,Re,null);fu(M,se)}return null}function xe(H,M,q,se){for(var Re=null,Ce=null,Pe=M,Fe=M=0,Yt=null;Pe!==null&&Fe<q.length;Fe++){Pe.index>Fe?(Yt=Pe,Pe=null):Yt=Pe.sibling;var lt=ee(H,Pe,q[Fe],se);if(lt===null){Pe===null&&(Pe=Yt);break}r&&Pe&&lt.alternate===null&&o(H,Pe),M=g(lt,M,Fe),Ce===null?Re=lt:Ce.sibling=lt,Ce=lt,Pe=Yt}if(Fe===q.length)return l(H,Pe),St&&zo(H,Fe),Re;if(Pe===null){for(;Fe<q.length;Fe++)Pe=ie(H,q[Fe],se),Pe!==null&&(M=g(Pe,M,Fe),Ce===null?Re=Pe:Ce.sibling=Pe,Ce=Pe);return St&&zo(H,Fe),Re}for(Pe=d(H,Pe);Fe<q.length;Fe++)Yt=ve(Pe,H,Fe,q[Fe],se),Yt!==null&&(r&&Yt.alternate!==null&&Pe.delete(Yt.key===null?Fe:Yt.key),M=g(Yt,M,Fe),Ce===null?Re=Yt:Ce.sibling=Yt,Ce=Yt);return r&&Pe.forEach(function(co){return o(H,co)}),St&&zo(H,Fe),Re}function Se(H,M,q,se){var Re=he(q);if(typeof Re!="function")throw Error(t(150));if(q=Re.call(q),q==null)throw Error(t(151));for(var Ce=Re=null,Pe=M,Fe=M=0,Yt=null,lt=q.next();Pe!==null&&!lt.done;Fe++,lt=q.next()){Pe.index>Fe?(Yt=Pe,Pe=null):Yt=Pe.sibling;var co=ee(H,Pe,lt.value,se);if(co===null){Pe===null&&(Pe=Yt);break}r&&Pe&&co.alternate===null&&o(H,Pe),M=g(co,M,Fe),Ce===null?Re=co:Ce.sibling=co,Ce=co,Pe=Yt}if(lt.done)return l(H,Pe),St&&zo(H,Fe),Re;if(Pe===null){for(;!lt.done;Fe++,lt=q.next())lt=ie(H,lt.value,se),lt!==null&&(M=g(lt,M,Fe),Ce===null?Re=lt:Ce.sibling=lt,Ce=lt);return St&&zo(H,Fe),Re}for(Pe=d(H,Pe);!lt.done;Fe++,lt=q.next())lt=ve(Pe,H,Fe,lt.value,se),lt!==null&&(r&&lt.alternate!==null&&Pe.delete(lt.key===null?Fe:lt.key),M=g(lt,M,Fe),Ce===null?Re=lt:Ce.sibling=lt,Ce=lt);return r&&Pe.forEach(function(XE){return o(H,XE)}),St&&zo(H,Fe),Re}function Lt(H,M,q,se){if(typeof q=="object"&&q!==null&&q.type===P&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case U:e:{for(var Re=q.key,Ce=M;Ce!==null;){if(Ce.key===Re){if(Re=q.type,Re===P){if(Ce.tag===7){l(H,Ce.sibling),M=f(Ce,q.props.children),M.return=H,H=M;break e}}else if(Ce.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===kt&&wm(Re)===Ce.type){l(H,Ce.sibling),M=f(Ce,q.props),M.ref=Oa(H,Ce,q),M.return=H,H=M;break e}l(H,Ce);break}else o(H,Ce);Ce=Ce.sibling}q.type===P?(M=Qo(q.props.children,H.mode,se,q.key),M.return=H,H=M):(se=Vu(q.type,q.key,q.props,null,H.mode,se),se.ref=Oa(H,M,q),se.return=H,H=se)}return w(H);case ce:e:{for(Ce=q.key;M!==null;){if(M.key===Ce)if(M.tag===4&&M.stateNode.containerInfo===q.containerInfo&&M.stateNode.implementation===q.implementation){l(H,M.sibling),M=f(M,q.children||[]),M.return=H,H=M;break e}else{l(H,M);break}else o(H,M);M=M.sibling}M=Ah(q,H.mode,se),M.return=H,H=M}return w(H);case kt:return Ce=q._init,Lt(H,M,Ce(q._payload),se)}if(cn(q))return xe(H,M,q,se);if(he(q))return Se(H,M,q,se);fu(H,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,M!==null&&M.tag===6?(l(H,M.sibling),M=f(M,q),M.return=H,H=M):(l(H,M),M=kh(q,H.mode,se),M.return=H,H=M),w(H)):l(H,M)}return Lt}var Fs=Em(!0),Tm=Em(!1),pu=Zi(null),mu=null,Us=null,Vd=null;function Fd(){Vd=Us=mu=null}function Ud(r){var o=pu.current;Tt(pu),r._currentValue=o}function jd(r,o,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),r===l)break;r=r.return}}function js(r,o){mu=r,Vd=Us=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&o&&(Fn=!0),r.firstContext=null)}function dr(r){var o=r._currentValue;if(Vd!==r)if(r={context:r,memoizedValue:o,next:null},Us===null){if(mu===null)throw Error(t(308));Us=r,mu.dependencies={lanes:0,firstContext:r}}else Us=Us.next=r;return o}var Bo=null;function zd(r){Bo===null?Bo=[r]:Bo.push(r)}function xm(r,o,l,d){var f=o.interleaved;return f===null?(l.next=l,zd(o)):(l.next=f.next,f.next=l),o.interleaved=l,xi(r,d)}function xi(r,o){r.lanes|=o;var l=r.alternate;for(l!==null&&(l.lanes|=o),l=r,r=r.return;r!==null;)r.childLanes|=o,l=r.alternate,l!==null&&(l.childLanes|=o),l=r,r=r.return;return l.tag===3?l.stateNode:null}var no=!1;function Bd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Im(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Ii(r,o){return{eventTime:r,lane:o,tag:0,payload:null,callback:null,next:null}}function ro(r,o,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,at&2){var f=d.pending;return f===null?o.next=o:(o.next=f.next,f.next=o),d.pending=o,xi(r,l)}return f=d.interleaved,f===null?(o.next=o,zd(d)):(o.next=f.next,f.next=o),d.interleaved=o,xi(r,l)}function gu(r,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var d=o.lanes;d&=r.pendingLanes,l|=d,o.lanes=l,Wi(r,l)}}function Sm(r,o){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var f=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var w={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?f=g=w:g=g.next=w,l=l.next}while(l!==null);g===null?f=g=o:g=g.next=o}else f=g=o;l={baseState:d.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=o:r.next=o,l.lastBaseUpdate=o}function vu(r,o,l,d){var f=r.updateQueue;no=!1;var g=f.firstBaseUpdate,w=f.lastBaseUpdate,R=f.shared.pending;if(R!==null){f.shared.pending=null;var N=R,K=N.next;N.next=null,w===null?g=K:w.next=K,w=N;var ne=r.alternate;ne!==null&&(ne=ne.updateQueue,R=ne.lastBaseUpdate,R!==w&&(R===null?ne.firstBaseUpdate=K:R.next=K,ne.lastBaseUpdate=N))}if(g!==null){var ie=f.baseState;w=0,ne=K=N=null,R=g;do{var ee=R.lane,ve=R.eventTime;if((d&ee)===ee){ne!==null&&(ne=ne.next={eventTime:ve,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var xe=r,Se=R;switch(ee=o,ve=l,Se.tag){case 1:if(xe=Se.payload,typeof xe=="function"){ie=xe.call(ve,ie,ee);break e}ie=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=Se.payload,ee=typeof xe=="function"?xe.call(ve,ie,ee):xe,ee==null)break e;ie=fe({},ie,ee);break e;case 2:no=!0}}R.callback!==null&&R.lane!==0&&(r.flags|=64,ee=f.effects,ee===null?f.effects=[R]:ee.push(R))}else ve={eventTime:ve,lane:ee,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ne===null?(K=ne=ve,N=ie):ne=ne.next=ve,w|=ee;if(R=R.next,R===null){if(R=f.shared.pending,R===null)break;ee=R,R=ee.next,ee.next=null,f.lastBaseUpdate=ee,f.shared.pending=null}}while(!0);if(ne===null&&(N=ie),f.baseState=N,f.firstBaseUpdate=K,f.lastBaseUpdate=ne,o=f.shared.interleaved,o!==null){f=o;do w|=f.lane,f=f.next;while(f!==o)}else g===null&&(f.shared.lanes=0);qo|=w,r.lanes=w,r.memoizedState=ie}}function Rm(r,o,l){if(r=o.effects,o.effects=null,r!==null)for(o=0;o<r.length;o++){var d=r[o],f=d.callback;if(f!==null){if(d.callback=null,d=l,typeof f!="function")throw Error(t(191,f));f.call(d)}}}var Ma={},Xr=Zi(Ma),Va=Zi(Ma),Fa=Zi(Ma);function $o(r){if(r===Ma)throw Error(t(174));return r}function $d(r,o){switch(yt(Fa,o),yt(Va,r),yt(Xr,Ma),r=o.nodeType,r){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:We(null,"");break;default:r=r===8?o.parentNode:o,o=r.namespaceURI||null,r=r.tagName,o=We(o,r)}Tt(Xr),yt(Xr,o)}function zs(){Tt(Xr),Tt(Va),Tt(Fa)}function km(r){$o(Fa.current);var o=$o(Xr.current),l=We(o,r.type);o!==l&&(yt(Va,r),yt(Xr,l))}function Hd(r){Va.current===r&&(Tt(Xr),Tt(Va))}var At=Zi(0);function yu(r){for(var o=r;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var qd=[];function Wd(){for(var r=0;r<qd.length;r++)qd[r]._workInProgressVersionPrimary=null;qd.length=0}var _u=pe.ReactCurrentDispatcher,Kd=pe.ReactCurrentBatchConfig,Ho=0,Ct=null,Bt=null,Gt=null,wu=!1,Ua=!1,ja=0,_E=0;function pn(){throw Error(t(321))}function Gd(r,o){if(o===null)return!1;for(var l=0;l<o.length&&l<r.length;l++)if(!br(r[l],o[l]))return!1;return!0}function Qd(r,o,l,d,f,g){if(Ho=g,Ct=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,_u.current=r===null||r.memoizedState===null?xE:IE,r=l(d,f),Ua){g=0;do{if(Ua=!1,ja=0,25<=g)throw Error(t(301));g+=1,Gt=Bt=null,o.updateQueue=null,_u.current=SE,r=l(d,f)}while(Ua)}if(_u.current=xu,o=Bt!==null&&Bt.next!==null,Ho=0,Gt=Bt=Ct=null,wu=!1,o)throw Error(t(300));return r}function Yd(){var r=ja!==0;return ja=0,r}function Jr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?Ct.memoizedState=Gt=r:Gt=Gt.next=r,Gt}function hr(){if(Bt===null){var r=Ct.alternate;r=r!==null?r.memoizedState:null}else r=Bt.next;var o=Gt===null?Ct.memoizedState:Gt.next;if(o!==null)Gt=o,Bt=r;else{if(r===null)throw Error(t(310));Bt=r,r={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},Gt===null?Ct.memoizedState=Gt=r:Gt=Gt.next=r}return Gt}function za(r,o){return typeof o=="function"?o(r):o}function Xd(r){var o=hr(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=Bt,f=d.baseQueue,g=l.pending;if(g!==null){if(f!==null){var w=f.next;f.next=g.next,g.next=w}d.baseQueue=f=g,l.pending=null}if(f!==null){g=f.next,d=d.baseState;var R=w=null,N=null,K=g;do{var ne=K.lane;if((Ho&ne)===ne)N!==null&&(N=N.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),d=K.hasEagerState?K.eagerState:r(d,K.action);else{var ie={lane:ne,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};N===null?(R=N=ie,w=d):N=N.next=ie,Ct.lanes|=ne,qo|=ne}K=K.next}while(K!==null&&K!==g);N===null?w=d:N.next=R,br(d,o.memoizedState)||(Fn=!0),o.memoizedState=d,o.baseState=w,o.baseQueue=N,l.lastRenderedState=d}if(r=l.interleaved,r!==null){f=r;do g=f.lane,Ct.lanes|=g,qo|=g,f=f.next;while(f!==r)}else f===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function Jd(r){var o=hr(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=l.dispatch,f=l.pending,g=o.memoizedState;if(f!==null){l.pending=null;var w=f=f.next;do g=r(g,w.action),w=w.next;while(w!==f);br(g,o.memoizedState)||(Fn=!0),o.memoizedState=g,o.baseQueue===null&&(o.baseState=g),l.lastRenderedState=g}return[g,d]}function Am(){}function Cm(r,o){var l=Ct,d=hr(),f=o(),g=!br(d.memoizedState,f);if(g&&(d.memoizedState=f,Fn=!0),d=d.queue,Zd(Dm.bind(null,l,d,r),[r]),d.getSnapshot!==o||g||Gt!==null&&Gt.memoizedState.tag&1){if(l.flags|=2048,Ba(9,bm.bind(null,l,d,f,o),void 0,null),Qt===null)throw Error(t(349));Ho&30||Pm(l,o,f)}return f}function Pm(r,o,l){r.flags|=16384,r={getSnapshot:o,value:l},o=Ct.updateQueue,o===null?(o={lastEffect:null,stores:null},Ct.updateQueue=o,o.stores=[r]):(l=o.stores,l===null?o.stores=[r]:l.push(r))}function bm(r,o,l,d){o.value=l,o.getSnapshot=d,Nm(o)&&Lm(r)}function Dm(r,o,l){return l(function(){Nm(o)&&Lm(r)})}function Nm(r){var o=r.getSnapshot;r=r.value;try{var l=o();return!br(r,l)}catch{return!0}}function Lm(r){var o=xi(r,1);o!==null&&Mr(o,r,1,-1)}function Om(r){var o=Jr();return typeof r=="function"&&(r=r()),o.memoizedState=o.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:r},o.queue=r,r=r.dispatch=TE.bind(null,Ct,r),[o.memoizedState,r]}function Ba(r,o,l,d){return r={tag:r,create:o,destroy:l,deps:d,next:null},o=Ct.updateQueue,o===null?(o={lastEffect:null,stores:null},Ct.updateQueue=o,o.lastEffect=r.next=r):(l=o.lastEffect,l===null?o.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,o.lastEffect=r)),r}function Mm(){return hr().memoizedState}function Eu(r,o,l,d){var f=Jr();Ct.flags|=r,f.memoizedState=Ba(1|o,l,void 0,d===void 0?null:d)}function Tu(r,o,l,d){var f=hr();d=d===void 0?null:d;var g=void 0;if(Bt!==null){var w=Bt.memoizedState;if(g=w.destroy,d!==null&&Gd(d,w.deps)){f.memoizedState=Ba(o,l,g,d);return}}Ct.flags|=r,f.memoizedState=Ba(1|o,l,g,d)}function Vm(r,o){return Eu(8390656,8,r,o)}function Zd(r,o){return Tu(2048,8,r,o)}function Fm(r,o){return Tu(4,2,r,o)}function Um(r,o){return Tu(4,4,r,o)}function jm(r,o){if(typeof o=="function")return r=r(),o(r),function(){o(null)};if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function zm(r,o,l){return l=l!=null?l.concat([r]):null,Tu(4,4,jm.bind(null,o,r),l)}function eh(){}function Bm(r,o){var l=hr();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&Gd(o,d[1])?d[0]:(l.memoizedState=[r,o],r)}function $m(r,o){var l=hr();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&Gd(o,d[1])?d[0]:(r=r(),l.memoizedState=[r,o],r)}function Hm(r,o,l){return Ho&21?(br(l,o)||(l=No(),Ct.lanes|=l,qo|=l,r.baseState=!0),o):(r.baseState&&(r.baseState=!1,Fn=!0),r.memoizedState=l)}function wE(r,o){var l=et;et=l!==0&&4>l?l:4,r(!0);var d=Kd.transition;Kd.transition={};try{r(!1),o()}finally{et=l,Kd.transition=d}}function qm(){return hr().memoizedState}function EE(r,o,l){var d=ao(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Wm(r))Km(o,l);else if(l=xm(r,o,l,d),l!==null){var f=kn();Mr(l,r,d,f),Gm(l,o,d)}}function TE(r,o,l){var d=ao(r),f={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Wm(r))Km(o,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=o.lastRenderedReducer,g!==null))try{var w=o.lastRenderedState,R=g(w,l);if(f.hasEagerState=!0,f.eagerState=R,br(R,w)){var N=o.interleaved;N===null?(f.next=f,zd(o)):(f.next=N.next,N.next=f),o.interleaved=f;return}}catch{}finally{}l=xm(r,o,f,d),l!==null&&(f=kn(),Mr(l,r,d,f),Gm(l,o,d))}}function Wm(r){var o=r.alternate;return r===Ct||o!==null&&o===Ct}function Km(r,o){Ua=wu=!0;var l=r.pending;l===null?o.next=o:(o.next=l.next,l.next=o),r.pending=o}function Gm(r,o,l){if(l&4194240){var d=o.lanes;d&=r.pendingLanes,l|=d,o.lanes=l,Wi(r,l)}}var xu={readContext:dr,useCallback:pn,useContext:pn,useEffect:pn,useImperativeHandle:pn,useInsertionEffect:pn,useLayoutEffect:pn,useMemo:pn,useReducer:pn,useRef:pn,useState:pn,useDebugValue:pn,useDeferredValue:pn,useTransition:pn,useMutableSource:pn,useSyncExternalStore:pn,useId:pn,unstable_isNewReconciler:!1},xE={readContext:dr,useCallback:function(r,o){return Jr().memoizedState=[r,o===void 0?null:o],r},useContext:dr,useEffect:Vm,useImperativeHandle:function(r,o,l){return l=l!=null?l.concat([r]):null,Eu(4194308,4,jm.bind(null,o,r),l)},useLayoutEffect:function(r,o){return Eu(4194308,4,r,o)},useInsertionEffect:function(r,o){return Eu(4,2,r,o)},useMemo:function(r,o){var l=Jr();return o=o===void 0?null:o,r=r(),l.memoizedState=[r,o],r},useReducer:function(r,o,l){var d=Jr();return o=l!==void 0?l(o):o,d.memoizedState=d.baseState=o,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:o},d.queue=r,r=r.dispatch=EE.bind(null,Ct,r),[d.memoizedState,r]},useRef:function(r){var o=Jr();return r={current:r},o.memoizedState=r},useState:Om,useDebugValue:eh,useDeferredValue:function(r){return Jr().memoizedState=r},useTransition:function(){var r=Om(!1),o=r[0];return r=wE.bind(null,r[1]),Jr().memoizedState=r,[o,r]},useMutableSource:function(){},useSyncExternalStore:function(r,o,l){var d=Ct,f=Jr();if(St){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),Qt===null)throw Error(t(349));Ho&30||Pm(d,o,l)}f.memoizedState=l;var g={value:l,getSnapshot:o};return f.queue=g,Vm(Dm.bind(null,d,g,r),[r]),d.flags|=2048,Ba(9,bm.bind(null,d,g,l,o),void 0,null),l},useId:function(){var r=Jr(),o=Qt.identifierPrefix;if(St){var l=Ti,d=Ei;l=(d&~(1<<32-In(d)-1)).toString(32)+l,o=":"+o+"R"+l,l=ja++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=_E++,o=":"+o+"r"+l.toString(32)+":";return r.memoizedState=o},unstable_isNewReconciler:!1},IE={readContext:dr,useCallback:Bm,useContext:dr,useEffect:Zd,useImperativeHandle:zm,useInsertionEffect:Fm,useLayoutEffect:Um,useMemo:$m,useReducer:Xd,useRef:Mm,useState:function(){return Xd(za)},useDebugValue:eh,useDeferredValue:function(r){var o=hr();return Hm(o,Bt.memoizedState,r)},useTransition:function(){var r=Xd(za)[0],o=hr().memoizedState;return[r,o]},useMutableSource:Am,useSyncExternalStore:Cm,useId:qm,unstable_isNewReconciler:!1},SE={readContext:dr,useCallback:Bm,useContext:dr,useEffect:Zd,useImperativeHandle:zm,useInsertionEffect:Fm,useLayoutEffect:Um,useMemo:$m,useReducer:Jd,useRef:Mm,useState:function(){return Jd(za)},useDebugValue:eh,useDeferredValue:function(r){var o=hr();return Bt===null?o.memoizedState=r:Hm(o,Bt.memoizedState,r)},useTransition:function(){var r=Jd(za)[0],o=hr().memoizedState;return[r,o]},useMutableSource:Am,useSyncExternalStore:Cm,useId:qm,unstable_isNewReconciler:!1};function Nr(r,o){if(r&&r.defaultProps){o=fe({},o),r=r.defaultProps;for(var l in r)o[l]===void 0&&(o[l]=r[l]);return o}return o}function th(r,o,l,d){o=r.memoizedState,l=l(d,o),l=l==null?o:fe({},o,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Iu={isMounted:function(r){return(r=r._reactInternals)?Ze(r)===r:!1},enqueueSetState:function(r,o,l){r=r._reactInternals;var d=kn(),f=ao(r),g=Ii(d,f);g.payload=o,l!=null&&(g.callback=l),o=ro(r,g,f),o!==null&&(Mr(o,r,f,d),gu(o,r,f))},enqueueReplaceState:function(r,o,l){r=r._reactInternals;var d=kn(),f=ao(r),g=Ii(d,f);g.tag=1,g.payload=o,l!=null&&(g.callback=l),o=ro(r,g,f),o!==null&&(Mr(o,r,f,d),gu(o,r,f))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var l=kn(),d=ao(r),f=Ii(l,d);f.tag=2,o!=null&&(f.callback=o),o=ro(r,f,d),o!==null&&(Mr(o,r,d,l),gu(o,r,d))}};function Qm(r,o,l,d,f,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,g,w):o.prototype&&o.prototype.isPureReactComponent?!Aa(l,d)||!Aa(f,g):!0}function Ym(r,o,l){var d=!1,f=eo,g=o.contextType;return typeof g=="object"&&g!==null?g=dr(g):(f=Vn(o)?Uo:fn.current,d=o.contextTypes,g=(d=d!=null)?Ls(r,f):eo),o=new o(l,g),r.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Iu,r.stateNode=o,o._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),o}function Xm(r,o,l,d){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,d),o.state!==r&&Iu.enqueueReplaceState(o,o.state,null)}function nh(r,o,l,d){var f=r.stateNode;f.props=l,f.state=r.memoizedState,f.refs={},Bd(r);var g=o.contextType;typeof g=="object"&&g!==null?f.context=dr(g):(g=Vn(o)?Uo:fn.current,f.context=Ls(r,g)),f.state=r.memoizedState,g=o.getDerivedStateFromProps,typeof g=="function"&&(th(r,o,g,l),f.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(o=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),o!==f.state&&Iu.enqueueReplaceState(f,f.state,null),vu(r,l,f,d),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function Bs(r,o){try{var l="",d=o;do l+=Le(d),d=d.return;while(d);var f=l}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:o,stack:f,digest:null}}function rh(r,o,l){return{value:r,source:null,stack:l??null,digest:o??null}}function ih(r,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var RE=typeof WeakMap=="function"?WeakMap:Map;function Jm(r,o,l){l=Ii(-1,l),l.tag=3,l.payload={element:null};var d=o.value;return l.callback=function(){bu||(bu=!0,_h=d),ih(r,o)},l}function Zm(r,o,l){l=Ii(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var f=o.value;l.payload=function(){return d(f)},l.callback=function(){ih(r,o)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){ih(r,o),typeof d!="function"&&(oo===null?oo=new Set([this]):oo.add(this));var w=o.stack;this.componentDidCatch(o.value,{componentStack:w!==null?w:""})}),l}function eg(r,o,l){var d=r.pingCache;if(d===null){d=r.pingCache=new RE;var f=new Set;d.set(o,f)}else f=d.get(o),f===void 0&&(f=new Set,d.set(o,f));f.has(l)||(f.add(l),r=jE.bind(null,r,o,l),o.then(r,r))}function tg(r){do{var o;if((o=r.tag===13)&&(o=r.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return r;r=r.return}while(r!==null);return null}function ng(r,o,l,d,f){return r.mode&1?(r.flags|=65536,r.lanes=f,r):(r===o?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=Ii(-1,1),o.tag=2,ro(l,o,1))),l.lanes|=1),r)}var kE=pe.ReactCurrentOwner,Fn=!1;function Rn(r,o,l,d){o.child=r===null?Tm(o,null,l,d):Fs(o,r.child,l,d)}function rg(r,o,l,d,f){l=l.render;var g=o.ref;return js(o,f),d=Qd(r,o,l,d,g,f),l=Yd(),r!==null&&!Fn?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~f,Si(r,o,f)):(St&&l&&Dd(o),o.flags|=1,Rn(r,o,d,f),o.child)}function ig(r,o,l,d,f){if(r===null){var g=l.type;return typeof g=="function"&&!Rh(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=g,og(r,o,g,d,f)):(r=Vu(l.type,null,d,o,o.mode,f),r.ref=o.ref,r.return=o,o.child=r)}if(g=r.child,!(r.lanes&f)){var w=g.memoizedProps;if(l=l.compare,l=l!==null?l:Aa,l(w,d)&&r.ref===o.ref)return Si(r,o,f)}return o.flags|=1,r=uo(g,d),r.ref=o.ref,r.return=o,o.child=r}function og(r,o,l,d,f){if(r!==null){var g=r.memoizedProps;if(Aa(g,d)&&r.ref===o.ref)if(Fn=!1,o.pendingProps=d=g,(r.lanes&f)!==0)r.flags&131072&&(Fn=!0);else return o.lanes=r.lanes,Si(r,o,f)}return oh(r,o,l,d,f)}function sg(r,o,l){var d=o.pendingProps,f=d.children,g=r!==null?r.memoizedState:null;if(d.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},yt(Hs,Jn),Jn|=l;else{if(!(l&1073741824))return r=g!==null?g.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:r,cachePool:null,transitions:null},o.updateQueue=null,yt(Hs,Jn),Jn|=r,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=g!==null?g.baseLanes:l,yt(Hs,Jn),Jn|=d}else g!==null?(d=g.baseLanes|l,o.memoizedState=null):d=l,yt(Hs,Jn),Jn|=d;return Rn(r,o,f,l),o.child}function ag(r,o){var l=o.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function oh(r,o,l,d,f){var g=Vn(l)?Uo:fn.current;return g=Ls(o,g),js(o,f),l=Qd(r,o,l,d,g,f),d=Yd(),r!==null&&!Fn?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~f,Si(r,o,f)):(St&&d&&Dd(o),o.flags|=1,Rn(r,o,l,f),o.child)}function lg(r,o,l,d,f){if(Vn(l)){var g=!0;lu(o)}else g=!1;if(js(o,f),o.stateNode===null)Ru(r,o),Ym(o,l,d),nh(o,l,d,f),d=!0;else if(r===null){var w=o.stateNode,R=o.memoizedProps;w.props=R;var N=w.context,K=l.contextType;typeof K=="object"&&K!==null?K=dr(K):(K=Vn(l)?Uo:fn.current,K=Ls(o,K));var ne=l.getDerivedStateFromProps,ie=typeof ne=="function"||typeof w.getSnapshotBeforeUpdate=="function";ie||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(R!==d||N!==K)&&Xm(o,w,d,K),no=!1;var ee=o.memoizedState;w.state=ee,vu(o,d,w,f),N=o.memoizedState,R!==d||ee!==N||Mn.current||no?(typeof ne=="function"&&(th(o,l,ne,d),N=o.memoizedState),(R=no||Qm(o,l,R,d,ee,N,K))?(ie||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=N),w.props=d,w.state=N,w.context=K,d=R):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{w=o.stateNode,Im(r,o),R=o.memoizedProps,K=o.type===o.elementType?R:Nr(o.type,R),w.props=K,ie=o.pendingProps,ee=w.context,N=l.contextType,typeof N=="object"&&N!==null?N=dr(N):(N=Vn(l)?Uo:fn.current,N=Ls(o,N));var ve=l.getDerivedStateFromProps;(ne=typeof ve=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(R!==ie||ee!==N)&&Xm(o,w,d,N),no=!1,ee=o.memoizedState,w.state=ee,vu(o,d,w,f);var xe=o.memoizedState;R!==ie||ee!==xe||Mn.current||no?(typeof ve=="function"&&(th(o,l,ve,d),xe=o.memoizedState),(K=no||Qm(o,l,K,d,ee,xe,N)||!1)?(ne||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(d,xe,N),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(d,xe,N)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||R===r.memoizedProps&&ee===r.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&ee===r.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=xe),w.props=d,w.state=xe,w.context=N,d=K):(typeof w.componentDidUpdate!="function"||R===r.memoizedProps&&ee===r.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&ee===r.memoizedState||(o.flags|=1024),d=!1)}return sh(r,o,l,d,g,f)}function sh(r,o,l,d,f,g){ag(r,o);var w=(o.flags&128)!==0;if(!d&&!w)return f&&fm(o,l,!1),Si(r,o,g);d=o.stateNode,kE.current=o;var R=w&&typeof l.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,r!==null&&w?(o.child=Fs(o,r.child,null,g),o.child=Fs(o,null,R,g)):Rn(r,o,R,g),o.memoizedState=d.state,f&&fm(o,l,!0),o.child}function ug(r){var o=r.stateNode;o.pendingContext?dm(r,o.pendingContext,o.pendingContext!==o.context):o.context&&dm(r,o.context,!1),$d(r,o.containerInfo)}function cg(r,o,l,d,f){return Vs(),Md(f),o.flags|=256,Rn(r,o,l,d),o.child}var ah={dehydrated:null,treeContext:null,retryLane:0};function lh(r){return{baseLanes:r,cachePool:null,transitions:null}}function dg(r,o,l){var d=o.pendingProps,f=At.current,g=!1,w=(o.flags&128)!==0,R;if((R=w)||(R=r!==null&&r.memoizedState===null?!1:(f&2)!==0),R?(g=!0,o.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),yt(At,f&1),r===null)return Od(o),r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(o.mode&1?r.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(w=d.children,r=d.fallback,g?(d=o.mode,g=o.child,w={mode:"hidden",children:w},!(d&1)&&g!==null?(g.childLanes=0,g.pendingProps=w):g=Fu(w,d,0,null),r=Qo(r,d,l,null),g.return=o,r.return=o,g.sibling=r,o.child=g,o.child.memoizedState=lh(l),o.memoizedState=ah,r):uh(o,w));if(f=r.memoizedState,f!==null&&(R=f.dehydrated,R!==null))return AE(r,o,w,d,R,f,l);if(g){g=d.fallback,w=o.mode,f=r.child,R=f.sibling;var N={mode:"hidden",children:d.children};return!(w&1)&&o.child!==f?(d=o.child,d.childLanes=0,d.pendingProps=N,o.deletions=null):(d=uo(f,N),d.subtreeFlags=f.subtreeFlags&14680064),R!==null?g=uo(R,g):(g=Qo(g,w,l,null),g.flags|=2),g.return=o,d.return=o,d.sibling=g,o.child=d,d=g,g=o.child,w=r.child.memoizedState,w=w===null?lh(l):{baseLanes:w.baseLanes|l,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=r.childLanes&~l,o.memoizedState=ah,d}return g=r.child,r=g.sibling,d=uo(g,{mode:"visible",children:d.children}),!(o.mode&1)&&(d.lanes=l),d.return=o,d.sibling=null,r!==null&&(l=o.deletions,l===null?(o.deletions=[r],o.flags|=16):l.push(r)),o.child=d,o.memoizedState=null,d}function uh(r,o){return o=Fu({mode:"visible",children:o},r.mode,0,null),o.return=r,r.child=o}function Su(r,o,l,d){return d!==null&&Md(d),Fs(o,r.child,null,l),r=uh(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function AE(r,o,l,d,f,g,w){if(l)return o.flags&256?(o.flags&=-257,d=rh(Error(t(422))),Su(r,o,w,d)):o.memoizedState!==null?(o.child=r.child,o.flags|=128,null):(g=d.fallback,f=o.mode,d=Fu({mode:"visible",children:d.children},f,0,null),g=Qo(g,f,w,null),g.flags|=2,d.return=o,g.return=o,d.sibling=g,o.child=d,o.mode&1&&Fs(o,r.child,null,w),o.child.memoizedState=lh(w),o.memoizedState=ah,g);if(!(o.mode&1))return Su(r,o,w,null);if(f.data==="$!"){if(d=f.nextSibling&&f.nextSibling.dataset,d)var R=d.dgst;return d=R,g=Error(t(419)),d=rh(g,d,void 0),Su(r,o,w,d)}if(R=(w&r.childLanes)!==0,Fn||R){if(d=Qt,d!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(d.suspendedLanes|w)?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,xi(r,f),Mr(d,r,f,-1))}return Sh(),d=rh(Error(t(421))),Su(r,o,w,d)}return f.data==="$?"?(o.flags|=128,o.child=r.child,o=zE.bind(null,r),f._reactRetry=o,null):(r=g.treeContext,Xn=Ji(f.nextSibling),Yn=o,St=!0,Dr=null,r!==null&&(ur[cr++]=Ei,ur[cr++]=Ti,ur[cr++]=jo,Ei=r.id,Ti=r.overflow,jo=o),o=uh(o,d.children),o.flags|=4096,o)}function hg(r,o,l){r.lanes|=o;var d=r.alternate;d!==null&&(d.lanes|=o),jd(r.return,o,l)}function ch(r,o,l,d,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:f}:(g.isBackwards=o,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=l,g.tailMode=f)}function fg(r,o,l){var d=o.pendingProps,f=d.revealOrder,g=d.tail;if(Rn(r,o,d.children,l),d=At.current,d&2)d=d&1|2,o.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&hg(r,l,o);else if(r.tag===19)hg(r,l,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(yt(At,d),!(o.mode&1))o.memoizedState=null;else switch(f){case"forwards":for(l=o.child,f=null;l!==null;)r=l.alternate,r!==null&&yu(r)===null&&(f=l),l=l.sibling;l=f,l===null?(f=o.child,o.child=null):(f=l.sibling,l.sibling=null),ch(o,!1,f,l,g);break;case"backwards":for(l=null,f=o.child,o.child=null;f!==null;){if(r=f.alternate,r!==null&&yu(r)===null){o.child=f;break}r=f.sibling,f.sibling=l,l=f,f=r}ch(o,!0,l,null,g);break;case"together":ch(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ru(r,o){!(o.mode&1)&&r!==null&&(r.alternate=null,o.alternate=null,o.flags|=2)}function Si(r,o,l){if(r!==null&&(o.dependencies=r.dependencies),qo|=o.lanes,!(l&o.childLanes))return null;if(r!==null&&o.child!==r.child)throw Error(t(153));if(o.child!==null){for(r=o.child,l=uo(r,r.pendingProps),o.child=l,l.return=o;r.sibling!==null;)r=r.sibling,l=l.sibling=uo(r,r.pendingProps),l.return=o;l.sibling=null}return o.child}function CE(r,o,l){switch(o.tag){case 3:ug(o),Vs();break;case 5:km(o);break;case 1:Vn(o.type)&&lu(o);break;case 4:$d(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,f=o.memoizedProps.value;yt(pu,d._currentValue),d._currentValue=f;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(yt(At,At.current&1),o.flags|=128,null):l&o.child.childLanes?dg(r,o,l):(yt(At,At.current&1),r=Si(r,o,l),r!==null?r.sibling:null);yt(At,At.current&1);break;case 19:if(d=(l&o.childLanes)!==0,r.flags&128){if(d)return fg(r,o,l);o.flags|=128}if(f=o.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),yt(At,At.current),d)break;return null;case 22:case 23:return o.lanes=0,sg(r,o,l)}return Si(r,o,l)}var pg,dh,mg,gg;pg=function(r,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},dh=function(){},mg=function(r,o,l,d){var f=r.memoizedProps;if(f!==d){r=o.stateNode,$o(Xr.current);var g=null;switch(l){case"input":f=nr(r,f),d=nr(r,d),g=[];break;case"select":f=fe({},f,{value:void 0}),d=fe({},d,{value:void 0}),g=[];break;case"textarea":f=Hn(r,f),d=Hn(r,d),g=[];break;default:typeof f.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=ou)}bn(l,d);var w;l=null;for(K in f)if(!d.hasOwnProperty(K)&&f.hasOwnProperty(K)&&f[K]!=null)if(K==="style"){var R=f[K];for(w in R)R.hasOwnProperty(w)&&(l||(l={}),l[w]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(s.hasOwnProperty(K)?g||(g=[]):(g=g||[]).push(K,null));for(K in d){var N=d[K];if(R=f!=null?f[K]:void 0,d.hasOwnProperty(K)&&N!==R&&(N!=null||R!=null))if(K==="style")if(R){for(w in R)!R.hasOwnProperty(w)||N&&N.hasOwnProperty(w)||(l||(l={}),l[w]="");for(w in N)N.hasOwnProperty(w)&&R[w]!==N[w]&&(l||(l={}),l[w]=N[w])}else l||(g||(g=[]),g.push(K,l)),l=N;else K==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,R=R?R.__html:void 0,N!=null&&R!==N&&(g=g||[]).push(K,N)):K==="children"?typeof N!="string"&&typeof N!="number"||(g=g||[]).push(K,""+N):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(s.hasOwnProperty(K)?(N!=null&&K==="onScroll"&&Et("scroll",r),g||R===N||(g=[])):(g=g||[]).push(K,N))}l&&(g=g||[]).push("style",l);var K=g;(o.updateQueue=K)&&(o.flags|=4)}},gg=function(r,o,l,d){l!==d&&(o.flags|=4)};function $a(r,o){if(!St)switch(r.tailMode){case"hidden":o=r.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function mn(r){var o=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(o)for(var f=r.child;f!==null;)l|=f.lanes|f.childLanes,d|=f.subtreeFlags&14680064,d|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)l|=f.lanes|f.childLanes,d|=f.subtreeFlags,d|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=d,r.childLanes=l,o}function PE(r,o,l){var d=o.pendingProps;switch(Nd(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mn(o),null;case 1:return Vn(o.type)&&au(),mn(o),null;case 3:return d=o.stateNode,zs(),Tt(Mn),Tt(fn),Wd(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(hu(o)?o.flags|=4:r===null||r.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,Dr!==null&&(Th(Dr),Dr=null))),dh(r,o),mn(o),null;case 5:Hd(o);var f=$o(Fa.current);if(l=o.type,r!==null&&o.stateNode!=null)mg(r,o,l,d,f),r.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(t(166));return mn(o),null}if(r=$o(Xr.current),hu(o)){d=o.stateNode,l=o.type;var g=o.memoizedProps;switch(d[Yr]=o,d[Na]=g,r=(o.mode&1)!==0,l){case"dialog":Et("cancel",d),Et("close",d);break;case"iframe":case"object":case"embed":Et("load",d);break;case"video":case"audio":for(f=0;f<Pa.length;f++)Et(Pa[f],d);break;case"source":Et("error",d);break;case"img":case"image":case"link":Et("error",d),Et("load",d);break;case"details":Et("toggle",d);break;case"input":yr(d,g),Et("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!g.multiple},Et("invalid",d);break;case"textarea":wr(d,g),Et("invalid",d)}bn(l,g),f=null;for(var w in g)if(g.hasOwnProperty(w)){var R=g[w];w==="children"?typeof R=="string"?d.textContent!==R&&(g.suppressHydrationWarning!==!0&&iu(d.textContent,R,r),f=["children",R]):typeof R=="number"&&d.textContent!==""+R&&(g.suppressHydrationWarning!==!0&&iu(d.textContent,R,r),f=["children",""+R]):s.hasOwnProperty(w)&&R!=null&&w==="onScroll"&&Et("scroll",d)}switch(l){case"input":Zt(d),Br(d,g,!0);break;case"textarea":Zt(d),Ie(d);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(d.onclick=ou)}d=f,o.updateQueue=d,d!==null&&(o.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Ne(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=w.createElement(l,{is:d.is}):(r=w.createElement(l),l==="select"&&(w=r,d.multiple?w.multiple=!0:d.size&&(w.size=d.size))):r=w.createElementNS(r,l),r[Yr]=o,r[Na]=d,pg(r,o,!1,!1),o.stateNode=r;e:{switch(w=sr(l,d),l){case"dialog":Et("cancel",r),Et("close",r),f=d;break;case"iframe":case"object":case"embed":Et("load",r),f=d;break;case"video":case"audio":for(f=0;f<Pa.length;f++)Et(Pa[f],r);f=d;break;case"source":Et("error",r),f=d;break;case"img":case"image":case"link":Et("error",r),Et("load",r),f=d;break;case"details":Et("toggle",r),f=d;break;case"input":yr(r,d),f=nr(r,d),Et("invalid",r);break;case"option":f=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},f=fe({},d,{value:void 0}),Et("invalid",r);break;case"textarea":wr(r,d),f=Hn(r,d),Et("invalid",r);break;default:f=d}bn(l,f),R=f;for(g in R)if(R.hasOwnProperty(g)){var N=R[g];g==="style"?ir(r,N):g==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&qn(r,N)):g==="children"?typeof N=="string"?(l!=="textarea"||N!=="")&&xt(r,N):typeof N=="number"&&xt(r,""+N):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(s.hasOwnProperty(g)?N!=null&&g==="onScroll"&&Et("scroll",r):N!=null&&Z(r,g,N,w))}switch(l){case"input":Zt(r),Br(r,d,!1);break;case"textarea":Zt(r),Ie(r);break;case"option":d.value!=null&&r.setAttribute("value",""+Ye(d.value));break;case"select":r.multiple=!!d.multiple,g=d.value,g!=null?jt(r,!!d.multiple,g,!1):d.defaultValue!=null&&jt(r,!!d.multiple,d.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=ou)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return mn(o),null;case 6:if(r&&o.stateNode!=null)gg(r,o,r.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(t(166));if(l=$o(Fa.current),$o(Xr.current),hu(o)){if(d=o.stateNode,l=o.memoizedProps,d[Yr]=o,(g=d.nodeValue!==l)&&(r=Yn,r!==null))switch(r.tag){case 3:iu(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&iu(d.nodeValue,l,(r.mode&1)!==0)}g&&(o.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[Yr]=o,o.stateNode=d}return mn(o),null;case 13:if(Tt(At),d=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(St&&Xn!==null&&o.mode&1&&!(o.flags&128))_m(),Vs(),o.flags|=98560,g=!1;else if(g=hu(o),d!==null&&d.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[Yr]=o}else Vs(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;mn(o),g=!1}else Dr!==null&&(Th(Dr),Dr=null),g=!0;if(!g)return o.flags&65536?o:null}return o.flags&128?(o.lanes=l,o):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(o.child.flags|=8192,o.mode&1&&(r===null||At.current&1?$t===0&&($t=3):Sh())),o.updateQueue!==null&&(o.flags|=4),mn(o),null);case 4:return zs(),dh(r,o),r===null&&ba(o.stateNode.containerInfo),mn(o),null;case 10:return Ud(o.type._context),mn(o),null;case 17:return Vn(o.type)&&au(),mn(o),null;case 19:if(Tt(At),g=o.memoizedState,g===null)return mn(o),null;if(d=(o.flags&128)!==0,w=g.rendering,w===null)if(d)$a(g,!1);else{if($t!==0||r!==null&&r.flags&128)for(r=o.child;r!==null;){if(w=yu(r),w!==null){for(o.flags|=128,$a(g,!1),d=w.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=l,l=o.child;l!==null;)g=l,r=d,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,r=w.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return yt(At,At.current&1|2),o.child}r=r.sibling}g.tail!==null&&dt()>qs&&(o.flags|=128,d=!0,$a(g,!1),o.lanes=4194304)}else{if(!d)if(r=yu(w),r!==null){if(o.flags|=128,d=!0,l=r.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),$a(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!St)return mn(o),null}else 2*dt()-g.renderingStartTime>qs&&l!==1073741824&&(o.flags|=128,d=!0,$a(g,!1),o.lanes=4194304);g.isBackwards?(w.sibling=o.child,o.child=w):(l=g.last,l!==null?l.sibling=w:o.child=w,g.last=w)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=dt(),o.sibling=null,l=At.current,yt(At,d?l&1|2:l&1),o):(mn(o),null);case 22:case 23:return Ih(),d=o.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(o.flags|=8192),d&&o.mode&1?Jn&1073741824&&(mn(o),o.subtreeFlags&6&&(o.flags|=8192)):mn(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function bE(r,o){switch(Nd(o),o.tag){case 1:return Vn(o.type)&&au(),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return zs(),Tt(Mn),Tt(fn),Wd(),r=o.flags,r&65536&&!(r&128)?(o.flags=r&-65537|128,o):null;case 5:return Hd(o),null;case 13:if(Tt(At),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Vs()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return Tt(At),null;case 4:return zs(),null;case 10:return Ud(o.type._context),null;case 22:case 23:return Ih(),null;case 24:return null;default:return null}}var ku=!1,gn=!1,DE=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function $s(r,o){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){Nt(r,o,d)}else l.current=null}function hh(r,o,l){try{l()}catch(d){Nt(r,o,d)}}var vg=!1;function NE(r,o){if(Id=Qi,r=Qp(),gd(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var f=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var w=0,R=-1,N=-1,K=0,ne=0,ie=r,ee=null;t:for(;;){for(var ve;ie!==l||f!==0&&ie.nodeType!==3||(R=w+f),ie!==g||d!==0&&ie.nodeType!==3||(N=w+d),ie.nodeType===3&&(w+=ie.nodeValue.length),(ve=ie.firstChild)!==null;)ee=ie,ie=ve;for(;;){if(ie===r)break t;if(ee===l&&++K===f&&(R=w),ee===g&&++ne===d&&(N=w),(ve=ie.nextSibling)!==null)break;ie=ee,ee=ie.parentNode}ie=ve}l=R===-1||N===-1?null:{start:R,end:N}}else l=null}l=l||{start:0,end:0}}else l=null;for(Sd={focusedElem:r,selectionRange:l},Qi=!1,Ee=o;Ee!==null;)if(o=Ee,r=o.child,(o.subtreeFlags&1028)!==0&&r!==null)r.return=o,Ee=r;else for(;Ee!==null;){o=Ee;try{var xe=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(xe!==null){var Se=xe.memoizedProps,Lt=xe.memoizedState,H=o.stateNode,M=H.getSnapshotBeforeUpdate(o.elementType===o.type?Se:Nr(o.type,Se),Lt);H.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var q=o.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(se){Nt(o,o.return,se)}if(r=o.sibling,r!==null){r.return=o.return,Ee=r;break}Ee=o.return}return xe=vg,vg=!1,xe}function Ha(r,o,l){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var f=d=d.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&hh(o,l,g)}f=f.next}while(f!==d)}}function Au(r,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==o)}}function fh(r){var o=r.ref;if(o!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof o=="function"?o(r):o.current=r}}function yg(r){var o=r.alternate;o!==null&&(r.alternate=null,yg(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&(delete o[Yr],delete o[Na],delete o[Cd],delete o[mE],delete o[gE])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function _g(r){return r.tag===5||r.tag===3||r.tag===4}function wg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||_g(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function ph(r,o,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(r,o):l.insertBefore(r,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(r,l)):(o=l,o.appendChild(r)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=ou));else if(d!==4&&(r=r.child,r!==null))for(ph(r,o,l),r=r.sibling;r!==null;)ph(r,o,l),r=r.sibling}function mh(r,o,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?l.insertBefore(r,o):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(mh(r,o,l),r=r.sibling;r!==null;)mh(r,o,l),r=r.sibling}var on=null,Lr=!1;function io(r,o,l){for(l=l.child;l!==null;)Eg(r,o,l),l=l.sibling}function Eg(r,o,l){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(Nn,l)}catch{}switch(l.tag){case 5:gn||$s(l,o);case 6:var d=on,f=Lr;on=null,io(r,o,l),on=d,Lr=f,on!==null&&(Lr?(r=on,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):on.removeChild(l.stateNode));break;case 18:on!==null&&(Lr?(r=on,l=l.stateNode,r.nodeType===8?Ad(r.parentNode,l):r.nodeType===1&&Ad(r,l),Cr(r)):Ad(on,l.stateNode));break;case 4:d=on,f=Lr,on=l.stateNode.containerInfo,Lr=!0,io(r,o,l),on=d,Lr=f;break;case 0:case 11:case 14:case 15:if(!gn&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){f=d=d.next;do{var g=f,w=g.destroy;g=g.tag,w!==void 0&&(g&2||g&4)&&hh(l,o,w),f=f.next}while(f!==d)}io(r,o,l);break;case 1:if(!gn&&($s(l,o),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(R){Nt(l,o,R)}io(r,o,l);break;case 21:io(r,o,l);break;case 22:l.mode&1?(gn=(d=gn)||l.memoizedState!==null,io(r,o,l),gn=d):io(r,o,l);break;default:io(r,o,l)}}function Tg(r){var o=r.updateQueue;if(o!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new DE),o.forEach(function(d){var f=BE.bind(null,r,d);l.has(d)||(l.add(d),d.then(f,f))})}}function Or(r,o){var l=o.deletions;if(l!==null)for(var d=0;d<l.length;d++){var f=l[d];try{var g=r,w=o,R=w;e:for(;R!==null;){switch(R.tag){case 5:on=R.stateNode,Lr=!1;break e;case 3:on=R.stateNode.containerInfo,Lr=!0;break e;case 4:on=R.stateNode.containerInfo,Lr=!0;break e}R=R.return}if(on===null)throw Error(t(160));Eg(g,w,f),on=null,Lr=!1;var N=f.alternate;N!==null&&(N.return=null),f.return=null}catch(K){Nt(f,o,K)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)xg(o,r),o=o.sibling}function xg(r,o){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Or(o,r),Zr(r),d&4){try{Ha(3,r,r.return),Au(3,r)}catch(Se){Nt(r,r.return,Se)}try{Ha(5,r,r.return)}catch(Se){Nt(r,r.return,Se)}}break;case 1:Or(o,r),Zr(r),d&512&&l!==null&&$s(l,l.return);break;case 5:if(Or(o,r),Zr(r),d&512&&l!==null&&$s(l,l.return),r.flags&32){var f=r.stateNode;try{xt(f,"")}catch(Se){Nt(r,r.return,Se)}}if(d&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,w=l!==null?l.memoizedProps:g,R=r.type,N=r.updateQueue;if(r.updateQueue=null,N!==null)try{R==="input"&&g.type==="radio"&&g.name!=null&&_r(f,g),sr(R,w);var K=sr(R,g);for(w=0;w<N.length;w+=2){var ne=N[w],ie=N[w+1];ne==="style"?ir(f,ie):ne==="dangerouslySetInnerHTML"?qn(f,ie):ne==="children"?xt(f,ie):Z(f,ne,ie,K)}switch(R){case"input":An(f,g);break;case"textarea":de(f,g);break;case"select":var ee=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var ve=g.value;ve!=null?jt(f,!!g.multiple,ve,!1):ee!==!!g.multiple&&(g.defaultValue!=null?jt(f,!!g.multiple,g.defaultValue,!0):jt(f,!!g.multiple,g.multiple?[]:"",!1))}f[Na]=g}catch(Se){Nt(r,r.return,Se)}}break;case 6:if(Or(o,r),Zr(r),d&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(Se){Nt(r,r.return,Se)}}break;case 3:if(Or(o,r),Zr(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Cr(o.containerInfo)}catch(Se){Nt(r,r.return,Se)}break;case 4:Or(o,r),Zr(r);break;case 13:Or(o,r),Zr(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(yh=dt())),d&4&&Tg(r);break;case 22:if(ne=l!==null&&l.memoizedState!==null,r.mode&1?(gn=(K=gn)||ne,Or(o,r),gn=K):Or(o,r),Zr(r),d&8192){if(K=r.memoizedState!==null,(r.stateNode.isHidden=K)&&!ne&&r.mode&1)for(Ee=r,ne=r.child;ne!==null;){for(ie=Ee=ne;Ee!==null;){switch(ee=Ee,ve=ee.child,ee.tag){case 0:case 11:case 14:case 15:Ha(4,ee,ee.return);break;case 1:$s(ee,ee.return);var xe=ee.stateNode;if(typeof xe.componentWillUnmount=="function"){d=ee,l=ee.return;try{o=d,xe.props=o.memoizedProps,xe.state=o.memoizedState,xe.componentWillUnmount()}catch(Se){Nt(d,l,Se)}}break;case 5:$s(ee,ee.return);break;case 22:if(ee.memoizedState!==null){Rg(ie);continue}}ve!==null?(ve.return=ee,Ee=ve):Rg(ie)}ne=ne.sibling}e:for(ne=null,ie=r;;){if(ie.tag===5){if(ne===null){ne=ie;try{f=ie.stateNode,K?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(R=ie.stateNode,N=ie.memoizedProps.style,w=N!=null&&N.hasOwnProperty("display")?N.display:null,R.style.display=rr("display",w))}catch(Se){Nt(r,r.return,Se)}}}else if(ie.tag===6){if(ne===null)try{ie.stateNode.nodeValue=K?"":ie.memoizedProps}catch(Se){Nt(r,r.return,Se)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===r)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===r)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===r)break e;ne===ie&&(ne=null),ie=ie.return}ne===ie&&(ne=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:Or(o,r),Zr(r),d&4&&Tg(r);break;case 21:break;default:Or(o,r),Zr(r)}}function Zr(r){var o=r.flags;if(o&2){try{e:{for(var l=r.return;l!==null;){if(_g(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var f=d.stateNode;d.flags&32&&(xt(f,""),d.flags&=-33);var g=wg(r);mh(r,g,f);break;case 3:case 4:var w=d.stateNode.containerInfo,R=wg(r);ph(r,R,w);break;default:throw Error(t(161))}}catch(N){Nt(r,r.return,N)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function LE(r,o,l){Ee=r,Ig(r)}function Ig(r,o,l){for(var d=(r.mode&1)!==0;Ee!==null;){var f=Ee,g=f.child;if(f.tag===22&&d){var w=f.memoizedState!==null||ku;if(!w){var R=f.alternate,N=R!==null&&R.memoizedState!==null||gn;R=ku;var K=gn;if(ku=w,(gn=N)&&!K)for(Ee=f;Ee!==null;)w=Ee,N=w.child,w.tag===22&&w.memoizedState!==null?kg(f):N!==null?(N.return=w,Ee=N):kg(f);for(;g!==null;)Ee=g,Ig(g),g=g.sibling;Ee=f,ku=R,gn=K}Sg(r)}else f.subtreeFlags&8772&&g!==null?(g.return=f,Ee=g):Sg(r)}}function Sg(r){for(;Ee!==null;){var o=Ee;if(o.flags&8772){var l=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:gn||Au(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!gn)if(l===null)d.componentDidMount();else{var f=o.elementType===o.type?l.memoizedProps:Nr(o.type,l.memoizedProps);d.componentDidUpdate(f,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var g=o.updateQueue;g!==null&&Rm(o,g,d);break;case 3:var w=o.updateQueue;if(w!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}Rm(o,w,l)}break;case 5:var R=o.stateNode;if(l===null&&o.flags&4){l=R;var N=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&l.focus();break;case"img":N.src&&(l.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var K=o.alternate;if(K!==null){var ne=K.memoizedState;if(ne!==null){var ie=ne.dehydrated;ie!==null&&Cr(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}gn||o.flags&512&&fh(o)}catch(ee){Nt(o,o.return,ee)}}if(o===r){Ee=null;break}if(l=o.sibling,l!==null){l.return=o.return,Ee=l;break}Ee=o.return}}function Rg(r){for(;Ee!==null;){var o=Ee;if(o===r){Ee=null;break}var l=o.sibling;if(l!==null){l.return=o.return,Ee=l;break}Ee=o.return}}function kg(r){for(;Ee!==null;){var o=Ee;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Au(4,o)}catch(N){Nt(o,l,N)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var f=o.return;try{d.componentDidMount()}catch(N){Nt(o,f,N)}}var g=o.return;try{fh(o)}catch(N){Nt(o,g,N)}break;case 5:var w=o.return;try{fh(o)}catch(N){Nt(o,w,N)}}}catch(N){Nt(o,o.return,N)}if(o===r){Ee=null;break}var R=o.sibling;if(R!==null){R.return=o.return,Ee=R;break}Ee=o.return}}var OE=Math.ceil,Cu=pe.ReactCurrentDispatcher,gh=pe.ReactCurrentOwner,fr=pe.ReactCurrentBatchConfig,at=0,Qt=null,Vt=null,sn=0,Jn=0,Hs=Zi(0),$t=0,qa=null,qo=0,Pu=0,vh=0,Wa=null,Un=null,yh=0,qs=1/0,Ri=null,bu=!1,_h=null,oo=null,Du=!1,so=null,Nu=0,Ka=0,wh=null,Lu=-1,Ou=0;function kn(){return at&6?dt():Lu!==-1?Lu:Lu=dt()}function ao(r){return r.mode&1?at&2&&sn!==0?sn&-sn:yE.transition!==null?(Ou===0&&(Ou=No()),Ou):(r=et,r!==0||(r=window.event,r=r===void 0?16:Ea(r.type)),r):1}function Mr(r,o,l,d){if(50<Ka)throw Ka=0,wh=null,Error(t(185));qi(r,l,d),(!(at&2)||r!==Qt)&&(r===Qt&&(!(at&2)&&(Pu|=l),$t===4&&lo(r,sn)),jn(r,d),l===1&&at===0&&!(o.mode&1)&&(qs=dt()+500,uu&&to()))}function jn(r,o){var l=r.callbackNode;pi(r,o);var d=Do(r,r===Qt?sn:0);if(d===0)l!==null&&hi(l),r.callbackNode=null,r.callbackPriority=0;else if(o=d&-d,r.callbackPriority!==o){if(l!=null&&hi(l),o===1)r.tag===0?vE(Cg.bind(null,r)):pm(Cg.bind(null,r)),fE(function(){!(at&6)&&to()}),l=null;else{switch(Ki(d)){case 1:l=rt;break;case 4:l=_t;break;case 16:l=tn;break;case 536870912:l=wt;break;default:l=tn}l=Vg(l,Ag.bind(null,r))}r.callbackPriority=o,r.callbackNode=l}}function Ag(r,o){if(Lu=-1,Ou=0,at&6)throw Error(t(327));var l=r.callbackNode;if(Ws()&&r.callbackNode!==l)return null;var d=Do(r,r===Qt?sn:0);if(d===0)return null;if(d&30||d&r.expiredLanes||o)o=Mu(r,d);else{o=d;var f=at;at|=2;var g=bg();(Qt!==r||sn!==o)&&(Ri=null,qs=dt()+500,Ko(r,o));do try{FE();break}catch(R){Pg(r,R)}while(!0);Fd(),Cu.current=g,at=f,Vt!==null?o=0:(Qt=null,sn=0,o=$t)}if(o!==0){if(o===2&&(f=Kn(r),f!==0&&(d=f,o=Eh(r,f))),o===1)throw l=qa,Ko(r,0),lo(r,d),jn(r,dt()),l;if(o===6)lo(r,d);else{if(f=r.current.alternate,!(d&30)&&!ME(f)&&(o=Mu(r,d),o===2&&(g=Kn(r),g!==0&&(d=g,o=Eh(r,g))),o===1))throw l=qa,Ko(r,0),lo(r,d),jn(r,dt()),l;switch(r.finishedWork=f,r.finishedLanes=d,o){case 0:case 1:throw Error(t(345));case 2:Go(r,Un,Ri);break;case 3:if(lo(r,d),(d&130023424)===d&&(o=yh+500-dt(),10<o)){if(Do(r,0)!==0)break;if(f=r.suspendedLanes,(f&d)!==d){kn(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=kd(Go.bind(null,r,Un,Ri),o);break}Go(r,Un,Ri);break;case 4:if(lo(r,d),(d&4194240)===d)break;for(o=r.eventTimes,f=-1;0<d;){var w=31-In(d);g=1<<w,w=o[w],w>f&&(f=w),d&=~g}if(d=f,d=dt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*OE(d/1960))-d,10<d){r.timeoutHandle=kd(Go.bind(null,r,Un,Ri),d);break}Go(r,Un,Ri);break;case 5:Go(r,Un,Ri);break;default:throw Error(t(329))}}}return jn(r,dt()),r.callbackNode===l?Ag.bind(null,r):null}function Eh(r,o){var l=Wa;return r.current.memoizedState.isDehydrated&&(Ko(r,o).flags|=256),r=Mu(r,o),r!==2&&(o=Un,Un=l,o!==null&&Th(o)),r}function Th(r){Un===null?Un=r:Un.push.apply(Un,r)}function ME(r){for(var o=r;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var f=l[d],g=f.getSnapshot;f=f.value;try{if(!br(g(),f))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function lo(r,o){for(o&=~vh,o&=~Pu,r.suspendedLanes|=o,r.pingedLanes&=~o,r=r.expirationTimes;0<o;){var l=31-In(o),d=1<<l;r[l]=-1,o&=~d}}function Cg(r){if(at&6)throw Error(t(327));Ws();var o=Do(r,0);if(!(o&1))return jn(r,dt()),null;var l=Mu(r,o);if(r.tag!==0&&l===2){var d=Kn(r);d!==0&&(o=d,l=Eh(r,d))}if(l===1)throw l=qa,Ko(r,0),lo(r,o),jn(r,dt()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=o,Go(r,Un,Ri),jn(r,dt()),null}function xh(r,o){var l=at;at|=1;try{return r(o)}finally{at=l,at===0&&(qs=dt()+500,uu&&to())}}function Wo(r){so!==null&&so.tag===0&&!(at&6)&&Ws();var o=at;at|=1;var l=fr.transition,d=et;try{if(fr.transition=null,et=1,r)return r()}finally{et=d,fr.transition=l,at=o,!(at&6)&&to()}}function Ih(){Jn=Hs.current,Tt(Hs)}function Ko(r,o){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,hE(l)),Vt!==null)for(l=Vt.return;l!==null;){var d=l;switch(Nd(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&au();break;case 3:zs(),Tt(Mn),Tt(fn),Wd();break;case 5:Hd(d);break;case 4:zs();break;case 13:Tt(At);break;case 19:Tt(At);break;case 10:Ud(d.type._context);break;case 22:case 23:Ih()}l=l.return}if(Qt=r,Vt=r=uo(r.current,null),sn=Jn=o,$t=0,qa=null,vh=Pu=qo=0,Un=Wa=null,Bo!==null){for(o=0;o<Bo.length;o++)if(l=Bo[o],d=l.interleaved,d!==null){l.interleaved=null;var f=d.next,g=l.pending;if(g!==null){var w=g.next;g.next=f,d.next=w}l.pending=d}Bo=null}return r}function Pg(r,o){do{var l=Vt;try{if(Fd(),_u.current=xu,wu){for(var d=Ct.memoizedState;d!==null;){var f=d.queue;f!==null&&(f.pending=null),d=d.next}wu=!1}if(Ho=0,Gt=Bt=Ct=null,Ua=!1,ja=0,gh.current=null,l===null||l.return===null){$t=1,qa=o,Vt=null;break}e:{var g=r,w=l.return,R=l,N=o;if(o=sn,R.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var K=N,ne=R,ie=ne.tag;if(!(ne.mode&1)&&(ie===0||ie===11||ie===15)){var ee=ne.alternate;ee?(ne.updateQueue=ee.updateQueue,ne.memoizedState=ee.memoizedState,ne.lanes=ee.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var ve=tg(w);if(ve!==null){ve.flags&=-257,ng(ve,w,R,g,o),ve.mode&1&&eg(g,K,o),o=ve,N=K;var xe=o.updateQueue;if(xe===null){var Se=new Set;Se.add(N),o.updateQueue=Se}else xe.add(N);break e}else{if(!(o&1)){eg(g,K,o),Sh();break e}N=Error(t(426))}}else if(St&&R.mode&1){var Lt=tg(w);if(Lt!==null){!(Lt.flags&65536)&&(Lt.flags|=256),ng(Lt,w,R,g,o),Md(Bs(N,R));break e}}g=N=Bs(N,R),$t!==4&&($t=2),Wa===null?Wa=[g]:Wa.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,o&=-o,g.lanes|=o;var H=Jm(g,N,o);Sm(g,H);break e;case 1:R=N;var M=g.type,q=g.stateNode;if(!(g.flags&128)&&(typeof M.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(oo===null||!oo.has(q)))){g.flags|=65536,o&=-o,g.lanes|=o;var se=Zm(g,R,o);Sm(g,se);break e}}g=g.return}while(g!==null)}Ng(l)}catch(Re){o=Re,Vt===l&&l!==null&&(Vt=l=l.return);continue}break}while(!0)}function bg(){var r=Cu.current;return Cu.current=xu,r===null?xu:r}function Sh(){($t===0||$t===3||$t===2)&&($t=4),Qt===null||!(qo&268435455)&&!(Pu&268435455)||lo(Qt,sn)}function Mu(r,o){var l=at;at|=2;var d=bg();(Qt!==r||sn!==o)&&(Ri=null,Ko(r,o));do try{VE();break}catch(f){Pg(r,f)}while(!0);if(Fd(),at=l,Cu.current=d,Vt!==null)throw Error(t(261));return Qt=null,sn=0,$t}function VE(){for(;Vt!==null;)Dg(Vt)}function FE(){for(;Vt!==null&&!Hr();)Dg(Vt)}function Dg(r){var o=Mg(r.alternate,r,Jn);r.memoizedProps=r.pendingProps,o===null?Ng(r):Vt=o,gh.current=null}function Ng(r){var o=r;do{var l=o.alternate;if(r=o.return,o.flags&32768){if(l=bE(l,o),l!==null){l.flags&=32767,Vt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{$t=6,Vt=null;return}}else if(l=PE(l,o,Jn),l!==null){Vt=l;return}if(o=o.sibling,o!==null){Vt=o;return}Vt=o=r}while(o!==null);$t===0&&($t=5)}function Go(r,o,l){var d=et,f=fr.transition;try{fr.transition=null,et=1,UE(r,o,l,d)}finally{fr.transition=f,et=d}return null}function UE(r,o,l,d){do Ws();while(so!==null);if(at&6)throw Error(t(327));l=r.finishedWork;var f=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=l.lanes|l.childLanes;if(gt(r,g),r===Qt&&(Vt=Qt=null,sn=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||Du||(Du=!0,Vg(tn,function(){return Ws(),null})),g=(l.flags&15990)!==0,l.subtreeFlags&15990||g){g=fr.transition,fr.transition=null;var w=et;et=1;var R=at;at|=4,gh.current=null,NE(r,l),xg(l,r),oE(Sd),Qi=!!Id,Sd=Id=null,r.current=l,LE(l),Ir(),at=R,et=w,fr.transition=g}else r.current=l;if(Du&&(Du=!1,so=r,Nu=f),g=r.pendingLanes,g===0&&(oo=null),fs(l.stateNode),jn(r,dt()),o!==null)for(d=r.onRecoverableError,l=0;l<o.length;l++)f=o[l],d(f.value,{componentStack:f.stack,digest:f.digest});if(bu)throw bu=!1,r=_h,_h=null,r;return Nu&1&&r.tag!==0&&Ws(),g=r.pendingLanes,g&1?r===wh?Ka++:(Ka=0,wh=r):Ka=0,to(),null}function Ws(){if(so!==null){var r=Ki(Nu),o=fr.transition,l=et;try{if(fr.transition=null,et=16>r?16:r,so===null)var d=!1;else{if(r=so,so=null,Nu=0,at&6)throw Error(t(331));var f=at;for(at|=4,Ee=r.current;Ee!==null;){var g=Ee,w=g.child;if(Ee.flags&16){var R=g.deletions;if(R!==null){for(var N=0;N<R.length;N++){var K=R[N];for(Ee=K;Ee!==null;){var ne=Ee;switch(ne.tag){case 0:case 11:case 15:Ha(8,ne,g)}var ie=ne.child;if(ie!==null)ie.return=ne,Ee=ie;else for(;Ee!==null;){ne=Ee;var ee=ne.sibling,ve=ne.return;if(yg(ne),ne===K){Ee=null;break}if(ee!==null){ee.return=ve,Ee=ee;break}Ee=ve}}}var xe=g.alternate;if(xe!==null){var Se=xe.child;if(Se!==null){xe.child=null;do{var Lt=Se.sibling;Se.sibling=null,Se=Lt}while(Se!==null)}}Ee=g}}if(g.subtreeFlags&2064&&w!==null)w.return=g,Ee=w;else e:for(;Ee!==null;){if(g=Ee,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Ha(9,g,g.return)}var H=g.sibling;if(H!==null){H.return=g.return,Ee=H;break e}Ee=g.return}}var M=r.current;for(Ee=M;Ee!==null;){w=Ee;var q=w.child;if(w.subtreeFlags&2064&&q!==null)q.return=w,Ee=q;else e:for(w=M;Ee!==null;){if(R=Ee,R.flags&2048)try{switch(R.tag){case 0:case 11:case 15:Au(9,R)}}catch(Re){Nt(R,R.return,Re)}if(R===w){Ee=null;break e}var se=R.sibling;if(se!==null){se.return=R.return,Ee=se;break e}Ee=R.return}}if(at=f,to(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(Nn,r)}catch{}d=!0}return d}finally{et=l,fr.transition=o}}return!1}function Lg(r,o,l){o=Bs(l,o),o=Jm(r,o,1),r=ro(r,o,1),o=kn(),r!==null&&(qi(r,1,o),jn(r,o))}function Nt(r,o,l){if(r.tag===3)Lg(r,r,l);else for(;o!==null;){if(o.tag===3){Lg(o,r,l);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(oo===null||!oo.has(d))){r=Bs(l,r),r=Zm(o,r,1),o=ro(o,r,1),r=kn(),o!==null&&(qi(o,1,r),jn(o,r));break}}o=o.return}}function jE(r,o,l){var d=r.pingCache;d!==null&&d.delete(o),o=kn(),r.pingedLanes|=r.suspendedLanes&l,Qt===r&&(sn&l)===l&&($t===4||$t===3&&(sn&130023424)===sn&&500>dt()-yh?Ko(r,0):vh|=l),jn(r,o)}function Og(r,o){o===0&&(r.mode&1?(o=ms,ms<<=1,!(ms&130023424)&&(ms=4194304)):o=1);var l=kn();r=xi(r,o),r!==null&&(qi(r,o,l),jn(r,l))}function zE(r){var o=r.memoizedState,l=0;o!==null&&(l=o.retryLane),Og(r,l)}function BE(r,o){var l=0;switch(r.tag){case 13:var d=r.stateNode,f=r.memoizedState;f!==null&&(l=f.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(o),Og(r,l)}var Mg;Mg=function(r,o,l){if(r!==null)if(r.memoizedProps!==o.pendingProps||Mn.current)Fn=!0;else{if(!(r.lanes&l)&&!(o.flags&128))return Fn=!1,CE(r,o,l);Fn=!!(r.flags&131072)}else Fn=!1,St&&o.flags&1048576&&mm(o,du,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;Ru(r,o),r=o.pendingProps;var f=Ls(o,fn.current);js(o,l),f=Qd(null,o,d,r,f,l);var g=Yd();return o.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Vn(d)?(g=!0,lu(o)):g=!1,o.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Bd(o),f.updater=Iu,o.stateNode=f,f._reactInternals=o,nh(o,d,r,l),o=sh(null,o,d,!0,g,l)):(o.tag=0,St&&g&&Dd(o),Rn(null,o,f,l),o=o.child),o;case 16:d=o.elementType;e:{switch(Ru(r,o),r=o.pendingProps,f=d._init,d=f(d._payload),o.type=d,f=o.tag=HE(d),r=Nr(d,r),f){case 0:o=oh(null,o,d,r,l);break e;case 1:o=lg(null,o,d,r,l);break e;case 11:o=rg(null,o,d,r,l);break e;case 14:o=ig(null,o,d,Nr(d.type,r),l);break e}throw Error(t(306,d,""))}return o;case 0:return d=o.type,f=o.pendingProps,f=o.elementType===d?f:Nr(d,f),oh(r,o,d,f,l);case 1:return d=o.type,f=o.pendingProps,f=o.elementType===d?f:Nr(d,f),lg(r,o,d,f,l);case 3:e:{if(ug(o),r===null)throw Error(t(387));d=o.pendingProps,g=o.memoizedState,f=g.element,Im(r,o),vu(o,d,null,l);var w=o.memoizedState;if(d=w.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},o.updateQueue.baseState=g,o.memoizedState=g,o.flags&256){f=Bs(Error(t(423)),o),o=cg(r,o,d,l,f);break e}else if(d!==f){f=Bs(Error(t(424)),o),o=cg(r,o,d,l,f);break e}else for(Xn=Ji(o.stateNode.containerInfo.firstChild),Yn=o,St=!0,Dr=null,l=Tm(o,null,d,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Vs(),d===f){o=Si(r,o,l);break e}Rn(r,o,d,l)}o=o.child}return o;case 5:return km(o),r===null&&Od(o),d=o.type,f=o.pendingProps,g=r!==null?r.memoizedProps:null,w=f.children,Rd(d,f)?w=null:g!==null&&Rd(d,g)&&(o.flags|=32),ag(r,o),Rn(r,o,w,l),o.child;case 6:return r===null&&Od(o),null;case 13:return dg(r,o,l);case 4:return $d(o,o.stateNode.containerInfo),d=o.pendingProps,r===null?o.child=Fs(o,null,d,l):Rn(r,o,d,l),o.child;case 11:return d=o.type,f=o.pendingProps,f=o.elementType===d?f:Nr(d,f),rg(r,o,d,f,l);case 7:return Rn(r,o,o.pendingProps,l),o.child;case 8:return Rn(r,o,o.pendingProps.children,l),o.child;case 12:return Rn(r,o,o.pendingProps.children,l),o.child;case 10:e:{if(d=o.type._context,f=o.pendingProps,g=o.memoizedProps,w=f.value,yt(pu,d._currentValue),d._currentValue=w,g!==null)if(br(g.value,w)){if(g.children===f.children&&!Mn.current){o=Si(r,o,l);break e}}else for(g=o.child,g!==null&&(g.return=o);g!==null;){var R=g.dependencies;if(R!==null){w=g.child;for(var N=R.firstContext;N!==null;){if(N.context===d){if(g.tag===1){N=Ii(-1,l&-l),N.tag=2;var K=g.updateQueue;if(K!==null){K=K.shared;var ne=K.pending;ne===null?N.next=N:(N.next=ne.next,ne.next=N),K.pending=N}}g.lanes|=l,N=g.alternate,N!==null&&(N.lanes|=l),jd(g.return,l,o),R.lanes|=l;break}N=N.next}}else if(g.tag===10)w=g.type===o.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(t(341));w.lanes|=l,R=w.alternate,R!==null&&(R.lanes|=l),jd(w,l,o),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===o){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}Rn(r,o,f.children,l),o=o.child}return o;case 9:return f=o.type,d=o.pendingProps.children,js(o,l),f=dr(f),d=d(f),o.flags|=1,Rn(r,o,d,l),o.child;case 14:return d=o.type,f=Nr(d,o.pendingProps),f=Nr(d.type,f),ig(r,o,d,f,l);case 15:return og(r,o,o.type,o.pendingProps,l);case 17:return d=o.type,f=o.pendingProps,f=o.elementType===d?f:Nr(d,f),Ru(r,o),o.tag=1,Vn(d)?(r=!0,lu(o)):r=!1,js(o,l),Ym(o,d,f),nh(o,d,f,l),sh(null,o,d,!0,r,l);case 19:return fg(r,o,l);case 22:return sg(r,o,l)}throw Error(t(156,o.tag))};function Vg(r,o){return en(r,o)}function $E(r,o,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(r,o,l,d){return new $E(r,o,l,d)}function Rh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function HE(r){if(typeof r=="function")return Rh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===O)return 11;if(r===Me)return 14}return 2}function uo(r,o){var l=r.alternate;return l===null?(l=pr(r.tag,o,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=o,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,o=r.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function Vu(r,o,l,d,f,g){var w=2;if(d=r,typeof r=="function")Rh(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case P:return Qo(l.children,f,g,o);case x:w=8,f|=8;break;case S:return r=pr(12,l,o,f|2),r.elementType=S,r.lanes=g,r;case k:return r=pr(13,l,o,f),r.elementType=k,r.lanes=g,r;case He:return r=pr(19,l,o,f),r.elementType=He,r.lanes=g,r;case Ge:return Fu(l,f,g,o);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case A:w=10;break e;case D:w=9;break e;case O:w=11;break e;case Me:w=14;break e;case kt:w=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return o=pr(w,l,o,f),o.elementType=r,o.type=d,o.lanes=g,o}function Qo(r,o,l,d){return r=pr(7,r,d,o),r.lanes=l,r}function Fu(r,o,l,d){return r=pr(22,r,d,o),r.elementType=Ge,r.lanes=l,r.stateNode={isHidden:!1},r}function kh(r,o,l){return r=pr(6,r,null,o),r.lanes=l,r}function Ah(r,o,l){return o=pr(4,r.children!==null?r.children:[],r.key,o),o.lanes=l,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}function qE(r,o,l,d,f){this.tag=o,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hi(0),this.expirationTimes=Hi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hi(0),this.identifierPrefix=d,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Ch(r,o,l,d,f,g,w,R,N){return r=new qE(r,o,l,R,N),o===1?(o=1,g===!0&&(o|=8)):o=0,g=pr(3,null,null,o),r.current=g,g.stateNode=r,g.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bd(g),r}function WE(r,o,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ce,key:d==null?null:""+d,children:r,containerInfo:o,implementation:l}}function Fg(r){if(!r)return eo;r=r._reactInternals;e:{if(Ze(r)!==r||r.tag!==1)throw Error(t(170));var o=r;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Vn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(Vn(l))return hm(r,l,o)}return o}function Ug(r,o,l,d,f,g,w,R,N){return r=Ch(l,d,!0,r,f,g,w,R,N),r.context=Fg(null),l=r.current,d=kn(),f=ao(l),g=Ii(d,f),g.callback=o??null,ro(l,g,f),r.current.lanes=f,qi(r,f,d),jn(r,d),r}function Uu(r,o,l,d){var f=o.current,g=kn(),w=ao(f);return l=Fg(l),o.context===null?o.context=l:o.pendingContext=l,o=Ii(g,w),o.payload={element:r},d=d===void 0?null:d,d!==null&&(o.callback=d),r=ro(f,o,w),r!==null&&(Mr(r,f,w,g),gu(r,f,w)),w}function ju(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function jg(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<o?l:o}}function Ph(r,o){jg(r,o),(r=r.alternate)&&jg(r,o)}function KE(){return null}var zg=typeof reportError=="function"?reportError:function(r){console.error(r)};function bh(r){this._internalRoot=r}zu.prototype.render=bh.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(t(409));Uu(r,o,null,null)},zu.prototype.unmount=bh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;Wo(function(){Uu(null,r,null,null)}),o[_i]=null}};function zu(r){this._internalRoot=r}zu.prototype.unstable_scheduleHydration=function(r){if(r){var o=zl();r={blockedOn:null,target:r,priority:o};for(var l=0;l<Wr.length&&o!==0&&o<Wr[l].priority;l++);Wr.splice(l,0,r),l===0&&Hl(r)}};function Dh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Bu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Bg(){}function GE(r,o,l,d,f){if(f){if(typeof d=="function"){var g=d;d=function(){var K=ju(w);g.call(K)}}var w=Ug(o,d,r,0,null,!1,!1,"",Bg);return r._reactRootContainer=w,r[_i]=w.current,ba(r.nodeType===8?r.parentNode:r),Wo(),w}for(;f=r.lastChild;)r.removeChild(f);if(typeof d=="function"){var R=d;d=function(){var K=ju(N);R.call(K)}}var N=Ch(r,0,!1,null,null,!1,!1,"",Bg);return r._reactRootContainer=N,r[_i]=N.current,ba(r.nodeType===8?r.parentNode:r),Wo(function(){Uu(o,N,l,d)}),N}function $u(r,o,l,d,f){var g=l._reactRootContainer;if(g){var w=g;if(typeof f=="function"){var R=f;f=function(){var N=ju(w);R.call(N)}}Uu(o,w,r,f)}else w=GE(l,o,r,f,d);return ju(w)}Ul=function(r){switch(r.tag){case 3:var o=r.stateNode;if(o.current.memoizedState.isDehydrated){var l=$i(o.pendingLanes);l!==0&&(Wi(o,l|1),jn(o,dt()),!(at&6)&&(qs=dt()+500,to()))}break;case 13:Wo(function(){var d=xi(r,1);if(d!==null){var f=kn();Mr(d,r,1,f)}}),Ph(r,1)}},gs=function(r){if(r.tag===13){var o=xi(r,134217728);if(o!==null){var l=kn();Mr(o,r,134217728,l)}Ph(r,134217728)}},jl=function(r){if(r.tag===13){var o=ao(r),l=xi(r,o);if(l!==null){var d=kn();Mr(l,r,o,d)}Ph(r,o)}},zl=function(){return et},Bl=function(r,o){var l=et;try{return et=r,o()}finally{et=l}},ci=function(r,o,l){switch(o){case"input":if(An(r,l),o=l.name,l.type==="radio"&&o!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var d=l[o];if(d!==r&&d.form===r.form){var f=su(d);if(!f)throw Error(t(90));En(d),An(d,f)}}}break;case"textarea":de(r,l);break;case"select":o=l.value,o!=null&&jt(r,!!l.multiple,o,!1)}},di=xh,L=Wo;var QE={usingClientEntryPoint:!1,Events:[La,Ds,su,xn,bo,xh]},Ga={findFiberByHostInstance:Fo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},YE={bundleType:Ga.bundleType,version:Ga.version,rendererPackageName:Ga.rendererPackageName,rendererConfig:Ga.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pe.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=xr(r),r===null?null:r.stateNode},findFiberByHostInstance:Ga.findFiberByHostInstance||KE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hu.isDisabled&&Hu.supportsFiber)try{Nn=Hu.inject(YE),hn=Hu}catch{}}return zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QE,zn.createPortal=function(r,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dh(o))throw Error(t(200));return WE(r,o,null,l)},zn.createRoot=function(r,o){if(!Dh(r))throw Error(t(299));var l=!1,d="",f=zg;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(f=o.onRecoverableError)),o=Ch(r,1,!1,null,null,l,!1,d,f),r[_i]=o.current,ba(r.nodeType===8?r.parentNode:r),new bh(o)},zn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=xr(o),r=r===null?null:r.stateNode,r},zn.flushSync=function(r){return Wo(r)},zn.hydrate=function(r,o,l){if(!Bu(o))throw Error(t(200));return $u(null,r,o,!0,l)},zn.hydrateRoot=function(r,o,l){if(!Dh(r))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,f=!1,g="",w=zg;if(l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),o=Ug(o,null,r,1,l??null,f,!1,g,w),r[_i]=o.current,ba(r),d)for(r=0;r<d.length;r++)l=d[r],f=l._getVersion,f=f(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,f]:o.mutableSourceEagerHydrationData.push(l,f);return new zu(o)},zn.render=function(r,o,l){if(!Bu(o))throw Error(t(200));return $u(null,r,o,!1,l)},zn.unmountComponentAtNode=function(r){if(!Bu(r))throw Error(t(40));return r._reactRootContainer?(Wo(function(){$u(null,null,r,!1,function(){r._reactRootContainer=null,r[_i]=null})}),!0):!1},zn.unstable_batchedUpdates=xh,zn.unstable_renderSubtreeIntoContainer=function(r,o,l,d){if(!Bu(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return $u(r,o,l,!1,d)},zn.version="18.3.1-next-f1338f8080-20240426",zn}var Yg;function Yy(){if(Yg)return Oh.exports;Yg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Oh.exports=iT(),Oh.exports}var Xg;function oT(){if(Xg)return qu;Xg=1;var n=Yy();return qu.createRoot=n.createRoot,qu.hydrateRoot=n.hydrateRoot,qu}var sT=oT(),Ya={},Jg;function aT(){if(Jg)return Ya;Jg=1,Object.defineProperty(Ya,"__esModule",{value:!0}),Ya.parse=c,Ya.serialize=v;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const I=function(){};return I.prototype=Object.create(null),I})();function c(I,C){const b=new a,j=I.length;if(j<2)return b;const F=(C==null?void 0:C.decode)||_;let W=0;do{const te=I.indexOf("=",W);if(te===-1)break;const Z=I.indexOf(";",W),pe=Z===-1?j:Z;if(te>pe){W=I.lastIndexOf(";",te-1)+1;continue}const U=h(I,W,te),ce=p(I,te,U),P=I.slice(U,ce);if(b[P]===void 0){let x=h(I,te+1,pe),S=p(I,pe,x);const A=F(I.slice(x,S));b[P]=A}W=pe+1}while(W<j);return b}function h(I,C,b){do{const j=I.charCodeAt(C);if(j!==32&&j!==9)return C}while(++C<b);return b}function p(I,C,b){for(;C>b;){const j=I.charCodeAt(--C);if(j!==32&&j!==9)return C+1}return b}function v(I,C,b){const j=(b==null?void 0:b.encode)||encodeURIComponent;if(!n.test(I))throw new TypeError(`argument name is invalid: ${I}`);const F=j(C);if(!e.test(F))throw new TypeError(`argument val is invalid: ${C}`);let W=I+"="+F;if(!b)return W;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);W+="; Max-Age="+b.maxAge}if(b.domain){if(!t.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);W+="; Domain="+b.domain}if(b.path){if(!i.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);W+="; Path="+b.path}if(b.expires){if(!T(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);W+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(W+="; HttpOnly"),b.secure&&(W+="; Secure"),b.partitioned&&(W+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":W+="; Priority=Low";break;case"medium":W+="; Priority=Medium";break;case"high":W+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":W+="; SameSite=Strict";break;case"lax":W+="; SameSite=Lax";break;case"none":W+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return W}function _(I){if(I.indexOf("%")===-1)return I;try{return decodeURIComponent(I)}catch{return I}}function T(I){return s.call(I)==="[object Date]"}return Ya}aT();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Zg="popstate";function lT(n={}){function e(s,a){let{pathname:c="/",search:h="",hash:p=""}=Vi(s.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),hl("",{pathname:c,search:h,hash:p},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(s,a){let c=s.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let p=s.location.href,v=p.indexOf("#");h=v===-1?p:p.slice(0,v)}return h+"#"+(typeof a=="string"?a:Io(a))}function i(s,a){Jt(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return cT(e,t,i,n)}function nt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Jt(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uT(){return Math.random().toString(36).substring(2,10)}function ev(n,e){return{usr:n.state,key:n.key,idx:e}}function hl(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Vi(e):e,state:t,key:e&&e.key||i||uT()}}function Io({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Vi(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function cT(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,c=s.history,h="POP",p=null,v=_();v==null&&(v=0,c.replaceState({...c.state,idx:v},""));function _(){return(c.state||{idx:null}).idx}function T(){h="POP";let F=_(),W=F==null?null:F-v;v=F,p&&p({action:h,location:j.location,delta:W})}function I(F,W){h="PUSH";let te=hl(j.location,F,W);t&&t(te,F),v=_()+1;let Z=ev(te,v),pe=j.createHref(te);try{c.pushState(Z,"",pe)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;s.location.assign(pe)}a&&p&&p({action:h,location:j.location,delta:1})}function C(F,W){h="REPLACE";let te=hl(j.location,F,W);t&&t(te,F),v=_();let Z=ev(te,v),pe=j.createHref(te);c.replaceState(Z,"",pe),a&&p&&p({action:h,location:j.location,delta:0})}function b(F){let W=s.location.origin!=="null"?s.location.origin:s.location.href,te=typeof F=="string"?F:Io(F);return te=te.replace(/ $/,"%20"),nt(W,`No window.location.(origin|href) available to create URL for href: ${te}`),new URL(te,W)}let j={get action(){return h},get location(){return n(s,c)},listen(F){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(Zg,T),p=F,()=>{s.removeEventListener(Zg,T),p=null}},createHref(F){return e(s,F)},createURL:b,encodeLocation(F){let W=b(F);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:I,replace:C,go(F){return c.go(F)}};return j}var dT=new Set(["lazy","caseSensitive","path","id","index","children"]);function hT(n){return n.index===!0}function vc(n,e,t=[],i={}){return n.map((s,a)=>{let c=[...t,String(a)],h=typeof s.id=="string"?s.id:c.join("-");if(nt(s.index!==!0||!s.children,"Cannot specify children on an index route"),nt(!i[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),hT(s)){let p={...s,...e(s),id:h};return i[h]=p,p}else{let p={...s,...e(s),id:h,children:void 0};return i[h]=p,s.children&&(p.children=vc(s.children,e,c,i)),p}})}function po(n,e,t="/"){return rc(n,e,t,!1)}function rc(n,e,t,i){let s=typeof e=="string"?Vi(e):e,a=zr(s.pathname||"/",t);if(a==null)return null;let c=Xy(n);pT(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let v=ST(a);h=xT(c[p],v,i)}return h}function fT(n,e){let{route:t,pathname:i,params:s}=n;return{id:t.id,pathname:i,params:s,data:e[t.id],handle:t.handle}}function Xy(n,e=[],t=[],i=""){let s=(a,c,h)=>{let p={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};p.relativePath.startsWith("/")&&(nt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let v=ni([i,p.relativePath]),_=t.concat(p);a.children&&a.children.length>0&&(nt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),Xy(a.children,e,_,v)),!(a.path==null&&!a.index)&&e.push({path:v,score:ET(v,a.index),routesMeta:_})};return n.forEach((a,c)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))s(a,c);else for(let p of Jy(a.path))s(a,c,p)}),e}function Jy(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let c=Jy(i.join("/")),h=[];return h.push(...c.map(p=>p===""?a:[a,p].join("/"))),s&&h.push(...c),h.map(p=>n.startsWith("/")&&p===""?"/":p)}function pT(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:TT(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var mT=/^:[\w-]+$/,gT=3,vT=2,yT=1,_T=10,wT=-2,tv=n=>n==="*";function ET(n,e){let t=n.split("/"),i=t.length;return t.some(tv)&&(i+=wT),e&&(i+=vT),t.filter(s=>!tv(s)).reduce((s,a)=>s+(mT.test(a)?gT:a===""?yT:_T),i)}function TT(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function xT(n,e,t=!1){let{routesMeta:i}=n,s={},a="/",c=[];for(let h=0;h<i.length;++h){let p=i[h],v=h===i.length-1,_=a==="/"?e:e.slice(a.length)||"/",T=yc({path:p.relativePath,caseSensitive:p.caseSensitive,end:v},_),I=p.route;if(!T&&v&&t&&!i[i.length-1].route.index&&(T=yc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!T)return null;Object.assign(s,T.params),c.push({params:s,pathname:ni([a,T.pathname]),pathnameBase:AT(ni([a,T.pathnameBase])),route:I}),T.pathnameBase!=="/"&&(a=ni([a,T.pathnameBase]))}return c}function yc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=IT(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],c=a.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:i.reduce((v,{paramName:_,isOptional:T},I)=>{if(_==="*"){let b=h[I]||"";c=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const C=h[I];return T&&!C?v[_]=void 0:v[_]=(C||"").replace(/%2F/g,"/"),v},{}),pathname:a,pathnameBase:c,pattern:n}}function IT(n,e=!1,t=!0){Jt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(i.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function ST(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jt(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function zr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function RT(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?Vi(n):n;return{pathname:t?t.startsWith("/")?t:kT(t,e):e,search:CT(i),hash:PT(s)}}function kT(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Fh(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Zy(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ff(n){let e=Zy(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Uf(n,e,t,i=!1){let s;typeof n=="string"?s=Vi(n):(s={...n},nt(!s.pathname||!s.pathname.includes("?"),Fh("?","pathname","search",s)),nt(!s.pathname||!s.pathname.includes("#"),Fh("#","pathname","hash",s)),nt(!s.search||!s.search.includes("#"),Fh("#","search","hash",s)));let a=n===""||s.pathname==="",c=a?"/":s.pathname,h;if(c==null)h=t;else{let T=e.length-1;if(!i&&c.startsWith("..")){let I=c.split("/");for(;I[0]==="..";)I.shift(),T-=1;s.pathname=I.join("/")}h=T>=0?e[T]:"/"}let p=RT(s,h),v=c&&c!=="/"&&c.endsWith("/"),_=(a||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(v||_)&&(p.pathname+="/"),p}var ni=n=>n.join("/").replace(/\/\/+/g,"/"),AT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),CT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,PT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,_c=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Bc(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var e_=["POST","PUT","PATCH","DELETE"],bT=new Set(e_),DT=["GET",...e_],NT=new Set(DT),LT=new Set([301,302,303,307,308]),OT=new Set([307,308]),Uh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},MT={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Xa={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},jf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,VT=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),t_="remix-router-transitions",n_=Symbol("ResetLoaderData");function FT(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";nt(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.mapRouteProperties||VT,s={},a=vc(n.routes,i,void 0,s),c,h=n.basename||"/",p=n.dataStrategy||$T,v=n.patchRoutesOnNavigation,_={...n.future},T=null,I=new Set,C=null,b=null,j=null,F=n.hydrationData!=null,W=po(a,n.history.location,h),te=null;if(W==null&&!v){let L=mr(404,{pathname:n.history.location.pathname}),{matches:z,route:G}=hv(a);W=z,te={[G.id]:L}}W&&!n.hydrationData&&Er(W,a,n.history.location.pathname).active&&(W=null);let Z;if(W)if(W.some(L=>L.route.lazy))Z=!1;else if(!W.some(L=>L.route.loader))Z=!0;else{let L=n.hydrationData?n.hydrationData.loaderData:null,z=n.hydrationData?n.hydrationData.errors:null;if(z){let G=W.findIndex(X=>z[X.route.id]!==void 0);Z=W.slice(0,G+1).every(X=>!sf(X.route,L,z))}else Z=W.every(G=>!sf(G.route,L,z))}else{Z=!1,W=[];let L=Er(null,a,n.history.location.pathname);L.active&&L.matches&&(W=L.matches)}let pe,U={historyAction:n.history.action,location:n.history.location,matches:W,initialized:Z,navigation:Uh,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||te,fetchers:new Map,blockers:new Map},ce="POP",P=!1,x,S=!1,A=new Map,D=null,O=!1,k=!1,He=new Set,Me=new Map,kt=0,Ge=-1,oe=new Map,he=new Set,fe=new Map,V=new Map,Y=new Set,_e=new Map,De,Le=null;function Be(){if(T=n.history.listen(({action:L,location:z,delta:G})=>{if(De){De(),De=void 0;return}Jt(_e.size===0||G!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let X=sr({currentLocation:U.location,nextLocation:z,historyAction:L});if(X&&G!=null){let me=new Promise(we=>{De=we});n.history.go(G*-1),bn(X,{state:"blocked",location:z,proceed(){bn(X,{state:"proceeding",proceed:void 0,reset:void 0,location:z}),me.then(()=>n.history.go(G))},reset(){let we=new Map(U.blockers);we.set(X,Xa),je({blockers:we})}});return}return Ut(L,z)}),t){ex(e,A);let L=()=>tx(e,A);e.addEventListener("pagehide",L),D=()=>e.removeEventListener("pagehide",L)}return U.initialized||Ut("POP",U.location,{initialHydration:!0}),pe}function Qe(){T&&T(),D&&D(),I.clear(),x&&x.abort(),U.fetchers.forEach((L,z)=>mt(z)),U.blockers.forEach((L,z)=>or(z))}function Ye(L){return I.add(L),()=>I.delete(L)}function je(L,z={}){U={...U,...L};let G=[],X=[];U.fetchers.forEach((me,we)=>{me.state==="idle"&&(Y.has(we)?G.push(we):X.push(we))}),Y.forEach(me=>{!U.fetchers.has(me)&&!Me.has(me)&&G.push(me)}),[...I].forEach(me=>me(U,{deletedFetchers:G,viewTransitionOpts:z.viewTransitionOpts,flushSync:z.flushSync===!0})),G.forEach(me=>mt(me)),X.forEach(me=>U.fetchers.delete(me))}function ht(L,z,{flushSync:G}={}){var le,Oe;let X=U.actionData!=null&&U.navigation.formMethod!=null&&Vr(U.navigation.formMethod)&&U.navigation.state==="loading"&&((le=L.state)==null?void 0:le._isRedirect)!==!0,me;z.actionData?Object.keys(z.actionData).length>0?me=z.actionData:me=null:X?me=U.actionData:me=null;let we=z.loaderData?cv(U.loaderData,z.loaderData,z.matches||[],z.errors):U.loaderData,Ae=U.blockers;Ae.size>0&&(Ae=new Map(Ae),Ae.forEach((qe,ut)=>Ae.set(ut,Xa)));let ge=P===!0||U.navigation.formMethod!=null&&Vr(U.navigation.formMethod)&&((Oe=L.state)==null?void 0:Oe._isRedirect)!==!0;c&&(a=c,c=void 0),O||ce==="POP"||(ce==="PUSH"?n.history.push(L,L.state):ce==="REPLACE"&&n.history.replace(L,L.state));let Te;if(ce==="POP"){let qe=A.get(U.location.pathname);qe&&qe.has(L.pathname)?Te={currentLocation:U.location,nextLocation:L}:A.has(L.pathname)&&(Te={currentLocation:L,nextLocation:U.location})}else if(S){let qe=A.get(U.location.pathname);qe?qe.add(L.pathname):(qe=new Set([L.pathname]),A.set(U.location.pathname,qe)),Te={currentLocation:U.location,nextLocation:L}}je({...z,actionData:me,loaderData:we,historyAction:ce,location:L,initialized:!0,navigation:Uh,revalidation:"idle",restoreScrollPosition:Wn(L,z.matches||U.matches),preventScrollReset:ge,blockers:Ae},{viewTransitionOpts:Te,flushSync:G===!0}),ce="POP",P=!1,S=!1,O=!1,k=!1,Le==null||Le.resolve(),Le=null}async function Zt(L,z){if(typeof L=="number"){n.history.go(L);return}let G=of(U.location,U.matches,h,L,z==null?void 0:z.fromRouteId,z==null?void 0:z.relative),{path:X,submission:me,error:we}=nv(!1,G,z),Ae=U.location,ge=hl(U.location,X,z&&z.state);ge={...ge,...n.history.encodeLocation(ge)};let Te=z&&z.replace!=null?z.replace:void 0,le="PUSH";Te===!0?le="REPLACE":Te===!1||me!=null&&Vr(me.formMethod)&&me.formAction===U.location.pathname+U.location.search&&(le="REPLACE");let Oe=z&&"preventScrollReset"in z?z.preventScrollReset===!0:void 0,qe=(z&&z.flushSync)===!0,ut=sr({currentLocation:Ae,nextLocation:ge,historyAction:le});if(ut){bn(ut,{state:"blocked",location:ge,proceed(){bn(ut,{state:"proceeding",proceed:void 0,reset:void 0,location:ge}),Zt(L,z)},reset(){let Dt=new Map(U.blockers);Dt.set(ut,Xa),je({blockers:Dt})}});return}await Ut(le,ge,{submission:me,pendingError:we,preventScrollReset:Oe,replace:z&&z.replace,enableViewTransition:z&&z.viewTransition,flushSync:qe})}function En(){Le||(Le=nx()),de(),je({revalidation:"loading"});let L=Le.promise;return U.navigation.state==="submitting"?L:U.navigation.state==="idle"?(Ut(U.historyAction,U.location,{startUninterruptedRevalidation:!0}),L):(Ut(ce||U.historyAction,U.navigation.location,{overrideNavigation:U.navigation,enableViewTransition:S===!0}),L)}async function Ut(L,z,G){x&&x.abort(),x=null,ce=L,O=(G&&G.startUninterruptedRevalidation)===!0,Dn(U.location,U.matches),P=(G&&G.preventScrollReset)===!0,S=(G&&G.enableViewTransition)===!0;let X=c||a,me=G&&G.overrideNavigation,we=po(X,z,h),Ae=(G&&G.flushSync)===!0,ge=Er(we,X,z.pathname);if(ge.active&&ge.matches&&(we=ge.matches),!we){let{error:Ze,notFoundMatches:st,route:ct}=Tn(z.pathname);ht(z,{matches:st,loaderData:{},errors:{[ct.id]:Ze}},{flushSync:Ae});return}if(U.initialized&&!k&&QT(U.location,z)&&!(G&&G.submission&&Vr(G.submission.formMethod))){ht(z,{matches:we},{flushSync:Ae});return}x=new AbortController;let Te=Ks(n.history,z,x.signal,G&&G.submission),le;if(G&&G.pendingError)le=[Xo(we).route.id,{type:"error",error:G.pendingError}];else if(G&&G.submission&&Vr(G.submission.formMethod)){let Ze=await nr(Te,z,G.submission,we,ge.active,{replace:G.replace,flushSync:Ae});if(Ze.shortCircuited)return;if(Ze.pendingActionResult){let[st,ct]=Ze.pendingActionResult;if(Zn(ct)&&Bc(ct.error)&&ct.error.status===404){x=null,ht(z,{matches:Ze.matches,loaderData:{},errors:{[st]:ct.error}});return}}we=Ze.matches||we,le=Ze.pendingActionResult,me=jh(z,G.submission),Ae=!1,ge.active=!1,Te=Ks(n.history,Te.url,Te.signal)}let{shortCircuited:Oe,matches:qe,loaderData:ut,errors:Dt}=await yr(Te,z,we,ge.active,me,G&&G.submission,G&&G.fetcherSubmission,G&&G.replace,G&&G.initialHydration===!0,Ae,le);Oe||(x=null,ht(z,{matches:qe||we,...dv(le),loaderData:ut,errors:Dt}))}async function nr(L,z,G,X,me,we={}){de();let Ae=JT(z,G);if(je({navigation:Ae},{flushSync:we.flushSync===!0}),me){let le=await xn(X,z.pathname,L.signal);if(le.type==="aborted")return{shortCircuited:!0};if(le.type==="error"){let Oe=Xo(le.partialMatches).route.id;return{matches:le.partialMatches,pendingActionResult:[Oe,{type:"error",error:le.error}]}}else if(le.matches)X=le.matches;else{let{notFoundMatches:Oe,error:qe,route:ut}=Tn(z.pathname);return{matches:Oe,pendingActionResult:[ut.id,{type:"error",error:qe}]}}}let ge,Te=el(X,z);if(!Te.route.action&&!Te.route.lazy)ge={type:"error",error:mr(405,{method:L.method,pathname:z.pathname,routeId:Te.route.id})};else if(ge=(await Hn("action",U,L,[Te],X,null))[Te.route.id],L.signal.aborted)return{shortCircuited:!0};if(Zo(ge)){let le;return we&&we.replace!=null?le=we.replace:le=av(ge.response.headers.get("Location"),new URL(L.url),h)===U.location.pathname+U.location.search,await jt(L,ge,!0,{submission:G,replace:le}),{shortCircuited:!0}}if(Zn(ge)){let le=Xo(X,Te.route.id);return(we&&we.replace)!==!0&&(ce="PUSH"),{matches:X,pendingActionResult:[le.route.id,ge]}}return{matches:X,pendingActionResult:[Te.route.id,ge]}}async function yr(L,z,G,X,me,we,Ae,ge,Te,le,Oe){let qe=me||jh(z,we),ut=we||Ae||pv(qe),Dt=!O&&!Te;if(X){if(Dt){let _t=_r(Oe);je({navigation:qe,..._t!==void 0?{actionData:_t}:{}},{flushSync:le})}let rt=await xn(G,z.pathname,L.signal);if(rt.type==="aborted")return{shortCircuited:!0};if(rt.type==="error"){let _t=Xo(rt.partialMatches).route.id;return{matches:rt.partialMatches,loaderData:{},errors:{[_t]:rt.error}}}else if(rt.matches)G=rt.matches;else{let{error:_t,notFoundMatches:tn,route:Sr}=Tn(z.pathname);return{matches:tn,loaderData:{},errors:{[Sr.id]:_t}}}}let Ze=c||a,[st,ct]=iv(n.history,U,G,ut,z,Te===!0,k,He,Y,fe,he,Ze,h,Oe);if(Ge=++kt,st.length===0&&ct.length===0){let rt=Pn();return ht(z,{matches:G,loaderData:{},errors:Oe&&Zn(Oe[1])?{[Oe[0]]:Oe[1].error}:null,...dv(Oe),...rt?{fetchers:new Map(U.fetchers)}:{}},{flushSync:le}),{shortCircuited:!0}}if(Dt){let rt={};if(!X){rt.navigation=qe;let _t=_r(Oe);_t!==void 0&&(rt.actionData=_t)}ct.length>0&&(rt.fetchers=An(ct)),je(rt,{flushSync:le})}ct.forEach(rt=>{xt(rt.key),rt.controller&&Me.set(rt.key,rt.controller)});let Tr=()=>ct.forEach(rt=>xt(rt.key));x&&x.signal.addEventListener("abort",Tr);let{loaderResults:xr,fetcherResults:dn}=await wr(U,G,st,ct,L);if(L.signal.aborted)return{shortCircuited:!0};x&&x.signal.removeEventListener("abort",Tr),ct.forEach(rt=>Me.delete(rt.key));let en=Wu(xr);if(en)return await jt(L,en.result,!0,{replace:ge}),{shortCircuited:!0};if(en=Wu(dn),en)return he.add(en.key),await jt(L,en.result,!0,{replace:ge}),{shortCircuited:!0};let{loaderData:hi,errors:Hr}=uv(U,G,xr,Oe,ct,dn);Te&&U.errors&&(Hr={...U.errors,...Hr});let Ir=Pn(),dt=rr(Ge),fi=Ir||dt||ct.length>0;return{matches:G,loaderData:hi,errors:Hr,...fi?{fetchers:new Map(U.fetchers)}:{}}}function _r(L){if(L&&!Zn(L[1]))return{[L[0]]:L[1].data};if(U.actionData)return Object.keys(U.actionData).length===0?null:U.actionData}function An(L){return L.forEach(z=>{let G=U.fetchers.get(z.key),X=Ja(void 0,G?G.data:void 0);U.fetchers.set(z.key,X)}),new Map(U.fetchers)}async function Br(L,z,G,X){xt(L);let me=(X&&X.flushSync)===!0,we=c||a,Ae=of(U.location,U.matches,h,G,z,X==null?void 0:X.relative),ge=po(we,Ae,h),Te=Er(ge,we,Ae);if(Te.active&&Te.matches&&(ge=Te.matches),!ge){Ne(L,z,mr(404,{pathname:Ae}),{flushSync:me});return}let{path:le,submission:Oe,error:qe}=nv(!0,Ae,X);if(qe){Ne(L,z,qe,{flushSync:me});return}let ut=el(ge,le),Dt=(X&&X.preventScrollReset)===!0;if(Oe&&Vr(Oe.formMethod)){await $n(L,z,le,ut,ge,Te.active,me,Dt,Oe);return}fe.set(L,{routeId:z,path:le}),await cn(L,z,le,ut,ge,Te.active,me,Dt,Oe)}async function $n(L,z,G,X,me,we,Ae,ge,Te){de(),fe.delete(L);function le(wt){if(!wt.route.action&&!wt.route.lazy){let Nn=mr(405,{method:Te.formMethod,pathname:G,routeId:z});return Ne(L,z,Nn,{flushSync:Ae}),!0}return!1}if(!we&&le(X))return;let Oe=U.fetchers.get(L);Ie(L,ZT(Te,Oe),{flushSync:Ae});let qe=new AbortController,ut=Ks(n.history,G,qe.signal,Te);if(we){let wt=await xn(me,G,ut.signal);if(wt.type==="aborted")return;if(wt.type==="error"){Ne(L,z,wt.error,{flushSync:Ae});return}else if(wt.matches){if(me=wt.matches,X=el(me,G),le(X))return}else{Ne(L,z,mr(404,{pathname:G}),{flushSync:Ae});return}}Me.set(L,qe);let Dt=kt,st=(await Hn("action",U,ut,[X],me,L))[X.route.id];if(ut.signal.aborted){Me.get(L)===qe&&Me.delete(L);return}if(Y.has(L)){if(Zo(st)||Zn(st)){Ie(L,fo(void 0));return}}else{if(Zo(st))if(Me.delete(L),Ge>Dt){Ie(L,fo(void 0));return}else return he.add(L),Ie(L,Ja(Te)),jt(ut,st,!1,{fetcherSubmission:Te,preventScrollReset:ge});if(Zn(st)){Ne(L,z,st.error);return}}let ct=U.navigation.location||U.location,Tr=Ks(n.history,ct,qe.signal),xr=c||a,dn=U.navigation.state!=="idle"?po(xr,U.navigation.location,h):U.matches;nt(dn,"Didn't find any matches after fetcher action");let en=++kt;oe.set(L,en);let hi=Ja(Te,st.data);U.fetchers.set(L,hi);let[Hr,Ir]=iv(n.history,U,dn,Te,ct,!1,k,He,Y,fe,he,xr,h,[X.route.id,st]);Ir.filter(wt=>wt.key!==L).forEach(wt=>{let Nn=wt.key,hn=U.fetchers.get(Nn),fs=Ja(void 0,hn?hn.data:void 0);U.fetchers.set(Nn,fs),xt(Nn),wt.controller&&Me.set(Nn,wt.controller)}),je({fetchers:new Map(U.fetchers)});let dt=()=>Ir.forEach(wt=>xt(wt.key));qe.signal.addEventListener("abort",dt);let{loaderResults:fi,fetcherResults:rt}=await wr(U,dn,Hr,Ir,Tr);if(qe.signal.aborted)return;qe.signal.removeEventListener("abort",dt),oe.delete(L),Me.delete(L),Ir.forEach(wt=>Me.delete(wt.key));let _t=Wu(fi);if(_t)return jt(Tr,_t.result,!1,{preventScrollReset:ge});if(_t=Wu(rt),_t)return he.add(_t.key),jt(Tr,_t.result,!1,{preventScrollReset:ge});let{loaderData:tn,errors:Sr}=uv(U,dn,fi,void 0,Ir,rt);if(U.fetchers.has(L)){let wt=fo(st.data);U.fetchers.set(L,wt)}rr(en),U.navigation.state==="loading"&&en>Ge?(nt(ce,"Expected pending action"),x&&x.abort(),ht(U.navigation.location,{matches:dn,loaderData:tn,errors:Sr,fetchers:new Map(U.fetchers)})):(je({errors:Sr,loaderData:cv(U.loaderData,tn,dn,Sr),fetchers:new Map(U.fetchers)}),k=!1)}async function cn(L,z,G,X,me,we,Ae,ge,Te){let le=U.fetchers.get(L);Ie(L,Ja(Te,le?le.data:void 0),{flushSync:Ae});let Oe=new AbortController,qe=Ks(n.history,G,Oe.signal);if(we){let st=await xn(me,G,qe.signal);if(st.type==="aborted")return;if(st.type==="error"){Ne(L,z,st.error,{flushSync:Ae});return}else if(st.matches)me=st.matches,X=el(me,G);else{Ne(L,z,mr(404,{pathname:G}),{flushSync:Ae});return}}Me.set(L,Oe);let ut=kt,Ze=(await Hn("loader",U,qe,[X],me,L))[X.route.id];if(Me.get(L)===Oe&&Me.delete(L),!qe.signal.aborted){if(Y.has(L)){Ie(L,fo(void 0));return}if(Zo(Ze))if(Ge>ut){Ie(L,fo(void 0));return}else{he.add(L),await jt(qe,Ze,!1,{preventScrollReset:ge});return}if(Zn(Ze)){Ne(L,z,Ze.error);return}Ie(L,fo(Ze.data))}}async function jt(L,z,G,{submission:X,fetcherSubmission:me,preventScrollReset:we,replace:Ae}={}){z.response.headers.has("X-Remix-Revalidate")&&(k=!0);let ge=z.response.headers.get("Location");nt(ge,"Expected a Location header on the redirect Response"),ge=av(ge,new URL(L.url),h);let Te=hl(U.location,ge,{_isRedirect:!0});if(t){let Ze=!1;if(z.response.headers.has("X-Remix-Reload-Document"))Ze=!0;else if(jf.test(ge)){const st=n.history.createURL(ge);Ze=st.origin!==e.location.origin||zr(st.pathname,h)==null}if(Ze){Ae?e.location.replace(ge):e.location.assign(ge);return}}x=null;let le=Ae===!0||z.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Oe,formAction:qe,formEncType:ut}=U.navigation;!X&&!me&&Oe&&qe&&ut&&(X=pv(U.navigation));let Dt=X||me;if(OT.has(z.response.status)&&Dt&&Vr(Dt.formMethod))await Ut(le,Te,{submission:{...Dt,formAction:ge},preventScrollReset:we||P,enableViewTransition:G?S:void 0});else{let Ze=jh(Te,X);await Ut(le,Te,{overrideNavigation:Ze,fetcherSubmission:me,preventScrollReset:we||P,enableViewTransition:G?S:void 0})}}async function Hn(L,z,G,X,me,we){let Ae,ge={};try{Ae=await HT(p,L,z,G,X,me,we,s,i)}catch(Te){return X.forEach(le=>{ge[le.route.id]={type:"error",error:Te}}),ge}for(let[Te,le]of Object.entries(Ae))if(YT(le)){let Oe=le.result;ge[Te]={type:"redirect",response:KT(Oe,G,Te,me,h)}}else ge[Te]=await WT(le);return ge}async function wr(L,z,G,X,me){let we=Hn("loader",L,me,G,z,null),Ae=Promise.all(X.map(async le=>{if(le.matches&&le.match&&le.controller){let qe=(await Hn("loader",L,Ks(n.history,le.path,le.controller.signal),[le.match],le.matches,le.key))[le.match.route.id];return{[le.key]:qe}}else return Promise.resolve({[le.key]:{type:"error",error:mr(404,{pathname:le.path})}})})),ge=await we,Te=(await Ae).reduce((le,Oe)=>Object.assign(le,Oe),{});return{loaderResults:ge,fetcherResults:Te}}function de(){k=!0,fe.forEach((L,z)=>{Me.has(z)&&He.add(z),xt(z)})}function Ie(L,z,G={}){U.fetchers.set(L,z),je({fetchers:new Map(U.fetchers)},{flushSync:(G&&G.flushSync)===!0})}function Ne(L,z,G,X={}){let me=Xo(U.matches,z);mt(L),je({errors:{[me.route.id]:G},fetchers:new Map(U.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function We(L){return V.set(L,(V.get(L)||0)+1),Y.has(L)&&Y.delete(L),U.fetchers.get(L)||MT}function mt(L){let z=U.fetchers.get(L);Me.has(L)&&!(z&&z.state==="loading"&&oe.has(L))&&xt(L),fe.delete(L),oe.delete(L),he.delete(L),Y.delete(L),He.delete(L),U.fetchers.delete(L)}function qn(L){let z=(V.get(L)||0)-1;z<=0?(V.delete(L),Y.add(L)):V.set(L,z),je({fetchers:new Map(U.fetchers)})}function xt(L){let z=Me.get(L);z&&(z.abort(),Me.delete(L))}function Cn(L){for(let z of L){let G=We(z),X=fo(G.data);U.fetchers.set(z,X)}}function Pn(){let L=[],z=!1;for(let G of he){let X=U.fetchers.get(G);nt(X,`Expected fetcher: ${G}`),X.state==="loading"&&(he.delete(G),L.push(G),z=!0)}return Cn(L),z}function rr(L){let z=[];for(let[G,X]of oe)if(X<L){let me=U.fetchers.get(G);nt(me,`Expected fetcher: ${G}`),me.state==="loading"&&(xt(G),oe.delete(G),z.push(G))}return Cn(z),z.length>0}function ir(L,z){let G=U.blockers.get(L)||Xa;return _e.get(L)!==z&&_e.set(L,z),G}function or(L){U.blockers.delete(L),_e.delete(L)}function bn(L,z){let G=U.blockers.get(L)||Xa;nt(G.state==="unblocked"&&z.state==="blocked"||G.state==="blocked"&&z.state==="blocked"||G.state==="blocked"&&z.state==="proceeding"||G.state==="blocked"&&z.state==="unblocked"||G.state==="proceeding"&&z.state==="unblocked",`Invalid blocker state transition: ${G.state} -> ${z.state}`);let X=new Map(U.blockers);X.set(L,z),je({blockers:X})}function sr({currentLocation:L,nextLocation:z,historyAction:G}){if(_e.size===0)return;_e.size>1&&Jt(!1,"A router only supports one blocker at a time");let X=Array.from(_e.entries()),[me,we]=X[X.length-1],Ae=U.blockers.get(me);if(!(Ae&&Ae.state==="proceeding")&&we({currentLocation:L,nextLocation:z,historyAction:G}))return me}function Tn(L){let z=mr(404,{pathname:L}),G=c||a,{matches:X,route:me}=hv(G);return{notFoundMatches:X,route:me,error:z}}function $r(L,z,G){if(C=L,j=z,b=G||null,!F&&U.navigation===Uh){F=!0;let X=Wn(U.location,U.matches);X!=null&&je({restoreScrollPosition:X})}return()=>{C=null,j=null,b=null}}function ci(L,z){return b&&b(L,z.map(X=>fT(X,U.loaderData)))||L.key}function Dn(L,z){if(C&&j){let G=ci(L,z);C[G]=j()}}function Wn(L,z){if(C){let G=ci(L,z),X=C[G];if(typeof X=="number")return X}return null}function Er(L,z,G){if(v)if(L){if(Object.keys(L[0].params).length>0)return{active:!0,matches:rc(z,G,h,!0)}}else return{active:!0,matches:rc(z,G,h,!0)||[]};return{active:!1,matches:null}}async function xn(L,z,G){if(!v)return{type:"success",matches:L};let X=L;for(;;){let me=c==null,we=c||a,Ae=s;try{await v({path:z,matches:X,patch:(le,Oe)=>{G.aborted||sv(le,Oe,we,Ae,i)}})}catch(le){return{type:"error",error:le,partialMatches:X}}finally{me&&!G.aborted&&(a=[...a])}if(G.aborted)return{type:"aborted"};let ge=po(we,z,h);if(ge)return{type:"success",matches:ge};let Te=rc(we,z,h,!0);if(!Te||X.length===Te.length&&X.every((le,Oe)=>le.route.id===Te[Oe].route.id))return{type:"success",matches:null};X=Te}}function bo(L){s={},c=vc(L,i,void 0,s)}function di(L,z){let G=c==null;sv(L,z,c||a,s,i),G&&(a=[...a],je({}))}return pe={get basename(){return h},get future(){return _},get state(){return U},get routes(){return a},get window(){return e},initialize:Be,subscribe:Ye,enableScrollRestoration:$r,navigate:Zt,fetch:Br,revalidate:En,createHref:L=>n.history.createHref(L),encodeLocation:L=>n.history.encodeLocation(L),getFetcher:We,deleteFetcher:qn,dispose:Qe,getBlocker:ir,deleteBlocker:or,patchRoutes:di,_internalFetchControllers:Me,_internalSetRoutes:bo},pe}function UT(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function of(n,e,t,i,s,a){let c,h;if(s){c=[];for(let v of e)if(c.push(v),v.route.id===s){h=v;break}}else c=e,h=e[e.length-1];let p=Uf(i||".",Ff(c),zr(n.pathname,t)||n.pathname,a==="path");if(i==null&&(p.search=n.search,p.hash=n.hash),(i==null||i===""||i===".")&&h){let v=zf(p.search);if(h.route.index&&!v)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&v){let _=new URLSearchParams(p.search),T=_.getAll("index");_.delete("index"),T.filter(C=>C).forEach(C=>_.append("index",C));let I=_.toString();p.search=I?`?${I}`:""}}return t!=="/"&&(p.pathname=p.pathname==="/"?t:ni([t,p.pathname])),Io(p)}function nv(n,e,t){if(!t||!UT(t))return{path:e};if(t.formMethod&&!XT(t.formMethod))return{path:e,error:mr(405,{method:t.formMethod})};let i=()=>({path:e,error:mr(400,{type:"invalid-body"})}),a=(t.formMethod||"get").toUpperCase(),c=i_(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Vr(a))return i();let T=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((I,[C,b])=>`${I}${C}=${b}
`,""):String(t.body);return{path:e,submission:{formMethod:a,formAction:c,formEncType:t.formEncType,formData:void 0,json:void 0,text:T}}}else if(t.formEncType==="application/json"){if(!Vr(a))return i();try{let T=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:a,formAction:c,formEncType:t.formEncType,formData:void 0,json:T,text:void 0}}}catch{return i()}}}nt(typeof FormData=="function","FormData is not available in this environment");let h,p;if(t.formData)h=af(t.formData),p=t.formData;else if(t.body instanceof FormData)h=af(t.body),p=t.body;else if(t.body instanceof URLSearchParams)h=t.body,p=lv(h);else if(t.body==null)h=new URLSearchParams,p=new FormData;else try{h=new URLSearchParams(t.body),p=lv(h)}catch{return i()}let v={formMethod:a,formAction:c,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Vr(v.formMethod))return{path:e,submission:v};let _=Vi(e);return n&&_.search&&zf(_.search)&&h.append("index",""),_.search=`?${h}`,{path:Io(_),submission:v}}function rv(n,e,t=!1){let i=n.findIndex(s=>s.route.id===e);return i>=0?n.slice(0,t?i+1:i):n}function iv(n,e,t,i,s,a,c,h,p,v,_,T,I,C){let b=C?Zn(C[1])?C[1].error:C[1].data:void 0,j=n.createURL(e.location),F=n.createURL(s),W=t;a&&e.errors?W=rv(t,Object.keys(e.errors)[0],!0):C&&Zn(C[1])&&(W=rv(t,C[0]));let te=C?C[1].statusCode:void 0,Z=te&&te>=400,pe=W.filter((ce,P)=>{let{route:x}=ce;if(x.lazy)return!0;if(x.loader==null)return!1;if(a)return sf(x,e.loaderData,e.errors);if(jT(e.loaderData,e.matches[P],ce))return!0;let S=e.matches[P],A=ce;return ov(ce,{currentUrl:j,currentParams:S.params,nextUrl:F,nextParams:A.params,...i,actionResult:b,actionStatus:te,defaultShouldRevalidate:Z?!1:c||j.pathname+j.search===F.pathname+F.search||j.search!==F.search||zT(S,A)})}),U=[];return v.forEach((ce,P)=>{if(a||!t.some(O=>O.route.id===ce.routeId)||p.has(P))return;let x=po(T,ce.path,I);if(!x){U.push({key:P,routeId:ce.routeId,path:ce.path,matches:null,match:null,controller:null});return}let S=e.fetchers.get(P),A=el(x,ce.path),D=!1;_.has(P)?D=!1:h.has(P)?(h.delete(P),D=!0):S&&S.state!=="idle"&&S.data===void 0?D=c:D=ov(A,{currentUrl:j,currentParams:e.matches[e.matches.length-1].params,nextUrl:F,nextParams:t[t.length-1].params,...i,actionResult:b,actionStatus:te,defaultShouldRevalidate:Z?!1:c}),D&&U.push({key:P,routeId:ce.routeId,path:ce.path,matches:x,match:A,controller:new AbortController})}),[pe,U]}function sf(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let i=e!=null&&e[n.id]!==void 0,s=t!=null&&t[n.id]!==void 0;return!i&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!s}function jT(n,e,t){let i=!e||t.route.id!==e.route.id,s=!n.hasOwnProperty(t.route.id);return i||s}function zT(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function ov(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function sv(n,e,t,i,s){let a;if(n){let p=i[n];nt(p,`No route found to patch children into: routeId = ${n}`),p.children||(p.children=[]),a=p.children}else a=t;let c=e.filter(p=>!a.some(v=>r_(p,v))),h=vc(c,s,[n||"_","patch",String((a==null?void 0:a.length)||"0")],i);a.push(...h)}function r_(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>{var s;return(s=e.children)==null?void 0:s.some(a=>r_(t,a))}):!1}async function BT(n,e,t){if(!n.lazy)return;let i=await n.lazy();if(!n.lazy)return;let s=t[n.id];nt(s,"No route found in manifest");let a={};for(let c in i){let p=s[c]!==void 0&&c!=="hasErrorBoundary";Jt(!p,`Route "${s.id}" has a static property "${c}" defined but its lazy function is also returning a value for this property. The lazy route property "${c}" will be ignored.`),!p&&!dT.has(c)&&(a[c]=i[c])}Object.assign(s,a),Object.assign(s,{...e(s),lazy:void 0})}async function $T({matches:n}){let e=n.filter(i=>i.shouldLoad);return(await Promise.all(e.map(i=>i.resolve()))).reduce((i,s,a)=>Object.assign(i,{[e[a].route.id]:s}),{})}async function HT(n,e,t,i,s,a,c,h,p,v){let _=a.map(C=>C.route.lazy?BT(C.route,p,h):void 0),T=a.map((C,b)=>{let j=_[b],F=s.some(te=>te.route.id===C.route.id);return{...C,shouldLoad:F,resolve:async te=>(te&&i.method==="GET"&&(C.route.lazy||C.route.loader)&&(F=!0),F?qT(e,i,C,j,te,v):Promise.resolve({type:"data",result:void 0}))}}),I=await n({matches:T,request:i,params:a[0].params,fetcherKey:c,context:v});try{await Promise.all(_)}catch{}return I}async function qT(n,e,t,i,s,a){let c,h,p=v=>{let _,T=new Promise((b,j)=>_=j);h=()=>_(),e.signal.addEventListener("abort",h);let I=b=>typeof v!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${t.route.id}]`)):v({request:e,params:t.params,context:a},...b!==void 0?[b]:[]),C=(async()=>{try{return{type:"data",result:await(s?s(j=>I(j)):I())}}catch(b){return{type:"error",result:b}}})();return Promise.race([C,T])};try{let v=t.route[n];if(i)if(v){let _,[T]=await Promise.all([p(v).catch(I=>{_=I}),i]);if(_!==void 0)throw _;c=T}else if(await i,v=t.route[n],v)c=await p(v);else if(n==="action"){let _=new URL(e.url),T=_.pathname+_.search;throw mr(405,{method:e.method,pathname:T,routeId:t.route.id})}else return{type:"data",result:void 0};else if(v)c=await p(v);else{let _=new URL(e.url),T=_.pathname+_.search;throw mr(404,{pathname:T})}}catch(v){return{type:"error",result:v}}finally{h&&e.signal.removeEventListener("abort",h)}return c}async function WT(n){var i,s,a,c;let{result:e,type:t}=n;if(o_(e)){let h;try{let p=e.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?e.body==null?h=null:h=await e.json():h=await e.text()}catch(p){return{type:"error",error:p}}return t==="error"?{type:"error",error:new _c(e.status,e.statusText,h),statusCode:e.status,headers:e.headers}:{type:"data",data:h,statusCode:e.status,headers:e.headers}}if(t==="error"){if(fv(e)){if(e.data instanceof Error)return{type:"error",error:e.data,statusCode:(i=e.init)==null?void 0:i.status};e=new _c(((s=e.init)==null?void 0:s.status)||500,void 0,e.data)}return{type:"error",error:e,statusCode:Bc(e)?e.status:void 0}}return fv(e)?{type:"data",data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function KT(n,e,t,i,s){let a=n.headers.get("Location");if(nt(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!jf.test(a)){let c=i.slice(0,i.findIndex(h=>h.route.id===t)+1);a=of(new URL(e.url),c,s,a),n.headers.set("Location",a)}return n}function av(n,e,t){if(jf.test(n)){let i=n,s=i.startsWith("//")?new URL(e.protocol+i):new URL(i),a=zr(s.pathname,t)!=null;if(s.origin===e.origin&&a)return s.pathname+s.search+s.hash}return n}function Ks(n,e,t,i){let s=n.createURL(i_(e)).toString(),a={signal:t};if(i&&Vr(i.formMethod)){let{formMethod:c,formEncType:h}=i;a.method=c.toUpperCase(),h==="application/json"?(a.headers=new Headers({"Content-Type":h}),a.body=JSON.stringify(i.json)):h==="text/plain"?a.body=i.text:h==="application/x-www-form-urlencoded"&&i.formData?a.body=af(i.formData):a.body=i.formData}return new Request(s,a)}function af(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function lv(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function GT(n,e,t,i=!1,s=!1){let a={},c=null,h,p=!1,v={},_=t&&Zn(t[1])?t[1].error:void 0;return n.forEach(T=>{if(!(T.route.id in e))return;let I=T.route.id,C=e[I];if(nt(!Zo(C),"Cannot handle redirect results in processLoaderData"),Zn(C)){let b=C.error;if(_!==void 0&&(b=_,_=void 0),c=c||{},s)c[I]=b;else{let j=Xo(n,I);c[j.route.id]==null&&(c[j.route.id]=b)}i||(a[I]=n_),p||(p=!0,h=Bc(C.error)?C.error.status:500),C.headers&&(v[I]=C.headers)}else a[I]=C.data,C.statusCode&&C.statusCode!==200&&!p&&(h=C.statusCode),C.headers&&(v[I]=C.headers)}),_!==void 0&&t&&(c={[t[0]]:_},a[t[0]]=void 0),{loaderData:a,errors:c,statusCode:h||200,loaderHeaders:v}}function uv(n,e,t,i,s,a){let{loaderData:c,errors:h}=GT(e,t,i);return s.forEach(p=>{let{key:v,match:_,controller:T}=p,I=a[v];if(nt(I,"Did not find corresponding fetcher result"),!(T&&T.signal.aborted))if(Zn(I)){let C=Xo(n.matches,_==null?void 0:_.route.id);h&&h[C.route.id]||(h={...h,[C.route.id]:I.error}),n.fetchers.delete(v)}else if(Zo(I))nt(!1,"Unhandled fetcher revalidation redirect");else{let C=fo(I.data);n.fetchers.set(v,C)}}),{loaderData:c,errors:h}}function cv(n,e,t,i){let s=Object.entries(e).filter(([,a])=>a!==n_).reduce((a,[c,h])=>(a[c]=h,a),{});for(let a of t){let c=a.route.id;if(!e.hasOwnProperty(c)&&n.hasOwnProperty(c)&&a.route.loader&&(s[c]=n[c]),i&&i.hasOwnProperty(c))break}return s}function dv(n){return n?Zn(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Xo(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function hv(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function mr(n,{pathname:e,routeId:t,method:i,type:s,message:a}={}){let c="Unknown Server Error",h="Unknown @remix-run/router error";return n===400?(c="Bad Request",i&&e&&t?h=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:s==="invalid-body"&&(h="Unable to encode submission body")):n===403?(c="Forbidden",h=`Route "${t}" does not match URL "${e}"`):n===404?(c="Not Found",h=`No route matches URL "${e}"`):n===405&&(c="Method Not Allowed",i&&e&&t?h=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:i&&(h=`Invalid request method "${i.toUpperCase()}"`)),new _c(n||500,c,new Error(h),!0)}function Wu(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,s]=e[t];if(Zo(s))return{key:i,result:s}}}function i_(n){let e=typeof n=="string"?Vi(n):n;return Io({...e,hash:""})}function QT(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function YT(n){return o_(n.result)&&LT.has(n.result.status)}function Zn(n){return n.type==="error"}function Zo(n){return(n&&n.type)==="redirect"}function fv(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function o_(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function XT(n){return NT.has(n.toUpperCase())}function Vr(n){return bT.has(n.toUpperCase())}function zf(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function el(n,e){let t=typeof e=="string"?Vi(e).search:e.search;if(n[n.length-1].route.index&&zf(t||""))return n[n.length-1];let i=Zy(n);return i[i.length-1]}function pv(n){let{formMethod:e,formAction:t,formEncType:i,text:s,formData:a,json:c}=n;if(!(!e||!t||!i)){if(s!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:s};if(a!=null)return{formMethod:e,formAction:t,formEncType:i,formData:a,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:c,text:void 0}}}function jh(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function JT(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Ja(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function ZT(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function fo(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function ex(n,e){try{let t=n.sessionStorage.getItem(t_);if(t){let i=JSON.parse(t);for(let[s,a]of Object.entries(i||{}))a&&Array.isArray(a)&&e.set(s,new Set(a||[]))}}catch{}}function tx(n,e){if(e.size>0){let t={};for(let[i,s]of e)t[i]=[...s];try{n.sessionStorage.setItem(t_,JSON.stringify(t))}catch(i){Jt(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function nx(){let n,e,t=new Promise((i,s)=>{n=async a=>{i(a);try{await t}catch{}},e=async a=>{s(a);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var ss=B.createContext(null);ss.displayName="DataRouter";var Tl=B.createContext(null);Tl.displayName="DataRouterState";var Bf=B.createContext({isTransitioning:!1});Bf.displayName="ViewTransition";var s_=B.createContext(new Map);s_.displayName="Fetchers";var rx=B.createContext(null);rx.displayName="Await";var ui=B.createContext(null);ui.displayName="Navigation";var $c=B.createContext(null);$c.displayName="Location";var Fi=B.createContext({outlet:null,matches:[],isDataRoute:!1});Fi.displayName="Route";var $f=B.createContext(null);$f.displayName="RouteError";function ix(n,{relative:e}={}){nt(xl(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=B.useContext(ui),{hash:s,pathname:a,search:c}=Sl(n,{relative:e}),h=a;return t!=="/"&&(h=a==="/"?t:ni([t,a])),i.createHref({pathname:h,search:c,hash:s})}function xl(){return B.useContext($c)!=null}function as(){return nt(xl(),"useLocation() may be used only in the context of a <Router> component."),B.useContext($c).location}var a_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function l_(n){B.useContext(ui).static||B.useLayoutEffect(n)}function Il(){let{isDataRoute:n}=B.useContext(Fi);return n?vx():ox()}function ox(){nt(xl(),"useNavigate() may be used only in the context of a <Router> component.");let n=B.useContext(ss),{basename:e,navigator:t}=B.useContext(ui),{matches:i}=B.useContext(Fi),{pathname:s}=as(),a=JSON.stringify(Ff(i)),c=B.useRef(!1);return l_(()=>{c.current=!0}),B.useCallback((p,v={})=>{if(Jt(c.current,a_),!c.current)return;if(typeof p=="number"){t.go(p);return}let _=Uf(p,JSON.parse(a),s,v.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ni([e,_.pathname])),(v.replace?t.replace:t.push)(_,v.state,v)},[e,t,a,s,n])}B.createContext(null);function Sl(n,{relative:e}={}){let{matches:t}=B.useContext(Fi),{pathname:i}=as(),s=JSON.stringify(Ff(t));return B.useMemo(()=>Uf(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function sx(n,e,t,i){nt(xl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=B.useContext(ui),{matches:a}=B.useContext(Fi),c=a[a.length-1],h=c?c.params:{},p=c?c.pathname:"/",v=c?c.pathnameBase:"/",_=c&&c.route;{let W=_&&_.path||"";u_(p,!_||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let T=as(),I;I=T;let C=I.pathname||"/",b=C;if(v!=="/"){let W=v.replace(/^\//,"").split("/");b="/"+C.replace(/^\//,"").split("/").slice(W.length).join("/")}let j=po(n,{pathname:b});return Jt(_||j!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Jt(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),dx(j&&j.map(W=>Object.assign({},W,{params:Object.assign({},h,W.params),pathname:ni([v,s.encodeLocation?s.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?v:ni([v,s.encodeLocation?s.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),a,t,i)}function ax(){let n=gx(),e=Bc(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:a},"ErrorBoundary")," or"," ",B.createElement("code",{style:a},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:s},t):null,c)}var lx=B.createElement(ax,null),ux=class extends B.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?B.createElement(Fi.Provider,{value:this.props.routeContext},B.createElement($f.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function cx({routeContext:n,match:e,children:t}){let i=B.useContext(ss);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Fi.Provider,{value:n},t)}function dx(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let p=s.findIndex(v=>v.route.id&&(a==null?void 0:a[v.route.id])!==void 0);nt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let c=!1,h=-1;if(t)for(let p=0;p<s.length;p++){let v=s[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(h=p),v.route.id){let{loaderData:_,errors:T}=t,I=v.route.loader&&!_.hasOwnProperty(v.route.id)&&(!T||T[v.route.id]===void 0);if(v.route.lazy||I){c=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((p,v,_)=>{let T,I=!1,C=null,b=null;t&&(T=a&&v.route.id?a[v.route.id]:void 0,C=v.route.errorElement||lx,c&&(h<0&&_===0?(u_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,b=null):h===_&&(I=!0,b=v.route.hydrateFallbackElement||null)));let j=e.concat(s.slice(0,_+1)),F=()=>{let W;return T?W=C:I?W=b:v.route.Component?W=B.createElement(v.route.Component,null):v.route.element?W=v.route.element:W=p,B.createElement(cx,{match:v,routeContext:{outlet:p,matches:j,isDataRoute:t!=null},children:W})};return t&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?B.createElement(ux,{location:t.location,revalidation:t.revalidation,component:C,error:T,children:F(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):F()},null)}function Hf(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hx(n){let e=B.useContext(ss);return nt(e,Hf(n)),e}function fx(n){let e=B.useContext(Tl);return nt(e,Hf(n)),e}function px(n){let e=B.useContext(Fi);return nt(e,Hf(n)),e}function qf(n){let e=px(n),t=e.matches[e.matches.length-1];return nt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function mx(){return qf("useRouteId")}function gx(){var i;let n=B.useContext($f),e=fx("useRouteError"),t=qf("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function vx(){let{router:n}=hx("useNavigate"),e=qf("useNavigate"),t=B.useRef(!1);return l_(()=>{t.current=!0}),B.useCallback(async(s,a={})=>{Jt(t.current,a_),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...a}))},[n,e])}var mv={};function u_(n,e,t){!e&&!mv[n]&&(mv[n]=!0,Jt(!1,t))}var gv={};function vv(n,e){!n&&!gv[e]&&(gv[e]=!0,console.warn(e))}function yx(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&Jt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:B.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&Jt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:B.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&Jt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:B.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var _x=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}};function wx({router:n,flushSync:e}){let[t,i]=B.useState(n.state),[s,a]=B.useState(),[c,h]=B.useState({isTransitioning:!1}),[p,v]=B.useState(),[_,T]=B.useState(),[I,C]=B.useState(),b=B.useRef(new Map),j=B.useCallback((Z,{deletedFetchers:pe,flushSync:U,viewTransitionOpts:ce})=>{Z.fetchers.forEach((x,S)=>{x.data!==void 0&&b.current.set(S,x.data)}),pe.forEach(x=>b.current.delete(x)),vv(U===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let P=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(vv(ce==null||P,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!ce||!P){e&&U?e(()=>i(Z)):B.startTransition(()=>i(Z));return}if(e&&U){e(()=>{_&&(p&&p.resolve(),_.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation})});let x=n.window.document.startViewTransition(()=>{e(()=>i(Z))});x.finished.finally(()=>{e(()=>{v(void 0),T(void 0),a(void 0),h({isTransitioning:!1})})}),e(()=>T(x));return}_?(p&&p.resolve(),_.skipTransition(),C({state:Z,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation})):(a(Z),h({isTransitioning:!0,flushSync:!1,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation}))},[n.window,e,_,p]);B.useLayoutEffect(()=>n.subscribe(j),[n,j]),B.useEffect(()=>{c.isTransitioning&&!c.flushSync&&v(new _x)},[c]),B.useEffect(()=>{if(p&&s&&n.window){let Z=s,pe=p.promise,U=n.window.document.startViewTransition(async()=>{B.startTransition(()=>i(Z)),await pe});U.finished.finally(()=>{v(void 0),T(void 0),a(void 0),h({isTransitioning:!1})}),T(U)}},[s,p,n.window]),B.useEffect(()=>{p&&s&&t.location.key===s.location.key&&p.resolve()},[p,_,t.location,s]),B.useEffect(()=>{!c.isTransitioning&&I&&(a(I.state),h({isTransitioning:!0,flushSync:!1,currentLocation:I.currentLocation,nextLocation:I.nextLocation}),C(void 0))},[c.isTransitioning,I]);let F=B.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:Z=>n.navigate(Z),push:(Z,pe,U)=>n.navigate(Z,{state:pe,preventScrollReset:U==null?void 0:U.preventScrollReset}),replace:(Z,pe,U)=>n.navigate(Z,{replace:!0,state:pe,preventScrollReset:U==null?void 0:U.preventScrollReset})}),[n]),W=n.basename||"/",te=B.useMemo(()=>({router:n,navigator:F,static:!1,basename:W}),[n,F,W]);return B.createElement(B.Fragment,null,B.createElement(ss.Provider,{value:te},B.createElement(Tl.Provider,{value:t},B.createElement(s_.Provider,{value:b.current},B.createElement(Bf.Provider,{value:c},B.createElement(xx,{basename:W,location:t.location,navigationType:t.historyAction,navigator:F},B.createElement(Ex,{routes:n.routes,future:n.future,state:t})))))),null)}var Ex=B.memo(Tx);function Tx({routes:n,future:e,state:t}){return sx(n,void 0,t,e)}function xx({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:a=!1}){nt(!xl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=B.useMemo(()=>({basename:c,navigator:s,static:a,future:{}}),[c,s,a]);typeof t=="string"&&(t=Vi(t));let{pathname:p="/",search:v="",hash:_="",state:T=null,key:I="default"}=t,C=B.useMemo(()=>{let b=zr(p,c);return b==null?null:{location:{pathname:b,search:v,hash:_,state:T,key:I},navigationType:i}},[c,p,v,_,T,I,i]);return Jt(C!=null,`<Router basename="${c}"> is not able to match the URL "${p}${v}${_}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:B.createElement(ui.Provider,{value:h},B.createElement($c.Provider,{children:e,value:C}))}var ic="get",oc="application/x-www-form-urlencoded";function Hc(n){return n!=null&&typeof n.tagName=="string"}function Ix(n){return Hc(n)&&n.tagName.toLowerCase()==="button"}function Sx(n){return Hc(n)&&n.tagName.toLowerCase()==="form"}function Rx(n){return Hc(n)&&n.tagName.toLowerCase()==="input"}function kx(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Ax(n,e){return n.button===0&&(!e||e==="_self")&&!kx(n)}var Ku=null;function Cx(){if(Ku===null)try{new FormData(document.createElement("form"),0),Ku=!1}catch{Ku=!0}return Ku}var Px=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function zh(n){return n!=null&&!Px.has(n)?(Jt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oc}"`),null):n}function bx(n,e){let t,i,s,a,c;if(Sx(n)){let h=n.getAttribute("action");i=h?zr(h,e):null,t=n.getAttribute("method")||ic,s=zh(n.getAttribute("enctype"))||oc,a=new FormData(n)}else if(Ix(n)||Rx(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||h.getAttribute("action");if(i=p?zr(p,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||ic,s=zh(n.getAttribute("formenctype"))||zh(h.getAttribute("enctype"))||oc,a=new FormData(h,n),!Cx()){let{name:v,type:_,value:T}=n;if(_==="image"){let I=v?`${v}.`:"";a.append(`${I}x`,"0"),a.append(`${I}y`,"0")}else v&&a.append(v,T)}}else{if(Hc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ic,i=null,s=oc,c=n}return a&&s==="text/plain"&&(c=a,a=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:a,body:c}}function Wf(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function Dx(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Nx(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Lx(n,e,t){let i=await Promise.all(n.map(async s=>{let a=e.routes[s.route.id];if(a){let c=await Dx(a,t);return c.links?c.links():[]}return[]}));return Fx(i.flat(1).filter(Nx).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function yv(n,e,t,i,s,a){let c=(p,v)=>t[v]?p.route.id!==t[v].route.id:!0,h=(p,v)=>{var _;return t[v].pathname!==p.pathname||((_=t[v].route.path)==null?void 0:_.endsWith("*"))&&t[v].params["*"]!==p.params["*"]};return a==="assets"?e.filter((p,v)=>c(p,v)||h(p,v)):a==="data"?e.filter((p,v)=>{var T;let _=i.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,v)||h(p,v))return!0;if(p.route.shouldRevalidate){let I=p.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function Ox(n,e){return Mx(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let s=[i.module];return i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function Mx(n){return[...new Set(n)]}function Vx(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function Fx(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let a=JSON.stringify(Vx(s));return t.has(a)||(t.add(a),i.push({key:a,link:s})),i},[])}function Ux(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function jx(){let n=B.useContext(ss);return Wf(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function zx(){let n=B.useContext(Tl);return Wf(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Kf=B.createContext(void 0);Kf.displayName="FrameworkContext";function c_(){let n=B.useContext(Kf);return Wf(n,"You must render this element inside a <HydratedRouter> element"),n}function Bx(n,e){let t=B.useContext(Kf),[i,s]=B.useState(!1),[a,c]=B.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:v,onMouseLeave:_,onTouchStart:T}=e,I=B.useRef(null);B.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let j=W=>{W.forEach(te=>{c(te.isIntersecting)})},F=new IntersectionObserver(j,{threshold:.5});return I.current&&F.observe(I.current),()=>{F.disconnect()}}},[n]),B.useEffect(()=>{if(i){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[i]);let C=()=>{s(!0)},b=()=>{s(!1),c(!1)};return t?n!=="intent"?[a,I,{}]:[a,I,{onFocus:Za(h,C),onBlur:Za(p,b),onMouseEnter:Za(v,C),onMouseLeave:Za(_,b),onTouchStart:Za(T,C)}]:[!1,I,{}]}function Za(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function $x({page:n,...e}){let{router:t}=jx(),i=B.useMemo(()=>po(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?B.createElement(qx,{page:n,matches:i,...e}):null}function Hx(n){let{manifest:e,routeModules:t}=c_(),[i,s]=B.useState([]);return B.useEffect(()=>{let a=!1;return Lx(n,e,t).then(c=>{a||s(c)}),()=>{a=!0}},[n,e,t]),i}function qx({page:n,matches:e,...t}){let i=as(),{manifest:s,routeModules:a}=c_(),{loaderData:c,matches:h}=zx(),p=B.useMemo(()=>yv(n,e,h,s,i,"data"),[n,e,h,s,i]),v=B.useMemo(()=>yv(n,e,h,s,i,"assets"),[n,e,h,s,i]),_=B.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let C=new Set,b=!1;if(e.forEach(F=>{var te;let W=s.routes[F.route.id];!W||!W.hasLoader||(!p.some(Z=>Z.route.id===F.route.id)&&F.route.id in c&&((te=a[F.route.id])!=null&&te.shouldRevalidate)||W.hasClientLoader?b=!0:C.add(F.route.id))}),C.size===0)return[];let j=Ux(n);return b&&C.size>0&&j.searchParams.set("_routes",e.filter(F=>C.has(F.route.id)).map(F=>F.route.id).join(",")),[j.pathname+j.search]},[c,i,s,p,e,n,a]),T=B.useMemo(()=>Ox(v,s),[v,s]),I=Hx(v);return B.createElement(B.Fragment,null,_.map(C=>B.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),T.map(C=>B.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),I.map(({key:C,link:b})=>B.createElement("link",{key:C,...b})))}function Wx(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var d_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{d_&&(window.__reactRouterVersion="7.1.3")}catch{}function Kx(n,e){return FT({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:lT({window:e==null?void 0:e.window}),hydrationData:Gx(),routes:n,mapRouteProperties:yx,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function Gx(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:Qx(n.errors)}),n}function Qx(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,s]of e)if(s&&s.__type==="RouteErrorResponse")t[i]=new _c(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let a=window[s.__subType];if(typeof a=="function")try{let c=new a(s.message);c.stack="",t[i]=c}catch{}}if(t[i]==null){let a=new Error(s.message);a.stack="",t[i]=a}}else t[i]=s;return t}var h_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,f_=B.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:a,replace:c,state:h,target:p,to:v,preventScrollReset:_,viewTransition:T,...I},C){let{basename:b}=B.useContext(ui),j=typeof v=="string"&&h_.test(v),F,W=!1;if(typeof v=="string"&&j&&(F=v,d_))try{let S=new URL(window.location.href),A=v.startsWith("//")?new URL(S.protocol+v):new URL(v),D=zr(A.pathname,b);A.origin===S.origin&&D!=null?v=D+A.search+A.hash:W=!0}catch{Jt(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=ix(v,{relative:s}),[Z,pe,U]=Bx(i,I),ce=Zx(v,{replace:c,state:h,target:p,preventScrollReset:_,relative:s,viewTransition:T});function P(S){e&&e(S),S.defaultPrevented||ce(S)}let x=B.createElement("a",{...I,...U,href:F||te,onClick:W||a?e:P,ref:Wx(C,pe),target:p,"data-discover":!j&&t==="render"?"true":void 0});return Z&&!j?B.createElement(B.Fragment,null,x,B.createElement($x,{page:te})):x});f_.displayName="Link";var Yx=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:a,to:c,viewTransition:h,children:p,...v},_){let T=Sl(c,{relative:v.relative}),I=as(),C=B.useContext(Tl),{navigator:b,basename:j}=B.useContext(ui),F=C!=null&&iI(T)&&h===!0,W=b.encodeLocation?b.encodeLocation(T).pathname:T.pathname,te=I.pathname,Z=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(te=te.toLowerCase(),Z=Z?Z.toLowerCase():null,W=W.toLowerCase()),Z&&j&&(Z=zr(Z,j)||Z);const pe=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let U=te===W||!s&&te.startsWith(W)&&te.charAt(pe)==="/",ce=Z!=null&&(Z===W||!s&&Z.startsWith(W)&&Z.charAt(W.length)==="/"),P={isActive:U,isPending:ce,isTransitioning:F},x=U?e:void 0,S;typeof i=="function"?S=i(P):S=[i,U?"active":null,ce?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let A=typeof a=="function"?a(P):a;return B.createElement(f_,{...v,"aria-current":x,className:S,ref:_,style:A,to:c,viewTransition:h},typeof p=="function"?p(P):p)});Yx.displayName="NavLink";var Xx=B.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:a,method:c=ic,action:h,onSubmit:p,relative:v,preventScrollReset:_,viewTransition:T,...I},C)=>{let b=nI(),j=rI(h,{relative:v}),F=c.toLowerCase()==="get"?"get":"post",W=typeof h=="string"&&h_.test(h),te=Z=>{if(p&&p(Z),Z.defaultPrevented)return;Z.preventDefault();let pe=Z.nativeEvent.submitter,U=(pe==null?void 0:pe.getAttribute("formmethod"))||c;b(pe||Z.currentTarget,{fetcherKey:e,method:U,navigate:t,replace:s,state:a,relative:v,preventScrollReset:_,viewTransition:T})};return B.createElement("form",{ref:C,method:F,action:j,onSubmit:i?p:te,...I,"data-discover":!W&&n==="render"?"true":void 0})});Xx.displayName="Form";function Jx(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function p_(n){let e=B.useContext(ss);return nt(e,Jx(n)),e}function Zx(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:a,viewTransition:c}={}){let h=Il(),p=as(),v=Sl(n,{relative:a});return B.useCallback(_=>{if(Ax(_,e)){_.preventDefault();let T=t!==void 0?t:Io(p)===Io(v);h(n,{replace:T,state:i,preventScrollReset:s,relative:a,viewTransition:c})}},[p,h,v,t,i,e,n,s,a,c])}var eI=0,tI=()=>`__${String(++eI)}__`;function nI(){let{router:n}=p_("useSubmit"),{basename:e}=B.useContext(ui),t=mx();return B.useCallback(async(i,s={})=>{let{action:a,method:c,encType:h,formData:p,body:v}=bx(i,e);if(s.navigate===!1){let _=s.fetcherKey||tI();await n.fetch(_,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:p,body:v,formMethod:s.method||c,formEncType:s.encType||h,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:p,body:v,formMethod:s.method||c,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function rI(n,{relative:e}={}){let{basename:t}=B.useContext(ui),i=B.useContext(Fi);nt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...Sl(n||".",{relative:e})},c=as();if(n==null){a.search=c.search;let h=new URLSearchParams(a.search),p=h.getAll("index");if(p.some(_=>_==="")){h.delete("index"),p.filter(T=>T).forEach(T=>h.append("index",T));let _=h.toString();a.search=_?`?${_}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:ni([t,a.pathname])),Io(a)}function iI(n,e={}){let t=B.useContext(Bf);nt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=p_("useViewTransitionState"),s=Sl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=zr(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=zr(t.nextLocation.pathname,i)||t.nextLocation.pathname;return yc(s.pathname,c)!=null||yc(s.pathname,a)!=null}new TextEncoder;var oI=Yy();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sI(n){return B.createElement(wx,{flushSync:oI.flushSync,...n})}const lf=({type:n,placeholder:e,icon:t,value:i,onChange:s,id:a})=>ae.jsxs("div",{className:"input-form",children:[ae.jsx("span",{children:ae.jsx("i",{className:t})}),ae.jsx("input",{type:n,placeholder:e,value:i,onChange:s,id:a,required:!0,autoComplete:"off",minLength:n==="password"?6:void 0})]}),_v=({onSubmit:n,error:e,email:t,setEmail:i,password:s,setPassword:a})=>{const c=()=>{!t||!s?setError("Please fill in all fields"):n()};return ae.jsxs("div",{className:"form",children:[ae.jsxs("form",{children:[ae.jsx(lf,{type:"text",placeholder:"Email",value:t,onChange:h=>i(h.target.value),icon:"fas fa-envelope"}),ae.jsx(lf,{type:"password",placeholder:"Password",value:s,onChange:h=>a(h.target.value),icon:"fa-solid fa-lock"})]}),e&&ae.jsx("div",{className:"error",children:e}),ae.jsx("div",{id:"goBtn",onClick:c,children:"Go"})]})},aI=(n,e)=>{localStorage.setItem("userName",n),localStorage.setItem("userID",e)};var wv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},lI=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[i++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],c=n[t++],h=n[t++],p=((s&7)<<18|(a&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const a=n[t++],c=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(a&63)<<6|c&63)}}return e.join("")},g_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const a=n[s],c=s+1<n.length,h=c?n[s+1]:0,p=s+2<n.length,v=p?n[s+2]:0,_=a>>2,T=(a&3)<<4|h>>4;let I=(h&15)<<2|v>>6,C=v&63;p||(C=64,c||(I=64)),i.push(t[_],t[T],t[I],t[C])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(m_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):lI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;const v=s<n.length?t[n.charAt(s)]:64;++s;const T=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||h==null||v==null||T==null)throw new uI;const I=a<<2|h>>4;if(i.push(I),v!==64){const C=h<<4&240|v>>2;if(i.push(C),T!==64){const b=v<<6&192|T;i.push(b)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class uI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cI=function(n){const e=m_(n);return g_.encodeByteArray(e,!0)},wc=function(n){return cI(n).replace(/\./g,"")},v_=function(n){try{return g_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI=()=>dI().__FIREBASE_DEFAULTS__,fI=()=>{if(typeof process>"u"||typeof wv>"u")return;const n=wv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},pI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&v_(n[1]);return e&&JSON.parse(e)},qc=()=>{try{return hI()||fI()||pI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},y_=n=>{var e,t;return(t=(e=qc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},mI=n=>{const e=y_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},__=()=>{var n;return(n=qc())===null||n===void 0?void 0:n.config},w_=n=>{var e;return(e=qc())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[wc(JSON.stringify(t)),wc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function _I(){var n;const e=(n=qc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function EI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function TI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xI(){const n=wn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function II(){return!_I()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SI(){try{return typeof indexedDB=="object"}catch{return!1}}function RI(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="FirebaseError";class Ui extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=kI,Object.setPrototypeOf(this,Ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rl.prototype.create)}}class Rl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],c=a?AI(a,i):"Error",h=`${this.serviceName}: ${c} (${s}).`;return new Ui(s,h,i)}}function AI(n,e){return n.replace(CI,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const CI=/\{\$([^}]+)}/g;function PI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ec(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const a=n[s],c=e[s];if(Ev(a)&&Ev(c)){if(!Ec(a,c))return!1}else if(a!==c)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function Ev(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function tl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,a]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function nl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function bI(n,e){const t=new DI(n,e);return t.subscribe.bind(t)}class DI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");NI(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=Bh),s.error===void 0&&(s.error=Bh),s.complete===void 0&&(s.complete=Bh);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function NI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Bh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(n){return n&&n._delegate?n._delegate:n}class ns{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new gI;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MI(e))try{this.getOrInitializeService({instanceIdentifier:Yo})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});i.resolve(a)}catch{}}}}clearInstance(e=Yo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yo){return this.instances.has(e)}getOptions(e=Yo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);i===h&&c.resolve(s)}return s}onInit(e,t){var i;const s=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(s,a);const c=this.instances.get(s);return c&&e(c,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:OI(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Yo){return this.component?this.component.multipleInstances?e:Yo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OI(n){return n===Yo?void 0:n}function MI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new LI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Xe||(Xe={}));const FI={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},UI=Xe.INFO,jI={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},zI=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=jI[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gf{constructor(e){this.name=e,this._logLevel=UI,this._logHandler=zI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?FI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const BI=(n,e)=>e.some(t=>n instanceof t);let Tv,xv;function $I(){return Tv||(Tv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HI(){return xv||(xv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const E_=new WeakMap,uf=new WeakMap,T_=new WeakMap,$h=new WeakMap,Qf=new WeakMap;function qI(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(_o(n.result)),s()},c=()=>{i(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&E_.set(t,n)}).catch(()=>{}),Qf.set(e,n),e}function WI(n){if(uf.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),s()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});uf.set(n,e)}let cf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return uf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||T_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return _o(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function KI(n){cf=n(cf)}function GI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Hh(this),e,...t);return T_.set(i,e.sort?e.sort():[e]),_o(i)}:HI().includes(n)?function(...e){return n.apply(Hh(this),e),_o(E_.get(this))}:function(...e){return _o(n.apply(Hh(this),e))}}function QI(n){return typeof n=="function"?GI(n):(n instanceof IDBTransaction&&WI(n),BI(n,$I())?new Proxy(n,cf):n)}function _o(n){if(n instanceof IDBRequest)return qI(n);if($h.has(n))return $h.get(n);const e=QI(n);return e!==n&&($h.set(n,e),Qf.set(e,n)),e}const Hh=n=>Qf.get(n);function YI(n,e,{blocked:t,upgrade:i,blocking:s,terminated:a}={}){const c=indexedDB.open(n,e),h=_o(c);return i&&c.addEventListener("upgradeneeded",p=>{i(_o(c.result),p.oldVersion,p.newVersion,_o(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),h.then(p=>{a&&p.addEventListener("close",()=>a()),s&&p.addEventListener("versionchange",v=>s(v.oldVersion,v.newVersion,v))}).catch(()=>{}),h}const XI=["get","getKey","getAll","getAllKeys","count"],JI=["put","add","delete","clear"],qh=new Map;function Iv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(qh.get(e))return qh.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=JI.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||XI.includes(t)))return;const a=async function(c,...h){const p=this.transaction(c,s?"readwrite":"readonly");let v=p.store;return i&&(v=v.index(h.shift())),(await Promise.all([v[t](...h),s&&p.done]))[0]};return qh.set(e,a),a}KI(n=>({...n,get:(e,t,i)=>Iv(e,t)||n.get(e,t,i),has:(e,t)=>!!Iv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(eS(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function eS(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const df="@firebase/app",Sv="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new Gf("@firebase/app"),tS="@firebase/app-compat",nS="@firebase/analytics-compat",rS="@firebase/analytics",iS="@firebase/app-check-compat",oS="@firebase/app-check",sS="@firebase/auth",aS="@firebase/auth-compat",lS="@firebase/database",uS="@firebase/data-connect",cS="@firebase/database-compat",dS="@firebase/functions",hS="@firebase/functions-compat",fS="@firebase/installations",pS="@firebase/installations-compat",mS="@firebase/messaging",gS="@firebase/messaging-compat",vS="@firebase/performance",yS="@firebase/performance-compat",_S="@firebase/remote-config",wS="@firebase/remote-config-compat",ES="@firebase/storage",TS="@firebase/storage-compat",xS="@firebase/firestore",IS="@firebase/vertexai",SS="@firebase/firestore-compat",RS="firebase",kS="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf="[DEFAULT]",AS={[df]:"fire-core",[tS]:"fire-core-compat",[rS]:"fire-analytics",[nS]:"fire-analytics-compat",[oS]:"fire-app-check",[iS]:"fire-app-check-compat",[sS]:"fire-auth",[aS]:"fire-auth-compat",[lS]:"fire-rtdb",[uS]:"fire-data-connect",[cS]:"fire-rtdb-compat",[dS]:"fire-fn",[hS]:"fire-fn-compat",[fS]:"fire-iid",[pS]:"fire-iid-compat",[mS]:"fire-fcm",[gS]:"fire-fcm-compat",[vS]:"fire-perf",[yS]:"fire-perf-compat",[_S]:"fire-rc",[wS]:"fire-rc-compat",[ES]:"fire-gcs",[TS]:"fire-gcs-compat",[xS]:"fire-fst",[SS]:"fire-fst-compat",[IS]:"fire-vertex","fire-js":"fire-js",[RS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tc=new Map,CS=new Map,ff=new Map;function Rv(n,e){try{n.container.addComponent(e)}catch(t){Ni.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ra(n){const e=n.name;if(ff.has(e))return Ni.debug(`There were multiple attempts to register component ${e}.`),!1;ff.set(e,n);for(const t of Tc.values())Rv(t,n);for(const t of CS.values())Rv(t,n);return!0}function Yf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Fr(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wo=new Rl("app","Firebase",PS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha=kS;function x_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:hf,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw wo.create("bad-app-name",{appName:String(s)});if(t||(t=__()),!t)throw wo.create("no-options");const a=Tc.get(s);if(a){if(Ec(t,a.options)&&Ec(i,a.config))return a;throw wo.create("duplicate-app",{appName:s})}const c=new VI(s);for(const p of ff.values())c.addComponent(p);const h=new bS(t,i,c);return Tc.set(s,h),h}function I_(n=hf){const e=Tc.get(n);if(!e&&n===hf&&__())return x_();if(!e)throw wo.create("no-app",{appName:n});return e}function Eo(n,e,t){var i;let s=(i=AS[n])!==null&&i!==void 0?i:n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const h=[`Unable to register library "${s}" with version "${e}":`];a&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ni.warn(h.join(" "));return}ra(new ns(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS="firebase-heartbeat-database",NS=1,fl="firebase-heartbeat-store";let Wh=null;function S_(){return Wh||(Wh=YI(DS,NS,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(fl)}catch(t){console.warn(t)}}}}).catch(n=>{throw wo.create("idb-open",{originalErrorMessage:n.message})})),Wh}async function LS(n){try{const t=(await S_()).transaction(fl),i=await t.objectStore(fl).get(R_(n));return await t.done,i}catch(e){if(e instanceof Ui)Ni.warn(e.message);else{const t=wo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ni.warn(t.message)}}}async function kv(n,e){try{const i=(await S_()).transaction(fl,"readwrite");await i.objectStore(fl).put(e,R_(n)),await i.done}catch(t){if(t instanceof Ui)Ni.warn(t.message);else{const i=wo.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ni.warn(i.message)}}}function R_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=1024,MS=30*24*60*60*1e3;class VS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new US(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Av();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const h=new Date(c.date).valueOf();return Date.now()-h<=MS}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Ni.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Av(),{heartbeatsToSend:i,unsentEntries:s}=FS(this._heartbeatsCache.heartbeats),a=wc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Ni.warn(t),""}}}function Av(){return new Date().toISOString().substring(0,10)}function FS(n,e=OS){const t=[];let i=n.slice();for(const s of n){const a=t.find(c=>c.agent===s.agent);if(a){if(a.dates.push(s.date),Cv(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Cv(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class US{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SI()?RI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await LS(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return kv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return kv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Cv(n){return wc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(n){ra(new ns("platform-logger",e=>new ZI(e),"PRIVATE")),ra(new ns("heartbeat",e=>new VS(e),"PRIVATE")),Eo(df,Sv,n),Eo(df,Sv,"esm2017"),Eo("fire-js","")}jS("");function Xf(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t}function ls(n,e,t,i){function s(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function h(_){try{v(i.next(_))}catch(T){c(T)}}function p(_){try{v(i.throw(_))}catch(T){c(T)}}function v(_){_.done?a(_.value):s(_.value).then(h,p)}v((i=i.apply(n,e||[])).next())})}function k_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zS=k_,A_=new Rl("auth","Firebase",k_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=new Gf("@firebase/auth");function BS(n,...e){xc.logLevel<=Xe.WARN&&xc.warn(`Auth (${ha}): ${n}`,...e)}function sc(n,...e){xc.logLevel<=Xe.ERROR&&xc.error(`Auth (${ha}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(n,...e){throw Zf(n,...e)}function jr(n,...e){return Zf(n,...e)}function Jf(n,e,t){const i=Object.assign(Object.assign({},zS()),{[e]:t});return new Rl("auth","Firebase",i).create(e,{appName:n.name})}function bi(n){return Jf(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $S(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&vr(n,"argument-error"),Jf(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Zf(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return A_.create(n,...e)}function Ve(n,e,...t){if(!n)throw Zf(e,...t)}function Ai(n){const e="INTERNAL ASSERTION FAILED: "+n;throw sc(e),new Error(e)}function Li(n,e){n||Ai(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function HS(){return Pv()==="http:"||Pv()==="https:"}function Pv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HS()||EI()||"connection"in navigator)?navigator.onLine:!0}function WS(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,t){this.shortDelay=e,this.longDelay=t,Li(t>e,"Short delay should be less than long delay!"),this.isMobile=yI()||TI()}get(){return qS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(n,e){Li(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS=new Al(3e4,6e4);function ji(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function zi(n,e,t,i,s={}){return P_(n,s,async()=>{let a={},c={};i&&(e==="GET"?c=i:a={body:JSON.stringify(i)});const h=kl(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const v=Object.assign({method:e,headers:p},a);return wI()||(v.referrerPolicy="no-referrer"),C_.fetch()(b_(n,n.config.apiHost,t,h),v)})}async function P_(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},KS),e);try{const s=new YS(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw Gu(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const h=a.ok?c.errorMessage:c.error.message,[p,v]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gu(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Gu(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw Gu(n,"user-disabled",c);const _=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Jf(n,_,v);vr(n,_)}}catch(s){if(s instanceof Ui)throw s;vr(n,"network-request-failed",{message:String(s)})}}async function Cl(n,e,t,i,s={}){const a=await zi(n,e,t,i,s);return"mfaPendingCredential"in a&&vr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function b_(n,e,t,i){const s=`${e}${t}?${i}`;return n.config.emulator?ep(n.config,s):`${n.config.apiScheme}://${s}`}function QS(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class YS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(jr(this.auth,"network-request-failed")),GS.get())})}}function Gu(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=jr(n,e,i);return s.customData._tokenResponse=t,s}function bv(n){return n!==void 0&&n.enterprise!==void 0}class XS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return QS(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function JS(n,e){return zi(n,"GET","/v2/recaptchaConfig",ji(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZS(n,e){return zi(n,"POST","/v1/accounts:delete",e)}async function D_(n,e){return zi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function e1(n,e=!1){const t=tr(n),i=await t.getIdToken(e),s=tp(i);Ve(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:s,token:i,authTime:al(Kh(s.auth_time)),issuedAtTime:al(Kh(s.iat)),expirationTime:al(Kh(s.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Kh(n){return Number(n)*1e3}function tp(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return sc("JWT malformed, contained fewer than 3 sections"),null;try{const s=v_(t);return s?JSON.parse(s):(sc("Failed to decode base64 JWT payload"),null)}catch(s){return sc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Dv(n){const e=tp(n);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Ui&&t1(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function t1({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=al(this.lastLoginAt),this.creationTime=al(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ic(n){var e;const t=n.auth,i=await n.getIdToken(),s=await pl(n,D_(t,{idToken:i}));Ve(s==null?void 0:s.users.length,t,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?N_(a.providerUserInfo):[],h=i1(n.providerData,c),p=n.isAnonymous,v=!(n.email&&a.passwordHash)&&!(h!=null&&h.length),_=p?v:!1,T={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new mf(a.createdAt,a.lastLoginAt),isAnonymous:_};Object.assign(n,T)}async function r1(n){const e=tr(n);await Ic(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function i1(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function N_(n){return n.map(e=>{var{providerId:t}=e,i=Xf(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o1(n,e){const t=await P_(n,{},async()=>{const i=kl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,c=b_(n,s,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",C_.fetch()(c,{method:"POST",headers:h,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function s1(n,e){return zi(n,"POST","/v2/accounts:revokeToken",ji(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Dv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const t=Dv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:a}=await o1(e,t);this.updateTokensAndExpiration(i,s,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:a}=t,c=new Js;return i&&(Ve(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),s&&(Ve(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),a&&(Ve(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Js,this.toJSON())}_performRefresh(){return Ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(n,e){Ve(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ci{constructor(e){var{uid:t,auth:i,stsTokenManager:s}=e,a=Xf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new n1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new mf(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await pl(this,this.stsTokenManager.getToken(this.auth,e));return Ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return e1(this,e)}reload(){return r1(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ci(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Ic(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fr(this.auth.app))return Promise.reject(bi(this.auth));const e=await this.getIdToken();return await pl(this,ZS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,s,a,c,h,p,v,_;const T=(i=t.displayName)!==null&&i!==void 0?i:void 0,I=(s=t.email)!==null&&s!==void 0?s:void 0,C=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,b=(c=t.photoURL)!==null&&c!==void 0?c:void 0,j=(h=t.tenantId)!==null&&h!==void 0?h:void 0,F=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,W=(v=t.createdAt)!==null&&v!==void 0?v:void 0,te=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:Z,emailVerified:pe,isAnonymous:U,providerData:ce,stsTokenManager:P}=t;Ve(Z&&P,e,"internal-error");const x=Js.fromJSON(this.name,P);Ve(typeof Z=="string",e,"internal-error"),ho(T,e.name),ho(I,e.name),Ve(typeof pe=="boolean",e,"internal-error"),Ve(typeof U=="boolean",e,"internal-error"),ho(C,e.name),ho(b,e.name),ho(j,e.name),ho(F,e.name),ho(W,e.name),ho(te,e.name);const S=new Ci({uid:Z,auth:e,email:I,emailVerified:pe,displayName:T,isAnonymous:U,photoURL:b,phoneNumber:C,tenantId:j,stsTokenManager:x,createdAt:W,lastLoginAt:te});return ce&&Array.isArray(ce)&&(S.providerData=ce.map(A=>Object.assign({},A))),F&&(S._redirectEventId=F),S}static async _fromIdTokenResponse(e,t,i=!1){const s=new Js;s.updateFromServerResponse(t);const a=new Ci({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Ic(a),a}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];Ve(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?N_(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),h=new Js;h.updateFromIdToken(i);const p=new Ci({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:c}),v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new mf(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(p,v),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=new Map;function Pi(n){Li(n instanceof Function,"Expected a class definition");let e=Nv.get(n);return e?(Li(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Nv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}L_.type="NONE";const Lv=L_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(n,e,t){return`firebase:${n}:${e}:${t}`}class Zs{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:a}=this.auth;this.fullUserKey=ac(this.userKey,s.apiKey,a),this.fullPersistenceKey=ac("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ci._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Zs(Pi(Lv),e,i);const s=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let a=s[0]||Pi(Lv);const c=ac(i,e.config.apiKey,e.name);let h=null;for(const v of t)try{const _=await v._get(c);if(_){const T=Ci._fromJSON(e,_);v!==a&&(h=T),a=v;break}}catch{}const p=s.filter(v=>v._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new Zs(a,e,i):(a=p[0],h&&await a._set(c,h.toJSON()),await Promise.all(t.map(async v=>{if(v!==a)try{await v._remove(c)}catch{}})),new Zs(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(F_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(O_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(j_(e))return"Blackberry";if(z_(e))return"Webos";if(M_(e))return"Safari";if((e.includes("chrome/")||V_(e))&&!e.includes("edge/"))return"Chrome";if(U_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function O_(n=wn()){return/firefox\//i.test(n)}function M_(n=wn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function V_(n=wn()){return/crios\//i.test(n)}function F_(n=wn()){return/iemobile/i.test(n)}function U_(n=wn()){return/android/i.test(n)}function j_(n=wn()){return/blackberry/i.test(n)}function z_(n=wn()){return/webos/i.test(n)}function np(n=wn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function a1(n=wn()){var e;return np(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function l1(){return xI()&&document.documentMode===10}function B_(n=wn()){return np(n)||U_(n)||z_(n)||j_(n)||/windows phone/i.test(n)||F_(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(n,e=[]){let t;switch(n){case"Browser":t=Ov(wn());break;case"Worker":t=`${Ov(wn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ha}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((c,h)=>{try{const p=e(a);c(p)}catch(p){h(p)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c1(n,e={}){return zi(n,"GET","/v2/passwordPolicy",ji(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=6;class h1{constructor(e){var t,i,s,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:d1,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,s,a,c,h;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(s=p.containsLowercaseLetter)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(a=p.containsUppercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(h=p.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mv(this),this.idTokenSubscription=new Mv(this),this.beforeStateQueue=new u1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=A_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Pi(t)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await Zs.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await D_(this,{idToken:e}),i=await Ci._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Fr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===h)&&(p!=null&&p.user)&&(s=p.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ic(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fr(this.app))return Promise.reject(bi(this));const t=e?tr(e):null;return t&&Ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fr(this.app)?Promise.reject(bi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fr(this.app)?Promise.reject(bi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await c1(this),t=new h1(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Rl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await s1(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Pi(e)||this._popupRedirectResolver;Ve(t,this,"argument-error"),this.redirectPersistenceManager=await Zs.create(this,[Pi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(h,this,"internal-error"),h.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,s);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&BS(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Bi(n){return tr(n)}class Mv{constructor(e){this.auth=e,this.observer=null,this.addObserver=bI(t=>this.observer=t)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function p1(n){Wc=n}function H_(n){return Wc.loadJS(n)}function m1(){return Wc.recaptchaEnterpriseScript}function g1(){return Wc.gapiScript}function v1(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class y1{constructor(){this.enterprise=new _1}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class _1{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const w1="recaptcha-enterprise",q_="NO_RECAPTCHA";class E1{constructor(e){this.type=w1,this.auth=Bi(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,h)=>{JS(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const v=new XS(p);return a.tenantId==null?a._agentRecaptchaConfig=v:a._tenantRecaptchaConfigs[a.tenantId]=v,c(v.siteKey)}}).catch(p=>{h(p)})})}function s(a,c,h){const p=window.grecaptcha;bv(p)?p.enterprise.ready(()=>{p.enterprise.execute(a,{action:e}).then(v=>{c(v)}).catch(()=>{c(q_)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new y1().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{i(this.auth).then(h=>{if(!t&&bv(window.grecaptcha))s(h,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=m1();p.length!==0&&(p+=h),H_(p).then(()=>{s(h,a,c)}).catch(v=>{c(v)})}}).catch(h=>{c(h)})})}}async function Vv(n,e,t,i=!1,s=!1){const a=new E1(n);let c;if(s)c=q_;else try{c=await a.verify(t)}catch{c=await a.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const p=h.phoneEnrollmentInfo.phoneNumber,v=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:v,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const p=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Sc(n,e,t,i,s){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Vv(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Vv(n,e,t,t==="getOobCode");return i(n,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(n,e){const t=Yf(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(Ec(a,e??{}))return s;vr(s,"already-initialized")}return t.initialize({options:e})}function x1(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Pi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function I1(n,e,t){const i=Bi(n);Ve(i._canInitEmulator,i,"emulator-config-failed"),Ve(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,a=W_(e),{host:c,port:h}=S1(e),p=h===null?"":`:${h}`;i.config.emulator={url:`${a}//${c}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),R1()}function W_(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function S1(n){const e=W_(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const a=s[1];return{host:a,port:Fv(i.substr(a.length+1))}}else{const[a,c]=i.split(":");return{host:a,port:Fv(c)}}}function Fv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function R1(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ai("not implemented")}_getIdTokenResponse(e){return Ai("not implemented")}_linkToIdToken(e,t){return Ai("not implemented")}_getReauthenticationResolver(e){return Ai("not implemented")}}async function k1(n,e){return zi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A1(n,e){return Cl(n,"POST","/v1/accounts:signInWithPassword",ji(n,e))}async function K_(n,e){return zi(n,"POST","/v1/accounts:sendOobCode",ji(n,e))}async function C1(n,e){return K_(n,e)}async function P1(n,e){return K_(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b1(n,e){return Cl(n,"POST","/v1/accounts:signInWithEmailLink",ji(n,e))}async function D1(n,e){return Cl(n,"POST","/v1/accounts:signInWithEmailLink",ji(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml extends rp{constructor(e,t,i,s=null){super("password",i),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new ml(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new ml(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sc(e,t,"signInWithPassword",A1);case"emailLink":return b1(e,{email:this._email,oobCode:this._password});default:vr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sc(e,i,"signUpPassword",k1);case"emailLink":return D1(e,{idToken:t,email:this._email,oobCode:this._password});default:vr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ea(n,e){return Cl(n,"POST","/v1/accounts:signInWithIdp",ji(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="http://localhost";class rs extends rp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new rs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):vr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=t,a=Xf(t,["providerId","signInMethod"]);if(!i||!s)return null;const c=new rs(i,s);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return ea(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,ea(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ea(e,t)}buildRequest(){const e={requestUri:N1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=kl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function O1(n){const e=tl(nl(n)).link,t=e?tl(nl(e)).deep_link_id:null,i=tl(nl(n)).deep_link_id;return(i?tl(nl(i)).link:null)||i||t||e||n}class ip{constructor(e){var t,i,s,a,c,h;const p=tl(nl(e)),v=(t=p.apiKey)!==null&&t!==void 0?t:null,_=(i=p.oobCode)!==null&&i!==void 0?i:null,T=L1((s=p.mode)!==null&&s!==void 0?s:null);Ve(v&&_&&T,"argument-error"),this.apiKey=v,this.operation=T,this.code=_,this.continueUrl=(a=p.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(c=p.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(h=p.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=O1(e);try{return new ip(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(){this.providerId=fa.PROVIDER_ID}static credential(e,t){return ml._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=ip.parseLink(t);return Ve(i,"argument-error"),ml._fromEmailAndCode(e,i.code,i.tenantId)}}fa.PROVIDER_ID="password";fa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";fa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl extends op{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo extends Pl{constructor(){super("facebook.com")}static credential(e){return rs._fromParams({providerId:mo.PROVIDER_ID,signInMethod:mo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mo.credentialFromTaggedObject(e)}static credentialFromError(e){return mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mo.credential(e.oauthAccessToken)}catch{return null}}}mo.FACEBOOK_SIGN_IN_METHOD="facebook.com";mo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends Pl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return rs._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ki.credential(t,i)}catch{return null}}}ki.GOOGLE_SIGN_IN_METHOD="google.com";ki.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go extends Pl{constructor(){super("github.com")}static credential(e){return rs._fromParams({providerId:go.PROVIDER_ID,signInMethod:go.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return go.credentialFromTaggedObject(e)}static credentialFromError(e){return go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return go.credential(e.oauthAccessToken)}catch{return null}}}go.GITHUB_SIGN_IN_METHOD="github.com";go.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends Pl{constructor(){super("twitter.com")}static credential(e,t){return rs._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return vo.credential(t,i)}catch{return null}}}vo.TWITTER_SIGN_IN_METHOD="twitter.com";vo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M1(n,e){return Cl(n,"POST","/v1/accounts:signUp",ji(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const a=await Ci._fromIdTokenResponse(e,i,s),c=Uv(i);return new is({user:a,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=Uv(i);return new is({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function Uv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc extends Ui{constructor(e,t,i,s){var a;super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Rc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new Rc(e,t,i,s)}}function G_(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Rc._fromErrorAndOperation(n,a,e,i):a})}async function V1(n,e,t=!1){const i=await pl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return is._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F1(n,e,t=!1){const{auth:i}=n;if(Fr(i.app))return Promise.reject(bi(i));const s="reauthenticate";try{const a=await pl(n,G_(i,s,e,n),t);Ve(a.idToken,i,"internal-error");const c=tp(a.idToken);Ve(c,i,"internal-error");const{sub:h}=c;return Ve(n.uid===h,i,"user-mismatch"),is._forOperation(n,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&vr(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q_(n,e,t=!1){if(Fr(n.app))return Promise.reject(bi(n));const i="signIn",s=await G_(n,i,e),a=await is._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(a.user),a}async function U1(n,e){return Q_(Bi(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y_(n){const e=Bi(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function j1(n,e,t){const i=Bi(n);await Sc(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",P1)}async function z1(n,e,t){if(Fr(n.app))return Promise.reject(bi(n));const i=Bi(n),c=await Sc(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",M1).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Y_(n),p}),h=await is._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function B1(n,e,t){return Fr(n.app)?Promise.reject(bi(n)):U1(tr(n),fa.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&Y_(n),i})}async function $1(n,e){const t=tr(n),s={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:a}=await C1(t.auth,s);a!==n.email&&await n.reload()}function H1(n,e,t,i){return tr(n).onIdTokenChanged(e,t,i)}function q1(n,e,t){return tr(n).beforeAuthStateChanged(e,t)}const kc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(kc,"1"),this.storage.removeItem(kc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W1=1e3,K1=10;class J_ extends X_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=B_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);l1()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,K1):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},W1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}J_.type="LOCAL";const G1=J_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z_ extends X_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Z_.type="SESSION";const ew=Z_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new Kc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:a}=t.data,c=this.handlersMap[s];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const h=Array.from(c).map(async v=>v(t.origin,a)),p=await Q1(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,c;return new Promise((h,p)=>{const v=sp("",20);s.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:s,onMessage(T){const I=T;if(I.data.eventId===v)switch(I.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(I.data.response);break;default:clearTimeout(_),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return window}function X1(n){ri().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}async function J1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Z1(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function eR(){return tw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="firebaseLocalStorageDb",tR=1,Ac="firebaseLocalStorage",rw="fbase_key";class bl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Gc(n,e){return n.transaction([Ac],e?"readwrite":"readonly").objectStore(Ac)}function nR(){const n=indexedDB.deleteDatabase(nw);return new bl(n).toPromise()}function gf(){const n=indexedDB.open(nw,tR);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Ac,{keyPath:rw})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Ac)?e(i):(i.close(),await nR(),e(await gf()))})})}async function jv(n,e,t){const i=Gc(n,!0).put({[rw]:e,value:t});return new bl(i).toPromise()}async function rR(n,e){const t=Gc(n,!1).get(e),i=await new bl(t).toPromise();return i===void 0?null:i.value}function zv(n,e){const t=Gc(n,!0).delete(e);return new bl(t).toPromise()}const iR=800,oR=3;class iw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>oR)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kc._getInstance(eR()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await J1(),!this.activeServiceWorker)return;this.sender=new Y1(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Z1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gf();return await jv(e,kc,"1"),await zv(e,kc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>jv(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>rR(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>zv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Gc(s,!1).getAll();return new bl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),iR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iw.type="LOCAL";const sR=iw;new Al(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ow(n,e){return e?Pi(e):(Ve(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap extends rp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ea(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ea(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ea(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function aR(n){return Q_(n.auth,new ap(n),n.bypassAuthState)}function lR(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),F1(t,new ap(n),n.bypassAuthState)}async function uR(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),V1(t,new ap(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,t,i,s,a=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:a,error:c,type:h}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aR;case"linkViaPopup":case"linkViaRedirect":return uR;case"reauthViaPopup":case"reauthViaRedirect":return lR;default:vr(this.auth,"internal-error")}}resolve(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Li(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR=new Al(2e3,1e4);async function dR(n,e,t){if(Fr(n.app))return Promise.reject(jr(n,"operation-not-supported-in-this-environment"));const i=Bi(n);$S(n,e,op);const s=ow(i,t);return new es(i,"signInViaPopup",e,s).executeNotNull()}class es extends sw{constructor(e,t,i,s,a){super(e,t,s,a),this.provider=i,this.authWindow=null,this.pollId=null,es.currentPopupAction&&es.currentPopupAction.cancel(),es.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){Li(this.filter.length===1,"Popup operations only handle one event");const e=sp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,es.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cR.get())};e()}}es.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="pendingRedirect",lc=new Map;class fR extends sw{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=lc.get(this.auth._key());if(!e){try{const i=await pR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}lc.set(this.auth._key(),e)}return this.bypassAuthState||lc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function pR(n,e){const t=vR(e),i=gR(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function mR(n,e){lc.set(n._key(),e)}function gR(n){return Pi(n._redirectPersistence)}function vR(n){return ac(hR,n.config.apiKey,n.name)}async function yR(n,e,t=!1){if(Fr(n.app))return Promise.reject(bi(n));const i=Bi(n),s=ow(i,e),c=await new fR(i,s,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=10*60*1e3;class wR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ER(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!aw(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(jr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=_R&&this.cachedEventUids.clear(),this.cachedEventUids.has(Bv(e))}saveEventToCache(e){this.cachedEventUids.add(Bv(e)),this.lastProcessedEventTime=Date.now()}}function Bv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function aw({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ER(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TR(n,e={}){return zi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IR=/^https?/;async function SR(n){if(n.config.emulator)return;const{authorizedDomains:e}=await TR(n);for(const t of e)try{if(RR(t))return}catch{}vr(n,"unauthorized-domain")}function RR(n){const e=pf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!IR.test(t))return!1;if(xR.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=new Al(3e4,6e4);function $v(){const n=ri().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function AR(n){return new Promise((e,t)=>{var i,s,a;function c(){$v(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$v(),t(jr(n,"network-request-failed"))},timeout:kR.get()})}if(!((s=(i=ri().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=ri().gapi)===null||a===void 0)&&a.load)c();else{const h=v1("iframefcb");return ri()[h]=()=>{gapi.load?c():t(jr(n,"network-request-failed"))},H_(`${g1()}?onload=${h}`).catch(p=>t(p))}}).catch(e=>{throw uc=null,e})}let uc=null;function CR(n){return uc=uc||AR(n),uc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=new Al(5e3,15e3),bR="__/auth/iframe",DR="emulator/auth/iframe",NR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function OR(n){const e=n.config;Ve(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?ep(e,DR):`https://${n.config.authDomain}/${bR}`,i={apiKey:e.apiKey,appName:n.name,v:ha},s=LR.get(n.config.apiHost);s&&(i.eid=s);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${kl(i).slice(1)}`}async function MR(n){const e=await CR(n),t=ri().gapi;return Ve(t,n,"internal-error"),e.open({where:document.body,url:OR(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NR,dontclear:!0},i=>new Promise(async(s,a)=>{await i.restyle({setHideOnLeave:!1});const c=jr(n,"network-request-failed"),h=ri().setTimeout(()=>{a(c)},PR.get());function p(){ri().clearTimeout(h),s(i)}i.ping(p).then(p,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FR=500,UR=600,jR="_blank",zR="http://localhost";class Hv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function BR(n,e,t,i=FR,s=UR){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const p=Object.assign(Object.assign({},VR),{width:i.toString(),height:s.toString(),top:a,left:c}),v=wn().toLowerCase();t&&(h=V_(v)?jR:t),O_(v)&&(e=e||zR,p.scrollbars="yes");const _=Object.entries(p).reduce((I,[C,b])=>`${I}${C}=${b},`,"");if(a1(v)&&h!=="_self")return $R(e||"",h),new Hv(null);const T=window.open(e||"",h,_);Ve(T,n,"popup-blocked");try{T.focus()}catch{}return new Hv(T)}function $R(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="__/auth/handler",qR="emulator/auth/handler",WR=encodeURIComponent("fac");async function qv(n,e,t,i,s,a){Ve(n.config.authDomain,n,"auth-domain-config-required"),Ve(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:ha,eventId:s};if(e instanceof op){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",PI(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))c[_]=T}if(e instanceof Pl){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const p=await n._getAppCheckToken(),v=p?`#${WR}=${encodeURIComponent(p)}`:"";return`${KR(n)}?${kl(h).slice(1)}${v}`}function KR({config:n}){return n.emulator?ep(n,qR):`https://${n.authDomain}/${HR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gh="webStorageSupport";class GR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ew,this._completeRedirectFn=yR,this._overrideRedirectResult=mR}async _openPopup(e,t,i,s){var a;Li((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await qv(e,t,i,pf(),s);return BR(e,c,sp())}async _openRedirect(e,t,i,s){await this._originValidation(e);const a=await qv(e,t,i,pf(),s);return X1(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(Li(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await MR(e),i=new wR(e);return t.register("authEvent",s=>(Ve(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Gh,{type:Gh},s=>{var a;const c=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[Gh];c!==void 0&&t(!!c),vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=SR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return B_()||M_()||np()}}const QR=GR;var Wv="@firebase/auth",Kv="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JR(n){ra(new ns("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Ve(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$_(n)},v=new f1(i,s,a,p);return x1(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ra(new ns("auth-internal",e=>{const t=Bi(e.getProvider("auth").getImmediate());return(i=>new YR(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Eo(Wv,Kv,XR(n)),Eo(Wv,Kv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR=5*60,ek=w_("authIdTokenMaxAge")||ZR;let Gv=null;const tk=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>ek)return;const s=t==null?void 0:t.token;Gv!==s&&(Gv=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function nk(n=I_()){const e=Yf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=T1(n,{popupRedirectResolver:QR,persistence:[sR,G1,ew]}),i=w_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const c=tk(a.toString());q1(t,c,()=>c(t.currentUser)),H1(t,h=>c(h))}}const s=y_("auth");return s&&I1(t,`http://${s}`),t}function rk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}p1({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const a=jr("internal-error");a.customData=s,t(a)},i.type="text/javascript",i.charset="UTF-8",rk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JR("Browser");var Qv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var To,lw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,x){function S(){}S.prototype=x.prototype,P.D=x.prototype,P.prototype=new S,P.prototype.constructor=P,P.C=function(A,D,O){for(var k=Array(arguments.length-2),He=2;He<arguments.length;He++)k[He-2]=arguments[He];return x.prototype[D].apply(A,k)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,x,S){S||(S=0);var A=Array(16);if(typeof x=="string")for(var D=0;16>D;++D)A[D]=x.charCodeAt(S++)|x.charCodeAt(S++)<<8|x.charCodeAt(S++)<<16|x.charCodeAt(S++)<<24;else for(D=0;16>D;++D)A[D]=x[S++]|x[S++]<<8|x[S++]<<16|x[S++]<<24;x=P.g[0],S=P.g[1],D=P.g[2];var O=P.g[3],k=x+(O^S&(D^O))+A[0]+3614090360&4294967295;x=S+(k<<7&4294967295|k>>>25),k=O+(D^x&(S^D))+A[1]+3905402710&4294967295,O=x+(k<<12&4294967295|k>>>20),k=D+(S^O&(x^S))+A[2]+606105819&4294967295,D=O+(k<<17&4294967295|k>>>15),k=S+(x^D&(O^x))+A[3]+3250441966&4294967295,S=D+(k<<22&4294967295|k>>>10),k=x+(O^S&(D^O))+A[4]+4118548399&4294967295,x=S+(k<<7&4294967295|k>>>25),k=O+(D^x&(S^D))+A[5]+1200080426&4294967295,O=x+(k<<12&4294967295|k>>>20),k=D+(S^O&(x^S))+A[6]+2821735955&4294967295,D=O+(k<<17&4294967295|k>>>15),k=S+(x^D&(O^x))+A[7]+4249261313&4294967295,S=D+(k<<22&4294967295|k>>>10),k=x+(O^S&(D^O))+A[8]+1770035416&4294967295,x=S+(k<<7&4294967295|k>>>25),k=O+(D^x&(S^D))+A[9]+2336552879&4294967295,O=x+(k<<12&4294967295|k>>>20),k=D+(S^O&(x^S))+A[10]+4294925233&4294967295,D=O+(k<<17&4294967295|k>>>15),k=S+(x^D&(O^x))+A[11]+2304563134&4294967295,S=D+(k<<22&4294967295|k>>>10),k=x+(O^S&(D^O))+A[12]+1804603682&4294967295,x=S+(k<<7&4294967295|k>>>25),k=O+(D^x&(S^D))+A[13]+4254626195&4294967295,O=x+(k<<12&4294967295|k>>>20),k=D+(S^O&(x^S))+A[14]+2792965006&4294967295,D=O+(k<<17&4294967295|k>>>15),k=S+(x^D&(O^x))+A[15]+1236535329&4294967295,S=D+(k<<22&4294967295|k>>>10),k=x+(D^O&(S^D))+A[1]+4129170786&4294967295,x=S+(k<<5&4294967295|k>>>27),k=O+(S^D&(x^S))+A[6]+3225465664&4294967295,O=x+(k<<9&4294967295|k>>>23),k=D+(x^S&(O^x))+A[11]+643717713&4294967295,D=O+(k<<14&4294967295|k>>>18),k=S+(O^x&(D^O))+A[0]+3921069994&4294967295,S=D+(k<<20&4294967295|k>>>12),k=x+(D^O&(S^D))+A[5]+3593408605&4294967295,x=S+(k<<5&4294967295|k>>>27),k=O+(S^D&(x^S))+A[10]+38016083&4294967295,O=x+(k<<9&4294967295|k>>>23),k=D+(x^S&(O^x))+A[15]+3634488961&4294967295,D=O+(k<<14&4294967295|k>>>18),k=S+(O^x&(D^O))+A[4]+3889429448&4294967295,S=D+(k<<20&4294967295|k>>>12),k=x+(D^O&(S^D))+A[9]+568446438&4294967295,x=S+(k<<5&4294967295|k>>>27),k=O+(S^D&(x^S))+A[14]+3275163606&4294967295,O=x+(k<<9&4294967295|k>>>23),k=D+(x^S&(O^x))+A[3]+4107603335&4294967295,D=O+(k<<14&4294967295|k>>>18),k=S+(O^x&(D^O))+A[8]+1163531501&4294967295,S=D+(k<<20&4294967295|k>>>12),k=x+(D^O&(S^D))+A[13]+2850285829&4294967295,x=S+(k<<5&4294967295|k>>>27),k=O+(S^D&(x^S))+A[2]+4243563512&4294967295,O=x+(k<<9&4294967295|k>>>23),k=D+(x^S&(O^x))+A[7]+1735328473&4294967295,D=O+(k<<14&4294967295|k>>>18),k=S+(O^x&(D^O))+A[12]+2368359562&4294967295,S=D+(k<<20&4294967295|k>>>12),k=x+(S^D^O)+A[5]+4294588738&4294967295,x=S+(k<<4&4294967295|k>>>28),k=O+(x^S^D)+A[8]+2272392833&4294967295,O=x+(k<<11&4294967295|k>>>21),k=D+(O^x^S)+A[11]+1839030562&4294967295,D=O+(k<<16&4294967295|k>>>16),k=S+(D^O^x)+A[14]+4259657740&4294967295,S=D+(k<<23&4294967295|k>>>9),k=x+(S^D^O)+A[1]+2763975236&4294967295,x=S+(k<<4&4294967295|k>>>28),k=O+(x^S^D)+A[4]+1272893353&4294967295,O=x+(k<<11&4294967295|k>>>21),k=D+(O^x^S)+A[7]+4139469664&4294967295,D=O+(k<<16&4294967295|k>>>16),k=S+(D^O^x)+A[10]+3200236656&4294967295,S=D+(k<<23&4294967295|k>>>9),k=x+(S^D^O)+A[13]+681279174&4294967295,x=S+(k<<4&4294967295|k>>>28),k=O+(x^S^D)+A[0]+3936430074&4294967295,O=x+(k<<11&4294967295|k>>>21),k=D+(O^x^S)+A[3]+3572445317&4294967295,D=O+(k<<16&4294967295|k>>>16),k=S+(D^O^x)+A[6]+76029189&4294967295,S=D+(k<<23&4294967295|k>>>9),k=x+(S^D^O)+A[9]+3654602809&4294967295,x=S+(k<<4&4294967295|k>>>28),k=O+(x^S^D)+A[12]+3873151461&4294967295,O=x+(k<<11&4294967295|k>>>21),k=D+(O^x^S)+A[15]+530742520&4294967295,D=O+(k<<16&4294967295|k>>>16),k=S+(D^O^x)+A[2]+3299628645&4294967295,S=D+(k<<23&4294967295|k>>>9),k=x+(D^(S|~O))+A[0]+4096336452&4294967295,x=S+(k<<6&4294967295|k>>>26),k=O+(S^(x|~D))+A[7]+1126891415&4294967295,O=x+(k<<10&4294967295|k>>>22),k=D+(x^(O|~S))+A[14]+2878612391&4294967295,D=O+(k<<15&4294967295|k>>>17),k=S+(O^(D|~x))+A[5]+4237533241&4294967295,S=D+(k<<21&4294967295|k>>>11),k=x+(D^(S|~O))+A[12]+1700485571&4294967295,x=S+(k<<6&4294967295|k>>>26),k=O+(S^(x|~D))+A[3]+2399980690&4294967295,O=x+(k<<10&4294967295|k>>>22),k=D+(x^(O|~S))+A[10]+4293915773&4294967295,D=O+(k<<15&4294967295|k>>>17),k=S+(O^(D|~x))+A[1]+2240044497&4294967295,S=D+(k<<21&4294967295|k>>>11),k=x+(D^(S|~O))+A[8]+1873313359&4294967295,x=S+(k<<6&4294967295|k>>>26),k=O+(S^(x|~D))+A[15]+4264355552&4294967295,O=x+(k<<10&4294967295|k>>>22),k=D+(x^(O|~S))+A[6]+2734768916&4294967295,D=O+(k<<15&4294967295|k>>>17),k=S+(O^(D|~x))+A[13]+1309151649&4294967295,S=D+(k<<21&4294967295|k>>>11),k=x+(D^(S|~O))+A[4]+4149444226&4294967295,x=S+(k<<6&4294967295|k>>>26),k=O+(S^(x|~D))+A[11]+3174756917&4294967295,O=x+(k<<10&4294967295|k>>>22),k=D+(x^(O|~S))+A[2]+718787259&4294967295,D=O+(k<<15&4294967295|k>>>17),k=S+(O^(D|~x))+A[9]+3951481745&4294967295,P.g[0]=P.g[0]+x&4294967295,P.g[1]=P.g[1]+(D+(k<<21&4294967295|k>>>11))&4294967295,P.g[2]=P.g[2]+D&4294967295,P.g[3]=P.g[3]+O&4294967295}i.prototype.u=function(P,x){x===void 0&&(x=P.length);for(var S=x-this.blockSize,A=this.B,D=this.h,O=0;O<x;){if(D==0)for(;O<=S;)s(this,P,O),O+=this.blockSize;if(typeof P=="string"){for(;O<x;)if(A[D++]=P.charCodeAt(O++),D==this.blockSize){s(this,A),D=0;break}}else for(;O<x;)if(A[D++]=P[O++],D==this.blockSize){s(this,A),D=0;break}}this.h=D,this.o+=x},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var x=1;x<P.length-8;++x)P[x]=0;var S=8*this.o;for(x=P.length-8;x<P.length;++x)P[x]=S&255,S/=256;for(this.u(P),P=Array(16),x=S=0;4>x;++x)for(var A=0;32>A;A+=8)P[S++]=this.g[x]>>>A&255;return P};function a(P,x){var S=h;return Object.prototype.hasOwnProperty.call(S,P)?S[P]:S[P]=x(P)}function c(P,x){this.h=x;for(var S=[],A=!0,D=P.length-1;0<=D;D--){var O=P[D]|0;A&&O==x||(S[D]=O,A=!1)}this.g=S}var h={};function p(P){return-128<=P&&128>P?a(P,function(x){return new c([x|0],0>x?-1:0)}):new c([P|0],0>P?-1:0)}function v(P){if(isNaN(P)||!isFinite(P))return T;if(0>P)return F(v(-P));for(var x=[],S=1,A=0;P>=S;A++)x[A]=P/S|0,S*=4294967296;return new c(x,0)}function _(P,x){if(P.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(P.charAt(0)=="-")return F(_(P.substring(1),x));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=v(Math.pow(x,8)),A=T,D=0;D<P.length;D+=8){var O=Math.min(8,P.length-D),k=parseInt(P.substring(D,D+O),x);8>O?(O=v(Math.pow(x,O)),A=A.j(O).add(v(k))):(A=A.j(S),A=A.add(v(k)))}return A}var T=p(0),I=p(1),C=p(16777216);n=c.prototype,n.m=function(){if(j(this))return-F(this).m();for(var P=0,x=1,S=0;S<this.g.length;S++){var A=this.i(S);P+=(0<=A?A:4294967296+A)*x,x*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(b(this))return"0";if(j(this))return"-"+F(this).toString(P);for(var x=v(Math.pow(P,6)),S=this,A="";;){var D=pe(S,x).g;S=W(S,D.j(x));var O=((0<S.g.length?S.g[0]:S.h)>>>0).toString(P);if(S=D,b(S))return O+A;for(;6>O.length;)O="0"+O;A=O+A}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function b(P){if(P.h!=0)return!1;for(var x=0;x<P.g.length;x++)if(P.g[x]!=0)return!1;return!0}function j(P){return P.h==-1}n.l=function(P){return P=W(this,P),j(P)?-1:b(P)?0:1};function F(P){for(var x=P.g.length,S=[],A=0;A<x;A++)S[A]=~P.g[A];return new c(S,~P.h).add(I)}n.abs=function(){return j(this)?F(this):this},n.add=function(P){for(var x=Math.max(this.g.length,P.g.length),S=[],A=0,D=0;D<=x;D++){var O=A+(this.i(D)&65535)+(P.i(D)&65535),k=(O>>>16)+(this.i(D)>>>16)+(P.i(D)>>>16);A=k>>>16,O&=65535,k&=65535,S[D]=k<<16|O}return new c(S,S[S.length-1]&-2147483648?-1:0)};function W(P,x){return P.add(F(x))}n.j=function(P){if(b(this)||b(P))return T;if(j(this))return j(P)?F(this).j(F(P)):F(F(this).j(P));if(j(P))return F(this.j(F(P)));if(0>this.l(C)&&0>P.l(C))return v(this.m()*P.m());for(var x=this.g.length+P.g.length,S=[],A=0;A<2*x;A++)S[A]=0;for(A=0;A<this.g.length;A++)for(var D=0;D<P.g.length;D++){var O=this.i(A)>>>16,k=this.i(A)&65535,He=P.i(D)>>>16,Me=P.i(D)&65535;S[2*A+2*D]+=k*Me,te(S,2*A+2*D),S[2*A+2*D+1]+=O*Me,te(S,2*A+2*D+1),S[2*A+2*D+1]+=k*He,te(S,2*A+2*D+1),S[2*A+2*D+2]+=O*He,te(S,2*A+2*D+2)}for(A=0;A<x;A++)S[A]=S[2*A+1]<<16|S[2*A];for(A=x;A<2*x;A++)S[A]=0;return new c(S,0)};function te(P,x){for(;(P[x]&65535)!=P[x];)P[x+1]+=P[x]>>>16,P[x]&=65535,x++}function Z(P,x){this.g=P,this.h=x}function pe(P,x){if(b(x))throw Error("division by zero");if(b(P))return new Z(T,T);if(j(P))return x=pe(F(P),x),new Z(F(x.g),F(x.h));if(j(x))return x=pe(P,F(x)),new Z(F(x.g),x.h);if(30<P.g.length){if(j(P)||j(x))throw Error("slowDivide_ only works with positive integers.");for(var S=I,A=x;0>=A.l(P);)S=U(S),A=U(A);var D=ce(S,1),O=ce(A,1);for(A=ce(A,2),S=ce(S,2);!b(A);){var k=O.add(A);0>=k.l(P)&&(D=D.add(S),O=k),A=ce(A,1),S=ce(S,1)}return x=W(P,D.j(x)),new Z(D,x)}for(D=T;0<=P.l(x);){for(S=Math.max(1,Math.floor(P.m()/x.m())),A=Math.ceil(Math.log(S)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),O=v(S),k=O.j(x);j(k)||0<k.l(P);)S-=A,O=v(S),k=O.j(x);b(O)&&(O=I),D=D.add(O),P=W(P,k)}return new Z(D,P)}n.A=function(P){return pe(this,P).h},n.and=function(P){for(var x=Math.max(this.g.length,P.g.length),S=[],A=0;A<x;A++)S[A]=this.i(A)&P.i(A);return new c(S,this.h&P.h)},n.or=function(P){for(var x=Math.max(this.g.length,P.g.length),S=[],A=0;A<x;A++)S[A]=this.i(A)|P.i(A);return new c(S,this.h|P.h)},n.xor=function(P){for(var x=Math.max(this.g.length,P.g.length),S=[],A=0;A<x;A++)S[A]=this.i(A)^P.i(A);return new c(S,this.h^P.h)};function U(P){for(var x=P.g.length+1,S=[],A=0;A<x;A++)S[A]=P.i(A)<<1|P.i(A-1)>>>31;return new c(S,P.h)}function ce(P,x){var S=x>>5;x%=32;for(var A=P.g.length-S,D=[],O=0;O<A;O++)D[O]=0<x?P.i(O+S)>>>x|P.i(O+S+1)<<32-x:P.i(O+S);return new c(D,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,lw=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=v,c.fromString=_,To=c}).apply(typeof Qv<"u"?Qv:typeof self<"u"?self:typeof window<"u"?window:{});var Qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uw,rl,cw,cc,vf,dw,hw,fw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qu=="object"&&Qu];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var i=t(this);function s(u,m){if(m)e:{var y=i;u=u.split(".");for(var E=0;E<u.length-1;E++){var $=u[E];if(!($ in y))break e;y=y[$]}u=u[u.length-1],E=y[u],m=m(E),m!=E&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}function a(u,m){u instanceof String&&(u+="");var y=0,E=!1,$={next:function(){if(!E&&y<u.length){var Q=y++;return{value:m(Q,u[Q]),done:!1}}return E=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}s("Array.prototype.values",function(u){return u||function(){return a(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,y){return u.call.apply(u.bind,arguments)}function T(u,m,y){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,E),u.apply(m,$)}}return function(){return u.apply(m,arguments)}}function I(u,m,y){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,I.apply(null,arguments)}function C(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var E=y.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function b(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(E,$,Q){for(var ue=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)ue[pt-2]=arguments[pt];return m.prototype[$].apply(E,ue)}}function j(u){const m=u.length;if(0<m){const y=Array(m);for(let E=0;E<m;E++)y[E]=u[E];return y}return[]}function F(u,m){for(let y=1;y<arguments.length;y++){const E=arguments[y];if(p(E)){const $=u.length||0,Q=E.length||0;u.length=$+Q;for(let ue=0;ue<Q;ue++)u[$+ue]=E[ue]}else u.push(E)}}class W{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function te(u){return/^[\s\xa0]*$/.test(u)}function Z(){var u=h.navigator;return u&&(u=u.userAgent)?u:""}function pe(u){return pe[" "](u),u}pe[" "]=function(){};var U=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function ce(u,m,y){for(const E in u)m.call(y,u[E],E,u)}function P(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function x(u){const m={};for(const y in u)m[y]=u[y];return m}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(u,m){let y,E;for(let $=1;$<arguments.length;$++){E=arguments[$];for(y in E)u[y]=E[y];for(let Q=0;Q<S.length;Q++)y=S[Q],Object.prototype.hasOwnProperty.call(E,y)&&(u[y]=E[y])}}function D(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function O(u){h.setTimeout(()=>{throw u},0)}function k(){var u=he;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class He{constructor(){this.h=this.g=null}add(m,y){const E=Me.get();E.set(m,y),this.h?this.h.next=E:this.g=E,this.h=E}}var Me=new W(()=>new kt,u=>u.reset());class kt{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Ge,oe=!1,he=new He,fe=()=>{const u=h.Promise.resolve(void 0);Ge=()=>{u.then(V)}};var V=()=>{for(var u;u=k();){try{u.h.call(u.g)}catch(y){O(y)}var m=Me;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}oe=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _e(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}_e.prototype.h=function(){this.defaultPrevented=!0};var De=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};h.addEventListener("test",y,m),h.removeEventListener("test",y,m)}catch{}return u}();function Le(u,m){if(_e.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(U){e:{try{pe(m.nodeName);var $=!0;break e}catch{}$=!1}$||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Be[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Le.aa.h.call(this)}}b(Le,_e);var Be={2:"touch",3:"pen",4:"mouse"};Le.prototype.h=function(){Le.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Qe="closure_listenable_"+(1e6*Math.random()|0),Ye=0;function je(u,m,y,E,$){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!E,this.ha=$,this.key=++Ye,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Zt(u){this.src=u,this.g={},this.h=0}Zt.prototype.add=function(u,m,y,E,$){var Q=u.toString();u=this.g[Q],u||(u=this.g[Q]=[],this.h++);var ue=Ut(u,m,E,$);return-1<ue?(m=u[ue],y||(m.fa=!1)):(m=new je(m,this.src,Q,!!E,$),m.fa=y,u.push(m)),m};function En(u,m){var y=m.type;if(y in u.g){var E=u.g[y],$=Array.prototype.indexOf.call(E,m,void 0),Q;(Q=0<=$)&&Array.prototype.splice.call(E,$,1),Q&&(ht(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Ut(u,m,y,E){for(var $=0;$<u.length;++$){var Q=u[$];if(!Q.da&&Q.listener==m&&Q.capture==!!y&&Q.ha==E)return $}return-1}var nr="closure_lm_"+(1e6*Math.random()|0),yr={};function _r(u,m,y,E,$){if(Array.isArray(m)){for(var Q=0;Q<m.length;Q++)_r(u,m[Q],y,E,$);return null}return y=Ie(y),u&&u[Qe]?u.K(m,y,v(E)?!!E.capture:!!E,$):An(u,m,y,!1,E,$)}function An(u,m,y,E,$,Q){if(!m)throw Error("Invalid event type");var ue=v($)?!!$.capture:!!$,pt=wr(u);if(pt||(u[nr]=pt=new Zt(u)),y=pt.add(m,y,E,ue,Q),y.proxy)return y;if(E=Br(),y.proxy=E,E.src=u,E.listener=y,u.addEventListener)De||($=ue),$===void 0&&($=!1),u.addEventListener(m.toString(),E,$);else if(u.attachEvent)u.attachEvent(jt(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Br(){function u(y){return m.call(u.src,u.listener,y)}const m=Hn;return u}function $n(u,m,y,E,$){if(Array.isArray(m))for(var Q=0;Q<m.length;Q++)$n(u,m[Q],y,E,$);else E=v(E)?!!E.capture:!!E,y=Ie(y),u&&u[Qe]?(u=u.i,m=String(m).toString(),m in u.g&&(Q=u.g[m],y=Ut(Q,y,E,$),-1<y&&(ht(Q[y]),Array.prototype.splice.call(Q,y,1),Q.length==0&&(delete u.g[m],u.h--)))):u&&(u=wr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ut(m,y,E,$)),(y=-1<u?m[u]:null)&&cn(y))}function cn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Qe])En(m.i,u);else{var y=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(y,E,u.capture):m.detachEvent?m.detachEvent(jt(y),E):m.addListener&&m.removeListener&&m.removeListener(E),(y=wr(m))?(En(y,u),y.h==0&&(y.src=null,m[nr]=null)):ht(u)}}}function jt(u){return u in yr?yr[u]:yr[u]="on"+u}function Hn(u,m){if(u.da)u=!0;else{m=new Le(m,this);var y=u.listener,E=u.ha||u.src;u.fa&&cn(u),u=y.call(E,m)}return u}function wr(u){return u=u[nr],u instanceof Zt?u:null}var de="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ie(u){return typeof u=="function"?u:(u[de]||(u[de]=function(m){return u.handleEvent(m)}),u[de])}function Ne(){Y.call(this),this.i=new Zt(this),this.M=this,this.F=null}b(Ne,Y),Ne.prototype[Qe]=!0,Ne.prototype.removeEventListener=function(u,m,y,E){$n(this,u,m,y,E)};function We(u,m){var y,E=u.F;if(E)for(y=[];E;E=E.F)y.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new _e(m,u);else if(m instanceof _e)m.target=m.target||u;else{var $=m;m=new _e(E,u),A(m,$)}if($=!0,y)for(var Q=y.length-1;0<=Q;Q--){var ue=m.g=y[Q];$=mt(ue,E,!0,m)&&$}if(ue=m.g=u,$=mt(ue,E,!0,m)&&$,$=mt(ue,E,!1,m)&&$,y)for(Q=0;Q<y.length;Q++)ue=m.g=y[Q],$=mt(ue,E,!1,m)&&$}Ne.prototype.N=function(){if(Ne.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],E=0;E<y.length;E++)ht(y[E]);delete u.g[m],u.h--}}this.F=null},Ne.prototype.K=function(u,m,y,E){return this.i.add(String(u),m,!1,y,E)},Ne.prototype.L=function(u,m,y,E){return this.i.add(String(u),m,!0,y,E)};function mt(u,m,y,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var $=!0,Q=0;Q<m.length;++Q){var ue=m[Q];if(ue&&!ue.da&&ue.capture==y){var pt=ue.listener,zt=ue.ha||ue.src;ue.fa&&En(u.i,ue),$=pt.call(zt,E)!==!1&&$}}return $&&!E.defaultPrevented}function qn(u,m,y){if(typeof u=="function")y&&(u=I(u,y));else if(u&&typeof u.handleEvent=="function")u=I(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:h.setTimeout(u,m||0)}function xt(u){u.g=qn(()=>{u.g=null,u.i&&(u.i=!1,xt(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Cn extends Y{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:xt(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pn(u){Y.call(this),this.h=u,this.g={}}b(Pn,Y);var rr=[];function ir(u){ce(u.g,function(m,y){this.g.hasOwnProperty(y)&&cn(m)},u),u.g={}}Pn.prototype.N=function(){Pn.aa.N.call(this),ir(this)},Pn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var or=h.JSON.stringify,bn=h.JSON.parse,sr=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function Tn(){}Tn.prototype.h=null;function $r(u){return u.h||(u.h=u.i())}function ci(){}var Dn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wn(){_e.call(this,"d")}b(Wn,_e);function Er(){_e.call(this,"c")}b(Er,_e);var xn={},bo=null;function di(){return bo=bo||new Ne}xn.La="serverreachability";function L(u){_e.call(this,xn.La,u)}b(L,_e);function z(u){const m=di();We(m,new L(m))}xn.STAT_EVENT="statevent";function G(u,m){_e.call(this,xn.STAT_EVENT,u),this.stat=m}b(G,_e);function X(u){const m=di();We(m,new G(m,u))}xn.Ma="timingevent";function me(u,m){_e.call(this,xn.Ma,u),this.size=m}b(me,_e);function we(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},m)}function Ae(){this.g=!0}Ae.prototype.xa=function(){this.g=!1};function ge(u,m,y,E,$,Q){u.info(function(){if(u.g)if(Q)for(var ue="",pt=Q.split("&"),zt=0;zt<pt.length;zt++){var it=pt[zt].split("=");if(1<it.length){var Kt=it[0];it=it[1];var Mt=Kt.split("_");ue=2<=Mt.length&&Mt[1]=="type"?ue+(Kt+"="+it+"&"):ue+(Kt+"=redacted&")}}else ue=null;else ue=Q;return"XMLHTTP REQ ("+E+") [attempt "+$+"]: "+m+`
`+y+`
`+ue})}function Te(u,m,y,E,$,Q,ue){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+$+"]: "+m+`
`+y+`
`+Q+" "+ue})}function le(u,m,y,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+qe(u,y)+(E?" "+E:"")})}function Oe(u,m){u.info(function(){return"TIMEOUT: "+m})}Ae.prototype.info=function(){};function qe(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var E=y[u];if(!(2>E.length)){var $=E[1];if(Array.isArray($)&&!(1>$.length)){var Q=$[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ue=1;ue<$.length;ue++)$[ue]=""}}}}return or(y)}catch{return m}}var ut={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Dt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ze;function st(){}b(st,Tn),st.prototype.g=function(){return new XMLHttpRequest},st.prototype.i=function(){return{}},Ze=new st;function ct(u,m,y,E){this.j=u,this.i=m,this.l=y,this.R=E||1,this.U=new Pn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Tr}function Tr(){this.i=null,this.g="",this.h=!1}var xr={},dn={};function en(u,m,y){u.L=1,u.v=Wi(Kn(m)),u.m=y,u.P=!0,hi(u,null)}function hi(u,m){u.F=Date.now(),dt(u),u.A=Kn(u.v);var y=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),Gi(y.i,"t",E),u.C=0,y=u.j.J,u.h=new Tr,u.g=Yl(u.j,y?m:null,!u.m),0<u.O&&(u.M=new Cn(I(u.Y,u,u.g),u.O)),m=u.U,y=u.g,E=u.ca;var $="readystatechange";Array.isArray($)||($&&(rr[0]=$.toString()),$=rr);for(var Q=0;Q<$.length;Q++){var ue=_r(y,$[Q],E||m.handleEvent,!1,m.h||m);if(!ue)break;m.g[ue.key]=ue}m=u.H?x(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),z(),ge(u.i,u.u,u.A,u.l,u.R,u.m)}ct.prototype.ca=function(u){u=u.target;const m=this.M;m&&On(u)==3?m.j():this.Y(u)},ct.prototype.Y=function(u){try{if(u==this.g)e:{const Mt=On(this.g);var m=this.g.Ba();const lr=this.g.Z();if(!(3>Mt)&&(Mt!=3||this.g&&(this.h.h||this.g.oa()||Ta(this.g)))){this.J||Mt!=4||m==7||(m==8||0>=lr?z(3):z(2)),rt(this);var y=this.g.Z();this.X=y;t:if(Hr(this)){var E=Ta(this.g);u="";var $=E.length,Q=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tn(this),_t(this);var ue="";break t}this.h.i=new h.TextDecoder}for(m=0;m<$;m++)this.h.h=!0,u+=this.h.i.decode(E[m],{stream:!(Q&&m==$-1)});E.length=0,this.h.g+=u,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=y==200,Te(this.i,this.u,this.A,this.l,this.R,Mt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var pt,zt=this.g;if((pt=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(pt)){var it=pt;break t}}it=null}if(y=it)le(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sr(this,y);else{this.o=!1,this.s=3,X(12),tn(this),_t(this);break e}}if(this.P){y=!0;let Qn;for(;!this.J&&this.C<ue.length;)if(Qn=Ir(this,ue),Qn==dn){Mt==4&&(this.s=4,X(14),y=!1),le(this.i,this.l,null,"[Incomplete Response]");break}else if(Qn==xr){this.s=4,X(15),le(this.i,this.l,ue,"[Invalid Chunk]"),y=!1;break}else le(this.i,this.l,Qn,null),Sr(this,Qn);if(Hr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||ue.length!=0||this.h.h||(this.s=1,X(16),y=!1),this.o=this.o&&y,!y)le(this.i,this.l,ue,"[Invalid Chunked Response]"),tn(this),_t(this);else if(0<ue.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),Ia(Kt),Kt.M=!0,X(11))}}else le(this.i,this.l,ue,null),Sr(this,ue);Mt==4&&tn(this),this.o&&!this.J&&(Mt==4?Is(this.j,this):(this.o=!1,dt(this)))}else _s(this.g),y==400&&0<ue.indexOf("Unknown SID")?(this.s=3,X(12)):(this.s=0,X(13)),tn(this),_t(this)}}}catch{}finally{}};function Hr(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Ir(u,m){var y=u.C,E=m.indexOf(`
`,y);return E==-1?dn:(y=Number(m.substring(y,E)),isNaN(y)?xr:(E+=1,E+y>m.length?dn:(m=m.slice(E,E+y),u.C=E+y,m)))}ct.prototype.cancel=function(){this.J=!0,tn(this)};function dt(u){u.S=Date.now()+u.I,fi(u,u.I)}function fi(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=we(I(u.ba,u),m)}function rt(u){u.B&&(h.clearTimeout(u.B),u.B=null)}ct.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Oe(this.i,this.A),this.L!=2&&(z(),X(17)),tn(this),this.s=2,_t(this)):fi(this,this.S-u)};function _t(u){u.j.G==0||u.J||Is(u.j,u)}function tn(u){rt(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,ir(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Sr(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||In(y.h,u))){if(!u.K&&In(y.h,u)&&y.G==3){try{var E=y.Da.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var $=E;if($[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)xs(y),Pr(y);else break e;Ts(y),X(18)}}else y.za=$[1],0<y.za-y.T&&37500>$[2]&&y.F&&y.v==0&&!y.C&&(y.C=we(I(y.Za,y),6e3));if(1>=fs(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else yi(y,11)}else if((u.K||y.g==u)&&xs(y),!te(m))for($=y.Da.g.parse(m),m=0;m<$.length;m++){let it=$[m];if(y.T=it[0],it=it[1],y.G==2)if(it[0]=="c"){y.K=it[1],y.ia=it[2];const Kt=it[3];Kt!=null&&(y.la=Kt,y.j.info("VER="+y.la));const Mt=it[4];Mt!=null&&(y.Aa=Mt,y.j.info("SVER="+y.Aa));const lr=it[5];lr!=null&&typeof lr=="number"&&0<lr&&(E=1.5*lr,y.L=E,y.j.info("backChannelRequestTimeoutMs_="+E)),E=y;const Qn=u.g;if(Qn){const Vo=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vo){var Q=E.h;Q.g||Vo.indexOf("spdy")==-1&&Vo.indexOf("quic")==-1&&Vo.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(ya(Q,Q.h),Q.h=null))}if(E.D){const Rs=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Rs&&(E.ya=Rs,gt(E.I,E.D,Rs))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),E=y;var ue=u;if(E.qa=Ql(E,E.J?E.ia:null,E.W),ue.K){Vl(E.h,ue);var pt=ue,zt=E.L;zt&&(pt.I=zt),pt.B&&(rt(pt),dt(pt)),E.g=ue}else Mo(E);0<y.i.length&&Gr(y)}else it[0]!="stop"&&it[0]!="close"||yi(y,7);else y.G==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?yi(y,7):rn(y):it[0]!="noop"&&y.l&&y.l.ta(it),y.v=0)}}z(4)}catch{}}var wt=class{constructor(u,m){this.g=u,this.map=m}};function Nn(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function fs(u){return u.h?1:u.g?u.g.size:0}function In(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ya(u,m){u.g?u.g.add(m):u.h=m}function Vl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Nn.prototype.cancel=function(){if(this.i=Fl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Fl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return j(u.i)}function ps(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,E=0;E<y;E++)m.push(u[E]);return m}m=[],y=0;for(E in u)m[y++]=u[E];return m}function ms(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const E in u)m[y++]=E;return m}}}function $i(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=ms(u),E=ps(u),$=E.length,Q=0;Q<$;Q++)m.call(void 0,E[Q],y&&y[Q],u)}var Do=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ud(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var E=u[y].indexOf("="),$=null;if(0<=E){var Q=u[y].substring(0,E);$=u[y].substring(E+1)}else Q=u[y];m(Q,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function pi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof pi){this.h=u.h,No(this,u.j),this.o=u.o,this.g=u.g,Hi(this,u.s),this.l=u.l;var m=u.i,y=new qr;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),qi(this,y),this.m=u.m}else u&&(m=String(u).match(Do))?(this.h=!1,No(this,m[1]||"",!0),this.o=et(m[2]||""),this.g=et(m[3]||"",!0),Hi(this,m[4]),this.l=et(m[5]||"",!0),qi(this,m[6]||"",!0),this.m=et(m[7]||"")):(this.h=!1,this.i=new qr(null,this.h))}pi.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Ki(m,gs,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ki(m,gs,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Ki(y,y.charAt(0)=="/"?zl:jl,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Ki(y,_a)),u.join("")};function Kn(u){return new pi(u)}function No(u,m,y){u.j=y?et(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Hi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function qi(u,m,y){m instanceof qr?(u.i=m,Wr(u.i,u.h)):(y||(m=Ki(m,Bl)),u.i=new qr(m,u.h))}function gt(u,m,y){u.i.set(m,y)}function Wi(u){return gt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function et(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ki(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,Ul),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ul(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var gs=/[#\/\?@]/g,jl=/[#\?:]/g,zl=/[#\?]/g,Bl=/[#\?@]/g,_a=/#/g;function qr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function nn(u){u.g||(u.g=new Map,u.h=0,u.i&&ud(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}n=qr.prototype,n.add=function(u,m){nn(this),this.i=null,u=ar(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Rr(u,m){nn(u),m=ar(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function kr(u,m){return nn(u),m=ar(u,m),u.g.has(m)}n.forEach=function(u,m){nn(this),this.g.forEach(function(y,E){y.forEach(function($){u.call(m,$,E,this)},this)},this)},n.na=function(){nn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let E=0;E<m.length;E++){const $=u[E];for(let Q=0;Q<$.length;Q++)y.push(m[E])}return y},n.V=function(u){nn(this);let m=[];if(typeof u=="string")kr(this,u)&&(m=m.concat(this.g.get(ar(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},n.set=function(u,m){return nn(this),this.i=null,u=ar(this,u),kr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Gi(u,m,y){Rr(u,m),0<y.length&&(u.i=null,u.g.set(ar(u,m),j(y)),u.h+=y.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var E=m[y];const Q=encodeURIComponent(String(E)),ue=this.V(E);for(E=0;E<ue.length;E++){var $=Q;ue[E]!==""&&($+="="+encodeURIComponent(String(ue[E]))),u.push($)}}return this.i=u.join("&")};function ar(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Wr(u,m){m&&!u.j&&(nn(u),u.i=null,u.g.forEach(function(y,E){var $=E.toLowerCase();E!=$&&(Rr(this,E),Gi(this,$,y))},u)),u.j=m}function cd(u,m){const y=new Ae;if(h.Image){const E=new Image;E.onload=C(Ln,y,"TestLoadImage: loaded",!0,m,E),E.onerror=C(Ln,y,"TestLoadImage: error",!1,m,E),E.onabort=C(Ln,y,"TestLoadImage: abort",!1,m,E),E.ontimeout=C(Ln,y,"TestLoadImage: timeout",!1,m,E),h.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function $l(u,m){const y=new Ae,E=new AbortController,$=setTimeout(()=>{E.abort(),Ln(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(Q=>{clearTimeout($),Q.ok?Ln(y,"TestPingServer: ok",!0,m):Ln(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout($),Ln(y,"TestPingServer: error",!1,m)})}function Ln(u,m,y,E,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),E(y)}catch{}}function dd(){this.g=new sr}function Hl(u,m,y){const E=y||"";try{$i(u,function($,Q){let ue=$;v($)&&(ue=or($)),m.push(E+Q+"="+encodeURIComponent(ue))})}catch($){throw m.push(E+"type="+encodeURIComponent("_badmap")),$}}function mi(u){this.l=u.Ub||null,this.j=u.eb||!1}b(mi,Tn),mi.prototype.g=function(){return new Lo(this.l,this.j)},mi.prototype.i=function(u){return function(){return u}}({});function Lo(u,m){Ne.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Lo,Ne),n=Lo.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Cr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||h).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ar(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Cr(this)),this.g&&(this.readyState=3,Cr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ql(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ql(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ar(this):Cr(this),this.readyState==3&&ql(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Ar(this))},n.Qa=function(u){this.g&&(this.response=u,Ar(this))},n.ga=function(){this.g&&Ar(this)};function Ar(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Cr(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Cr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Lo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function gi(u){let m="";return ce(u,function(y,E){m+=E,m+=":",m+=y,m+=`\r
`}),m}function Qi(u,m,y){e:{for(E in y){var E=!1;break e}E=!0}E||(y=gi(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):gt(u,m,y))}function It(u){Ne.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(It,Ne);var hd=/^https?$/i,wa=["POST","PUT"];n=It.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,y,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ze.g(),this.v=this.o?$r(this.o):$r(Ze),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(Q){Oo(this,Q);return}if(u=y||"",y=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var $ in E)y.set($,E[$]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const Q of E.keys())y.set(Q,E.get(Q));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(y.keys()).find(Q=>Q.toLowerCase()=="content-type"),$=h.FormData&&u instanceof h.FormData,!(0<=Array.prototype.indexOf.call(wa,m,void 0))||E||$||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ue]of y)this.g.setRequestHeader(Q,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ys(this),this.u=!0,this.g.send(u),this.u=!1}catch(Q){Oo(this,Q)}};function Oo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,vs(u),Gn(u)}function vs(u){u.A||(u.A=!0,We(u,"complete"),We(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,We(this,"complete"),We(this,"abort"),Gn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gn(this,!0)),It.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ea(this):this.bb())},n.bb=function(){Ea(this)};function Ea(u){if(u.h&&typeof c<"u"&&(!u.v[1]||On(u)!=4||u.Z()!=2)){if(u.u&&On(u)==4)qn(u.Ea,0,u);else if(We(u,"readystatechange"),On(u)==4){u.h=!1;try{const ue=u.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var y;if(!(y=m)){var E;if(E=ue===0){var $=String(u.D).match(Do)[1]||null;!$&&h.self&&h.self.location&&($=h.self.location.protocol.slice(0,-1)),E=!hd.test($?$.toLowerCase():"")}y=E}if(y)We(u,"complete"),We(u,"success");else{u.m=6;try{var Q=2<On(u)?u.g.statusText:""}catch{Q=""}u.l=Q+" ["+u.Z()+"]",vs(u)}}finally{Gn(u)}}}}function Gn(u,m){if(u.g){ys(u);const y=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||We(u,"ready");try{y.onreadystatechange=E}catch{}}}function ys(u){u.I&&(h.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function On(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),bn(m)}};function Ta(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function _s(u){const m={};u=(u.g&&2<=On(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(te(u[E]))continue;var y=D(u[E]);const $=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const Q=m[$]||[];m[$]=Q,Q.push(y)}P(m,function(E){return E.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Kr(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function xa(u){this.Aa=0,this.i=[],this.j=new Ae,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kr("baseRetryDelayMs",5e3,u),this.cb=Kr("retryDelaySeedMs",1e4,u),this.Wa=Kr("forwardChannelMaxRetries",2,u),this.wa=Kr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Nn(u&&u.concurrentRequestLimit),this.Da=new dd,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=xa.prototype,n.la=8,n.G=1,n.connect=function(u,m,y,E){X(0),this.W=u,this.H=m||{},y&&E!==void 0&&(this.H.OSID=y,this.H.OAID=E),this.F=this.X,this.I=Ql(this,null,this.W),Gr(this)};function rn(u){if(ws(u),u.G==3){var m=u.U++,y=Kn(u.I);if(gt(y,"SID",u.K),gt(y,"RID",m),gt(y,"TYPE","terminate"),vi(u,y),m=new ct(u,u.j,m),m.L=2,m.v=Wi(Kn(y)),y=!1,h.navigator&&h.navigator.sendBeacon)try{y=h.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&h.Image&&(new Image().src=m.v,y=!0),y||(m.g=Yl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),dt(m)}Gl(u)}function Pr(u){u.g&&(Ia(u),u.g.cancel(),u.g=null)}function ws(u){Pr(u),u.u&&(h.clearTimeout(u.u),u.u=null),xs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&h.clearTimeout(u.s),u.s=null)}function Gr(u){if(!hn(u.h)&&!u.s){u.s=!0;var m=u.Ga;Ge||fe(),oe||(Ge(),oe=!0),he.add(m,u),u.B=0}}function fd(u,m){return fs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=we(I(u.Ga,u,m),Kl(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const $=new ct(this,this.j,u);let Q=this.o;if(this.S&&(Q?(Q=x(Q),A(Q,this.S)):Q=this.S),this.m!==null||this.O||($.H=Q,Q=null),this.P)e:{for(var m=0,y=0;y<this.i.length;y++){t:{var E=this.i[y];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(m+=E,4096<m){m=y;break e}if(m===4096||y===this.i.length-1){m=y+1;break e}}m=1e3}else m=1e3;m=Yi(this,$,m),y=Kn(this.I),gt(y,"RID",u),gt(y,"CVER",22),this.D&&gt(y,"X-HTTP-Session-Id",this.D),vi(this,y),Q&&(this.O?m="headers="+encodeURIComponent(String(gi(Q)))+"&"+m:this.m&&Qi(y,this.m,Q)),ya(this.h,$),this.Ua&&gt(y,"TYPE","init"),this.P?(gt(y,"$req",m),gt(y,"SID","null"),$.T=!0,en($,y,null)):en($,y,m),this.G=2}}else this.G==3&&(u?Es(this,u):this.i.length==0||hn(this.h)||Es(this))};function Es(u,m){var y;m?y=m.l:y=u.U++;const E=Kn(u.I);gt(E,"SID",u.K),gt(E,"RID",y),gt(E,"AID",u.T),vi(u,E),u.m&&u.o&&Qi(E,u.m,u.o),y=new ct(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Yi(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ya(u.h,y),en(y,E,m)}function vi(u,m){u.H&&ce(u.H,function(y,E){gt(m,E,y)}),u.l&&$i({},function(y,E){gt(m,E,y)})}function Yi(u,m,y){y=Math.min(u.i.length,y);var E=u.l?I(u.l.Na,u.l,u):null;e:{var $=u.i;let Q=-1;for(;;){const ue=["count="+y];Q==-1?0<y?(Q=$[0].g,ue.push("ofs="+Q)):Q=0:ue.push("ofs="+Q);let pt=!0;for(let zt=0;zt<y;zt++){let it=$[zt].g;const Kt=$[zt].map;if(it-=Q,0>it)Q=Math.max(0,$[zt].g-100),pt=!1;else try{Hl(Kt,ue,"req"+it+"_")}catch{E&&E(Kt)}}if(pt){E=ue.join("&");break e}}}return u=u.i.splice(0,y),m.D=u,E}function Mo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Ge||fe(),oe||(Ge(),oe=!0),he.add(m,u),u.v=0}}function Ts(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=we(I(u.Fa,u),Kl(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Wl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=we(I(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,X(10),Pr(this),Wl(this))};function Ia(u){u.A!=null&&(h.clearTimeout(u.A),u.A=null)}function Wl(u){u.g=new ct(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Kn(u.qa);gt(m,"RID","rpc"),gt(m,"SID",u.K),gt(m,"AID",u.T),gt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&gt(m,"TO",u.ja),gt(m,"TYPE","xmlhttp"),vi(u,m),u.m&&u.o&&Qi(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=Wi(Kn(m)),y.m=null,y.P=!0,hi(y,u)}n.Za=function(){this.C!=null&&(this.C=null,Pr(this),Ts(this),X(19))};function xs(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function Is(u,m){var y=null;if(u.g==m){xs(u),Ia(u),u.g=null;var E=2}else if(In(u.h,m))y=m.D,Vl(u.h,m),E=1;else return;if(u.G!=0){if(m.o)if(E==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var $=u.B;E=di(),We(E,new me(E,y)),Gr(u)}else Mo(u);else if($=m.s,$==3||$==0&&0<m.X||!(E==1&&fd(u,m)||E==2&&Ts(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),$){case 1:yi(u,5);break;case 4:yi(u,10);break;case 3:yi(u,6);break;default:yi(u,2)}}}function Kl(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function yi(u,m){if(u.j.info("Error code "+m),m==2){var y=I(u.fb,u),E=u.Xa;const $=!E;E=new pi(E||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||No(E,"https"),Wi(E),$?cd(E.toString(),y):$l(E.toString(),y)}else X(2);u.G=0,u.l&&u.l.sa(m),Gl(u),ws(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),X(2)):(this.j.info("Failed to ping google.com"),X(1))};function Gl(u){if(u.G=0,u.ka=[],u.l){const m=Fl(u.h);(m.length!=0||u.i.length!=0)&&(F(u.ka,m),F(u.ka,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.ra()}}function Ql(u,m,y){var E=y instanceof pi?Kn(y):new pi(y);if(E.g!="")m&&(E.g=m+"."+E.g),Hi(E,E.s);else{var $=h.location;E=$.protocol,m=m?m+"."+$.hostname:$.hostname,$=+$.port;var Q=new pi(null);E&&No(Q,E),m&&(Q.g=m),$&&Hi(Q,$),y&&(Q.l=y),E=Q}return y=u.D,m=u.ya,y&&m&&gt(E,y,m),gt(E,"VER",u.la),vi(u,E),E}function Yl(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new It(new mi({eb:y})):new It(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Sa(){}n=Sa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Ss(){}Ss.prototype.g=function(u,m){return new Sn(u,m)};function Sn(u,m){Ne.call(this),this.g=new xa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!te(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!te(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Qr(this)}b(Sn,Ne),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){rn(this.g)},Sn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=or(u),u=y);m.i.push(new wt(m.Ya++,u)),m.G==3&&Gr(m)},Sn.prototype.N=function(){this.g.l=null,delete this.j,rn(this.g),delete this.g,Sn.aa.N.call(this)};function Xl(u){Wn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const y in m){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(Xl,Wn);function Jl(){Er.call(this),this.status=1}b(Jl,Er);function Qr(u){this.g=u}b(Qr,Sa),Qr.prototype.ua=function(){We(this.g,"a")},Qr.prototype.ta=function(u){We(this.g,new Xl(u))},Qr.prototype.sa=function(u){We(this.g,new Jl)},Qr.prototype.ra=function(){We(this.g,"b")},Ss.prototype.createWebChannel=Ss.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,fw=function(){return new Ss},hw=function(){return di()},dw=xn,vf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ut.NO_ERROR=0,ut.TIMEOUT=8,ut.HTTP_ERROR=6,cc=ut,Dt.COMPLETE="complete",cw=Dt,ci.EventType=Dn,Dn.OPEN="a",Dn.CLOSE="b",Dn.ERROR="c",Dn.MESSAGE="d",Ne.prototype.listen=Ne.prototype.K,rl=ci,It.prototype.listenOnce=It.prototype.L,It.prototype.getLastError=It.prototype.Ka,It.prototype.getLastErrorCode=It.prototype.Ba,It.prototype.getStatus=It.prototype.Z,It.prototype.getResponseJson=It.prototype.Oa,It.prototype.getResponseText=It.prototype.oa,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Ha,uw=It}).apply(typeof Qu<"u"?Qu:typeof self<"u"?self:typeof window<"u"?window:{});const Yv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pa="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os=new Gf("@firebase/firestore");function Gs(){return os.logLevel}function ye(n,...e){if(os.logLevel<=Xe.DEBUG){const t=e.map(lp);os.debug(`Firestore (${pa}): ${n}`,...t)}}function Oi(n,...e){if(os.logLevel<=Xe.ERROR){const t=e.map(lp);os.error(`Firestore (${pa}): ${n}`,...t)}}function ia(n,...e){if(os.logLevel<=Xe.WARN){const t=e.map(lp);os.warn(`Firestore (${pa}): ${n}`,...t)}}function lp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ue(n="Unexpected state"){const e=`FIRESTORE (${pa}) INTERNAL ASSERTION FAILED: `+n;throw Oi(e),new Error(e)}function ft(n,e){n||Ue()}function $e(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends Ui{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ik{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(yn.UNAUTHENTICATED))}shutdown(){}}class ok{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class sk{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ft(this.o===void 0);let i=this.i;const s=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let a=new Di;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Di,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const p=a;e.enqueueRetryable(async()=>{await p.promise,await s(this.currentUser)})},h=p=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>h(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Di)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ft(typeof i.accessToken=="string"),new pw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ft(e===null||typeof e=="string"),new yn(e)}}class ak{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class lk{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new ak(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ck{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){ft(this.o===void 0);const i=a=>{a.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.R;return this.R=a.token,ye("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const s=a=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ft(typeof t.token=="string"),this.R=t.token,new uk(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const s=dk(40);for(let a=0;a<s.length;++a)i.length<20&&s[a]<t&&(i+=e.charAt(s[a]%e.length))}return i}}function tt(n,e){return n<e?-1:n>e?1:0}function oa(n,e,t){return n.length===e.length&&n.every((i,s)=>t(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{static now(){return qt.fromMillis(Date.now())}static fromDate(e){return qt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new qt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ke(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ke(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ke(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?tt(this.nanoseconds,e.nanoseconds):tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new qt(0,0))}static max(){return new ze(new qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ue(),i===void 0?i=e.length-t:i>e.length-t&&Ue(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ti.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ti?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const a=ti.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=ti.isNumericId(e),s=ti.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?ti.extractNumericId(e).compare(ti.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return To.fromString(e.substring(4,e.length-2))}}class Rt extends ti{construct(e,t,i){return new Rt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ke(re.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(s=>s.length>0))}return new Rt(t)}static emptyPath(){return new Rt([])}}const hk=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends ti{construct(e,t,i){return new ln(e,t,i)}static isValidIdentifier(e){return hk.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ln(["__name__"])}static fromServerFormat(e){const t=[];let i="",s=0;const a=()=>{if(i.length===0)throw new ke(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new ke(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ke(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,s+=2}else h==="`"?(c=!c,s++):h!=="."||c?(i+=h,s++):(a(),s++)}if(a(),c)throw new ke(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(t)}static emptyPath(){return new ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(Rt.fromString(e))}static fromName(e){return new be(Rt.fromString(e).popFirst(5))}static empty(){return new be(Rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Rt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new Rt(e.slice()))}}function fk(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=ze.fromTimestamp(i===1e9?new qt(t+1,0):new qt(t,i));return new So(s,be.empty(),e)}function pk(n){return new So(n.readTime,n.key,-1)}class So{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new So(ze.min(),be.empty(),-1)}static max(){return new So(ze.max(),be.empty(),-1)}}function mk(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=be.comparator(n.documentKey,e.documentKey),t!==0?t:tt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ma(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==gk)throw n;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J((i,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):J.reject(t)}static resolve(e){return new J((t,i)=>{t(e)})}static reject(e){return new J((t,i)=>{i(e)})}static waitFor(e){return new J((t,i)=>{let s=0,a=0,c=!1;e.forEach(h=>{++s,h.next(()=>{++a,c&&a===s&&t()},p=>i(p))}),c=!0,a===s&&t()})}static or(e){let t=J.resolve(!1);for(const i of e)t=t.next(s=>s?J.resolve(s):i());return t}static forEach(e,t){const i=[];return e.forEach((s,a)=>{i.push(t.call(this,s,a))}),this.waitFor(i)}static mapArray(e,t){return new J((i,s)=>{const a=e.length,c=new Array(a);let h=0;for(let p=0;p<a;p++){const v=p;t(e[v]).next(_=>{c[v]=_,++h,h===a&&i(c)},_=>s(_))}})}static doWhile(e,t){return new J((i,s)=>{const a=()=>{e()===!0?t().next(()=>{a()},s):i()};a()})}}function yk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ga(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Qc.oe=-1;function Yc(n){return n==null}function Cc(n){return n===0&&1/n==-1/0}function _k(n){return typeof n=="number"&&Number.isInteger(n)&&!Cc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Xv(e)),e=Ek(n.get(t),e);return Xv(e)}function Ek(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function Xv(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function us(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function gw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,t){this.comparator=e,this.root=t||an.EMPTY}insert(e,t){return new bt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yu(this.root,e,this.comparator,!0)}}class Yu{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,t,i,s,a){this.key=e,this.value=t,this.color=i??an.RED,this.left=s??an.EMPTY,this.right=a??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,a){return new an(e??this.key,t??this.value,i??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const a=i(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,i),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return an.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ue();const e=this.left.check();if(e!==this.right.check())throw Ue();return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue()}get value(){throw Ue()}get color(){throw Ue()}get left(){throw Ue()}get right(){throw Ue()}copy(e,t,i,s,a){return this}insert(e,t,i){return new an(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Zv(this.data.getIterator())}getIteratorFrom(e){return new Zv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=i.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Wt(this.comparator);return t.data=e,t}}class Zv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new Ur([])}unionWith(e){let t=new Wt(ln.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Ur(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return oa(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new vw("Invalid base64 string: "+a):a}}(e);return new un(t)}static fromUint8Array(e){const t=function(s){let a="";for(let c=0;c<s.length;++c)a+=String.fromCharCode(s[c]);return a}(e);return new un(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const Tk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ro(n){if(ft(!!n),typeof n=="string"){let e=0;const t=Tk.exec(n);if(ft(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ot(n.seconds),nanos:Ot(n.nanos)}}function Ot(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ko(n){return typeof n=="string"?un.fromBase64String(n):un.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Xc(n){const e=n.mapValue.fields.__previous_value__;return up(e)?Xc(e):e}function gl(n){const e=Ro(n.mapValue.fields.__local_write_time__.timestampValue);return new qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,t,i,s,a,c,h,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=v}}class vl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new vl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof vl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ao(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?up(n)?4:Sk(n)?9007199254740991:Ik(n)?10:11:Ue()}function ai(n,e){if(n===e)return!0;const t=Ao(n);if(t!==Ao(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return gl(n).isEqual(gl(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const c=Ro(s.timestampValue),h=Ro(a.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,a){return ko(s.bytesValue).isEqual(ko(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return Ot(s.geoPointValue.latitude)===Ot(a.geoPointValue.latitude)&&Ot(s.geoPointValue.longitude)===Ot(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Ot(s.integerValue)===Ot(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const c=Ot(s.doubleValue),h=Ot(a.doubleValue);return c===h?Cc(c)===Cc(h):isNaN(c)&&isNaN(h)}return!1}(n,e);case 9:return oa(n.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:case 11:return function(s,a){const c=s.mapValue.fields||{},h=a.mapValue.fields||{};if(Jv(c)!==Jv(h))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(h[p]===void 0||!ai(c[p],h[p])))return!1;return!0}(n,e);default:return Ue()}}function yl(n,e){return(n.values||[]).find(t=>ai(t,e))!==void 0}function sa(n,e){if(n===e)return 0;const t=Ao(n),i=Ao(e);if(t!==i)return tt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return tt(n.booleanValue,e.booleanValue);case 2:return function(a,c){const h=Ot(a.integerValue||a.doubleValue),p=Ot(c.integerValue||c.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1}(n,e);case 3:return ey(n.timestampValue,e.timestampValue);case 4:return ey(gl(n),gl(e));case 5:return tt(n.stringValue,e.stringValue);case 6:return function(a,c){const h=ko(a),p=ko(c);return h.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const h=a.split("/"),p=c.split("/");for(let v=0;v<h.length&&v<p.length;v++){const _=tt(h[v],p[v]);if(_!==0)return _}return tt(h.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const h=tt(Ot(a.latitude),Ot(c.latitude));return h!==0?h:tt(Ot(a.longitude),Ot(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return ty(n.arrayValue,e.arrayValue);case 10:return function(a,c){var h,p,v,_;const T=a.fields||{},I=c.fields||{},C=(h=T.value)===null||h===void 0?void 0:h.arrayValue,b=(p=I.value)===null||p===void 0?void 0:p.arrayValue,j=tt(((v=C==null?void 0:C.values)===null||v===void 0?void 0:v.length)||0,((_=b==null?void 0:b.values)===null||_===void 0?void 0:_.length)||0);return j!==0?j:ty(C,b)}(n.mapValue,e.mapValue);case 11:return function(a,c){if(a===Xu.mapValue&&c===Xu.mapValue)return 0;if(a===Xu.mapValue)return 1;if(c===Xu.mapValue)return-1;const h=a.fields||{},p=Object.keys(h),v=c.fields||{},_=Object.keys(v);p.sort(),_.sort();for(let T=0;T<p.length&&T<_.length;++T){const I=tt(p[T],_[T]);if(I!==0)return I;const C=sa(h[p[T]],v[_[T]]);if(C!==0)return C}return tt(p.length,_.length)}(n.mapValue,e.mapValue);default:throw Ue()}}function ey(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return tt(n,e);const t=Ro(n),i=Ro(e),s=tt(t.seconds,i.seconds);return s!==0?s:tt(t.nanos,i.nanos)}function ty(n,e){const t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const a=sa(t[s],i[s]);if(a)return a}return tt(t.length,i.length)}function aa(n){return yf(n)}function yf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Ro(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ko(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return be.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",s=!0;for(const a of t.values||[])s?s=!1:i+=",",i+=yf(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const c of i)a?a=!1:s+=",",s+=`${c}:${yf(t.fields[c])}`;return s+"}"}(n.mapValue):Ue()}function dc(n){switch(Ao(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Xc(n);return e?16+dc(e):16;case 5:return 2*n.stringValue.length;case 6:return ko(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,a)=>s+dc(a),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return us(i.fields,(a,c)=>{s+=a.length+dc(c)}),s}(n.mapValue);default:throw Ue()}}function _f(n){return!!n&&"integerValue"in n}function cp(n){return!!n&&"arrayValue"in n}function ny(n){return!!n&&"nullValue"in n}function ry(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function hc(n){return!!n&&"mapValue"in n}function Ik(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function ll(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return us(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=ll(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ll(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Sk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{constructor(e){this.value=e}static empty(){return new gr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!hc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ll(t)}setAll(e){let t=ln.emptyPath(),i={},s=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,i,s),i={},s=[],t=h.popLast()}c?i[h.lastSegment()]=ll(c):s.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,s)}delete(e){const t=this.field(e.popLast());hc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];hc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){us(t,(s,a)=>e[s]=a);for(const s of i)delete e[s]}clone(){return new gr(ll(this.value))}}function yw(n){const e=[];return us(n.fields,(t,i)=>{const s=new ln([t]);if(hc(i)){const a=yw(i.mapValue).fields;if(a.length===0)e.push(s);else for(const c of a)e.push(s.child(c))}else e.push(s)}),new Ur(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,t,i,s,a,c,h){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=a,this.data=c,this.documentState=h}static newInvalidDocument(e){return new _n(e,0,ze.min(),ze.min(),ze.min(),gr.empty(),0)}static newFoundDocument(e,t,i,s){return new _n(e,1,t,ze.min(),i,s,0)}static newNoDocument(e,t){return new _n(e,2,t,ze.min(),ze.min(),gr.empty(),0)}static newUnknownDocument(e,t){return new _n(e,3,t,ze.min(),ze.min(),gr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,t){this.position=e,this.inclusive=t}}function iy(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const a=e[s],c=n.position[s];if(a.field.isKeyField()?i=be.comparator(be.fromName(c.referenceValue),t.key):i=sa(c,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function oy(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ai(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,t="asc"){this.field=e,this.dir=t}}function Rk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{}class Ht extends _w{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new Ak(e,t,i):t==="array-contains"?new bk(e,i):t==="in"?new Dk(e,i):t==="not-in"?new Nk(e,i):t==="array-contains-any"?new Lk(e,i):new Ht(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new Ck(e,i):new Pk(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(sa(t,this.value)):t!==null&&Ao(this.value)===Ao(t)&&this.matchesComparison(sa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends _w{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new li(e,t)}matches(e){return ww(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function ww(n){return n.op==="and"}function Ew(n){return kk(n)&&ww(n)}function kk(n){for(const e of n.filters)if(e instanceof li)return!1;return!0}function wf(n){if(n instanceof Ht)return n.field.canonicalString()+n.op.toString()+aa(n.value);if(Ew(n))return n.filters.map(e=>wf(e)).join(",");{const e=n.filters.map(t=>wf(t)).join(",");return`${n.op}(${e})`}}function Tw(n,e){return n instanceof Ht?function(i,s){return s instanceof Ht&&i.op===s.op&&i.field.isEqual(s.field)&&ai(i.value,s.value)}(n,e):n instanceof li?function(i,s){return s instanceof li&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((a,c,h)=>a&&Tw(c,s.filters[h]),!0):!1}(n,e):void Ue()}function xw(n){return n instanceof Ht?function(t){return`${t.field.canonicalString()} ${t.op} ${aa(t.value)}`}(n):n instanceof li?function(t){return t.op.toString()+" {"+t.getFilters().map(xw).join(" ,")+"}"}(n):"Filter"}class Ak extends Ht{constructor(e,t,i){super(e,t,i),this.key=be.fromName(i.referenceValue)}matches(e){const t=be.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ck extends Ht{constructor(e,t){super(e,"in",t),this.keys=Iw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Pk extends Ht{constructor(e,t){super(e,"not-in",t),this.keys=Iw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Iw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>be.fromName(i.referenceValue))}class bk extends Ht{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return cp(t)&&yl(t.arrayValue,this.value)}}class Dk extends Ht{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&yl(this.value.arrayValue,t)}}class Nk extends Ht{constructor(e,t){super(e,"not-in",t)}matches(e){if(yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!yl(this.value.arrayValue,t)}}class Lk extends Ht{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!cp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>yl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,t=null,i=[],s=[],a=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=a,this.startAt=c,this.endAt=h,this.ue=null}}function sy(n,e=null,t=[],i=[],s=null,a=null,c=null){return new Ok(n,e,t,i,s,a,c)}function dp(n){const e=$e(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>wf(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),Yc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>aa(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>aa(i)).join(",")),e.ue=t}return e.ue}function hp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Rk(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Tw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!oy(n.startAt,e.startAt)&&oy(n.endAt,e.endAt)}function Ef(n){return be.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,t=null,i=[],s=[],a=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=a,this.limitType=c,this.startAt=h,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Mk(n,e,t,i,s,a,c,h){return new Jc(n,e,t,i,s,a,c,h)}function fp(n){return new Jc(n)}function ay(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Vk(n){return n.collectionGroup!==null}function ul(n){const e=$e(n);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Wt(ln.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(v=>{v.isInequality()&&(h=h.add(v.field))})}),h})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new bc(a,i))}),t.has(ln.keyField().canonicalString())||e.ce.push(new bc(ln.keyField(),i))}return e.ce}function ii(n){const e=$e(n);return e.le||(e.le=Fk(e,ul(n))),e.le}function Fk(n,e){if(n.limitType==="F")return sy(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new bc(s.field,a)});const t=n.endAt?new Pc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Pc(n.startAt.position,n.startAt.inclusive):null;return sy(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Tf(n,e,t){return new Jc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Zc(n,e){return hp(ii(n),ii(e))&&n.limitType===e.limitType}function Sw(n){return`${dp(ii(n))}|lt:${n.limitType}`}function Qs(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(s=>xw(s)).join(", ")}]`),Yc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>aa(s)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>aa(s)).join(",")),`Target(${i})`}(ii(n))}; limitType=${n.limitType})`}function ed(n,e){return e.isFoundDocument()&&function(i,s){const a=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):be.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,s){for(const a of ul(i))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,s){for(const a of i.filters)if(!a.matches(s))return!1;return!0}(n,e)&&function(i,s){return!(i.startAt&&!function(c,h,p){const v=iy(c,h,p);return c.inclusive?v<=0:v<0}(i.startAt,ul(i),s)||i.endAt&&!function(c,h,p){const v=iy(c,h,p);return c.inclusive?v>=0:v>0}(i.endAt,ul(i),s))}(n,e)}function Uk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Rw(n){return(e,t)=>{let i=!1;for(const s of ul(n)){const a=jk(s,e,t);if(a!==0)return a;i=i||s.field.isKeyField()}return 0}}function jk(n,e,t){const i=n.field.isKeyField()?be.comparator(e.key,t.key):function(a,c,h){const p=c.data.field(a),v=h.data.field(a);return p!==null&&v!==null?sa(p,v):Ue()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ue()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,a]of i)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){us(this.inner,(t,i)=>{for(const[s,a]of i)e(s,a)})}isEmpty(){return gw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk=new bt(be.comparator);function Mi(){return zk}const kw=new bt(be.comparator);function il(...n){let e=kw;for(const t of n)e=e.insert(t.key,t);return e}function Aw(n){let e=kw;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ts(){return cl()}function Cw(){return cl()}function cl(){return new cs(n=>n.toString(),(n,e)=>n.isEqual(e))}const Bk=new bt(be.comparator),$k=new Wt(be.comparator);function Je(...n){let e=$k;for(const t of n)e=e.add(t);return e}const Hk=new Wt(tt);function qk(){return Hk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cc(e)?"-0":e}}function Pw(n){return{integerValue:""+n}}function Wk(n,e){return _k(e)?Pw(e):pp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(){this._=void 0}}function Kk(n,e,t){return n instanceof Dc?function(s,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&up(a)&&(a=Xc(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}}(t,e):n instanceof _l?Dw(n,e):n instanceof wl?Nw(n,e):function(s,a){const c=bw(s,a),h=ly(c)+ly(s.Pe);return _f(c)&&_f(s.Pe)?Pw(h):pp(s.serializer,h)}(n,e)}function Gk(n,e,t){return n instanceof _l?Dw(n,e):n instanceof wl?Nw(n,e):t}function bw(n,e){return n instanceof Nc?function(i){return _f(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class Dc extends td{}class _l extends td{constructor(e){super(),this.elements=e}}function Dw(n,e){const t=Lw(e);for(const i of n.elements)t.some(s=>ai(s,i))||t.push(i);return{arrayValue:{values:t}}}class wl extends td{constructor(e){super(),this.elements=e}}function Nw(n,e){let t=Lw(e);for(const i of n.elements)t=t.filter(s=>!ai(s,i));return{arrayValue:{values:t}}}class Nc extends td{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function ly(n){return Ot(n.integerValue||n.doubleValue)}function Lw(n){return cp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Qk(n,e){return n.field.isEqual(e.field)&&function(i,s){return i instanceof _l&&s instanceof _l||i instanceof wl&&s instanceof wl?oa(i.elements,s.elements,ai):i instanceof Nc&&s instanceof Nc?ai(i.Pe,s.Pe):i instanceof Dc&&s instanceof Dc}(n.transform,e.transform)}class Yk{constructor(e,t){this.version=e,this.transformResults=t}}class oi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new oi}static exists(e){return new oi(void 0,e)}static updateTime(e){return new oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class nd{}function Ow(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Vw(n.key,oi.none()):new Dl(n.key,n.data,oi.none());{const t=n.data,i=gr.empty();let s=new Wt(ln.comparator);for(let a of e.fields)if(!s.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?i.delete(a):i.set(a,c),s=s.add(a)}return new ds(n.key,i,new Ur(s.toArray()),oi.none())}}function Xk(n,e,t){n instanceof Dl?function(s,a,c){const h=s.value.clone(),p=cy(s.fieldTransforms,a,c.transformResults);h.setAll(p),a.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,e,t):n instanceof ds?function(s,a,c){if(!fc(s.precondition,a))return void a.convertToUnknownDocument(c.version);const h=cy(s.fieldTransforms,a,c.transformResults),p=a.data;p.setAll(Mw(s)),p.setAll(h),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(s,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function dl(n,e,t,i){return n instanceof Dl?function(a,c,h,p){if(!fc(a.precondition,c))return h;const v=a.value.clone(),_=dy(a.fieldTransforms,p,c);return v.setAll(_),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),null}(n,e,t,i):n instanceof ds?function(a,c,h,p){if(!fc(a.precondition,c))return h;const v=dy(a.fieldTransforms,p,c),_=c.data;return _.setAll(Mw(a)),_.setAll(v),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(T=>T.field))}(n,e,t,i):function(a,c,h){return fc(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h}(n,e,t)}function Jk(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),a=bw(i.transform,s||null);a!=null&&(t===null&&(t=gr.empty()),t.set(i.field,a))}return t||null}function uy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&oa(i,s,(a,c)=>Qk(a,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Dl extends nd{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ds extends nd{constructor(e,t,i,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Mw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function cy(n,e,t){const i=new Map;ft(n.length===t.length);for(let s=0;s<t.length;s++){const a=n[s],c=a.transform,h=e.data.field(a.field);i.set(a.field,Gk(c,h,t[s]))}return i}function dy(n,e,t){const i=new Map;for(const s of n){const a=s.transform,c=t.data.field(s.field);i.set(s.field,Kk(a,c,e))}return i}class Vw extends nd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Zk extends nd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eA{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&Xk(a,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=dl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=dl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Cw();return this.mutations.forEach(s=>{const a=e.get(s.key),c=a.overlayedDocument;let h=this.applyToLocalView(c,a.mutatedFields);h=t.has(s.key)?null:h;const p=Ow(c,h);p!==null&&i.set(s.key,p),c.isValidDocument()||c.convertToNoDocument(ze.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Je())}isEqual(e){return this.batchId===e.batchId&&oa(this.mutations,e.mutations,(t,i)=>uy(t,i))&&oa(this.baseMutations,e.baseMutations,(t,i)=>uy(t,i))}}class mp{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){ft(e.mutations.length===i.length);let s=function(){return Bk}();const a=e.mutations;for(let c=0;c<a.length;c++)s=s.insert(a[c].key,i[c].version);return new mp(e,t,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft,ot;function rA(n){switch(n){default:return Ue();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0}}function Fw(n){if(n===void 0)return Oi("GRPC error has no .code"),re.UNKNOWN;switch(n){case Ft.OK:return re.OK;case Ft.CANCELLED:return re.CANCELLED;case Ft.UNKNOWN:return re.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return re.INTERNAL;case Ft.UNAVAILABLE:return re.UNAVAILABLE;case Ft.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Ft.NOT_FOUND:return re.NOT_FOUND;case Ft.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Ft.ABORTED:return re.ABORTED;case Ft.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Ft.DATA_LOSS:return re.DATA_LOSS;default:return Ue()}}(ot=Ft||(Ft={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=new To([4294967295,4294967295],0);function hy(n){const e=iA().encode(n),t=new lw;return t.update(e),new Uint8Array(t.digest())}function fy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new To([t,i],0),new To([s,a],0)]}class gp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new ol(`Invalid padding: ${t}`);if(i<0)throw new ol(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ol(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new ol(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=To.fromNumber(this.Te)}de(e,t,i){let s=e.add(t.multiply(To.fromNumber(i)));return s.compare(oA)===1&&(s=new To([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=hy(e),[i,s]=fy(t);for(let a=0;a<this.hashCount;a++){const c=this.de(i,s,a);if(!this.Ee(c))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new gp(a,s,t);return i.forEach(h=>c.insert(h)),c}insert(e){if(this.Te===0)return;const t=hy(e),[i,s]=fy(t);for(let a=0;a<this.hashCount;a++){const c=this.de(i,s,a);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,t,i,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,Nl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new rd(ze.min(),s,new bt(tt),Mi(),Je())}}class Nl{constructor(e,t,i,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Nl(i,t,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,t,i,s){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=s}}class Uw{constructor(e,t){this.targetId=e,this.me=t}}class jw{constructor(e,t,i=un.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class py{constructor(){this.fe=0,this.ge=my(),this.pe=un.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Je(),t=Je(),i=Je();return this.ge.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:Ue()}}),new Nl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=my()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ft(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class sA{constructor(e){this.Be=e,this.Le=new Map,this.ke=Mi(),this.qe=Ju(),this.Qe=Ju(),this.Ke=new bt(tt)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:Ue()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Le.forEach((i,s)=>{this.je(s)&&t(s)})}Je(e){const t=e.targetId,i=e.me.count,s=this.Ye(t);if(s){const a=s.target;if(Ef(a))if(i===0){const c=new be(a.path);this.We(t,c,_n.newNoDocument(c,ze.min()))}else ft(i===1);else{const c=this.Ze(t);if(c!==i){const h=this.Xe(e),p=h?this.et(h,e,c):1;if(p!==0){this.He(t);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,v)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=t;let c,h;try{c=ko(i).toUint8Array()}catch(p){if(p instanceof vw)return ia("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new gp(c,s,a)}catch(p){return ia(p instanceof ol?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.Te===0?null:h}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Be.getRemoteKeysForTarget(t);let s=0;return i.forEach(a=>{const c=this.Be.nt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.We(t,a,null),s++)}),s}it(e){const t=new Map;this.Le.forEach((a,c)=>{const h=this.Ye(c);if(h){if(a.current&&Ef(h.target)){const p=new be(h.target.path);this.st(p).has(c)||this.ot(c,p)||this.We(c,p,_n.newNoDocument(p,e))}a.be&&(t.set(c,a.ve()),a.Ce())}});let i=Je();this.Qe.forEach((a,c)=>{let h=!0;c.forEachWhile(p=>{const v=this.Ye(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(a))}),this.ke.forEach((a,c)=>c.setReadTime(e));const s=new rd(e,t,this.Ke,this.ke,i);return this.ke=Mi(),this.qe=Ju(),this.Qe=Ju(),this.Ke=new bt(tt),s}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const s=this.ze(e);this.ot(e,t)?s.Fe(t,1):s.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Le.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Le.get(e);return t||(t=new py,this.Le.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Wt(tt),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Wt(tt),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Le.get(e);return t&&t.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new py),this.Be.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function Ju(){return new bt(be.comparator)}function my(){return new bt(be.comparator)}const aA={asc:"ASCENDING",desc:"DESCENDING"},lA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uA={and:"AND",or:"OR"};class cA{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xf(n,e){return n.useProto3Json||Yc(e)?e:{value:e}}function Lc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function dA(n,e){return Lc(n,e.toTimestamp())}function si(n){return ft(!!n),ze.fromTimestamp(function(t){const i=Ro(t);return new qt(i.seconds,i.nanos)}(n))}function vp(n,e){return If(n,e).canonicalString()}function If(n,e){const t=function(s){return new Rt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Bw(n){const e=Rt.fromString(n);return ft(Kw(e)),e}function Sf(n,e){return vp(n.databaseId,e.path)}function Qh(n,e){const t=Bw(e);if(t.get(1)!==n.databaseId.projectId)throw new ke(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ke(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new be(Hw(t))}function $w(n,e){return vp(n.databaseId,e)}function hA(n){const e=Bw(n);return e.length===4?Rt.emptyPath():Hw(e)}function Rf(n){return new Rt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Hw(n){return ft(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function gy(n,e,t){return{name:Sf(n,e),fields:t.value.mapValue.fields}}function fA(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Ue()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(v,_){return v.useProto3Json?(ft(_===void 0||typeof _=="string"),un.fromBase64String(_||"")):(ft(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),un.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(v){const _=v.code===void 0?re.UNKNOWN:Fw(v.code);return new ke(_,v.message||"")}(c);t=new jw(i,s,a,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=Qh(n,i.document.name),a=si(i.document.updateTime),c=i.document.createTime?si(i.document.createTime):ze.min(),h=new gr({mapValue:{fields:i.document.fields}}),p=_n.newFoundDocument(s,a,c,h),v=i.targetIds||[],_=i.removedTargetIds||[];t=new pc(v,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=Qh(n,i.document),a=i.readTime?si(i.readTime):ze.min(),c=_n.newNoDocument(s,a),h=i.removedTargetIds||[];t=new pc([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=Qh(n,i.document),a=i.removedTargetIds||[];t=new pc([],a,s,null)}else{if(!("filter"in e))return Ue();{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:a}=i,c=new nA(s,a),h=i.targetId;t=new Uw(h,c)}}return t}function pA(n,e){let t;if(e instanceof Dl)t={update:gy(n,e.key,e.value)};else if(e instanceof Vw)t={delete:Sf(n,e.key)};else if(e instanceof ds)t={update:gy(n,e.key,e.data),updateMask:xA(e.fieldMask)};else{if(!(e instanceof Zk))return Ue();t={verify:Sf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,c){const h=c.transform;if(h instanceof Dc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof _l)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof wl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Nc)return{fieldPath:c.field.canonicalString(),increment:h.Pe};throw Ue()}(0,i))),e.precondition.isNone||(t.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:dA(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ue()}(n,e.precondition)),t}function mA(n,e){return n&&n.length>0?(ft(e!==void 0),n.map(t=>function(s,a){let c=s.updateTime?si(s.updateTime):si(a);return c.isEqual(ze.min())&&(c=si(a)),new Yk(c,s.transformResults||[])}(t,e))):[]}function gA(n,e){return{documents:[$w(n,e.path)]}}function vA(n,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=$w(n,s);const a=function(v){if(v.length!==0)return Ww(li.create(v,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(v){if(v.length!==0)return v.map(_=>function(I){return{field:Ys(I.field),direction:wA(I.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=xf(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ct:t,parent:s}}function yA(n){let e=hA(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){ft(i===1);const _=t.from[0];_.allDescendants?s=_.collectionId:e=e.child(_.collectionId)}let a=[];t.where&&(a=function(T){const I=qw(T);return I instanceof li&&Ew(I)?I.getFilters():[I]}(t.where));let c=[];t.orderBy&&(c=function(T){return T.map(I=>function(b){return new bc(Xs(b.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(I))}(t.orderBy));let h=null;t.limit&&(h=function(T){let I;return I=typeof T=="object"?T.value:T,Yc(I)?null:I}(t.limit));let p=null;t.startAt&&(p=function(T){const I=!!T.before,C=T.values||[];return new Pc(C,I)}(t.startAt));let v=null;return t.endAt&&(v=function(T){const I=!T.before,C=T.values||[];return new Pc(C,I)}(t.endAt)),Mk(e,s,c,a,h,"F",p,v)}function _A(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ue()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function qw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Xs(t.unaryFilter.field);return Ht.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Xs(t.unaryFilter.field);return Ht.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Xs(t.unaryFilter.field);return Ht.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Xs(t.unaryFilter.field);return Ht.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ue()}}(n):n.fieldFilter!==void 0?function(t){return Ht.create(Xs(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ue()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return li.create(t.compositeFilter.filters.map(i=>qw(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ue()}}(t.compositeFilter.op))}(n):Ue()}function wA(n){return aA[n]}function EA(n){return lA[n]}function TA(n){return uA[n]}function Ys(n){return{fieldPath:n.canonicalString()}}function Xs(n){return ln.fromServerFormat(n.fieldPath)}function Ww(n){return n instanceof Ht?function(t){if(t.op==="=="){if(ry(t.value))return{unaryFilter:{field:Ys(t.field),op:"IS_NAN"}};if(ny(t.value))return{unaryFilter:{field:Ys(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(ry(t.value))return{unaryFilter:{field:Ys(t.field),op:"IS_NOT_NAN"}};if(ny(t.value))return{unaryFilter:{field:Ys(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ys(t.field),op:EA(t.op),value:t.value}}}(n):n instanceof li?function(t){const i=t.getFilters().map(s=>Ww(s));return i.length===1?i[0]:{compositeFilter:{op:TA(t.op),filters:i}}}(n):Ue()}function xA(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Kw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,t,i,s,a=ze.min(),c=ze.min(),h=un.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new yo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e){this.ht=e}}function SA(n){const e=yA({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Tf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(){this.ln=new kA}addToCollectionParentIndex(e,t){return this.ln.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(So.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(So.min())}updateCollectionGroup(e,t,i){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class kA{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new Wt(Rt.comparator),a=!s.has(i);return this.index[t]=s.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Wt(Rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Bn{static withCacheSize(e){return new Bn(e,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bn.DEFAULT_COLLECTION_PERCENTILE=10,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bn.DEFAULT=new Bn(41943040,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bn.DISABLED=new Bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new la(0)}static Qn(){return new la(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy([n,e],[t,i]){const s=tt(n,t);return s===0?tt(e,i):s}class AA{constructor(e){this.Gn=e,this.buffer=new Wt(yy),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();yy(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class CA{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ye("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ga(t)?ye("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await ma(t)}await this.Yn(3e5)})}}class PA{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return J.resolve(Qc.oe);const i=new AA(t);return this.Zn.forEachTarget(e,s=>i.Hn(s.sequenceNumber)).next(()=>this.Zn.er(e,s=>i.Hn(s))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(vy)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vy):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,s,a,c,h,p,v;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),s=this.params.maximumSequenceNumbersToCollect):s=T,c=Date.now(),this.nthSequenceNumber(e,s))).next(T=>(i=T,h=Date.now(),this.removeTargets(e,i,t))).next(T=>(a=T,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(v=Date.now(),Gs()<=Xe.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${s} in `+(h-c)+`ms
	Removed ${a} targets in `+(p-h)+`ms
	Removed ${T} documents in `+(v-p)+`ms
Total Duration: ${v-_}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:T})))}}function bA(n,e){return new PA(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(){this.changes=new cs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?J.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(i!==null&&dl(i.mutation,s,Ur.empty(),qt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Je()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Je()){const s=ts();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,i).next(a=>{let c=il();return a.forEach((h,p)=>{c=c.insert(h,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=ts();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Je()))}populateOverlays(e,t,i){const s=[];return i.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,i,s){let a=Mi();const c=cl(),h=function(){return cl()}();return t.forEach((p,v)=>{const _=i.get(v.key);s.has(v.key)&&(_===void 0||_.mutation instanceof ds)?a=a.insert(v.key,v):_!==void 0?(c.set(v.key,_.mutation.getFieldMask()),dl(_.mutation,v,_.mutation.getFieldMask(),qt.now())):c.set(v.key,Ur.empty())}),this.recalculateAndSaveOverlays(e,a).next(p=>(p.forEach((v,_)=>c.set(v,_)),t.forEach((v,_)=>{var T;return h.set(v,new NA(_,(T=c.get(v))!==null&&T!==void 0?T:null))}),h))}recalculateAndSaveOverlays(e,t){const i=cl();let s=new bt((c,h)=>c-h),a=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(p=>{const v=t.get(p);if(v===null)return;let _=i.get(p)||Ur.empty();_=h.applyToLocalView(v,_),i.set(p,_);const T=(s.get(h.batchId)||Je()).add(p);s=s.insert(h.batchId,T)})}).next(()=>{const c=[],h=s.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),v=p.key,_=p.value,T=Cw();_.forEach(I=>{if(!a.has(I)){const C=Ow(t.get(I),i.get(I));C!==null&&T.set(I,C),a=a.add(I)}}),c.push(this.documentOverlayCache.saveOverlays(e,v,T))}return J.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,s){return function(c){return be.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Vk(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next(a=>{const c=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-a.size):J.resolve(ts());let h=-1,p=a;return c.next(v=>J.forEach(v,(_,T)=>(h<T.largestBatchId&&(h=T.largestBatchId),a.get(_)?J.resolve():this.remoteDocumentCache.getEntry(e,_).next(I=>{p=p.insert(_,I)}))).next(()=>this.populateOverlays(e,v,a)).next(()=>this.computeViews(e,p,v,Je())).next(_=>({batchId:h,changes:Aw(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new be(t)).next(i=>{let s=il();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const a=t.collectionGroup;let c=il();return this.indexManager.getCollectionParents(e,a).next(h=>J.forEach(h,p=>{const v=function(T,I){return new Jc(I,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,v,i,s).next(_=>{_.forEach((T,I)=>{c=c.insert(T,I)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,s))).next(c=>{a.forEach((p,v)=>{const _=v.getKey();c.get(_)===null&&(c=c.insert(_,_n.newInvalidDocument(_)))});let h=il();return c.forEach((p,v)=>{const _=a.get(p);_!==void 0&&dl(_.mutation,v,Ur.empty(),qt.now()),ed(t,v)&&(h=h.insert(p,v))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return J.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:si(s.createTime)}}(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(s){return{name:s.name,query:SA(s.bundledQuery),readTime:si(s.readTime)}}(t)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(){this.overlays=new bt(be.comparator),this.dr=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ts();return J.forEach(t,s=>this.getOverlay(e,s).next(a=>{a!==null&&i.set(s,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((s,a)=>{this.Tt(e,t,a)}),J.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.dr.get(i);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.dr.delete(i)),J.resolve()}getOverlaysForCollection(e,t,i){const s=ts(),a=t.length+1,c=new be(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,v=p.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===a&&p.largestBatchId>i&&s.set(p.getKey(),p)}return J.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let a=new bt((v,_)=>v-_);const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>i){let _=a.get(v.largestBatchId);_===null&&(_=ts(),a=a.insert(v.largestBatchId,_)),_.set(v.getKey(),v)}}const h=ts(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((v,_)=>h.set(v,_)),!(h.size()>=s)););return J.resolve(h)}Tt(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const c=this.dr.get(s.largestBatchId).delete(i.key);this.dr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new tA(t,i));let a=this.dr.get(t);a===void 0&&(a=Je(),this.dr.set(t,a)),this.dr.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(){this.Er=new Wt(Xt.Ar),this.Rr=new Wt(Xt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,t){const i=new Xt(e,t);this.Er=this.Er.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new Xt(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new be(new Rt([])),i=new Xt(t,e),s=new Xt(t,e+1),a=[];return this.Rr.forEachInRange([i,s],c=>{this.gr(c),a.push(c.key)}),a}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new be(new Rt([])),i=new Xt(t,e),s=new Xt(t,e+1);let a=Je();return this.Rr.forEachInRange([i,s],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new Xt(e,0),i=this.Er.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Xt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return be.comparator(e.key,t.key)||tt(e.br,t.br)}static Vr(e,t){return tt(e.br,t.br)||be.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Wt(Xt.Ar)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const a=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new eA(a,t,i,s);this.mutationQueue.push(c);for(const h of s)this.vr=this.vr.add(new Xt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return J.resolve(c)}lookupMutationBatch(e,t){return J.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.Fr(i),a=s<0?0:s;return J.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Xt(t,0),s=new Xt(t,Number.POSITIVE_INFINITY),a=[];return this.vr.forEachInRange([i,s],c=>{const h=this.Cr(c.br);a.push(h)}),J.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Wt(tt);return t.forEach(s=>{const a=new Xt(s,0),c=new Xt(s,Number.POSITIVE_INFINITY);this.vr.forEachInRange([a,c],h=>{i=i.add(h.br)})}),J.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let a=i;be.isDocumentKey(a)||(a=a.child(""));const c=new Xt(new be(a),0);let h=new Wt(tt);return this.vr.forEachWhile(p=>{const v=p.key.path;return!!i.isPrefixOf(v)&&(v.length===s&&(h=h.add(p.br)),!0)},c),J.resolve(this.Mr(h))}Mr(e){const t=[];return e.forEach(i=>{const s=this.Cr(i);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){ft(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return J.forEach(t.mutations,s=>{const a=new Xt(s.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.vr=i})}Bn(e){}containsKey(e,t){const i=new Xt(t,0),s=this.vr.firstAfterOrEqual(i);return J.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e){this.Nr=e,this.docs=function(){return new bt(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),a=s?s.size:0,c=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return J.resolve(i?i.document.mutableCopy():_n.newInvalidDocument(t))}getEntries(e,t){let i=Mi();return t.forEach(s=>{const a=this.docs.get(s);i=i.insert(s,a?a.document.mutableCopy():_n.newInvalidDocument(s))}),J.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let a=Mi();const c=t.path,h=new be(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:v,value:{document:_}}=p.getNext();if(!c.isPrefixOf(v.path))break;v.path.length>c.length+1||mk(pk(_),i)<=0||(s.has(_.key)||ed(t,_))&&(a=a.insert(_.key,_.mutableCopy()))}return J.resolve(a)}getAllFromCollectionGroup(e,t,i,s){Ue()}Br(e,t){return J.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new jA(this)}getSize(e){return J.resolve(this.size)}}class jA extends DA{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?t.push(this.hr.addEntry(e,s)):this.hr.removeEntry(i)}),J.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e){this.persistence=e,this.Lr=new cs(t=>dp(t),hp),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.kr=0,this.qr=new yp,this.targetCount=0,this.Qr=la.qn()}forEachTarget(e,t){return this.Lr.forEach((i,s)=>t(s)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),J.resolve()}Un(e){this.Lr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new la(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.Un(t),J.resolve()}removeTargetData(e,t){return this.Lr.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,i){let s=0;const a=[];return this.Lr.forEach((c,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.Lr.delete(c),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)}),J.waitFor(a).next(()=>s)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const i=this.Lr.get(t)||null;return J.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),J.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(c=>{a.push(s.markPotentiallyOrphaned(e,c))}),J.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),J.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return J.resolve(i)}containsKey(e,t){return J.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Qc(0),this.Ur=!1,this.Ur=!0,this.Wr=new VA,this.referenceDelegate=e(this),this.Gr=new zA(this),this.indexManager=new RA,this.remoteDocumentCache=function(s){return new UA(s)}(i=>this.referenceDelegate.zr(i)),this.serializer=new IA(t),this.jr=new OA(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new MA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new FA(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){ye("MemoryPersistence","Starting transaction:",e);const s=new BA(this.$r.next());return this.referenceDelegate.Hr(),i(s).next(a=>this.referenceDelegate.Jr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Yr(e,t){return J.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class BA extends vk{constructor(e){super(),this.currentSequenceNumber=e}}class _p{constructor(e){this.persistence=e,this.Zr=new yp,this.Xr=null}static ei(e){return new _p(e)}get ti(){if(this.Xr)return this.Xr;throw Ue()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),J.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),J.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(s=>this.ti.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.ti.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ti,i=>{const s=be.fromPath(i);return this.ni(e,s).next(a=>{a||t.removeEntry(s,ze.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return J.or([()=>J.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Oc{constructor(e,t){this.persistence=e,this.ri=new cs(i=>wk(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=bA(this,t)}static ei(e,t){return new Oc(e,t)}Hr(){}Jr(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(s=>i+s))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return J.forEach(this.ri,(i,s)=>this.ir(e,i,s).next(a=>a?J.resolve():t(s)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.Br(e,c=>this.ir(e,c,t).next(h=>{h||(i++,a.removeEntry(c,ze.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),J.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),J.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=dc(e.data.value)),t}ir(e,t,i){return J.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.ri.get(t);return J.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=s}static zi(e,t){let i=Je(),s=Je();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new wp(e,t.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return II()?8:yk(wn())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,s){const a={result:null};return this.Xi(e,t).next(c=>{a.result=c}).next(()=>{if(!a.result)return this.es(e,t,s,i).next(c=>{a.result=c})}).next(()=>{if(a.result)return;const c=new $A;return this.ts(e,t,c).next(h=>{if(a.result=h,this.Hi)return this.ns(e,t,c,h.size)})}).next(()=>a.result)}ns(e,t,i,s){return i.documentReadCount<this.Ji?(Gs()<=Xe.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Qs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),J.resolve()):(Gs()<=Xe.DEBUG&&ye("QueryEngine","Query:",Qs(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.Yi*s?(Gs()<=Xe.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Qs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ii(t))):J.resolve())}Xi(e,t){if(ay(t))return J.resolve(null);let i=ii(t);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Tf(t,null,"F"),i=ii(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const c=Je(...a);return this.Zi.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,i).next(p=>{const v=this.rs(t,h);return this.ss(t,v,c,p.readTime)?this.Xi(e,Tf(t,null,"F")):this.os(e,v,t,p)}))})))}es(e,t,i,s){return ay(t)||s.isEqual(ze.min())?J.resolve(null):this.Zi.getDocuments(e,i).next(a=>{const c=this.rs(t,a);return this.ss(t,c,i,s)?J.resolve(null):(Gs()<=Xe.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Qs(t)),this.os(e,c,t,fk(s,-1)).next(h=>h))})}rs(e,t){let i=new Wt(Rw(e));return t.forEach((s,a)=>{ed(e,a)&&(i=i.add(a))}),i}ss(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}ts(e,t,i){return Gs()<=Xe.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Qs(t)),this.Zi.getDocumentsMatchingQuery(e,t,So.min(),i)}os(e,t,i,s){return this.Zi.getDocumentsMatchingQuery(e,i,s).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(e,t,i,s){this.persistence=e,this._s=t,this.serializer=s,this.us=new bt(tt),this.cs=new cs(a=>dp(a),hp),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new LA(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function WA(n,e,t,i){return new qA(n,e,t,i)}async function Qw(n,e){const t=$e(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(a=>(s=a,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const c=[],h=[];let p=Je();for(const v of s){c.push(v.batchId);for(const _ of v.mutations)p=p.add(_.key)}for(const v of a){h.push(v.batchId);for(const _ of v.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(i,p).next(v=>({Ts:v,removedBatchIds:c,addedBatchIds:h}))})})}function KA(n,e){const t=$e(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),a=t.hs.newChangeBuffer({trackRemovals:!0});return function(h,p,v,_){const T=v.batch,I=T.keys();let C=J.resolve();return I.forEach(b=>{C=C.next(()=>_.getEntry(p,b)).next(j=>{const F=v.docVersions.get(b);ft(F!==null),j.version.compareTo(F)<0&&(T.applyToRemoteDocument(j,v),j.isValidDocument()&&(j.setReadTime(v.commitVersion),_.addEntry(j)))})}),C.next(()=>h.mutationQueue.removeMutationBatch(p,T))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let p=Je();for(let v=0;v<h.mutationResults.length;++v)h.mutationResults[v].transformResults.length>0&&(p=p.add(h.batch.mutations[v].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,s))})}function Yw(n){const e=$e(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function GA(n,e){const t=$e(n),i=e.snapshotVersion;let s=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.hs.newChangeBuffer({trackRemovals:!0});s=t.us;const h=[];e.targetChanges.forEach((_,T)=>{const I=s.get(T);if(!I)return;h.push(t.Gr.removeMatchingKeys(a,_.removedDocuments,T).next(()=>t.Gr.addMatchingKeys(a,_.addedDocuments,T)));let C=I.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(T)!==null?C=C.withResumeToken(un.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):_.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(_.resumeToken,i)),s=s.insert(T,C),function(j,F,W){return j.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(I,C,_)&&h.push(t.Gr.updateTargetData(a,C))});let p=Mi(),v=Je();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,_))}),h.push(QA(a,c,e.documentUpdates).next(_=>{p=_.Is,v=_.ds})),!i.isEqual(ze.min())){const _=t.Gr.getLastRemoteSnapshotVersion(a).next(T=>t.Gr.setTargetsMetadata(a,a.currentSequenceNumber,i));h.push(_)}return J.waitFor(h).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,p,v)).next(()=>p)}).then(a=>(t.us=s,a))}function QA(n,e,t){let i=Je(),s=Je();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let c=Mi();return t.forEach((h,p)=>{const v=a.get(h);p.isFoundDocument()!==v.isFoundDocument()&&(s=s.add(h)),p.isNoDocument()&&p.version.isEqual(ze.min())?(e.removeEntry(h,p.readTime),c=c.insert(h,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(p),c=c.insert(h,p)):ye("LocalStore","Ignoring outdated watch update for ",h,". Current version:",v.version," Watch version:",p.version)}),{Is:c,ds:s}})}function YA(n,e){const t=$e(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function XA(n,e){const t=$e(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return t.Gr.getTargetData(i,e).next(a=>a?(s=a,J.resolve(s)):t.Gr.allocateTargetId(i).next(c=>(s=new yo(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=t.us.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function kf(n,e,t){const i=$e(n),s=i.us.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,c=>i.persistence.referenceDelegate.removeTarget(c,s))}catch(c){if(!ga(c))throw c;ye("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.us=i.us.remove(e),i.cs.delete(s.target)}function _y(n,e,t){const i=$e(n);let s=ze.min(),a=Je();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,v,_){const T=$e(p),I=T.cs.get(_);return I!==void 0?J.resolve(T.us.get(I)):T.Gr.getTargetData(v,_)}(i,c,ii(e)).next(h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(c,h.targetId).next(p=>{a=p})}).next(()=>i._s.getDocumentsMatchingQuery(c,e,t?s:ze.min(),t?a:Je())).next(h=>(JA(i,Uk(e),h),{documents:h,Es:a})))}function JA(n,e,t){let i=n.ls.get(e)||ze.min();t.forEach((s,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.ls.set(e,i)}class wy{constructor(){this.activeTargetIds=qk()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ZA{constructor(){this._o=new wy,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new wy,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ye("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ye("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zu=null;function Yh(){return Zu===null?Zu=function(){return 268435456+Math.round(2147483648*Math.random())}():Zu++,"0x"+Zu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn="WebChannelConnection";class rC extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${s}/databases/${a}`,this.xo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${a}`}Oo(t,i,s,a,c){const h=Yh(),p=this.No(t,i.toUriEncodedString());ye("RestConnection",`Sending RPC '${t}' ${h}:`,p,s);const v={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(v,a,c),this.Lo(t,p,v,s).then(_=>(ye("RestConnection",`Received RPC '${t}' ${h}: `,_),_),_=>{throw ia("RestConnection",`RPC '${t}' ${h} failed with error: `,_,"url: ",p,"request:",s),_})}ko(t,i,s,a,c,h){return this.Oo(t,i,s,a,c)}Bo(t,i,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+pa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((a,c)=>t[c]=a),s&&s.headers.forEach((a,c)=>t[c]=a)}No(t,i){const s=tC[t];return`${this.Fo}/v1/${i}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,t,i,s){const a=Yh();return new Promise((c,h)=>{const p=new uw;p.setWithCredentials(!0),p.listenOnce(cw.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case cc.NO_ERROR:const _=p.getResponseJson();ye(vn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(_)),c(_);break;case cc.TIMEOUT:ye(vn,`RPC '${e}' ${a} timed out`),h(new ke(re.DEADLINE_EXCEEDED,"Request time out"));break;case cc.HTTP_ERROR:const T=p.getStatus();if(ye(vn,`RPC '${e}' ${a} failed with status:`,T,"response text:",p.getResponseText()),T>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const C=I==null?void 0:I.error;if(C&&C.status&&C.message){const b=function(F){const W=F.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(W)>=0?W:re.UNKNOWN}(C.status);h(new ke(b,C.message))}else h(new ke(re.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new ke(re.UNAVAILABLE,"Connection failed."));break;default:Ue()}}finally{ye(vn,`RPC '${e}' ${a} completed.`)}});const v=JSON.stringify(s);ye(vn,`RPC '${e}' ${a} sending request:`,s),p.send(t,"POST",v,i,15)})}qo(e,t,i){const s=Yh(),a=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=fw(),h=hw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Bo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const _=a.join("");ye(vn,`Creating RPC '${e}' stream ${s}: ${_}`,p);const T=c.createWebChannel(_,p);let I=!1,C=!1;const b=new nC({Eo:F=>{C?ye(vn,`Not sending because RPC '${e}' stream ${s} is closed:`,F):(I||(ye(vn,`Opening RPC '${e}' stream ${s} transport.`),T.open(),I=!0),ye(vn,`RPC '${e}' stream ${s} sending:`,F),T.send(F))},Ao:()=>T.close()}),j=(F,W,te)=>{F.listen(W,Z=>{try{te(Z)}catch(pe){setTimeout(()=>{throw pe},0)}})};return j(T,rl.EventType.OPEN,()=>{C||(ye(vn,`RPC '${e}' stream ${s} transport opened.`),b.So())}),j(T,rl.EventType.CLOSE,()=>{C||(C=!0,ye(vn,`RPC '${e}' stream ${s} transport closed`),b.Do())}),j(T,rl.EventType.ERROR,F=>{C||(C=!0,ia(vn,`RPC '${e}' stream ${s} transport errored:`,F),b.Do(new ke(re.UNAVAILABLE,"The operation could not be completed")))}),j(T,rl.EventType.MESSAGE,F=>{var W;if(!C){const te=F.data[0];ft(!!te);const Z=te,pe=(Z==null?void 0:Z.error)||((W=Z[0])===null||W===void 0?void 0:W.error);if(pe){ye(vn,`RPC '${e}' stream ${s} received error:`,pe);const U=pe.status;let ce=function(S){const A=Ft[S];if(A!==void 0)return Fw(A)}(U),P=pe.message;ce===void 0&&(ce=re.INTERNAL,P="Unknown error status: "+U+" with message "+pe.message),C=!0,b.Do(new ke(ce,P)),T.close()}else ye(vn,`RPC '${e}' stream ${s} received:`,te),b.vo(te)}}),j(h,dw.STAT_EVENT,F=>{F.stat===vf.PROXY?ye(vn,`RPC '${e}' stream ${s} detected buffering proxy`):F.stat===vf.NOPROXY&&ye(vn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.bo()},0),b}}function Xh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function id(n){return new cA(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e,t,i=1e3,s=1.5,a=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=s,this.$o=a,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),s=Math.max(0,t-i);s>0&&ye("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,s,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,t,i,s,a,c,h,p){this.li=e,this.Yo=i,this.Zo=s,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Xw(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(Oi(t.toString()),Oi("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Xo===t&&this.I_(i,s)},i=>{e(()=>{const s=new ke(re.UNKNOWN,"Fetching auth token failed: "+i.message);return this.d_(s)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.E_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(s=>{i(()=>this.d_(s))}),this.stream.onMessage(s=>{i(()=>++this.n_==1?this.A_(s):this.onNext(s))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return ye("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ye("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class iC extends Jw{constructor(e,t,i,s,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,c),this.serializer=a}E_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=fA(this.serializer,e),i=function(a){if(!("targetChange"in a))return ze.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?ze.min():c.readTime?si(c.readTime):ze.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=Rf(this.serializer),t.addTarget=function(a,c){let h;const p=c.target;if(h=Ef(p)?{documents:gA(a,p)}:{query:vA(a,p).ct},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=zw(a,c.resumeToken);const v=xf(a,c.expectedCount);v!==null&&(h.expectedCount=v)}else if(c.snapshotVersion.compareTo(ze.min())>0){h.readTime=Lc(a,c.snapshotVersion.toTimestamp());const v=xf(a,c.expectedCount);v!==null&&(h.expectedCount=v)}return h}(this.serializer,e);const i=_A(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=Rf(this.serializer),t.removeTarget=e,this.c_(t)}}class oC extends Jw{constructor(e,t,i,s,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,c),this.serializer=a}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,t){return this.connection.qo("Write",e,t)}A_(e){return ft(!!e.streamToken),this.lastStreamToken=e.streamToken,ft(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=mA(e.writeResults,e.commitTime),i=si(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=Rf(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>pA(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC extends class{}{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.S_=!1}b_(){if(this.S_)throw new ke(re.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.Oo(e,If(t,i),s,a,c)).catch(a=>{throw a.name==="FirebaseError"?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ke(re.UNKNOWN,a.toString())})}ko(e,t,i,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.ko(e,If(t,i),s,c,h,a)).catch(c=>{throw c.name==="FirebaseError"?(c.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ke(re.UNKNOWN,c.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class aC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Oi(t),this.C_=!1):ye("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,t,i,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=a,this.Q_.uo(c=>{i.enqueueAndForget(async()=>{hs(this)&&(ye("RemoteStore","Restarting streams for network reachability change."),await async function(p){const v=$e(p);v.k_.add(4),await Ll(v),v.K_.set("Unknown"),v.k_.delete(4),await od(v)}(this))})}),this.K_=new aC(i,s)}}async function od(n){if(hs(n))for(const e of n.q_)await e(!0)}async function Ll(n){for(const e of n.q_)await e(!1)}function Zw(n,e){const t=$e(n);t.L_.has(e.targetId)||(t.L_.set(e.targetId,e),Ip(t)?xp(t):va(t).s_()&&Tp(t,e))}function Ep(n,e){const t=$e(n),i=va(t);t.L_.delete(e),i.s_()&&e0(t,e),t.L_.size===0&&(i.s_()?i.a_():hs(t)&&t.K_.set("Unknown"))}function Tp(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}va(n).V_(e)}function e0(n,e){n.U_.xe(e),va(n).m_(e)}function xp(n){n.U_=new sA({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.L_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),va(n).start(),n.K_.F_()}function Ip(n){return hs(n)&&!va(n).i_()&&n.L_.size>0}function hs(n){return $e(n).k_.size===0}function t0(n){n.U_=void 0}async function uC(n){n.K_.set("Online")}async function cC(n){n.L_.forEach((e,t)=>{Tp(n,e)})}async function dC(n,e){t0(n),Ip(n)?(n.K_.O_(e),xp(n)):n.K_.set("Unknown")}async function hC(n,e,t){if(n.K_.set("Online"),e instanceof jw&&e.state===2&&e.cause)try{await async function(s,a){const c=a.cause;for(const h of a.targetIds)s.L_.has(h)&&(await s.remoteSyncer.rejectListen(h,c),s.L_.delete(h),s.U_.removeTarget(h))}(n,e)}catch(i){ye("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Mc(n,i)}else if(e instanceof pc?n.U_.$e(e):e instanceof Uw?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(ze.min()))try{const i=await Yw(n.localStore);t.compareTo(i)>=0&&await function(a,c){const h=a.U_.it(c);return h.targetChanges.forEach((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const _=a.L_.get(v);_&&a.L_.set(v,_.withResumeToken(p.resumeToken,c))}}),h.targetMismatches.forEach((p,v)=>{const _=a.L_.get(p);if(!_)return;a.L_.set(p,_.withResumeToken(un.EMPTY_BYTE_STRING,_.snapshotVersion)),e0(a,p);const T=new yo(_.target,p,v,_.sequenceNumber);Tp(a,T)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(i){ye("RemoteStore","Failed to raise snapshot:",i),await Mc(n,i)}}async function Mc(n,e,t){if(!ga(e))throw e;n.k_.add(1),await Ll(n),n.K_.set("Offline"),t||(t=()=>Yw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ye("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await od(n)})}function n0(n,e){return e().catch(t=>Mc(n,t,e))}async function sd(n){const e=$e(n),t=Co(e);let i=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;fC(e);)try{const s=await YA(e.localStore,i);if(s===null){e.B_.length===0&&t.a_();break}i=s.batchId,pC(e,s)}catch(s){await Mc(e,s)}r0(e)&&i0(e)}function fC(n){return hs(n)&&n.B_.length<10}function pC(n,e){n.B_.push(e);const t=Co(n);t.s_()&&t.f_&&t.g_(e.mutations)}function r0(n){return hs(n)&&!Co(n).i_()&&n.B_.length>0}function i0(n){Co(n).start()}async function mC(n){Co(n).w_()}async function gC(n){const e=Co(n);for(const t of n.B_)e.g_(t.mutations)}async function vC(n,e,t){const i=n.B_.shift(),s=mp.from(i,e,t);await n0(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await sd(n)}async function yC(n,e){e&&Co(n).f_&&await async function(i,s){if(function(c){return rA(c)&&c!==re.ABORTED}(s.code)){const a=i.B_.shift();Co(i).__(),await n0(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,s)),await sd(i)}}(n,e),r0(n)&&i0(n)}async function Ty(n,e){const t=$e(n);t.asyncQueue.verifyOperationInProgress(),ye("RemoteStore","RemoteStore received new credentials");const i=hs(t);t.k_.add(3),await Ll(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await od(t)}async function _C(n,e){const t=$e(n);e?(t.k_.delete(2),await od(t)):e||(t.k_.add(2),await Ll(t),t.K_.set("Unknown"))}function va(n){return n.W_||(n.W_=function(t,i,s){const a=$e(t);return a.b_(),new iC(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Ro:uC.bind(null,n),mo:cC.bind(null,n),po:dC.bind(null,n),R_:hC.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Ip(n)?xp(n):n.K_.set("Unknown")):(await n.W_.stop(),t0(n))})),n.W_}function Co(n){return n.G_||(n.G_=function(t,i,s){const a=$e(t);return a.b_(),new oC(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:mC.bind(null,n),po:yC.bind(null,n),p_:gC.bind(null,n),y_:vC.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await sd(n)):(await n.G_.stop(),n.B_.length>0&&(ye("RemoteStore",`Stopping write stream with ${n.B_.length} pending writes`),n.B_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,t,i,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=a,this.deferred=new Di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,a){const c=Date.now()+i,h=new Sp(e,t,c,s,a);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ke(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rp(n,e){if(Oi("AsyncQueue",`${e}: ${n}`),ga(n))return new ke(re.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{static emptySet(e){return new ta(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||be.comparator(t.key,i.key):(t,i)=>be.comparator(t.key,i.key),this.keyedMap=il(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ta)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=i.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new ta;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(){this.z_=new bt(be.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Ue():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class ua{constructor(e,t,i,s,a,c,h,p,v){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(e,t,i,s,a){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new ua(e,t,ta.emptySet(t),c,i,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class EC{constructor(){this.queries=Iy(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const s=$e(t),a=s.queries;s.queries=Iy(),a.forEach((c,h)=>{for(const p of h.J_)p.onError(i)})})(this,new ke(re.ABORTED,"Firestore shutting down"))}}function Iy(){return new cs(n=>Sw(n),Zc)}async function o0(n,e){const t=$e(n);let i=3;const s=e.query;let a=t.queries.get(s);a?!a.Y_()&&e.Z_()&&(i=2):(a=new wC,i=e.Z_()?0:1);try{switch(i){case 0:a.H_=await t.onListen(s,!0);break;case 1:a.H_=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const h=Rp(c,`Initialization of query '${Qs(e.query)}' failed`);return void e.onError(h)}t.queries.set(s,a),a.J_.push(e),e.ea(t.onlineState),a.H_&&e.ta(a.H_)&&kp(t)}async function s0(n,e){const t=$e(n),i=e.query;let s=3;const a=t.queries.get(i);if(a){const c=a.J_.indexOf(e);c>=0&&(a.J_.splice(c,1),a.J_.length===0?s=e.Z_()?0:1:!a.Y_()&&e.Z_()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function TC(n,e){const t=$e(n);let i=!1;for(const s of e){const a=s.query,c=t.queries.get(a);if(c){for(const h of c.J_)h.ta(s)&&(i=!0);c.H_=s}}i&&kp(t)}function xC(n,e,t){const i=$e(n),s=i.queries.get(e);if(s)for(const a of s.J_)a.onError(t);i.queries.delete(e)}function kp(n){n.X_.forEach(e=>{e.next()})}var Af,Sy;(Sy=Af||(Af={})).na="default",Sy.Cache="cache";class a0{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new ua(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=ua.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Af.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e){this.key=e}}class u0{constructor(e){this.key=e}}class IC{constructor(e,t){this.query=e,this.Ea=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Je(),this.mutatedKeys=Je(),this.Va=Rw(e),this.ma=new ta(this.Va)}get fa(){return this.Ea}ga(e,t){const i=t?t.pa:new xy,s=t?t.ma:this.ma;let a=t?t.mutatedKeys:this.mutatedKeys,c=s,h=!1;const p=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,v=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((_,T)=>{const I=s.get(_),C=ed(this.query,T)?T:null,b=!!I&&this.mutatedKeys.has(I.key),j=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let F=!1;I&&C?I.data.isEqual(C.data)?b!==j&&(i.track({type:3,doc:C}),F=!0):this.ya(I,C)||(i.track({type:2,doc:C}),F=!0,(p&&this.Va(C,p)>0||v&&this.Va(C,v)<0)&&(h=!0)):!I&&C?(i.track({type:0,doc:C}),F=!0):I&&!C&&(i.track({type:1,doc:I}),F=!0,(p||v)&&(h=!0)),F&&(C?(c=c.add(C),a=j?a.add(_):a.delete(_)):(c=c.delete(_),a=a.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),a=a.delete(_.key),i.track({type:1,doc:_})}return{ma:c,pa:i,ss:h,mutatedKeys:a}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const a=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const c=e.pa.j_();c.sort((_,T)=>function(C,b){const j=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue()}};return j(C)-j(b)}(_.type,T.type)||this.Va(_.doc,T.doc)),this.wa(i),s=s!=null&&s;const h=t&&!s?this.Sa():[],p=this.Ra.size===0&&this.current&&!s?1:0,v=p!==this.Aa;return this.Aa=p,c.length!==0||v?{snapshot:new ua(this.query,e.ma,a,c,e.mutatedKeys,p===0,v,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:h}:{ba:h}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new xy,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.Ea=this.Ea.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ea=this.Ea.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Je(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new u0(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new l0(i))}),t}va(e){this.Ea=e.Es,this.Ra=Je();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return ua.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class SC{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class RC{constructor(e){this.key=e,this.Fa=!1}}class kC{constructor(e,t,i,s,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Ma={},this.xa=new cs(h=>Sw(h),Zc),this.Oa=new Map,this.Na=new Set,this.Ba=new bt(be.comparator),this.La=new Map,this.ka=new yp,this.qa={},this.Qa=new Map,this.Ka=la.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function AC(n,e,t=!0){const i=m0(n);let s;const a=i.xa.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Ca()):s=await c0(i,e,t,!0),s}async function CC(n,e){const t=m0(n);await c0(t,e,!0,!1)}async function c0(n,e,t,i){const s=await XA(n.localStore,ii(e)),a=s.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let h;return i&&(h=await PC(n,e,a,c==="current",s.resumeToken)),n.isPrimaryClient&&t&&Zw(n.remoteStore,s),h}async function PC(n,e,t,i,s){n.Ua=(T,I,C)=>async function(j,F,W,te){let Z=F.view.ga(W);Z.ss&&(Z=await _y(j.localStore,F.query,!1).then(({documents:P})=>F.view.ga(P,Z)));const pe=te&&te.targetChanges.get(F.targetId),U=te&&te.targetMismatches.get(F.targetId)!=null,ce=F.view.applyChanges(Z,j.isPrimaryClient,pe,U);return ky(j,F.targetId,ce.ba),ce.snapshot}(n,T,I,C);const a=await _y(n.localStore,e,!0),c=new IC(e,a.Es),h=c.ga(a.documents),p=Nl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",s),v=c.applyChanges(h,n.isPrimaryClient,p);ky(n,t,v.ba);const _=new SC(e,t,c);return n.xa.set(e,_),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),v.snapshot}async function bC(n,e,t){const i=$e(n),s=i.xa.get(e),a=i.Oa.get(s.targetId);if(a.length>1)return i.Oa.set(s.targetId,a.filter(c=>!Zc(c,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await kf(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),t&&Ep(i.remoteStore,s.targetId),Cf(i,s.targetId)}).catch(ma)):(Cf(i,s.targetId),await kf(i.localStore,s.targetId,!0))}async function DC(n,e){const t=$e(n),i=t.xa.get(e),s=t.Oa.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Ep(t.remoteStore,i.targetId))}async function NC(n,e,t){const i=jC(n);try{const s=await function(c,h){const p=$e(c),v=qt.now(),_=h.reduce((C,b)=>C.add(b.key),Je());let T,I;return p.persistence.runTransaction("Locally write mutations","readwrite",C=>{let b=Mi(),j=Je();return p.hs.getEntries(C,_).next(F=>{b=F,b.forEach((W,te)=>{te.isValidDocument()||(j=j.add(W))})}).next(()=>p.localDocuments.getOverlayedDocuments(C,b)).next(F=>{T=F;const W=[];for(const te of h){const Z=Jk(te,T.get(te.key).overlayedDocument);Z!=null&&W.push(new ds(te.key,Z,yw(Z.value.mapValue),oi.exists(!0)))}return p.mutationQueue.addMutationBatch(C,v,W,h)}).next(F=>{I=F;const W=F.applyToLocalDocumentSet(T,j);return p.documentOverlayCache.saveOverlays(C,F.batchId,W)})}).then(()=>({batchId:I.batchId,changes:Aw(T)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(c,h,p){let v=c.qa[c.currentUser.toKey()];v||(v=new bt(tt)),v=v.insert(h,p),c.qa[c.currentUser.toKey()]=v}(i,s.batchId,t),await Ol(i,s.changes),await sd(i.remoteStore)}catch(s){const a=Rp(s,"Failed to persist write");t.reject(a)}}async function d0(n,e){const t=$e(n);try{const i=await GA(t.localStore,e);e.targetChanges.forEach((s,a)=>{const c=t.La.get(a);c&&(ft(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.Fa=!0:s.modifiedDocuments.size>0?ft(c.Fa):s.removedDocuments.size>0&&(ft(c.Fa),c.Fa=!1))}),await Ol(t,i,e)}catch(i){await ma(i)}}function Ry(n,e,t){const i=$e(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.xa.forEach((a,c)=>{const h=c.view.ea(e);h.snapshot&&s.push(h.snapshot)}),function(c,h){const p=$e(c);p.onlineState=h;let v=!1;p.queries.forEach((_,T)=>{for(const I of T.J_)I.ea(h)&&(v=!0)}),v&&kp(p)}(i.eventManager,e),s.length&&i.Ma.R_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function LC(n,e,t){const i=$e(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.La.get(e),a=s&&s.key;if(a){let c=new bt(be.comparator);c=c.insert(a,_n.newNoDocument(a,ze.min()));const h=Je().add(a),p=new rd(ze.min(),new Map,new bt(tt),c,h);await d0(i,p),i.Ba=i.Ba.remove(a),i.La.delete(e),Ap(i)}else await kf(i.localStore,e,!1).then(()=>Cf(i,e,t)).catch(ma)}async function OC(n,e){const t=$e(n),i=e.batch.batchId;try{const s=await KA(t.localStore,e);f0(t,i,null),h0(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Ol(t,s)}catch(s){await ma(s)}}async function MC(n,e,t){const i=$e(n);try{const s=await function(c,h){const p=$e(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let _;return p.mutationQueue.lookupMutationBatch(v,h).next(T=>(ft(T!==null),_=T.keys(),p.mutationQueue.removeMutationBatch(v,T))).next(()=>p.mutationQueue.performConsistencyCheck(v)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(v,_,h)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,_)).next(()=>p.localDocuments.getDocuments(v,_))})}(i.localStore,e);f0(i,e,t),h0(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Ol(i,s)}catch(s){await ma(s)}}function h0(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function f0(n,e,t){const i=$e(n);let s=i.qa[i.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),i.qa[i.currentUser.toKey()]=s}}function Cf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||p0(n,i)})}function p0(n,e){n.Na.delete(e.path.canonicalString());const t=n.Ba.get(e);t!==null&&(Ep(n.remoteStore,t),n.Ba=n.Ba.remove(e),n.La.delete(t),Ap(n))}function ky(n,e,t){for(const i of t)i instanceof l0?(n.ka.addReference(i.key,e),VC(n,i)):i instanceof u0?(ye("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||p0(n,i.key)):Ue()}function VC(n,e){const t=e.key,i=t.path.canonicalString();n.Ba.get(t)||n.Na.has(i)||(ye("SyncEngine","New document in limbo: "+t),n.Na.add(i),Ap(n))}function Ap(n){for(;n.Na.size>0&&n.Ba.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new be(Rt.fromString(e)),i=n.Ka.next();n.La.set(i,new RC(t)),n.Ba=n.Ba.insert(t,i),Zw(n.remoteStore,new yo(ii(fp(t.path)),i,"TargetPurposeLimboResolution",Qc.oe))}}async function Ol(n,e,t){const i=$e(n),s=[],a=[],c=[];i.xa.isEmpty()||(i.xa.forEach((h,p)=>{c.push(i.Ua(p,e,t).then(v=>{var _;if((v||t)&&i.isPrimaryClient){const T=v?!v.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(v){s.push(v);const T=wp.zi(p.targetId,v);a.push(T)}}))}),await Promise.all(c),i.Ma.R_(s),await async function(p,v){const _=$e(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>J.forEach(v,I=>J.forEach(I.Wi,C=>_.persistence.referenceDelegate.addReference(T,I.targetId,C)).next(()=>J.forEach(I.Gi,C=>_.persistence.referenceDelegate.removeReference(T,I.targetId,C)))))}catch(T){if(!ga(T))throw T;ye("LocalStore","Failed to update sequence numbers: "+T)}for(const T of v){const I=T.targetId;if(!T.fromCache){const C=_.us.get(I),b=C.snapshotVersion,j=C.withLastLimboFreeSnapshotVersion(b);_.us=_.us.insert(I,j)}}}(i.localStore,a))}async function FC(n,e){const t=$e(n);if(!t.currentUser.isEqual(e)){ye("SyncEngine","User change. New user:",e.toKey());const i=await Qw(t.localStore,e);t.currentUser=e,function(a,c){a.Qa.forEach(h=>{h.forEach(p=>{p.reject(new ke(re.CANCELLED,c))})}),a.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ol(t,i.Ts)}}function UC(n,e){const t=$e(n),i=t.La.get(e);if(i&&i.Fa)return Je().add(i.key);{let s=Je();const a=t.Oa.get(e);if(!a)return s;for(const c of a){const h=t.xa.get(c);s=s.unionWith(h.view.fa)}return s}}function m0(n){const e=$e(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=d0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=UC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LC.bind(null,e),e.Ma.R_=TC.bind(null,e.eventManager),e.Ma.Wa=xC.bind(null,e.eventManager),e}function jC(n){const e=$e(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=OC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=MC.bind(null,e),e}class Vc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=id(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return WA(this.persistence,new HA,e.initialUser,this.serializer)}ja(e){return new Gw(_p.ei,this.serializer)}za(e){return new ZA}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vc.provider={build:()=>new Vc};class zC extends Vc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){ft(this.persistence.referenceDelegate instanceof Oc);const i=this.persistence.referenceDelegate.garbageCollector;return new CA(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?Bn.withCacheSize(this.cacheSizeBytes):Bn.DEFAULT;return new Gw(i=>Oc.ei(i,t),this.serializer)}}class Pf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Ry(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=FC.bind(null,this.syncEngine),await _C(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new EC}()}createDatastore(e){const t=id(e.databaseInfo.databaseId),i=function(a){return new rC(a)}(e.databaseInfo);return function(a,c,h,p){return new sC(a,c,h,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,s,a,c,h){return new lC(i,s,a,c,h)}(this.localStore,this.datastore,e.asyncQueue,t=>Ry(this.syncEngine,t,0),function(){return Ey.p()?new Ey:new eC}())}createSyncEngine(e,t){return function(s,a,c,h,p,v,_){const T=new kC(s,a,c,h,p,v);return _&&(T.$a=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const a=$e(s);ye("RemoteStore","RemoteStore shutting down."),a.k_.add(5),await Ll(a),a.Q_.shutdown(),a.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Pf.provider={build:()=>new Pf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Oi("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,t,i,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=yn.UNAUTHENTICATED,this.clientId=mw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async c=>{ye("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(ye("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Rp(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Jh(n,e){n.asyncQueue.verifyOperationInProgress(),ye("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await Qw(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Ay(n,e){n.asyncQueue.verifyOperationInProgress();const t=await $C(n);ye("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>Ty(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>Ty(e.remoteStore,s)),n._onlineComponents=e}async function $C(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ye("FirestoreClient","Using user provided OfflineComponentProvider");try{await Jh(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===re.FAILED_PRECONDITION||s.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;ia("Error using user provided cache. Falling back to memory cache: "+t),await Jh(n,new Vc)}}else ye("FirestoreClient","Using default OfflineComponentProvider"),await Jh(n,new zC(void 0));return n._offlineComponents}async function v0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ye("FirestoreClient","Using user provided OnlineComponentProvider"),await Ay(n,n._uninitializedComponentsProvider._online)):(ye("FirestoreClient","Using default OnlineComponentProvider"),await Ay(n,new Pf))),n._onlineComponents}function HC(n){return v0(n).then(e=>e.syncEngine)}async function y0(n){const e=await v0(n),t=e.eventManager;return t.onListen=AC.bind(null,e.syncEngine),t.onUnlisten=bC.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=CC.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=DC.bind(null,e.syncEngine),t}function qC(n,e,t={}){const i=new Di;return n.asyncQueue.enqueueAndForget(async()=>function(a,c,h,p,v){const _=new g0({next:I=>{_.eu(),c.enqueueAndForget(()=>s0(a,T));const C=I.docs.has(h);!C&&I.fromCache?v.reject(new ke(re.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&I.fromCache&&p&&p.source==="server"?v.reject(new ke(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(I)},error:I=>v.reject(I)}),T=new a0(fp(h.path),_,{includeMetadataChanges:!0,ua:!0});return o0(a,T)}(await y0(n),n.asyncQueue,e,t,i)),i.promise}function WC(n,e,t={}){const i=new Di;return n.asyncQueue.enqueueAndForget(async()=>function(a,c,h,p,v){const _=new g0({next:I=>{_.eu(),c.enqueueAndForget(()=>s0(a,T)),I.fromCache&&p.source==="server"?v.reject(new ke(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(I)},error:I=>v.reject(I)}),T=new a0(h,_,{includeMetadataChanges:!0,ua:!0});return o0(a,T)}(await y0(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(n,e,t){if(!t)throw new ke(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function KC(n,e,t,i){if(e===!0&&i===!0)throw new ke(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Py(n){if(!be.isDocumentKey(n))throw new ke(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function by(n){if(be.isDocumentKey(n))throw new ke(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Cp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ue()}function Po(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ke(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Cp(n);throw new ke(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ke(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ke(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_0((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ke(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ke(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ke(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ad{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ke(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ke(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dy(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new ik;switch(i.type){case"firstParty":return new lk(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ke(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Cy.get(t);i&&(ye("ComponentProvider","Removing Datastore"),Cy.delete(t),i.terminate())}(this),Promise.resolve()}}function GC(n,e,t,i={}){var s;const a=(n=Po(n,ad))._getSettings(),c=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==c&&ia("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),i.mockUserToken){let h,p;if(typeof i.mockUserToken=="string")h=i.mockUserToken,p=yn.MOCK_USER;else{h=vI(i.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new ke(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new yn(v)}n._authCredentials=new ok(new pw(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ld(this.firestore,e,this._query)}}class er{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new er(this.firestore,e,this._key)}}class xo extends ld{constructor(e,t,i){super(e,t,fp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new er(this.firestore,null,new be(e))}withConverter(e){return new xo(this.firestore,e,this._path)}}function Pp(n,e,...t){if(n=tr(n),w0("collection","path",e),n instanceof ad){const i=Rt.fromString(e,...t);return by(i),new xo(n,null,i)}{if(!(n instanceof er||n instanceof xo))throw new ke(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Rt.fromString(e,...t));return by(i),new xo(n.firestore,null,i)}}function mc(n,e,...t){if(n=tr(n),arguments.length===1&&(e=mw.newId()),w0("doc","path",e),n instanceof ad){const i=Rt.fromString(e,...t);return Py(i),new er(n,null,new be(i))}{if(!(n instanceof er||n instanceof xo))throw new ke(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Rt.fromString(e,...t));return Py(i),new er(n.firestore,n instanceof xo?n.converter:null,new be(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Xw(this,"async_queue_retry"),this.fu=()=>{const i=Xh();i&&ye("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=Xh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const t=Xh();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const t=new Di;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!ga(e))throw e;ye("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const s=function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),h}(i);throw Oi("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const s=Sp.createAndSchedule(this,e,t,i,a=>this.Su(a));return this.Eu.push(s),s}pu(){this.Au&&Ue()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.Eu)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Eu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.Eu.indexOf(e);this.Eu.splice(t,1)}}class Ml extends ad{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new Ny,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ny(e),this._firestoreClient=void 0,await e}}}function QC(n,e){const t=typeof n=="object"?n:I_(),i=typeof n=="string"?n:"(default)",s=Yf(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const a=mI("firestore");a&&GC(s,...a)}return s}function bp(n){if(n._terminated)throw new ke(re.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||YC(n),n._firestoreClient}function YC(n){var e,t,i;const s=n._freezeSettings(),a=function(h,p,v,_){return new xk(h,p,v,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,_0(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new BC(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(h){const p=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ca(un.fromBase64String(e))}catch(t){throw new ke(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ca(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ke(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ke(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ke(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tt(this._lat,e._lat)||tt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC=/^__.*__$/;class JC{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ds(e,this.data,this.fieldMask,t,this.fieldTransforms):new Dl(e,this.data,t,this.fieldTransforms)}}function T0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue()}}class Op{constructor(e,t,i,s,a,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,a===void 0&&this.Fu(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Op(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:i,Nu:!1});return s.Bu(e),s}Lu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:i,Nu:!1});return s.Fu(),s}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Fc(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(T0(this.Mu)&&XC.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class ZC{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||id(e)}$u(e,t,i,s=!1){return new Op({Mu:e,methodName:t,Ku:i,path:ln.emptyPath(),Nu:!1,Qu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function x0(n){const e=n._freezeSettings(),t=id(n._databaseId);return new ZC(n._databaseId,!!e.ignoreUndefinedProperties,t)}function I0(n,e,t,i,s,a={}){const c=n.$u(a.merge||a.mergeFields?2:0,e,t,s);A0("Data must be an object, but it was:",c,i);const h=R0(i,c);let p,v;if(a.merge)p=new Ur(c.fieldMask),v=c.fieldTransforms;else if(a.mergeFields){const _=[];for(const T of a.mergeFields){const I=eP(e,T,t);if(!c.contains(I))throw new ke(re.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);nP(_,I)||_.push(I)}p=new Ur(_),v=c.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,v=c.fieldTransforms;return new JC(new gr(h),p,v)}function S0(n,e){if(k0(n=tr(n)))return A0("Unsupported field value:",e,n),R0(n,e);if(n instanceof E0)return function(i,s){if(!T0(s.Mu))throw s.qu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,s){const a=[];let c=0;for(const h of i){let p=S0(h,s.ku(c));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),c++}return{arrayValue:{values:a}}}(n,e)}return function(i,s){if((i=tr(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Wk(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=qt.fromDate(i);return{timestampValue:Lc(s.serializer,a)}}if(i instanceof qt){const a=new qt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Lc(s.serializer,a)}}if(i instanceof Np)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ca)return{bytesValue:zw(s.serializer,i._byteString)};if(i instanceof er){const a=s.databaseId,c=i.firestore._databaseId;if(!c.isEqual(a))throw s.qu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:vp(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Lp)return function(c,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw h.qu("VectorValues must only contain numeric values.");return pp(h.serializer,p)})}}}}}}(i,s);throw s.qu(`Unsupported field value: ${Cp(i)}`)}(n,e)}function R0(n,e){const t={};return gw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):us(n,(i,s)=>{const a=S0(s,e.Ou(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function k0(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof qt||n instanceof Np||n instanceof ca||n instanceof er||n instanceof E0||n instanceof Lp)}function A0(n,e,t){if(!k0(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const i=Cp(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function eP(n,e,t){if((e=tr(e))instanceof Dp)return e._internalPath;if(typeof e=="string")return C0(n,e);throw Fc("Field path arguments must be of type string or ",n,!1,void 0,t)}const tP=new RegExp("[~\\*/\\[\\]]");function C0(n,e,t){if(e.search(tP)>=0)throw Fc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Dp(...e.split("."))._internalPath}catch{throw Fc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Fc(n,e,t,i,s){const a=i&&!i.isEmpty(),c=s!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(a||c)&&(p+=" (found",a&&(p+=` in field ${i}`),c&&(p+=` in document ${s}`),p+=")"),new ke(re.INVALID_ARGUMENT,h+n+p)}function nP(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(e,t,i,s,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new er(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(b0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class rP extends P0{data(){return super.data()}}function b0(n,e){return typeof e=="string"?C0(n,e):e instanceof Dp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iP(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ke(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oP{convertValue(e,t="none"){switch(Ao(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ot(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ko(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ue()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return us(e,(s,a)=>{i[s]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,s;const a=(s=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(c=>Ot(c.doubleValue));return new Lp(a)}convertGeoPoint(e){return new Np(Ot(e.latitude),Ot(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Xc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(gl(e));default:return null}}convertTimestamp(e){const t=Ro(e);return new qt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Rt.fromString(e);ft(Kw(i));const s=new vl(i.get(1),i.get(3)),a=new be(i.popFirst(5));return s.isEqual(t)||Oi(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class N0 extends P0{constructor(e,t,i,s,a,c){super(e,t,i,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(b0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class gc extends N0{data(e={}){return super.data(e)}}class sP{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new sl(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new gc(this._firestore,this._userDataWriter,i.key,i,new sl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ke(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(h=>{const p=new gc(s._firestore,s._userDataWriter,h.doc.key,h.doc,new sl(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const p=new gc(s._firestore,s._userDataWriter,h.doc.key,h.doc,new sl(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let v=-1,_=-1;return h.type!==0&&(v=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),_=c.indexOf(h.doc.key)),{type:aP(h.type),doc:p,oldIndex:v,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function aP(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(n){n=Po(n,er);const e=Po(n.firestore,Ml);return qC(bp(e),n._key).then(t=>cP(e,n,t))}class L0 extends oP{constructor(e){super(),this.firestore=e}convertBytes(e){return new ca(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,t)}}function O0(n){n=Po(n,ld);const e=Po(n.firestore,Ml),t=bp(e),i=new L0(e);return iP(n._query),WC(t,n._query).then(s=>new sP(e,i,n,s))}function Ly(n,e,t){n=Po(n,er);const i=Po(n.firestore,Ml),s=D0(n.converter,e);return M0(i,[I0(x0(i),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,oi.none())])}function uP(n,e){const t=Po(n.firestore,Ml),i=mc(n),s=D0(n.converter,e);return M0(t,[I0(x0(n.firestore),"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,oi.exists(!1))]).then(()=>i)}function M0(n,e){return function(i,s){const a=new Di;return i.asyncQueue.enqueueAndForget(async()=>NC(await HC(i),s,a)),a.promise}(bp(n),e)}function cP(n,e,t){const i=t.docs.get(e._key),s=new L0(n);return new N0(n,s,e._key,i,new sl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){pa=s})(ha),ra(new ns("firestore",(i,{instanceIdentifier:s,options:a})=>{const c=i.getProvider("app").getImmediate(),h=new Ml(new sk(i.getProvider("auth-internal")),new ck(i.getProvider("app-check-internal")),function(v,_){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ke(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vl(v.options.projectId,_)}(c,s),c);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),Eo(Yv,"4.7.6",e),Eo(Yv,"4.7.6","esm2017")})();var dP="firebase",hP="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Eo(dP,hP,"app");const fP={apiKey:"AIzaSyDrmSpJIywf0ZFc61bJkPVWObxoXxXwLxQ",authDomain:"mediscrape.firebaseapp.com",projectId:"mediscrape",storageBucket:"mediscrape.firebasestorage.app",messagingSenderId:"207817260049",appId:"1:207817260049:web:f23466db3b718b978745b0"},V0=x_(fP),ec=nk(V0),na=QC(V0),pP=n=>{switch(n){case"auth/weak-password":return"Weak password";case"auth/email-already-in-use":return"Email already in use";case"auth/invalid-email":return"Invalid email";case"auth/wrong-password":return"Wrong password";case"auth/user-not-found":return"User not found";default:return"Invalid credential"}},mP=()=>{B.useEffect(()=>{(j=>{localStorage.getItem("userID")&&n("/Landing")})()},[]);const n=Il(),[e,t]=B.useState(null),[i,s]=B.useState(""),[a,c]=B.useState(""),[h,p]=B.useState(""),v=b=>{t(e===b?null:b),s("")},_=async b=>{(await lP(mc(na,"users",b.uid))).exists()||await Ly(mc(na,"users",b.uid),{Email:b.email}),aI(b.displayName,b.uid),n("/Landing")},T=async()=>{try{await j1(ec,a),alert("Reset email sent!"),v("login")}catch{s("Failed to send reset email. Please try again.")}},I=async()=>{try{if(e==="login"){const j=(await B1(ec,a,h)).user;console.log("Logged in:",j.uid),j.emailVerified?await _(j):s("Please verify your email first!")}else if(e==="signup"){const j=(await z1(ec,a,h)).user;console.log("Signed up:",j.uid),await Ly(mc(na,"users",j.uid),{Email:j.email}),localStorage.setItem("userLevel","Beginner"),await $1(j),alert("Verification email sent! Please verify your email before proceeding."),v("login")}}catch(b){console.error("Error:",b.message);const j=pP(b.code);s(j)}},C=async()=>{try{const b=new ki,F=(await dR(ec,b)).user;console.log("Google Sign-In:",F.uid),await _(F)}catch(b){console.error("Error during Google Sign-In:",b.message),s("Google Sign-In failed. Please try again.")}};return ae.jsx("div",{className:"container",children:ae.jsxs("div",{className:"auth-panel",children:[ae.jsx("div",{className:"intro",children:ae.jsx("p",{className:"text",children:"Welcome!"})}),ae.jsx("div",{className:"formBtn",onClick:C,children:"Login with Gmail"}),ae.jsx("div",{className:"formBtn",onClick:()=>v("login"),children:"Login with Email"}),e==="login"&&ae.jsx(_v,{onSubmit:I,error:i,email:a,setEmail:c,password:h,setPassword:p}),ae.jsx("div",{className:"formBtn",onClick:()=>v("signup"),children:"Sign-Up"}),e==="signup"&&ae.jsx(_v,{onSubmit:I,error:i,email:a,setEmail:c,password:h,setPassword:p}),ae.jsx("div",{id:"forgetPassBtn",onClick:()=>v("forgetpass"),children:"Forget Password"}),e==="forgetpass"&&ae.jsxs("div",{className:"form",children:[ae.jsx("form",{children:ae.jsx(lf,{type:"text",placeholder:"Email",value:a,onChange:b=>c(b.target.value),icon:"fas fa-envelope"})}),ae.jsx("div",{id:"goBtn",onClick:T,children:"Go"})]})]})})};var Zh={exports:{}},ef,Oy;function gP(){if(Oy)return ef;Oy=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ef=n,ef}var tf,My;function vP(){if(My)return tf;My=1;var n=gP();function e(){}function t(){}return t.resetWarningCache=e,tf=function(){function i(c,h,p,v,_,T){if(T!==n){var I=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw I.name="Invariant Violation",I}}i.isRequired=i;function s(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},tf}var Vy;function yP(){return Vy||(Vy=1,Zh.exports=vP()()),Zh.exports}var _P=yP();const vt=Mf(_P),wP=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function da(n,e,t){const i=EP(n),{webkitRelativePath:s}=n,a=typeof e=="string"?e:typeof s=="string"&&s.length>0?s:`./${n.name}`;return typeof i.path!="string"&&Fy(i,"path",a),Fy(i,"relativePath",a),i}function EP(n){const{name:e}=n;if(e&&e.lastIndexOf(".")!==-1&&!n.type){const i=e.split(".").pop().toLowerCase(),s=wP.get(i);s&&Object.defineProperty(n,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return n}function Fy(n,e,t){Object.defineProperty(n,e,{value:t,writable:!1,configurable:!1,enumerable:!0})}const TP=[".DS_Store","Thumbs.db"];function xP(n){return ls(this,void 0,void 0,function*(){return Uc(n)&&IP(n.dataTransfer)?AP(n.dataTransfer,n.type):SP(n)?RP(n):Array.isArray(n)&&n.every(e=>"getFile"in e&&typeof e.getFile=="function")?kP(n):[]})}function IP(n){return Uc(n)}function SP(n){return Uc(n)&&Uc(n.target)}function Uc(n){return typeof n=="object"&&n!==null}function RP(n){return bf(n.target.files).map(e=>da(e))}function kP(n){return ls(this,void 0,void 0,function*(){return(yield Promise.all(n.map(t=>t.getFile()))).map(t=>da(t))})}function AP(n,e){return ls(this,void 0,void 0,function*(){if(n.items){const t=bf(n.items).filter(s=>s.kind==="file");if(e!=="drop")return t;const i=yield Promise.all(t.map(CP));return Uy(F0(i))}return Uy(bf(n.files).map(t=>da(t)))})}function Uy(n){return n.filter(e=>TP.indexOf(e.name)===-1)}function bf(n){if(n===null)return[];const e=[];for(let t=0;t<n.length;t++){const i=n[t];e.push(i)}return e}function CP(n){if(typeof n.webkitGetAsEntry!="function")return jy(n);const e=n.webkitGetAsEntry();return e&&e.isDirectory?U0(e):jy(n,e)}function F0(n){return n.reduce((e,t)=>[...e,...Array.isArray(t)?F0(t):[t]],[])}function jy(n,e){return ls(this,void 0,void 0,function*(){var t;if(globalThis.isSecureContext&&typeof n.getAsFileSystemHandle=="function"){const a=yield n.getAsFileSystemHandle();if(a===null)throw new Error(`${n} is not a File`);if(a!==void 0){const c=yield a.getFile();return c.handle=a,da(c)}}const i=n.getAsFile();if(!i)throw new Error(`${n} is not a File`);return da(i,(t=e==null?void 0:e.fullPath)!==null&&t!==void 0?t:void 0)})}function PP(n){return ls(this,void 0,void 0,function*(){return n.isDirectory?U0(n):bP(n)})}function U0(n){const e=n.createReader();return new Promise((t,i)=>{const s=[];function a(){e.readEntries(c=>ls(this,void 0,void 0,function*(){if(c.length){const h=Promise.all(c.map(PP));s.push(h),a()}else try{const h=yield Promise.all(s);t(h)}catch(h){i(h)}}),c=>{i(c)})}a()})}function bP(n){return ls(this,void 0,void 0,function*(){return new Promise((e,t)=>{n.file(i=>{const s=da(i,n.fullPath);e(s)},i=>{t(i)})})})}var tc={},zy;function DP(){return zy||(zy=1,tc.__esModule=!0,tc.default=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(",");if(t.length===0)return!0;var i=n.name||"",s=(n.type||"").toLowerCase(),a=s.replace(/\/.*$/,"");return t.some(function(c){var h=c.trim().toLowerCase();return h.charAt(0)==="."?i.toLowerCase().endsWith(h):h.endsWith("/*")?a===h.replace(/\/.*$/,""):s===h})}return!0}),tc}var NP=DP();const nf=Mf(NP);function By(n){return MP(n)||OP(n)||z0(n)||LP()}function LP(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OP(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function MP(n){if(Array.isArray(n))return Df(n)}function $y(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function Hy(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?$y(Object(t),!0).forEach(function(i){j0(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):$y(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function j0(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function El(n,e){return UP(n)||FP(n,e)||z0(n,e)||VP()}function VP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z0(n,e){if(n){if(typeof n=="string")return Df(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Df(n,e)}}function Df(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function FP(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],s=!0,a=!1,c,h;try{for(t=t.call(n);!(s=(c=t.next()).done)&&(i.push(c.value),!(e&&i.length===e));s=!0);}catch(p){a=!0,h=p}finally{try{!s&&t.return!=null&&t.return()}finally{if(a)throw h}}return i}}function UP(n){if(Array.isArray(n))return n}var jP=typeof nf=="function"?nf:nf.default,zP="file-invalid-type",BP="file-too-large",$P="file-too-small",HP="too-many-files",qP=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=e.split(","),i=t.length>1?"one of ".concat(t.join(", ")):t[0];return{code:zP,message:"File type must be ".concat(i)}},qy=function(e){return{code:BP,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},Wy=function(e){return{code:$P,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},WP={code:HP,message:"Too many files"};function B0(n,e){var t=n.type==="application/x-moz-file"||jP(n,e);return[t,t?null:qP(e)]}function $0(n,e,t){if(Jo(n.size))if(Jo(e)&&Jo(t)){if(n.size>t)return[!1,qy(t)];if(n.size<e)return[!1,Wy(e)]}else{if(Jo(e)&&n.size<e)return[!1,Wy(e)];if(Jo(t)&&n.size>t)return[!1,qy(t)]}return[!0,null]}function Jo(n){return n!=null}function KP(n){var e=n.files,t=n.accept,i=n.minSize,s=n.maxSize,a=n.multiple,c=n.maxFiles,h=n.validator;return!a&&e.length>1||a&&c>=1&&e.length>c?!1:e.every(function(p){var v=B0(p,t),_=El(v,1),T=_[0],I=$0(p,i,s),C=El(I,1),b=C[0],j=h?h(p):null;return T&&b&&!j})}function jc(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function nc(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function Ky(n){n.preventDefault()}function GP(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function QP(n){return n.indexOf("Edge/")!==-1}function YP(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return GP(n)||QP(n)}function ei(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(i){for(var s=arguments.length,a=new Array(s>1?s-1:0),c=1;c<s;c++)a[c-1]=arguments[c];return e.some(function(h){return!jc(i)&&h&&h.apply(void 0,[i].concat(a)),jc(i)})}}function XP(){return"showOpenFilePicker"in window}function JP(n){if(Jo(n)){var e=Object.entries(n).filter(function(t){var i=El(t,2),s=i[0],a=i[1],c=!0;return H0(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),c=!1),(!Array.isArray(a)||!a.every(q0))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),c=!1),c}).reduce(function(t,i){var s=El(i,2),a=s[0],c=s[1];return Hy(Hy({},t),{},j0({},a,c))},{});return[{description:"Files",accept:e}]}return n}function ZP(n){if(Jo(n))return Object.entries(n).reduce(function(e,t){var i=El(t,2),s=i[0],a=i[1];return[].concat(By(e),[s],By(a))},[]).filter(function(e){return H0(e)||q0(e)}).join(",")}function eb(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function tb(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}function H0(n){return n==="audio/*"||n==="video/*"||n==="image/*"||n==="text/*"||n==="application/*"||/\w+\/[-+.\w]+/g.test(n)}function q0(n){return/^.*\.[\w]+$/.test(n)}var nb=["children"],rb=["open"],ib=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],ob=["refKey","onChange","onClick"];function sb(n){return ub(n)||lb(n)||W0(n)||ab()}function ab(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lb(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function ub(n){if(Array.isArray(n))return Nf(n)}function rf(n,e){return hb(n)||db(n,e)||W0(n,e)||cb()}function cb(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W0(n,e){if(n){if(typeof n=="string")return Nf(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Nf(n,e)}}function Nf(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function db(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],s=!0,a=!1,c,h;try{for(t=t.call(n);!(s=(c=t.next()).done)&&(i.push(c.value),!(e&&i.length===e));s=!0);}catch(p){a=!0,h=p}finally{try{!s&&t.return!=null&&t.return()}finally{if(a)throw h}}return i}}function hb(n){if(Array.isArray(n))return n}function Gy(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function Pt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Gy(Object(t),!0).forEach(function(i){Lf(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Gy(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Lf(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function zc(n,e){if(n==null)return{};var t=fb(n,e),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(s=0;s<a.length;s++)i=a[s],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function fb(n,e){if(n==null)return{};var t={},i=Object.keys(n),s,a;for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}var Mp=B.forwardRef(function(n,e){var t=n.children,i=zc(n,nb),s=G0(i),a=s.open,c=zc(s,rb);return B.useImperativeHandle(e,function(){return{open:a}},[a]),tT.createElement(B.Fragment,null,t(Pt(Pt({},c),{},{open:a})))});Mp.displayName="Dropzone";var K0={disabled:!1,getFilesFromEvent:xP,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Mp.defaultProps=K0;Mp.propTypes={children:vt.func,accept:vt.objectOf(vt.arrayOf(vt.string)),multiple:vt.bool,preventDropOnDocument:vt.bool,noClick:vt.bool,noKeyboard:vt.bool,noDrag:vt.bool,noDragEventsBubbling:vt.bool,minSize:vt.number,maxSize:vt.number,maxFiles:vt.number,disabled:vt.bool,getFilesFromEvent:vt.func,onFileDialogCancel:vt.func,onFileDialogOpen:vt.func,useFsAccessApi:vt.bool,autoFocus:vt.bool,onDragEnter:vt.func,onDragLeave:vt.func,onDragOver:vt.func,onDrop:vt.func,onDropAccepted:vt.func,onDropRejected:vt.func,onError:vt.func,validator:vt.func};var Of={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function G0(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Pt(Pt({},K0),n),t=e.accept,i=e.disabled,s=e.getFilesFromEvent,a=e.maxSize,c=e.minSize,h=e.multiple,p=e.maxFiles,v=e.onDragEnter,_=e.onDragLeave,T=e.onDragOver,I=e.onDrop,C=e.onDropAccepted,b=e.onDropRejected,j=e.onFileDialogCancel,F=e.onFileDialogOpen,W=e.useFsAccessApi,te=e.autoFocus,Z=e.preventDropOnDocument,pe=e.noClick,U=e.noKeyboard,ce=e.noDrag,P=e.noDragEventsBubbling,x=e.onError,S=e.validator,A=B.useMemo(function(){return ZP(t)},[t]),D=B.useMemo(function(){return JP(t)},[t]),O=B.useMemo(function(){return typeof F=="function"?F:Qy},[F]),k=B.useMemo(function(){return typeof j=="function"?j:Qy},[j]),He=B.useRef(null),Me=B.useRef(null),kt=B.useReducer(pb,Of),Ge=rf(kt,2),oe=Ge[0],he=Ge[1],fe=oe.isFocused,V=oe.isFileDialogActive,Y=B.useRef(typeof window<"u"&&window.isSecureContext&&W&&XP()),_e=function(){!Y.current&&V&&setTimeout(function(){if(Me.current){var Ie=Me.current.files;Ie.length||(he({type:"closeDialog"}),k())}},300)};B.useEffect(function(){return window.addEventListener("focus",_e,!1),function(){window.removeEventListener("focus",_e,!1)}},[Me,V,k,Y]);var De=B.useRef([]),Le=function(Ie){He.current&&He.current.contains(Ie.target)||(Ie.preventDefault(),De.current=[])};B.useEffect(function(){return Z&&(document.addEventListener("dragover",Ky,!1),document.addEventListener("drop",Le,!1)),function(){Z&&(document.removeEventListener("dragover",Ky),document.removeEventListener("drop",Le))}},[He,Z]),B.useEffect(function(){return!i&&te&&He.current&&He.current.focus(),function(){}},[He,te,i]);var Be=B.useCallback(function(de){x?x(de):console.error(de)},[x]),Qe=B.useCallback(function(de){de.preventDefault(),de.persist(),cn(de),De.current=[].concat(sb(De.current),[de.target]),nc(de)&&Promise.resolve(s(de)).then(function(Ie){if(!(jc(de)&&!P)){var Ne=Ie.length,We=Ne>0&&KP({files:Ie,accept:A,minSize:c,maxSize:a,multiple:h,maxFiles:p,validator:S}),mt=Ne>0&&!We;he({isDragAccept:We,isDragReject:mt,isDragActive:!0,type:"setDraggedFiles"}),v&&v(de)}}).catch(function(Ie){return Be(Ie)})},[s,v,Be,P,A,c,a,h,p,S]),Ye=B.useCallback(function(de){de.preventDefault(),de.persist(),cn(de);var Ie=nc(de);if(Ie&&de.dataTransfer)try{de.dataTransfer.dropEffect="copy"}catch{}return Ie&&T&&T(de),!1},[T,P]),je=B.useCallback(function(de){de.preventDefault(),de.persist(),cn(de);var Ie=De.current.filter(function(We){return He.current&&He.current.contains(We)}),Ne=Ie.indexOf(de.target);Ne!==-1&&Ie.splice(Ne,1),De.current=Ie,!(Ie.length>0)&&(he({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),nc(de)&&_&&_(de))},[He,_,P]),ht=B.useCallback(function(de,Ie){var Ne=[],We=[];de.forEach(function(mt){var qn=B0(mt,A),xt=rf(qn,2),Cn=xt[0],Pn=xt[1],rr=$0(mt,c,a),ir=rf(rr,2),or=ir[0],bn=ir[1],sr=S?S(mt):null;if(Cn&&or&&!sr)Ne.push(mt);else{var Tn=[Pn,bn];sr&&(Tn=Tn.concat(sr)),We.push({file:mt,errors:Tn.filter(function($r){return $r})})}}),(!h&&Ne.length>1||h&&p>=1&&Ne.length>p)&&(Ne.forEach(function(mt){We.push({file:mt,errors:[WP]})}),Ne.splice(0)),he({acceptedFiles:Ne,fileRejections:We,isDragReject:We.length>0,type:"setFiles"}),I&&I(Ne,We,Ie),We.length>0&&b&&b(We,Ie),Ne.length>0&&C&&C(Ne,Ie)},[he,h,A,c,a,p,I,C,b,S]),Zt=B.useCallback(function(de){de.preventDefault(),de.persist(),cn(de),De.current=[],nc(de)&&Promise.resolve(s(de)).then(function(Ie){jc(de)&&!P||ht(Ie,de)}).catch(function(Ie){return Be(Ie)}),he({type:"reset"})},[s,ht,Be,P]),En=B.useCallback(function(){if(Y.current){he({type:"openDialog"}),O();var de={multiple:h,types:D};window.showOpenFilePicker(de).then(function(Ie){return s(Ie)}).then(function(Ie){ht(Ie,null),he({type:"closeDialog"})}).catch(function(Ie){eb(Ie)?(k(Ie),he({type:"closeDialog"})):tb(Ie)?(Y.current=!1,Me.current?(Me.current.value=null,Me.current.click()):Be(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Be(Ie)});return}Me.current&&(he({type:"openDialog"}),O(),Me.current.value=null,Me.current.click())},[he,O,k,W,ht,Be,D,h]),Ut=B.useCallback(function(de){!He.current||!He.current.isEqualNode(de.target)||(de.key===" "||de.key==="Enter"||de.keyCode===32||de.keyCode===13)&&(de.preventDefault(),En())},[He,En]),nr=B.useCallback(function(){he({type:"focus"})},[]),yr=B.useCallback(function(){he({type:"blur"})},[]),_r=B.useCallback(function(){pe||(YP()?setTimeout(En,0):En())},[pe,En]),An=function(Ie){return i?null:Ie},Br=function(Ie){return U?null:An(Ie)},$n=function(Ie){return ce?null:An(Ie)},cn=function(Ie){P&&Ie.stopPropagation()},jt=B.useMemo(function(){return function(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ie=de.refKey,Ne=Ie===void 0?"ref":Ie,We=de.role,mt=de.onKeyDown,qn=de.onFocus,xt=de.onBlur,Cn=de.onClick,Pn=de.onDragEnter,rr=de.onDragOver,ir=de.onDragLeave,or=de.onDrop,bn=zc(de,ib);return Pt(Pt(Lf({onKeyDown:Br(ei(mt,Ut)),onFocus:Br(ei(qn,nr)),onBlur:Br(ei(xt,yr)),onClick:An(ei(Cn,_r)),onDragEnter:$n(ei(Pn,Qe)),onDragOver:$n(ei(rr,Ye)),onDragLeave:$n(ei(ir,je)),onDrop:$n(ei(or,Zt)),role:typeof We=="string"&&We!==""?We:"presentation"},Ne,He),!i&&!U?{tabIndex:0}:{}),bn)}},[He,Ut,nr,yr,_r,Qe,Ye,je,Zt,U,ce,i]),Hn=B.useCallback(function(de){de.stopPropagation()},[]),wr=B.useMemo(function(){return function(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ie=de.refKey,Ne=Ie===void 0?"ref":Ie,We=de.onChange,mt=de.onClick,qn=zc(de,ob),xt=Lf({accept:A,multiple:h,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:An(ei(We,Zt)),onClick:An(ei(mt,Hn)),tabIndex:-1},Ne,Me);return Pt(Pt({},xt),qn)}},[Me,t,h,Zt,i]);return Pt(Pt({},oe),{},{isFocused:fe&&!i,getRootProps:jt,getInputProps:wr,rootRef:He,inputRef:Me,open:An(En)})}function pb(n,e){switch(e.type){case"focus":return Pt(Pt({},n),{},{isFocused:!0});case"blur":return Pt(Pt({},n),{},{isFocused:!1});case"openDialog":return Pt(Pt({},Of),{},{isFileDialogActive:!0});case"closeDialog":return Pt(Pt({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":return Pt(Pt({},n),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Pt(Pt({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return Pt({},Of);default:return n}}function Qy(){}const mb=()=>{const n=Il(),[e,t]=B.useState([]),[i,s]=B.useState(null),[a,c]=B.useState(!1),[h,p]=B.useState(null),[v,_]=B.useState(null),[T,I]=B.useState(!1),C=B.useRef([]),b=localStorage.getItem("userID"),j=B.useCallback(A=>{A.length!==0&&(_(A[0]),t([]),s(null),p(null),I(!1))},[]),F=()=>{t([]),s(null),_(null),I(!1)},W=async()=>{if(!v)return;c(!0),p(null),I(!1);const A=new FormData;A.append("image",v);try{const D=await fetch("https://mediscrape.onrender.com/MediScrape",{method:"POST",body:A});if(!D.ok)throw new Error("Failed to process the image.");const O=await D.json();t(O.medicines||[]),s(O.doctorName||"Not Found"),I(!0)}catch(D){p(D.message)}finally{c(!1)}},te=async()=>{if(e.length===0){p("Doctor's name and medicines must be filled in.");return}try{await uP(Pp(na,b),{doctorName:i,medicines:e,date:new Date}),alert("Data saved successfully!"),F()}catch(A){p("Failed to save data to Firestore."),console.error(A)}},{getRootProps:Z,getInputProps:pe,isDragActive:U}=G0({onDrop:j,accept:{"image/*":[".jpeg",".png",".jpg"]},multiple:!1}),ce=(A,D)=>{const O=[...e];O[A]=D,t(O)},P=(A,D)=>{if(A.key==="Backspace"&&A.target.textContent.trim()===""){A.preventDefault();const O=[...e];O.splice(D,1),t(O)}},x=()=>{t([...e,""])},S=()=>{localStorage.removeItem("userID"),alert("Logged out successfully!"),n("/")};return ae.jsxs(ae.Fragment,{children:[ae.jsxs("div",{className:"header",children:[ae.jsx("button",{onClick:()=>n("/history"),className:"top-btn",children:"History"}),ae.jsx("button",{onClick:()=>n("/analysis"),className:"top-btn",children:"Analysis"}),ae.jsx("button",{onClick:S,className:"top-btn",children:"Logout"})]}),ae.jsxs("div",{className:"container",children:[ae.jsx("h1",{className:"title",children:"Medicine Extractor"}),ae.jsxs("div",{...Z(),className:`dropzone ${U?"dropzone-active":""}`,children:[ae.jsx("input",{...pe()}),ae.jsx("p",{children:U?"Drop the image here...":"Drag and drop an image, or click to select one (JPEG/PNG)."})]}),v&&ae.jsxs("p",{className:"file-info",children:["File selected: ",v.name]}),ae.jsx("button",{onClick:W,className:"extractBtn",disabled:!v||a,children:"Extract Medicine"}),a&&ae.jsx("p",{className:"message",children:"Processing, please wait..."}),h&&ae.jsx("p",{className:"message message-error",children:h}),i&&ae.jsxs("div",{className:"message message-text",children:[ae.jsx("h3",{className:"title",children:"Doctor's Name:"}),ae.jsx("p",{contentEditable:"true",spellCheck:"false",suppressContentEditableWarning:!0,onBlur:A=>s(A.target.textContent),children:i})]}),e.length>0&&ae.jsxs("div",{className:"message message-text",children:[ae.jsx("h3",{className:"title",children:"Validated Medicines:"}),e.map((A,D)=>ae.jsx("div",{className:"editable-div",contentEditable:"true",spellCheck:"false",suppressContentEditableWarning:!0,ref:O=>C.current[D]=O,onBlur:O=>ce(D,O.target.textContent),onKeyDown:O=>P(O,D),children:A},D))]}),T&&e.length>0&&ae.jsx(ae.Fragment,{children:ae.jsxs("div",{className:"actionBtn",children:[ae.jsx("button",{onClick:x,className:"addBtn",children:"Add Medicine"}),ae.jsx("button",{onClick:F,className:"cancelBtn",children:"Cancel"}),ae.jsx("button",{onClick:te,className:"saveBtn",children:"Save"})]})}),T&&e.length===0&&ae.jsx("p",{className:"message",children:"No valid medicines found in the image."})]})]})},gb=()=>{const n=Il(),[e,t]=B.useState([]),i=localStorage.getItem("userID");B.useEffect(()=>{(async()=>{try{const h=(await O0(Pp(na,i))).docs.map(p=>({id:p.id,...p.data()}));t(h)}catch(c){console.error("Failed to fetch history:",c)}})()},[i]);const s=()=>{localStorage.removeItem("userID"),alert("Logged out successfully!"),n("/")};return ae.jsxs(ae.Fragment,{children:[ae.jsxs("div",{className:"header",children:[ae.jsx("button",{onClick:()=>n("/Landing"),className:"top-btn",children:"Home"}),ae.jsx("button",{onClick:()=>n("/history"),className:"top-btn",children:"History"}),ae.jsx("button",{onClick:()=>n("/analysis"),className:"top-btn",children:"Analysis"}),ae.jsx("button",{onClick:s,className:"top-btn",children:"Logout"})]}),ae.jsxs("div",{className:"container",children:[ae.jsx("h1",{className:"title",children:"History"}),e.length>0?ae.jsx("div",{className:"history-grid",children:e.map(a=>ae.jsxs("div",{className:"history-card",children:[ae.jsxs("h3",{className:"doctor-name",children:["Doctor Name: ",a.doctorName]}),ae.jsx("h4",{className:"medicine-title",children:"Medicines:"}),ae.jsx("ul",{className:"medicine-list",children:a.medicines.map((c,h)=>ae.jsx("li",{className:"medicine-item",children:c},h))})]},a.id))}):ae.jsx("p",{className:"no-data",children:"No history found."})]})]})},vb=()=>{const n=Il(),[e,t]=B.useState([]),i=localStorage.getItem("userID");B.useEffect(()=>{(async()=>{try{const p=(await O0(Pp(na,i))).docs.flatMap(v=>v.data().medicines).reduce((v,_)=>(v[_]=(v[_]||0)+1,v),{});t(Object.entries(p))}catch(c){console.error("Failed to fetch analysis:",c)}})()},[i]);const s=()=>{localStorage.removeItem("userID"),alert("Logged out successfully!"),n("/")};return ae.jsxs(ae.Fragment,{children:[ae.jsxs("div",{className:"header",children:[ae.jsx("button",{onClick:()=>n("/Landing"),className:"top-btn",children:"Home"}),ae.jsx("button",{onClick:()=>n("/history"),className:"top-btn",children:"History"}),ae.jsx("button",{onClick:()=>n("/analysis"),className:"top-btn",children:"Analysis"}),ae.jsx("button",{onClick:s,className:"top-btn",children:"Logout"})]}),ae.jsxs("div",{className:"container",children:[ae.jsx("h1",{className:"title",children:"Medicine Analysis"}),e.length>0?ae.jsx("div",{className:"analysis-grid",children:e.map(([a,c])=>ae.jsxs("div",{className:"analysis-card",children:[ae.jsx("h2",{className:"medicine-name",children:a}),ae.jsxs("p",{className:"medicine-count",children:["Count: ",c]})]},a))}):ae.jsx("p",{className:"no-data",children:"No analysis data found."})]})]})},yb=Kx([{path:"/",element:ae.jsx(mP,{})},{path:"/Landing",element:ae.jsx(mb,{})},{path:"/history",element:ae.jsx(gb,{})},{path:"/analysis",element:ae.jsx(vb,{})}]);sT.createRoot(document.getElementById("root")).render(ae.jsx(B.StrictMode,{children:ae.jsx(sI,{router:yb})}));
