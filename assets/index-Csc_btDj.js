(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=t(i);fetch(i.href,a)}})();var Jb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mp(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Xb(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var Tm={exports:{}},Lh={},Im={exports:{}},vn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0;function Zb(){if(a0)return vn;a0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function x(re){return re===null||typeof re!="object"?null:(re=_&&re[_]||re["@@iterator"],typeof re=="function"?re:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,R={};function O(re,N,W){this.props=re,this.context=N,this.refs=R,this.updater=W||v}O.prototype.isReactComponent={},O.prototype.setState=function(re,N){if(typeof re!="object"&&typeof re!="function"&&re!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,re,N,"setState")},O.prototype.forceUpdate=function(re){this.updater.enqueueForceUpdate(this,re,"forceUpdate")};function C(){}C.prototype=O.prototype;function V(re,N,W){this.props=re,this.context=N,this.refs=R,this.updater=W||v}var B=V.prototype=new C;B.constructor=V,T(B,O.prototype),B.isPureReactComponent=!0;var $=Array.isArray,z=Object.prototype.hasOwnProperty,ie={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function A(re,N,W){var ee,se={},ue=null,we=null;if(N!=null)for(ee in N.ref!==void 0&&(we=N.ref),N.key!==void 0&&(ue=""+N.key),N)z.call(N,ee)&&!D.hasOwnProperty(ee)&&(se[ee]=N[ee]);var xe=arguments.length-2;if(xe===1)se.children=W;else if(1<xe){for(var Se=Array(xe),We=0;We<xe;We++)Se[We]=arguments[We+2];se.children=Se}if(re&&re.defaultProps)for(ee in xe=re.defaultProps,xe)se[ee]===void 0&&(se[ee]=xe[ee]);return{$$typeof:n,type:re,key:ue,ref:we,props:se,_owner:ie.current}}function M(re,N){return{$$typeof:n,type:re.type,key:N,ref:re.ref,props:re.props,_owner:re._owner}}function U(re){return typeof re=="object"&&re!==null&&re.$$typeof===n}function I(re){var N={"=":"=0",":":"=2"};return"$"+re.replace(/[=:]/g,function(W){return N[W]})}var P=/\/+/g;function F(re,N){return typeof re=="object"&&re!==null&&re.key!=null?I(""+re.key):N.toString(36)}function X(re,N,W,ee,se){var ue=typeof re;(ue==="undefined"||ue==="boolean")&&(re=null);var we=!1;if(re===null)we=!0;else switch(ue){case"string":case"number":we=!0;break;case"object":switch(re.$$typeof){case n:case e:we=!0}}if(we)return we=re,se=se(we),re=ee===""?"."+F(we,0):ee,$(se)?(W="",re!=null&&(W=re.replace(P,"$&/")+"/"),X(se,N,W,"",function(We){return We})):se!=null&&(U(se)&&(se=M(se,W+(!se.key||we&&we.key===se.key?"":(""+se.key).replace(P,"$&/")+"/")+re)),N.push(se)),1;if(we=0,ee=ee===""?".":ee+":",$(re))for(var xe=0;xe<re.length;xe++){ue=re[xe];var Se=ee+F(ue,xe);we+=X(ue,N,W,Se,se)}else if(Se=x(re),typeof Se=="function")for(re=Se.call(re),xe=0;!(ue=re.next()).done;)ue=ue.value,Se=ee+F(ue,xe++),we+=X(ue,N,W,Se,se);else if(ue==="object")throw N=String(re),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(re).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.");return we}function pe(re,N,W){if(re==null)return re;var ee=[],se=0;return X(re,ee,"","",function(ue){return N.call(W,ue,se++)}),ee}function ae(re){if(re._status===-1){var N=re._result;N=N(),N.then(function(W){(re._status===0||re._status===-1)&&(re._status=1,re._result=W)},function(W){(re._status===0||re._status===-1)&&(re._status=2,re._result=W)}),re._status===-1&&(re._status=0,re._result=N)}if(re._status===1)return re._result.default;throw re._result}var oe={current:null},te={transition:null},ne={ReactCurrentDispatcher:oe,ReactCurrentBatchConfig:te,ReactCurrentOwner:ie};function he(){throw Error("act(...) is not supported in production builds of React.")}return vn.Children={map:pe,forEach:function(re,N,W){pe(re,function(){N.apply(this,arguments)},W)},count:function(re){var N=0;return pe(re,function(){N++}),N},toArray:function(re){return pe(re,function(N){return N})||[]},only:function(re){if(!U(re))throw Error("React.Children.only expected to receive a single React element child.");return re}},vn.Component=O,vn.Fragment=t,vn.Profiler=i,vn.PureComponent=V,vn.StrictMode=r,vn.Suspense=h,vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ne,vn.act=he,vn.cloneElement=function(re,N,W){if(re==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+re+".");var ee=T({},re.props),se=re.key,ue=re.ref,we=re._owner;if(N!=null){if(N.ref!==void 0&&(ue=N.ref,we=ie.current),N.key!==void 0&&(se=""+N.key),re.type&&re.type.defaultProps)var xe=re.type.defaultProps;for(Se in N)z.call(N,Se)&&!D.hasOwnProperty(Se)&&(ee[Se]=N[Se]===void 0&&xe!==void 0?xe[Se]:N[Se])}var Se=arguments.length-2;if(Se===1)ee.children=W;else if(1<Se){xe=Array(Se);for(var We=0;We<Se;We++)xe[We]=arguments[We+2];ee.children=xe}return{$$typeof:n,type:re.type,key:se,ref:ue,props:ee,_owner:we}},vn.createContext=function(re){return re={$$typeof:l,_currentValue:re,_currentValue2:re,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},re.Provider={$$typeof:a,_context:re},re.Consumer=re},vn.createElement=A,vn.createFactory=function(re){var N=A.bind(null,re);return N.type=re,N},vn.createRef=function(){return{current:null}},vn.forwardRef=function(re){return{$$typeof:u,render:re}},vn.isValidElement=U,vn.lazy=function(re){return{$$typeof:y,_payload:{_status:-1,_result:re},_init:ae}},vn.memo=function(re,N){return{$$typeof:p,type:re,compare:N===void 0?null:N}},vn.startTransition=function(re){var N=te.transition;te.transition={};try{re()}finally{te.transition=N}},vn.unstable_act=he,vn.useCallback=function(re,N){return oe.current.useCallback(re,N)},vn.useContext=function(re){return oe.current.useContext(re)},vn.useDebugValue=function(){},vn.useDeferredValue=function(re){return oe.current.useDeferredValue(re)},vn.useEffect=function(re,N){return oe.current.useEffect(re,N)},vn.useId=function(){return oe.current.useId()},vn.useImperativeHandle=function(re,N,W){return oe.current.useImperativeHandle(re,N,W)},vn.useInsertionEffect=function(re,N){return oe.current.useInsertionEffect(re,N)},vn.useLayoutEffect=function(re,N){return oe.current.useLayoutEffect(re,N)},vn.useMemo=function(re,N){return oe.current.useMemo(re,N)},vn.useReducer=function(re,N,W){return oe.current.useReducer(re,N,W)},vn.useRef=function(re){return oe.current.useRef(re)},vn.useState=function(re){return oe.current.useState(re)},vn.useSyncExternalStore=function(re,N,W){return oe.current.useSyncExternalStore(re,N,W)},vn.useTransition=function(){return oe.current.useTransition()},vn.version="18.3.1",vn}var s0;function Yg(){return s0||(s0=1,Im.exports=Zb()),Im.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l0;function ex(){if(l0)return Lh;l0=1;var n=Yg(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,p){var y,_={},x=null,v=null;p!==void 0&&(x=""+p),h.key!==void 0&&(x=""+h.key),h.ref!==void 0&&(v=h.ref);for(y in h)r.call(h,y)&&!a.hasOwnProperty(y)&&(_[y]=h[y]);if(u&&u.defaultProps)for(y in h=u.defaultProps,h)_[y]===void 0&&(_[y]=h[y]);return{$$typeof:e,type:u,key:x,ref:v,props:_,_owner:i.current}}return Lh.Fragment=t,Lh.jsx=l,Lh.jsxs=l,Lh}var u0;function tx(){return u0||(u0=1,Tm.exports=ex()),Tm.exports}var tt=tx(),ke=Yg();const nx=mp(ke);var hd={},Pm={exports:{}},No={},km={exports:{}},Cm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0;function rx(){return c0||(c0=1,function(n){function e(te,ne){var he=te.length;te.push(ne);e:for(;0<he;){var re=he-1>>>1,N=te[re];if(0<i(N,ne))te[re]=ne,te[he]=N,he=re;else break e}}function t(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var ne=te[0],he=te.pop();if(he!==ne){te[0]=he;e:for(var re=0,N=te.length,W=N>>>1;re<W;){var ee=2*(re+1)-1,se=te[ee],ue=ee+1,we=te[ue];if(0>i(se,he))ue<N&&0>i(we,se)?(te[re]=we,te[ue]=he,re=ue):(te[re]=se,te[ee]=he,re=ee);else if(ue<N&&0>i(we,he))te[re]=we,te[ue]=he,re=ue;else break e}}return ne}function i(te,ne){var he=te.sortIndex-ne.sortIndex;return he!==0?he:te.id-ne.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],p=[],y=1,_=null,x=3,v=!1,T=!1,R=!1,O=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(te){for(var ne=t(p);ne!==null;){if(ne.callback===null)r(p);else if(ne.startTime<=te)r(p),ne.sortIndex=ne.expirationTime,e(h,ne);else break;ne=t(p)}}function $(te){if(R=!1,B(te),!T)if(t(h)!==null)T=!0,ae(z);else{var ne=t(p);ne!==null&&oe($,ne.startTime-te)}}function z(te,ne){T=!1,R&&(R=!1,C(A),A=-1),v=!0;var he=x;try{for(B(ne),_=t(h);_!==null&&(!(_.expirationTime>ne)||te&&!I());){var re=_.callback;if(typeof re=="function"){_.callback=null,x=_.priorityLevel;var N=re(_.expirationTime<=ne);ne=n.unstable_now(),typeof N=="function"?_.callback=N:_===t(h)&&r(h),B(ne)}else r(h);_=t(h)}if(_!==null)var W=!0;else{var ee=t(p);ee!==null&&oe($,ee.startTime-ne),W=!1}return W}finally{_=null,x=he,v=!1}}var ie=!1,D=null,A=-1,M=5,U=-1;function I(){return!(n.unstable_now()-U<M)}function P(){if(D!==null){var te=n.unstable_now();U=te;var ne=!0;try{ne=D(!0,te)}finally{ne?F():(ie=!1,D=null)}}else ie=!1}var F;if(typeof V=="function")F=function(){V(P)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,pe=X.port2;X.port1.onmessage=P,F=function(){pe.postMessage(null)}}else F=function(){O(P,0)};function ae(te){D=te,ie||(ie=!0,F())}function oe(te,ne){A=O(function(){te(n.unstable_now())},ne)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(te){te.callback=null},n.unstable_continueExecution=function(){T||v||(T=!0,ae(z))},n.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<te?Math.floor(1e3/te):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(te){switch(x){case 1:case 2:case 3:var ne=3;break;default:ne=x}var he=x;x=ne;try{return te()}finally{x=he}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(te,ne){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var he=x;x=te;try{return ne()}finally{x=he}},n.unstable_scheduleCallback=function(te,ne,he){var re=n.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?re+he:re):he=re,te){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=he+N,te={id:y++,callback:ne,priorityLevel:te,startTime:he,expirationTime:N,sortIndex:-1},he>re?(te.sortIndex=he,e(p,te),t(h)===null&&te===t(p)&&(R?(C(A),A=-1):R=!0,oe($,he-re))):(te.sortIndex=N,e(h,te),T||v||(T=!0,ae(z))),te},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(te){var ne=x;return function(){var he=x;x=ne;try{return te.apply(this,arguments)}finally{x=he}}}}(Cm)),Cm}var h0;function ix(){return h0||(h0=1,km.exports=rx()),km.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f0;function ox(){if(f0)return No;f0=1;var n=Yg(),e=ix();function t(o){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+o,c=1;c<arguments.length;c++)s+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+o+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(o,s){l(o,s),l(o+"Capture",s)}function l(o,s){for(i[o]=s,o=0;o<s.length;o++)r.add(s[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},_={};function x(o){return h.call(_,o)?!0:h.call(y,o)?!1:p.test(o)?_[o]=!0:(y[o]=!0,!1)}function v(o,s,c,m){if(c!==null&&c.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return m?!1:c!==null?!c.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function T(o,s,c,m){if(s===null||typeof s>"u"||v(o,s,c,m))return!0;if(m)return!1;if(c!==null)switch(c.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function R(o,s,c,m,b,k,K){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=m,this.attributeNamespace=b,this.mustUseProperty=c,this.propertyName=o,this.type=s,this.sanitizeURL=k,this.removeEmptyString=K}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){O[o]=new R(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var s=o[0];O[s]=new R(s,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){O[o]=new R(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){O[o]=new R(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){O[o]=new R(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){O[o]=new R(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){O[o]=new R(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){O[o]=new R(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){O[o]=new R(o,5,!1,o.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function V(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var s=o.replace(C,V);O[s]=new R(s,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var s=o.replace(C,V);O[s]=new R(s,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var s=o.replace(C,V);O[s]=new R(s,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){O[o]=new R(o,1,!1,o.toLowerCase(),null,!1,!1)}),O.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){O[o]=new R(o,1,!1,o.toLowerCase(),null,!0,!0)});function B(o,s,c,m){var b=O.hasOwnProperty(s)?O[s]:null;(b!==null?b.type!==0:m||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(T(s,c,b,m)&&(c=null),m||b===null?x(s)&&(c===null?o.removeAttribute(s):o.setAttribute(s,""+c)):b.mustUseProperty?o[b.propertyName]=c===null?b.type===3?!1:"":c:(s=b.attributeName,m=b.attributeNamespace,c===null?o.removeAttribute(s):(b=b.type,c=b===3||b===4&&c===!0?"":""+c,m?o.setAttributeNS(m,s,c):o.setAttribute(s,c))))}var $=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),ie=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),U=Symbol.for("react.provider"),I=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),pe=Symbol.for("react.memo"),ae=Symbol.for("react.lazy"),oe=Symbol.for("react.offscreen"),te=Symbol.iterator;function ne(o){return o===null||typeof o!="object"?null:(o=te&&o[te]||o["@@iterator"],typeof o=="function"?o:null)}var he=Object.assign,re;function N(o){if(re===void 0)try{throw Error()}catch(c){var s=c.stack.trim().match(/\n( *(at )?)/);re=s&&s[1]||""}return`
`+re+o}var W=!1;function ee(o,s){if(!o||W)return"";W=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Me){var m=Me}Reflect.construct(o,[],s)}else{try{s.call()}catch(Me){m=Me}o.call(s.prototype)}else{try{throw Error()}catch(Me){m=Me}o()}}catch(Me){if(Me&&m&&typeof Me.stack=="string"){for(var b=Me.stack.split(`
`),k=m.stack.split(`
`),K=b.length-1,de=k.length-1;1<=K&&0<=de&&b[K]!==k[de];)de--;for(;1<=K&&0<=de;K--,de--)if(b[K]!==k[de]){if(K!==1||de!==1)do if(K--,de--,0>de||b[K]!==k[de]){var ye=`
`+b[K].replace(" at new "," at ");return o.displayName&&ye.includes("<anonymous>")&&(ye=ye.replace("<anonymous>",o.displayName)),ye}while(1<=K&&0<=de);break}}}finally{W=!1,Error.prepareStackTrace=c}return(o=o?o.displayName||o.name:"")?N(o):""}function se(o){switch(o.tag){case 5:return N(o.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return o=ee(o.type,!1),o;case 11:return o=ee(o.type.render,!1),o;case 1:return o=ee(o.type,!0),o;default:return""}}function ue(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case D:return"Fragment";case ie:return"Portal";case M:return"Profiler";case A:return"StrictMode";case F:return"Suspense";case X:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case I:return(o.displayName||"Context")+".Consumer";case U:return(o._context.displayName||"Context")+".Provider";case P:var s=o.render;return o=o.displayName,o||(o=s.displayName||s.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case pe:return s=o.displayName||null,s!==null?s:ue(o.type)||"Memo";case ae:s=o._payload,o=o._init;try{return ue(o(s))}catch{}}return null}function we(o){var s=o.type;switch(o.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=s.render,o=o.displayName||o.name||"",s.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ue(s);case 8:return s===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function xe(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Se(o){var s=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function We(o){var s=Se(o)?"checked":"value",c=Object.getOwnPropertyDescriptor(o.constructor.prototype,s),m=""+o[s];if(!o.hasOwnProperty(s)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var b=c.get,k=c.set;return Object.defineProperty(o,s,{configurable:!0,get:function(){return b.call(this)},set:function(K){m=""+K,k.call(this,K)}}),Object.defineProperty(o,s,{enumerable:c.enumerable}),{getValue:function(){return m},setValue:function(K){m=""+K},stopTracking:function(){o._valueTracker=null,delete o[s]}}}}function Ge(o){o._valueTracker||(o._valueTracker=We(o))}function st(o){if(!o)return!1;var s=o._valueTracker;if(!s)return!0;var c=s.getValue(),m="";return o&&(m=Se(o)?o.checked?"true":"false":o.value),o=m,o!==c?(s.setValue(o),!0):!1}function it(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Ct(o,s){var c=s.checked;return he({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??o._wrapperState.initialChecked})}function Ve(o,s){var c=s.defaultValue==null?"":s.defaultValue,m=s.checked!=null?s.checked:s.defaultChecked;c=xe(s.value!=null?s.value:c),o._wrapperState={initialChecked:m,initialValue:c,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function fe(o,s){s=s.checked,s!=null&&B(o,"checked",s,!1)}function Ft(o,s){fe(o,s);var c=xe(s.value),m=s.type;if(c!=null)m==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+c):o.value!==""+c&&(o.value=""+c);else if(m==="submit"||m==="reset"){o.removeAttribute("value");return}s.hasOwnProperty("value")?Qe(o,s.type,c):s.hasOwnProperty("defaultValue")&&Qe(o,s.type,xe(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(o.defaultChecked=!!s.defaultChecked)}function xt(o,s,c){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var m=s.type;if(!(m!=="submit"&&m!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+o._wrapperState.initialValue,c||s===o.value||(o.value=s),o.defaultValue=s}c=o.name,c!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,c!==""&&(o.name=c)}function Qe(o,s,c){(s!=="number"||it(o.ownerDocument)!==o)&&(c==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+c&&(o.defaultValue=""+c))}var ot=Array.isArray;function lt(o,s,c,m){if(o=o.options,s){s={};for(var b=0;b<c.length;b++)s["$"+c[b]]=!0;for(c=0;c<o.length;c++)b=s.hasOwnProperty("$"+o[c].value),o[c].selected!==b&&(o[c].selected=b),b&&m&&(o[c].defaultSelected=!0)}else{for(c=""+xe(c),s=null,b=0;b<o.length;b++){if(o[b].value===c){o[b].selected=!0,m&&(o[b].defaultSelected=!0);return}s!==null||o[b].disabled||(s=o[b])}s!==null&&(s.selected=!0)}}function ct(o,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return he({},s,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Tt(o,s){var c=s.value;if(c==null){if(c=s.children,s=s.defaultValue,c!=null){if(s!=null)throw Error(t(92));if(ot(c)){if(1<c.length)throw Error(t(93));c=c[0]}s=c}s==null&&(s=""),c=s}o._wrapperState={initialValue:xe(c)}}function qe(o,s){var c=xe(s.value),m=xe(s.defaultValue);c!=null&&(c=""+c,c!==o.value&&(o.value=c),s.defaultValue==null&&o.defaultValue!==c&&(o.defaultValue=c)),m!=null&&(o.defaultValue=""+m)}function Je(o){var s=o.textContent;s===o._wrapperState.initialValue&&s!==""&&s!==null&&(o.value=s)}function ht(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _t(o,s){return o==null||o==="http://www.w3.org/1999/xhtml"?ht(s):o==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Mt,Rt=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,c,m,b){MSApp.execUnsafeLocalFunction(function(){return o(s,c,m,b)})}:o}(function(o,s){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=s;else{for(Mt=Mt||document.createElement("div"),Mt.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Mt.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;s.firstChild;)o.appendChild(s.firstChild)}});function Nt(o,s){if(s){var c=o.firstChild;if(c&&c===o.lastChild&&c.nodeType===3){c.nodeValue=s;return}}o.textContent=s}var dt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jn=["Webkit","ms","Moz","O"];Object.keys(dt).forEach(function(o){jn.forEach(function(s){s=s+o.charAt(0).toUpperCase()+o.substring(1),dt[s]=dt[o]})});function nn(o,s,c){return s==null||typeof s=="boolean"||s===""?"":c||typeof s!="number"||s===0||dt.hasOwnProperty(o)&&dt[o]?(""+s).trim():s+"px"}function ur(o,s){o=o.style;for(var c in s)if(s.hasOwnProperty(c)){var m=c.indexOf("--")===0,b=nn(c,s[c],m);c==="float"&&(c="cssFloat"),m?o.setProperty(c,b):o[c]=b}}var fn=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dn(o,s){if(s){if(fn[o]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,o));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function gr(o,s){if(o.indexOf("-")===-1)return typeof s.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zt=null;function ii(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Ln=null,nr=null,vr=null;function En(o){if(o=Ul(o)){if(typeof Ln!="function")throw Error(t(280));var s=o.stateNode;s&&(s=Mu(s),Ln(o.stateNode,o.type,s))}}function Dt(o){nr?vr?vr.push(o):vr=[o]:nr=o}function mn(){if(nr){var o=nr,s=vr;if(vr=nr=null,En(o),s)for(o=0;o<s.length;o++)En(s[o])}}function vi(o,s){return o(s)}function me(){}var Ie=!1;function Fe(o,s,c){if(Ie)return o(s,c);Ie=!0;try{return vi(o,s,c)}finally{Ie=!1,(nr!==null||vr!==null)&&(me(),mn())}}function Le(o,s){var c=o.stateNode;if(c===null)return null;var m=Mu(c);if(m===null)return null;c=m[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(o=o.type,m=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!m;break e;default:o=!1}if(o)return null;if(c&&typeof c!="function")throw Error(t(231,s,typeof c));return c}var pt=!1;if(u)try{var wt={};Object.defineProperty(wt,"passive",{get:function(){pt=!0}}),window.addEventListener("test",wt,wt),window.removeEventListener("test",wt,wt)}catch{pt=!1}function Et(o,s,c,m,b,k,K,de,ye){var Me=Array.prototype.slice.call(arguments,3);try{s.apply(c,Me)}catch(et){this.onError(et)}}var ut=!1,mt=null,rt=!1,jt=null,zt={onError:function(o){ut=!0,mt=o}};function un(o,s,c,m,b,k,K,de,ye){ut=!1,mt=null,Et.apply(zt,arguments)}function An(o,s,c,m,b,k,K,de,ye){if(un.apply(this,arguments),ut){if(ut){var Me=mt;ut=!1,mt=null}else throw Error(t(198));rt||(rt=!0,jt=Me)}}function Jt(o){var s=o,c=o;if(o.alternate)for(;s.return;)s=s.return;else{o=s;do s=o,s.flags&4098&&(c=s.return),o=s.return;while(o)}return s.tag===3?c:null}function on(o){if(o.tag===13){var s=o.memoizedState;if(s===null&&(o=o.alternate,o!==null&&(s=o.memoizedState)),s!==null)return s.dehydrated}return null}function an(o){if(Jt(o)!==o)throw Error(t(188))}function Sr(o){var s=o.alternate;if(!s){if(s=Jt(o),s===null)throw Error(t(188));return s!==o?null:o}for(var c=o,m=s;;){var b=c.return;if(b===null)break;var k=b.alternate;if(k===null){if(m=b.return,m!==null){c=m;continue}break}if(b.child===k.child){for(k=b.child;k;){if(k===c)return an(b),o;if(k===m)return an(b),s;k=k.sibling}throw Error(t(188))}if(c.return!==m.return)c=b,m=k;else{for(var K=!1,de=b.child;de;){if(de===c){K=!0,c=b,m=k;break}if(de===m){K=!0,m=b,c=k;break}de=de.sibling}if(!K){for(de=k.child;de;){if(de===c){K=!0,c=k,m=b;break}if(de===m){K=!0,m=k,c=b;break}de=de.sibling}if(!K)throw Error(t(189))}}if(c.alternate!==m)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?o:s}function zr(o){return o=Sr(o),o!==null?yr(o):null}function yr(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var s=yr(o);if(s!==null)return s;o=o.sibling}return null}var cr=e.unstable_scheduleCallback,Di=e.unstable_cancelCallback,yi=e.unstable_shouldYield,Oi=e.unstable_requestPaint,bn=e.unstable_now,Do=e.unstable_getCurrentPriorityLevel,hn=e.unstable_ImmediatePriority,Hn=e.unstable_UserBlockingPriority,Cr=e.unstable_NormalPriority,wi=e.unstable_LowPriority,Kn=e.unstable_IdlePriority,qr=null,Vr=null;function Oo(o){if(Vr&&typeof Vr.onCommitFiberRoot=="function")try{Vr.onCommitFiberRoot(qr,o,void 0,(o.current.flags&128)===128)}catch{}}var Hr=Math.clz32?Math.clz32:Fs,Xn=Math.log,Os=Math.LN2;function Fs(o){return o>>>=0,o===0?32:31-(Xn(o)/Os|0)|0}var Ea=64,ea=4194304;function ta(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Wr(o,s){var c=o.pendingLanes;if(c===0)return 0;var m=0,b=o.suspendedLanes,k=o.pingedLanes,K=c&268435455;if(K!==0){var de=K&~b;de!==0?m=ta(de):(k&=K,k!==0&&(m=ta(k)))}else K=c&~b,K!==0?m=ta(K):k!==0&&(m=ta(k));if(m===0)return 0;if(s!==0&&s!==m&&!(s&b)&&(b=m&-m,k=s&-s,b>=k||b===16&&(k&4194240)!==0))return s;if(m&4&&(m|=c&16),s=o.entangledLanes,s!==0)for(o=o.entanglements,s&=m;0<s;)c=31-Hr(s),b=1<<c,m|=o[c],s&=~b;return m}function is(o,s){switch(o){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hr(o,s){for(var c=o.suspendedLanes,m=o.pingedLanes,b=o.expirationTimes,k=o.pendingLanes;0<k;){var K=31-Hr(k),de=1<<K,ye=b[K];ye===-1?(!(de&c)||de&m)&&(b[K]=is(de,s)):ye<=s&&(o.expiredLanes|=de),k&=~de}}function $r(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function na(){var o=Ea;return Ea<<=1,!(Ea&4194240)&&(Ea=64),o}function ra(o){for(var s=[],c=0;31>c;c++)s.push(o);return s}function Fo(o,s,c){o.pendingLanes|=s,s!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,s=31-Hr(s),o[s]=c}function Vn(o,s){var c=o.pendingLanes&~s;o.pendingLanes=s,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=s,o.mutableReadLanes&=s,o.entangledLanes&=s,s=o.entanglements;var m=o.eventTimes;for(o=o.expirationTimes;0<c;){var b=31-Hr(c),k=1<<b;s[b]=0,m[b]=-1,o[b]=-1,c&=~k}}function Mo(o,s){var c=o.entangledLanes|=s;for(o=o.entanglements;c;){var m=31-Hr(c),b=1<<m;b&s|o[m]&s&&(o[m]|=s),c&=~b}}var pn=0;function mo(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var Sl,os,El,go,Aa,ia=!1,to=[],Tn=null,no=null,Fi=null,Ut=new Map,Mi=new Map,vo=[],yo="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ms(o,s){switch(o){case"focusin":case"focusout":Tn=null;break;case"dragenter":case"dragleave":no=null;break;case"mouseover":case"mouseout":Fi=null;break;case"pointerover":case"pointerout":Ut.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mi.delete(s.pointerId)}}function Gr(o,s,c,m,b,k){return o===null||o.nativeEvent!==k?(o={blockedOn:s,domEventName:c,eventSystemFlags:m,nativeEvent:k,targetContainers:[b]},s!==null&&(s=Ul(s),s!==null&&os(s)),o):(o.eventSystemFlags|=m,s=o.targetContainers,b!==null&&s.indexOf(b)===-1&&s.push(b),o)}function as(o,s,c,m,b){switch(s){case"focusin":return Tn=Gr(Tn,o,s,c,m,b),!0;case"dragenter":return no=Gr(no,o,s,c,m,b),!0;case"mouseover":return Fi=Gr(Fi,o,s,c,m,b),!0;case"pointerover":var k=b.pointerId;return Ut.set(k,Gr(Ut.get(k)||null,o,s,c,m,b)),!0;case"gotpointercapture":return k=b.pointerId,Mi.set(k,Gr(Mi.get(k)||null,o,s,c,m,b)),!0}return!1}function ss(o){var s=gs(o.target);if(s!==null){var c=Jt(s);if(c!==null){if(s=c.tag,s===13){if(s=on(c),s!==null){o.blockedOn=s,Aa(o.priority,function(){El(c)});return}}else if(s===3&&c.stateNode.current.memoizedState.isDehydrated){o.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}o.blockedOn=null}function jo(o){if(o.blockedOn!==null)return!1;for(var s=o.targetContainers;0<s.length;){var c=Ia(o.domEventName,o.eventSystemFlags,s[0],o.nativeEvent);if(c===null){c=o.nativeEvent;var m=new c.constructor(c.type,c);Zt=m,c.target.dispatchEvent(m),Zt=null}else return s=Ul(c),s!==null&&os(s),o.blockedOn=c,!1;s.shift()}return!0}function Ta(o,s,c){jo(o)&&c.delete(s)}function Al(){ia=!1,Tn!==null&&jo(Tn)&&(Tn=null),no!==null&&jo(no)&&(no=null),Fi!==null&&jo(Fi)&&(Fi=null),Ut.forEach(Ta),Mi.forEach(Ta)}function _i(o,s){o.blockedOn===s&&(o.blockedOn=null,ia||(ia=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Al)))}function Kr(o){function s(b){return _i(b,o)}if(0<to.length){_i(to[0],o);for(var c=1;c<to.length;c++){var m=to[c];m.blockedOn===o&&(m.blockedOn=null)}}for(Tn!==null&&_i(Tn,o),no!==null&&_i(no,o),Fi!==null&&_i(Fi,o),Ut.forEach(s),Mi.forEach(s),c=0;c<vo.length;c++)m=vo[c],m.blockedOn===o&&(m.blockedOn=null);for(;0<vo.length&&(c=vo[0],c.blockedOn===null);)ss(c),c.blockedOn===null&&vo.shift()}var oi=$.ReactCurrentBatchConfig,oa=!0;function Rn(o,s,c,m){var b=pn,k=oi.transition;oi.transition=null;try{pn=1,aa(o,s,c,m)}finally{pn=b,oi.transition=k}}function js(o,s,c,m){var b=pn,k=oi.transition;oi.transition=null;try{pn=4,aa(o,s,c,m)}finally{pn=b,oi.transition=k}}function aa(o,s,c,m){if(oa){var b=Ia(o,s,c,m);if(b===null)Du(o,s,m,sa,c),Ms(o,m);else if(as(b,o,s,c,m))m.stopPropagation();else if(Ms(o,m),s&4&&-1<yo.indexOf(o)){for(;b!==null;){var k=Ul(b);if(k!==null&&Sl(k),k=Ia(o,s,c,m),k===null&&Du(o,s,m,sa,c),k===b)break;b=k}b!==null&&m.stopPropagation()}else Du(o,s,m,null,c)}}var sa=null;function Ia(o,s,c,m){if(sa=null,o=ii(m),o=gs(o),o!==null)if(s=Jt(o),s===null)o=null;else if(c=s.tag,c===13){if(o=on(s),o!==null)return o;o=null}else if(c===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;o=null}else s!==o&&(o=null);return sa=o,null}function ls(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Do()){case hn:return 1;case Hn:return 4;case Cr:case wi:return 16;case Kn:return 536870912;default:return 16}default:return 16}}var ai=null,bi=null,fr=null;function Vs(){if(fr)return fr;var o,s=bi,c=s.length,m,b="value"in ai?ai.value:ai.textContent,k=b.length;for(o=0;o<c&&s[o]===b[o];o++);var K=c-o;for(m=1;m<=K&&s[c-m]===b[k-m];m++);return fr=b.slice(o,1<m?1-m:void 0)}function ro(o){var s=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&s===13&&(o=13)):o=s,o===10&&(o=13),32<=o||o===13?o:0}function Er(){return!0}function Pa(){return!1}function ir(o){function s(c,m,b,k,K){this._reactName=c,this._targetInst=b,this.type=m,this.nativeEvent=k,this.target=K,this.currentTarget=null;for(var de in o)o.hasOwnProperty(de)&&(c=o[de],this[de]=c?c(k):k[de]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Er:Pa,this.isPropagationStopped=Pa,this}return he(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Er)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Er)},persist:function(){},isPersistent:Er}),s}var io={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Vo=ir(io),wo=he({},io,{view:0,detail:0}),Bs=ir(wo),la,_o,oo,Bo=he({},wo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gt,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==oo&&(oo&&o.type==="mousemove"?(la=o.screenX-oo.screenX,_o=o.screenY-oo.screenY):_o=la=0,oo=o),la)},movementY:function(o){return"movementY"in o?o.movementY:_o}}),ua=ir(Bo),us=he({},Bo,{dataTransfer:0}),Tl=ir(us),Uo=he({},wo,{relatedTarget:0}),bo=ir(Uo),cs=he({},io,{animationName:0,elapsedTime:0,pseudoElement:0}),si=ir(cs),hs=he({},io,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),w=ir(hs),H=he({},io,{data:0}),ce=ir(H),ge={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pe={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Be={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ye(o){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(o):(o=Be[o])?!!s[o]:!1}function gt(){return Ye}var d=he({},wo,{key:function(o){if(o.key){var s=ge[o.key]||o.key;if(s!=="Unidentified")return s}return o.type==="keypress"?(o=ro(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Pe[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gt,charCode:function(o){return o.type==="keypress"?ro(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?ro(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),E=ir(d),j=he({},Bo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),J=ir(j),Ae=he({},wo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gt}),De=ir(Ae),Xe=he({},io,{propertyName:0,elapsedTime:0,pseudoElement:0}),en=ir(Xe),gn=he({},Bo,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),tn=ir(gn),Dn=[9,13,27,32],Bn=u&&"CompositionEvent"in window,xi=null;u&&"documentMode"in document&&(xi=document.documentMode);var Qr=u&&"TextEvent"in window&&!xi,zo=u&&(!Bn||xi&&8<xi&&11>=xi),qo=" ",Il=!1;function Pl(o,s){switch(o){case"keyup":return Dn.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Us(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var dr=!1;function kl(o,s){switch(o){case"compositionend":return Us(s);case"keypress":return s.which!==32?null:(Il=!0,qo);case"textInput":return o=s.data,o===qo&&Il?null:o;default:return null}}function Cl(o,s){if(dr)return o==="compositionend"||!Bn&&Pl(o,s)?(o=Vs(),fr=bi=ai=null,dr=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return zo&&s.locale!=="ko"?null:s.data;default:return null}}var Nl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ll(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s==="input"?!!Nl[o.type]:s==="textarea"}function Si(o,s,c,m){Dt(m),s=xc(s,"onChange"),0<s.length&&(c=new Vo("onChange","change",null,c,m),o.push({event:c,listeners:s}))}var zs=null,ka=null;function wc(o){Lu(o,0)}function Ei(o){var s=Js(o);if(st(s))return o}function Rl(o,s){if(o==="change")return s}var Pu=!1;if(u){var Dl;if(u){var ca="oninput"in document;if(!ca){var fs=document.createElement("div");fs.setAttribute("oninput","return;"),ca=typeof fs.oninput=="function"}Dl=ca}else Dl=!1;Pu=Dl&&(!document.documentMode||9<document.documentMode)}function Ai(){zs&&(zs.detachEvent("onpropertychange",li),ka=zs=null)}function li(o){if(o.propertyName==="value"&&Ei(ka)){var s=[];Si(s,ka,o,ii(o)),Fe(wc,s)}}function ds(o,s,c){o==="focusin"?(Ai(),zs=s,ka=c,zs.attachEvent("onpropertychange",li)):o==="focusout"&&Ai()}function Ca(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Ei(ka)}function Na(o,s){if(o==="click")return Ei(s)}function Ol(o,s){if(o==="input"||o==="change")return Ei(s)}function La(o,s){return o===s&&(o!==0||1/o===1/s)||o!==o&&s!==s}var Cn=typeof Object.is=="function"?Object.is:La;function Ra(o,s){if(Cn(o,s))return!0;if(typeof o!="object"||o===null||typeof s!="object"||s===null)return!1;var c=Object.keys(o),m=Object.keys(s);if(c.length!==m.length)return!1;for(m=0;m<c.length;m++){var b=c[m];if(!h.call(s,b)||!Cn(o[b],s[b]))return!1}return!0}function ui(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function ao(o,s){var c=ui(o);o=0;for(var m;c;){if(c.nodeType===3){if(m=o+c.textContent.length,o<=s&&m>=s)return{node:c,offset:s-o};o=m}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=ui(c)}}function qs(o,s){return o&&s?o===s?!0:o&&o.nodeType===3?!1:s&&s.nodeType===3?qs(o,s.parentNode):"contains"in o?o.contains(s):o.compareDocumentPosition?!!(o.compareDocumentPosition(s)&16):!1:!1}function ku(){for(var o=window,s=it();s instanceof o.HTMLIFrameElement;){try{var c=typeof s.contentWindow.location.href=="string"}catch{c=!1}if(c)o=s.contentWindow;else break;s=it(o.document)}return s}function Hs(o){var s=o&&o.nodeName&&o.nodeName.toLowerCase();return s&&(s==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||s==="textarea"||o.contentEditable==="true")}function Ws(o){var s=ku(),c=o.focusedElem,m=o.selectionRange;if(s!==c&&c&&c.ownerDocument&&qs(c.ownerDocument.documentElement,c)){if(m!==null&&Hs(c)){if(s=m.start,o=m.end,o===void 0&&(o=s),"selectionStart"in c)c.selectionStart=s,c.selectionEnd=Math.min(o,c.value.length);else if(o=(s=c.ownerDocument||document)&&s.defaultView||window,o.getSelection){o=o.getSelection();var b=c.textContent.length,k=Math.min(m.start,b);m=m.end===void 0?k:Math.min(m.end,b),!o.extend&&k>m&&(b=m,m=k,k=b),b=ao(c,k);var K=ao(c,m);b&&K&&(o.rangeCount!==1||o.anchorNode!==b.node||o.anchorOffset!==b.offset||o.focusNode!==K.node||o.focusOffset!==K.offset)&&(s=s.createRange(),s.setStart(b.node,b.offset),o.removeAllRanges(),k>m?(o.addRange(s),o.extend(K.node,K.offset)):(s.setEnd(K.node,K.offset),o.addRange(s)))}}for(s=[],o=c;o=o.parentNode;)o.nodeType===1&&s.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<s.length;c++)o=s[c],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var $s=u&&"documentMode"in document&&11>=document.documentMode,so=null,Da=null,ha=null,Oa=!1;function Fa(o,s,c){var m=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Oa||so==null||so!==it(m)||(m=so,"selectionStart"in m&&Hs(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),ha&&Ra(ha,m)||(ha=m,m=xc(Da,"onSelect"),0<m.length&&(s=new Vo("onSelect","select",null,s,c),o.push({event:s,listeners:m}),s.target=so)))}function ps(o,s){var c={};return c[o.toLowerCase()]=s.toLowerCase(),c["Webkit"+o]="webkit"+s,c["Moz"+o]="moz"+s,c}var Yr={animationend:ps("Animation","AnimationEnd"),animationiteration:ps("Animation","AnimationIteration"),animationstart:ps("Animation","AnimationStart"),transitionend:ps("Transition","TransitionEnd")},ji={},Qn={};u&&(Qn=document.createElement("div").style,"AnimationEvent"in window||(delete Yr.animationend.animation,delete Yr.animationiteration.animation,delete Yr.animationstart.animation),"TransitionEvent"in window||delete Yr.transitionend.transition);function Un(o){if(ji[o])return ji[o];if(!Yr[o])return o;var s=Yr[o],c;for(c in s)if(s.hasOwnProperty(c)&&c in Qn)return ji[o]=s[c];return o}var pr=Un("animationend"),Ar=Un("animationiteration"),fa=Un("animationstart"),Fl=Un("transitionend"),Gs=new Map,Cu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function da(o,s){Gs.set(o,s),a(s,[o])}for(var Ml=0;Ml<Cu.length;Ml++){var Ti=Cu[Ml],xo=Ti.toLowerCase(),_c=Ti[0].toUpperCase()+Ti.slice(1);da(xo,"on"+_c)}da(pr,"onAnimationEnd"),da(Ar,"onAnimationIteration"),da(fa,"onAnimationStart"),da("dblclick","onDoubleClick"),da("focusin","onFocus"),da("focusout","onBlur"),da(Fl,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nf=new Set("cancel close invalid load scroll toggle".split(" ").concat(ms));function Nu(o,s,c){var m=o.type||"unknown-event";o.currentTarget=c,An(m,s,void 0,o),o.currentTarget=null}function Lu(o,s){s=(s&4)!==0;for(var c=0;c<o.length;c++){var m=o[c],b=m.event;m=m.listeners;e:{var k=void 0;if(s)for(var K=m.length-1;0<=K;K--){var de=m[K],ye=de.instance,Me=de.currentTarget;if(de=de.listener,ye!==k&&b.isPropagationStopped())break e;Nu(b,de,Me),k=ye}else for(K=0;K<m.length;K++){if(de=m[K],ye=de.instance,Me=de.currentTarget,de=de.listener,ye!==k&&b.isPropagationStopped())break e;Nu(b,de,Me),k=ye}}}if(rt)throw o=jt,rt=!1,jt=null,o}function Yn(o,s){var c=s[Bi];c===void 0&&(c=s[Bi]=new Set);var m=o+"__bubble";c.has(m)||(Ru(s,o,2,!1),c.add(m))}function bc(o,s,c){var m=0;s&&(m|=4),Ru(c,o,m,s)}var jl="_reactListening"+Math.random().toString(36).slice(2);function Ks(o){if(!o[jl]){o[jl]=!0,r.forEach(function(c){c!=="selectionchange"&&(Nf.has(c)||bc(c,!1,o),bc(c,!0,o))});var s=o.nodeType===9?o:o.ownerDocument;s===null||s[jl]||(s[jl]=!0,bc("selectionchange",!1,s))}}function Ru(o,s,c,m){switch(ls(s)){case 1:var b=Rn;break;case 4:b=js;break;default:b=aa}c=b.bind(null,s,c,o),b=void 0,!pt||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(b=!0),m?b!==void 0?o.addEventListener(s,c,{capture:!0,passive:b}):o.addEventListener(s,c,!0):b!==void 0?o.addEventListener(s,c,{passive:b}):o.addEventListener(s,c,!1)}function Du(o,s,c,m,b){var k=m;if(!(s&1)&&!(s&2)&&m!==null)e:for(;;){if(m===null)return;var K=m.tag;if(K===3||K===4){var de=m.stateNode.containerInfo;if(de===b||de.nodeType===8&&de.parentNode===b)break;if(K===4)for(K=m.return;K!==null;){var ye=K.tag;if((ye===3||ye===4)&&(ye=K.stateNode.containerInfo,ye===b||ye.nodeType===8&&ye.parentNode===b))return;K=K.return}for(;de!==null;){if(K=gs(de),K===null)return;if(ye=K.tag,ye===5||ye===6){m=k=K;continue e}de=de.parentNode}}m=m.return}Fe(function(){var Me=k,et=ii(c),at=[];e:{var Ze=Gs.get(o);if(Ze!==void 0){var St=Vo,kt=o;switch(o){case"keypress":if(ro(c)===0)break e;case"keydown":case"keyup":St=E;break;case"focusin":kt="focus",St=bo;break;case"focusout":kt="blur",St=bo;break;case"beforeblur":case"afterblur":St=bo;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":St=ua;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":St=Tl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":St=De;break;case pr:case Ar:case fa:St=si;break;case Fl:St=en;break;case"scroll":St=Bs;break;case"wheel":St=tn;break;case"copy":case"cut":case"paste":St=w;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":St=J}var Lt=(s&4)!==0,Dr=!Lt&&o==="scroll",Re=Lt?Ze!==null?Ze+"Capture":null:Ze;Lt=[];for(var Ee=Me,Oe;Ee!==null;){Oe=Ee;var ft=Oe.stateNode;if(Oe.tag===5&&ft!==null&&(Oe=ft,Re!==null&&(ft=Le(Ee,Re),ft!=null&&Lt.push(Ou(Ee,ft,Oe)))),Dr)break;Ee=Ee.return}0<Lt.length&&(Ze=new St(Ze,kt,null,c,et),at.push({event:Ze,listeners:Lt}))}}if(!(s&7)){e:{if(Ze=o==="mouseover"||o==="pointerover",St=o==="mouseout"||o==="pointerout",Ze&&c!==Zt&&(kt=c.relatedTarget||c.fromElement)&&(gs(kt)||kt[ci]))break e;if((St||Ze)&&(Ze=et.window===et?et:(Ze=et.ownerDocument)?Ze.defaultView||Ze.parentWindow:window,St?(kt=c.relatedTarget||c.toElement,St=Me,kt=kt?gs(kt):null,kt!==null&&(Dr=Jt(kt),kt!==Dr||kt.tag!==5&&kt.tag!==6)&&(kt=null)):(St=null,kt=Me),St!==kt)){if(Lt=ua,ft="onMouseLeave",Re="onMouseEnter",Ee="mouse",(o==="pointerout"||o==="pointerover")&&(Lt=J,ft="onPointerLeave",Re="onPointerEnter",Ee="pointer"),Dr=St==null?Ze:Js(St),Oe=kt==null?Ze:Js(kt),Ze=new Lt(ft,Ee+"leave",St,c,et),Ze.target=Dr,Ze.relatedTarget=Oe,ft=null,gs(et)===Me&&(Lt=new Lt(Re,Ee+"enter",kt,c,et),Lt.target=Oe,Lt.relatedTarget=Dr,ft=Lt),Dr=ft,St&&kt)t:{for(Lt=St,Re=kt,Ee=0,Oe=Lt;Oe;Oe=Qs(Oe))Ee++;for(Oe=0,ft=Re;ft;ft=Qs(ft))Oe++;for(;0<Ee-Oe;)Lt=Qs(Lt),Ee--;for(;0<Oe-Ee;)Re=Qs(Re),Oe--;for(;Ee--;){if(Lt===Re||Re!==null&&Lt===Re.alternate)break t;Lt=Qs(Lt),Re=Qs(Re)}Lt=null}else Lt=null;St!==null&&Lf(at,Ze,St,Lt,!1),kt!==null&&Dr!==null&&Lf(at,Dr,kt,Lt,!0)}}e:{if(Ze=Me?Js(Me):window,St=Ze.nodeName&&Ze.nodeName.toLowerCase(),St==="select"||St==="input"&&Ze.type==="file")var Ot=Rl;else if(Ll(Ze))if(Pu)Ot=Ol;else{Ot=Ca;var qt=ds}else(St=Ze.nodeName)&&St.toLowerCase()==="input"&&(Ze.type==="checkbox"||Ze.type==="radio")&&(Ot=Na);if(Ot&&(Ot=Ot(o,Me))){Si(at,Ot,c,et);break e}qt&&qt(o,Ze,Me),o==="focusout"&&(qt=Ze._wrapperState)&&qt.controlled&&Ze.type==="number"&&Qe(Ze,"number",Ze.value)}switch(qt=Me?Js(Me):window,o){case"focusin":(Ll(qt)||qt.contentEditable==="true")&&(so=qt,Da=Me,ha=null);break;case"focusout":ha=Da=so=null;break;case"mousedown":Oa=!0;break;case"contextmenu":case"mouseup":case"dragend":Oa=!1,Fa(at,c,et);break;case"selectionchange":if($s)break;case"keydown":case"keyup":Fa(at,c,et)}var Ht;if(Bn)e:{switch(o){case"compositionstart":var Xt="onCompositionStart";break e;case"compositionend":Xt="onCompositionEnd";break e;case"compositionupdate":Xt="onCompositionUpdate";break e}Xt=void 0}else dr?Pl(o,c)&&(Xt="onCompositionEnd"):o==="keydown"&&c.keyCode===229&&(Xt="onCompositionStart");Xt&&(zo&&c.locale!=="ko"&&(dr||Xt!=="onCompositionStart"?Xt==="onCompositionEnd"&&dr&&(Ht=Vs()):(ai=et,bi="value"in ai?ai.value:ai.textContent,dr=!0)),qt=xc(Me,Xt),0<qt.length&&(Xt=new ce(Xt,o,null,c,et),at.push({event:Xt,listeners:qt}),Ht?Xt.data=Ht:(Ht=Us(c),Ht!==null&&(Xt.data=Ht)))),(Ht=Qr?kl(o,c):Cl(o,c))&&(Me=xc(Me,"onBeforeInput"),0<Me.length&&(et=new ce("onBeforeInput","beforeinput",null,c,et),at.push({event:et,listeners:Me}),et.data=Ht))}Lu(at,s)})}function Ou(o,s,c){return{instance:o,listener:s,currentTarget:c}}function xc(o,s){for(var c=s+"Capture",m=[];o!==null;){var b=o,k=b.stateNode;b.tag===5&&k!==null&&(b=k,k=Le(o,c),k!=null&&m.unshift(Ou(o,k,b)),k=Le(o,s),k!=null&&m.push(Ou(o,k,b))),o=o.return}return m}function Qs(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Lf(o,s,c,m,b){for(var k=s._reactName,K=[];c!==null&&c!==m;){var de=c,ye=de.alternate,Me=de.stateNode;if(ye!==null&&ye===m)break;de.tag===5&&Me!==null&&(de=Me,b?(ye=Le(c,k),ye!=null&&K.unshift(Ou(c,ye,de))):b||(ye=Le(c,k),ye!=null&&K.push(Ou(c,ye,de)))),c=c.return}K.length!==0&&o.push({event:s,listeners:K})}var Bp=/\r\n?/g,Up=/\u0000|\uFFFD/g;function Rf(o){return(typeof o=="string"?o:""+o).replace(Bp,`
`).replace(Up,"")}function Sc(o,s,c){if(s=Rf(s),Rf(o)!==s&&c)throw Error(t(425))}function Vl(){}var Fu=null,Ys=null;function mh(o,s){return o==="textarea"||o==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var gh=typeof setTimeout=="function"?setTimeout:void 0,Df=typeof clearTimeout=="function"?clearTimeout:void 0,Of=typeof Promise=="function"?Promise:void 0,zp=typeof queueMicrotask=="function"?queueMicrotask:typeof Of<"u"?function(o){return Of.resolve(null).then(o).catch(qp)}:gh;function qp(o){setTimeout(function(){throw o})}function vh(o,s){var c=s,m=0;do{var b=c.nextSibling;if(o.removeChild(c),b&&b.nodeType===8)if(c=b.data,c==="/$"){if(m===0){o.removeChild(b),Kr(s);return}m--}else c!=="$"&&c!=="$?"&&c!=="$!"||m++;c=b}while(c);Kr(s)}function Ii(o){for(;o!=null;o=o.nextSibling){var s=o.nodeType;if(s===1||s===3)break;if(s===8){if(s=o.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return o}function So(o){o=o.previousSibling;for(var s=0;o;){if(o.nodeType===8){var c=o.data;if(c==="$"||c==="$!"||c==="$?"){if(s===0)return o;s--}else c==="/$"&&s++}o=o.previousSibling}return null}var Vi=Math.random().toString(36).slice(2),pa="__reactFiber$"+Vi,Bl="__reactProps$"+Vi,ci="__reactContainer$"+Vi,Bi="__reactEvents$"+Vi,Hp="__reactListeners$"+Vi,Wp="__reactHandles$"+Vi;function gs(o){var s=o[pa];if(s)return s;for(var c=o.parentNode;c;){if(s=c[ci]||c[pa]){if(c=s.alternate,s.child!==null||c!==null&&c.child!==null)for(o=So(o);o!==null;){if(c=o[pa])return c;o=So(o)}return s}o=c,c=o.parentNode}return null}function Ul(o){return o=o[pa]||o[ci],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Js(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(t(33))}function Mu(o){return o[Bl]||null}var yh=[],Ma=-1;function Ho(o){return{current:o}}function zn(o){0>Ma||(o.current=yh[Ma],yh[Ma]=null,Ma--)}function Wn(o,s){Ma++,yh[Ma]=o.current,o.current=s}var vs={},Jr=Ho(vs),Ui=Ho(!1),Xs=vs;function zl(o,s){var c=o.type.contextTypes;if(!c)return vs;var m=o.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===s)return m.__reactInternalMemoizedMaskedChildContext;var b={},k;for(k in c)b[k]=s[k];return m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=s,o.__reactInternalMemoizedMaskedChildContext=b),b}function zi(o){return o=o.childContextTypes,o!=null}function Ec(){zn(Ui),zn(Jr)}function Ff(o,s,c){if(Jr.current!==vs)throw Error(t(168));Wn(Jr,s),Wn(Ui,c)}function wh(o,s,c){var m=o.stateNode;if(s=s.childContextTypes,typeof m.getChildContext!="function")return c;m=m.getChildContext();for(var b in m)if(!(b in s))throw Error(t(108,we(o)||"Unknown",b));return he({},c,m)}function Zs(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||vs,Xs=Jr.current,Wn(Jr,o),Wn(Ui,Ui.current),!0}function Mf(o,s,c){var m=o.stateNode;if(!m)throw Error(t(169));c?(o=wh(o,s,Xs),m.__reactInternalMemoizedMergedChildContext=o,zn(Ui),zn(Jr),Wn(Jr,o)):zn(Ui),Wn(Ui,c)}var ja=null,ju=!1,f=!1;function g(o){ja===null?ja=[o]:ja.push(o)}function S(o){ju=!0,g(o)}function L(){if(!f&&ja!==null){f=!0;var o=0,s=pn;try{var c=ja;for(pn=1;o<c.length;o++){var m=c[o];do m=m(!0);while(m!==null)}ja=null,ju=!1}catch(b){throw ja!==null&&(ja=ja.slice(o+1)),cr(hn,L),b}finally{pn=s,f=!1}}return null}var q=[],G=0,Q=null,Y=0,Z=[],le=0,ve=null,Ce=1,Ne="";function Te(o,s){q[G++]=Y,q[G++]=Q,Q=o,Y=s}function $e(o,s,c){Z[le++]=Ce,Z[le++]=Ne,Z[le++]=ve,ve=o;var m=Ce;o=Ne;var b=32-Hr(m)-1;m&=~(1<<b),c+=1;var k=32-Hr(s)+b;if(30<k){var K=b-b%5;k=(m&(1<<K)-1).toString(32),m>>=K,b-=K,Ce=1<<32-Hr(s)+b|c<<b|m,Ne=k+o}else Ce=1<<k|c<<b|m,Ne=o}function je(o){o.return!==null&&(Te(o,1),$e(o,1,0))}function _e(o){for(;o===Q;)Q=q[--G],q[G]=null,Y=q[--G],q[G]=null;for(;o===ve;)ve=Z[--le],Z[le]=null,Ne=Z[--le],Z[le]=null,Ce=Z[--le],Z[le]=null}var be=null,ze=null,Ue=!1,He=null;function bt(o,s){var c=_a(5,null,null,0);c.elementType="DELETED",c.stateNode=s,c.return=o,s=o.deletions,s===null?(o.deletions=[c],o.flags|=16):s.push(c)}function vt(o,s){switch(o.tag){case 5:var c=o.type;return s=s.nodeType!==1||c.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(o.stateNode=s,be=o,ze=Ii(s.firstChild),!0):!1;case 6:return s=o.pendingProps===""||s.nodeType!==3?null:s,s!==null?(o.stateNode=s,be=o,ze=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(c=ve!==null?{id:Ce,overflow:Ne}:null,o.memoizedState={dehydrated:s,treeContext:c,retryLane:1073741824},c=_a(18,null,null,0),c.stateNode=s,c.return=o,o.child=c,be=o,ze=null,!0):!1;default:return!1}}function Vt(o){return(o.mode&1)!==0&&(o.flags&128)===0}function yt(o){if(Ue){var s=ze;if(s){var c=s;if(!vt(o,s)){if(Vt(o))throw Error(t(418));s=Ii(c.nextSibling);var m=be;s&&vt(o,s)?bt(m,c):(o.flags=o.flags&-4097|2,Ue=!1,be=o)}}else{if(Vt(o))throw Error(t(418));o.flags=o.flags&-4097|2,Ue=!1,be=o}}}function In(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;be=o}function Pn(o){if(o!==be)return!1;if(!Ue)return In(o),Ue=!0,!1;var s;if((s=o.tag!==3)&&!(s=o.tag!==5)&&(s=o.type,s=s!=="head"&&s!=="body"&&!mh(o.type,o.memoizedProps)),s&&(s=ze)){if(Vt(o))throw yn(),Error(t(418));for(;s;)bt(o,s),s=Ii(s.nextSibling)}if(In(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(t(317));e:{for(o=o.nextSibling,s=0;o;){if(o.nodeType===8){var c=o.data;if(c==="/$"){if(s===0){ze=Ii(o.nextSibling);break e}s--}else c!=="$"&&c!=="$!"&&c!=="$?"||s++}o=o.nextSibling}ze=null}}else ze=be?Ii(o.stateNode.nextSibling):null;return!0}function yn(){for(var o=ze;o;)o=Ii(o.nextSibling)}function cn(){ze=be=null,Ue=!1}function qn(o){He===null?He=[o]:He.push(o)}var $n=$.ReactCurrentBatchConfig;function Kt(o,s,c){if(o=c.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var m=c.stateNode}if(!m)throw Error(t(147,o));var b=m,k=""+o;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===k?s.ref:(s=function(K){var de=b.refs;K===null?delete de[k]:de[k]=K},s._stringRef=k,s)}if(typeof o!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,o))}return o}function or(o,s){throw o=Object.prototype.toString.call(s),Error(t(31,o==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":o))}function Pi(o){var s=o._init;return s(o._payload)}function wr(o){function s(Re,Ee){if(o){var Oe=Re.deletions;Oe===null?(Re.deletions=[Ee],Re.flags|=16):Oe.push(Ee)}}function c(Re,Ee){if(!o)return null;for(;Ee!==null;)s(Re,Ee),Ee=Ee.sibling;return null}function m(Re,Ee){for(Re=new Map;Ee!==null;)Ee.key!==null?Re.set(Ee.key,Ee):Re.set(Ee.index,Ee),Ee=Ee.sibling;return Re}function b(Re,Ee){return Re=eu(Re,Ee),Re.index=0,Re.sibling=null,Re}function k(Re,Ee,Oe){return Re.index=Oe,o?(Oe=Re.alternate,Oe!==null?(Oe=Oe.index,Oe<Ee?(Re.flags|=2,Ee):Oe):(Re.flags|=2,Ee)):(Re.flags|=1048576,Ee)}function K(Re){return o&&Re.alternate===null&&(Re.flags|=2),Re}function de(Re,Ee,Oe,ft){return Ee===null||Ee.tag!==6?(Ee=_m(Oe,Re.mode,ft),Ee.return=Re,Ee):(Ee=b(Ee,Oe),Ee.return=Re,Ee)}function ye(Re,Ee,Oe,ft){var Ot=Oe.type;return Ot===D?et(Re,Ee,Oe.props.children,ft,Oe.key):Ee!==null&&(Ee.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===ae&&Pi(Ot)===Ee.type)?(ft=b(Ee,Oe.props),ft.ref=Kt(Re,Ee,Oe),ft.return=Re,ft):(ft=rd(Oe.type,Oe.key,Oe.props,null,Re.mode,ft),ft.ref=Kt(Re,Ee,Oe),ft.return=Re,ft)}function Me(Re,Ee,Oe,ft){return Ee===null||Ee.tag!==4||Ee.stateNode.containerInfo!==Oe.containerInfo||Ee.stateNode.implementation!==Oe.implementation?(Ee=bm(Oe,Re.mode,ft),Ee.return=Re,Ee):(Ee=b(Ee,Oe.children||[]),Ee.return=Re,Ee)}function et(Re,Ee,Oe,ft,Ot){return Ee===null||Ee.tag!==7?(Ee=$u(Oe,Re.mode,ft,Ot),Ee.return=Re,Ee):(Ee=b(Ee,Oe),Ee.return=Re,Ee)}function at(Re,Ee,Oe){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return Ee=_m(""+Ee,Re.mode,Oe),Ee.return=Re,Ee;if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case z:return Oe=rd(Ee.type,Ee.key,Ee.props,null,Re.mode,Oe),Oe.ref=Kt(Re,null,Ee),Oe.return=Re,Oe;case ie:return Ee=bm(Ee,Re.mode,Oe),Ee.return=Re,Ee;case ae:var ft=Ee._init;return at(Re,ft(Ee._payload),Oe)}if(ot(Ee)||ne(Ee))return Ee=$u(Ee,Re.mode,Oe,null),Ee.return=Re,Ee;or(Re,Ee)}return null}function Ze(Re,Ee,Oe,ft){var Ot=Ee!==null?Ee.key:null;if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return Ot!==null?null:de(Re,Ee,""+Oe,ft);if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case z:return Oe.key===Ot?ye(Re,Ee,Oe,ft):null;case ie:return Oe.key===Ot?Me(Re,Ee,Oe,ft):null;case ae:return Ot=Oe._init,Ze(Re,Ee,Ot(Oe._payload),ft)}if(ot(Oe)||ne(Oe))return Ot!==null?null:et(Re,Ee,Oe,ft,null);or(Re,Oe)}return null}function St(Re,Ee,Oe,ft,Ot){if(typeof ft=="string"&&ft!==""||typeof ft=="number")return Re=Re.get(Oe)||null,de(Ee,Re,""+ft,Ot);if(typeof ft=="object"&&ft!==null){switch(ft.$$typeof){case z:return Re=Re.get(ft.key===null?Oe:ft.key)||null,ye(Ee,Re,ft,Ot);case ie:return Re=Re.get(ft.key===null?Oe:ft.key)||null,Me(Ee,Re,ft,Ot);case ae:var qt=ft._init;return St(Re,Ee,Oe,qt(ft._payload),Ot)}if(ot(ft)||ne(ft))return Re=Re.get(Oe)||null,et(Ee,Re,ft,Ot,null);or(Ee,ft)}return null}function kt(Re,Ee,Oe,ft){for(var Ot=null,qt=null,Ht=Ee,Xt=Ee=0,pi=null;Ht!==null&&Xt<Oe.length;Xt++){Ht.index>Xt?(pi=Ht,Ht=null):pi=Ht.sibling;var Mn=Ze(Re,Ht,Oe[Xt],ft);if(Mn===null){Ht===null&&(Ht=pi);break}o&&Ht&&Mn.alternate===null&&s(Re,Ht),Ee=k(Mn,Ee,Xt),qt===null?Ot=Mn:qt.sibling=Mn,qt=Mn,Ht=pi}if(Xt===Oe.length)return c(Re,Ht),Ue&&Te(Re,Xt),Ot;if(Ht===null){for(;Xt<Oe.length;Xt++)Ht=at(Re,Oe[Xt],ft),Ht!==null&&(Ee=k(Ht,Ee,Xt),qt===null?Ot=Ht:qt.sibling=Ht,qt=Ht);return Ue&&Te(Re,Xt),Ot}for(Ht=m(Re,Ht);Xt<Oe.length;Xt++)pi=St(Ht,Re,Xt,Oe[Xt],ft),pi!==null&&(o&&pi.alternate!==null&&Ht.delete(pi.key===null?Xt:pi.key),Ee=k(pi,Ee,Xt),qt===null?Ot=pi:qt.sibling=pi,qt=pi);return o&&Ht.forEach(function(tu){return s(Re,tu)}),Ue&&Te(Re,Xt),Ot}function Lt(Re,Ee,Oe,ft){var Ot=ne(Oe);if(typeof Ot!="function")throw Error(t(150));if(Oe=Ot.call(Oe),Oe==null)throw Error(t(151));for(var qt=Ot=null,Ht=Ee,Xt=Ee=0,pi=null,Mn=Oe.next();Ht!==null&&!Mn.done;Xt++,Mn=Oe.next()){Ht.index>Xt?(pi=Ht,Ht=null):pi=Ht.sibling;var tu=Ze(Re,Ht,Mn.value,ft);if(tu===null){Ht===null&&(Ht=pi);break}o&&Ht&&tu.alternate===null&&s(Re,Ht),Ee=k(tu,Ee,Xt),qt===null?Ot=tu:qt.sibling=tu,qt=tu,Ht=pi}if(Mn.done)return c(Re,Ht),Ue&&Te(Re,Xt),Ot;if(Ht===null){for(;!Mn.done;Xt++,Mn=Oe.next())Mn=at(Re,Mn.value,ft),Mn!==null&&(Ee=k(Mn,Ee,Xt),qt===null?Ot=Mn:qt.sibling=Mn,qt=Mn);return Ue&&Te(Re,Xt),Ot}for(Ht=m(Re,Ht);!Mn.done;Xt++,Mn=Oe.next())Mn=St(Ht,Re,Xt,Mn.value,ft),Mn!==null&&(o&&Mn.alternate!==null&&Ht.delete(Mn.key===null?Xt:Mn.key),Ee=k(Mn,Ee,Xt),qt===null?Ot=Mn:qt.sibling=Mn,qt=Mn);return o&&Ht.forEach(function(Yb){return s(Re,Yb)}),Ue&&Te(Re,Xt),Ot}function Dr(Re,Ee,Oe,ft){if(typeof Oe=="object"&&Oe!==null&&Oe.type===D&&Oe.key===null&&(Oe=Oe.props.children),typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case z:e:{for(var Ot=Oe.key,qt=Ee;qt!==null;){if(qt.key===Ot){if(Ot=Oe.type,Ot===D){if(qt.tag===7){c(Re,qt.sibling),Ee=b(qt,Oe.props.children),Ee.return=Re,Re=Ee;break e}}else if(qt.elementType===Ot||typeof Ot=="object"&&Ot!==null&&Ot.$$typeof===ae&&Pi(Ot)===qt.type){c(Re,qt.sibling),Ee=b(qt,Oe.props),Ee.ref=Kt(Re,qt,Oe),Ee.return=Re,Re=Ee;break e}c(Re,qt);break}else s(Re,qt);qt=qt.sibling}Oe.type===D?(Ee=$u(Oe.props.children,Re.mode,ft,Oe.key),Ee.return=Re,Re=Ee):(ft=rd(Oe.type,Oe.key,Oe.props,null,Re.mode,ft),ft.ref=Kt(Re,Ee,Oe),ft.return=Re,Re=ft)}return K(Re);case ie:e:{for(qt=Oe.key;Ee!==null;){if(Ee.key===qt)if(Ee.tag===4&&Ee.stateNode.containerInfo===Oe.containerInfo&&Ee.stateNode.implementation===Oe.implementation){c(Re,Ee.sibling),Ee=b(Ee,Oe.children||[]),Ee.return=Re,Re=Ee;break e}else{c(Re,Ee);break}else s(Re,Ee);Ee=Ee.sibling}Ee=bm(Oe,Re.mode,ft),Ee.return=Re,Re=Ee}return K(Re);case ae:return qt=Oe._init,Dr(Re,Ee,qt(Oe._payload),ft)}if(ot(Oe))return kt(Re,Ee,Oe,ft);if(ne(Oe))return Lt(Re,Ee,Oe,ft);or(Re,Oe)}return typeof Oe=="string"&&Oe!==""||typeof Oe=="number"?(Oe=""+Oe,Ee!==null&&Ee.tag===6?(c(Re,Ee.sibling),Ee=b(Ee,Oe),Ee.return=Re,Re=Ee):(c(Re,Ee),Ee=_m(Oe,Re.mode,ft),Ee.return=Re,Re=Ee),K(Re)):c(Re,Ee)}return Dr}var Nr=wr(!0),On=wr(!1),hi=Ho(null),fi=null,ar=null,Lr=null;function Xr(){Lr=ar=fi=null}function qi(o){var s=hi.current;zn(hi),o._currentValue=s}function Eo(o,s,c){for(;o!==null;){var m=o.alternate;if((o.childLanes&s)!==s?(o.childLanes|=s,m!==null&&(m.childLanes|=s)):m!==null&&(m.childLanes&s)!==s&&(m.childLanes|=s),o===c)break;o=o.return}}function sr(o,s){fi=o,Lr=ar=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&s&&(Po=!0),o.firstContext=null)}function Tr(o){var s=o._currentValue;if(Lr!==o)if(o={context:o,memoizedValue:s,next:null},ar===null){if(fi===null)throw Error(t(308));ar=o,fi.dependencies={lanes:0,firstContext:o}}else ar=ar.next=o;return s}var lo=null;function ys(o){lo===null?lo=[o]:lo.push(o)}function Va(o,s,c,m){var b=s.interleaved;return b===null?(c.next=c,ys(s)):(c.next=b.next,b.next=c),s.interleaved=c,Fn(o,m)}function Fn(o,s){o.lanes|=s;var c=o.alternate;for(c!==null&&(c.lanes|=s),c=o,o=o.return;o!==null;)o.childLanes|=s,c=o.alternate,c!==null&&(c.childLanes|=s),c=o,o=o.return;return c.tag===3?c.stateNode:null}var ma=!1;function Ac(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _h(o,s){o=o.updateQueue,s.updateQueue===o&&(s.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Ao(o,s){return{eventTime:o,lane:s,tag:0,payload:null,callback:null,next:null}}function To(o,s,c){var m=o.updateQueue;if(m===null)return null;if(m=m.shared,Nn&2){var b=m.pending;return b===null?s.next=s:(s.next=b.next,b.next=s),m.pending=s,Fn(o,c)}return b=m.interleaved,b===null?(s.next=s,ys(m)):(s.next=b.next,b.next=s),m.interleaved=s,Fn(o,c)}function el(o,s,c){if(s=s.updateQueue,s!==null&&(s=s.shared,(c&4194240)!==0)){var m=s.lanes;m&=o.pendingLanes,c|=m,s.lanes=c,Mo(o,c)}}function Io(o,s){var c=o.updateQueue,m=o.alternate;if(m!==null&&(m=m.updateQueue,c===m)){var b=null,k=null;if(c=c.firstBaseUpdate,c!==null){do{var K={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};k===null?b=k=K:k=k.next=K,c=c.next}while(c!==null);k===null?b=k=s:k=k.next=s}else b=k=s;c={baseState:m.baseState,firstBaseUpdate:b,lastBaseUpdate:k,shared:m.shared,effects:m.effects},o.updateQueue=c;return}o=c.lastBaseUpdate,o===null?c.firstBaseUpdate=s:o.next=s,c.lastBaseUpdate=s}function Ba(o,s,c,m){var b=o.updateQueue;ma=!1;var k=b.firstBaseUpdate,K=b.lastBaseUpdate,de=b.shared.pending;if(de!==null){b.shared.pending=null;var ye=de,Me=ye.next;ye.next=null,K===null?k=Me:K.next=Me,K=ye;var et=o.alternate;et!==null&&(et=et.updateQueue,de=et.lastBaseUpdate,de!==K&&(de===null?et.firstBaseUpdate=Me:de.next=Me,et.lastBaseUpdate=ye))}if(k!==null){var at=b.baseState;K=0,et=Me=ye=null,de=k;do{var Ze=de.lane,St=de.eventTime;if((m&Ze)===Ze){et!==null&&(et=et.next={eventTime:St,lane:0,tag:de.tag,payload:de.payload,callback:de.callback,next:null});e:{var kt=o,Lt=de;switch(Ze=s,St=c,Lt.tag){case 1:if(kt=Lt.payload,typeof kt=="function"){at=kt.call(St,at,Ze);break e}at=kt;break e;case 3:kt.flags=kt.flags&-65537|128;case 0:if(kt=Lt.payload,Ze=typeof kt=="function"?kt.call(St,at,Ze):kt,Ze==null)break e;at=he({},at,Ze);break e;case 2:ma=!0}}de.callback!==null&&de.lane!==0&&(o.flags|=64,Ze=b.effects,Ze===null?b.effects=[de]:Ze.push(de))}else St={eventTime:St,lane:Ze,tag:de.tag,payload:de.payload,callback:de.callback,next:null},et===null?(Me=et=St,ye=at):et=et.next=St,K|=Ze;if(de=de.next,de===null){if(de=b.shared.pending,de===null)break;Ze=de,de=Ze.next,Ze.next=null,b.lastBaseUpdate=Ze,b.shared.pending=null}}while(!0);if(et===null&&(ye=at),b.baseState=ye,b.firstBaseUpdate=Me,b.lastBaseUpdate=et,s=b.shared.interleaved,s!==null){b=s;do K|=b.lane,b=b.next;while(b!==s)}else k===null&&(b.shared.lanes=0);zu|=K,o.lanes=K,o.memoizedState=at}}function tl(o,s,c){if(o=s.effects,s.effects=null,o!==null)for(s=0;s<o.length;s++){var m=o[s],b=m.callback;if(b!==null){if(m.callback=null,m=c,typeof b!="function")throw Error(t(191,b));b.call(m)}}}var ql={},uo=Ho(ql),Hl=Ho(ql),ws=Ho(ql);function Ua(o){if(o===ql)throw Error(t(174));return o}function Wl(o,s){switch(Wn(ws,s),Wn(Hl,o),Wn(uo,ql),o=s.nodeType,o){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:_t(null,"");break;default:o=o===8?s.parentNode:s,s=o.namespaceURI||null,o=o.tagName,s=_t(s,o)}zn(uo),Wn(uo,s)}function ga(){zn(uo),zn(Hl),zn(ws)}function jf(o){Ua(ws.current);var s=Ua(uo.current),c=_t(s,o.type);s!==c&&(Wn(Hl,o),Wn(uo,c))}function bh(o){Hl.current===o&&(zn(uo),zn(Hl))}var Zn=Ho(0);function Wo(o){for(var s=o;s!==null;){if(s.tag===13){var c=s.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var xh=[];function Sh(){for(var o=0;o<xh.length;o++)xh[o]._workInProgressVersionPrimary=null;xh.length=0}var Tc=$.ReactCurrentDispatcher,Ic=$.ReactCurrentBatchConfig,va=0,rr=null,Ir=null,_r=null,$l=!1,za=!1,Gl=0,$p=0;function Rr(){throw Error(t(321))}function Pc(o,s){if(s===null)return!1;for(var c=0;c<s.length&&c<o.length;c++)if(!Cn(o[c],s[c]))return!1;return!0}function Vu(o,s,c,m,b,k){if(va=k,rr=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Tc.current=o===null||o.memoizedState===null?xb:Sb,o=c(m,b),za){k=0;do{if(za=!1,Gl=0,25<=k)throw Error(t(301));k+=1,_r=Ir=null,s.updateQueue=null,Tc.current=Eb,o=c(m,b)}while(za)}if(Tc.current=qf,s=Ir!==null&&Ir.next!==null,va=0,_r=Ir=rr=null,$l=!1,s)throw Error(t(300));return o}function ya(){var o=Gl!==0;return Gl=0,o}function $o(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _r===null?rr.memoizedState=_r=o:_r=_r.next=o,_r}function co(){if(Ir===null){var o=rr.alternate;o=o!==null?o.memoizedState:null}else o=Ir.next;var s=_r===null?rr.memoizedState:_r.next;if(s!==null)_r=s,Ir=o;else{if(o===null)throw Error(t(310));Ir=o,o={memoizedState:Ir.memoizedState,baseState:Ir.baseState,baseQueue:Ir.baseQueue,queue:Ir.queue,next:null},_r===null?rr.memoizedState=_r=o:_r=_r.next=o}return _r}function Bu(o,s){return typeof s=="function"?s(o):s}function kc(o){var s=co(),c=s.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=o;var m=Ir,b=m.baseQueue,k=c.pending;if(k!==null){if(b!==null){var K=b.next;b.next=k.next,k.next=K}m.baseQueue=b=k,c.pending=null}if(b!==null){k=b.next,m=m.baseState;var de=K=null,ye=null,Me=k;do{var et=Me.lane;if((va&et)===et)ye!==null&&(ye=ye.next={lane:0,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null}),m=Me.hasEagerState?Me.eagerState:o(m,Me.action);else{var at={lane:et,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null};ye===null?(de=ye=at,K=m):ye=ye.next=at,rr.lanes|=et,zu|=et}Me=Me.next}while(Me!==null&&Me!==k);ye===null?K=m:ye.next=de,Cn(m,s.memoizedState)||(Po=!0),s.memoizedState=m,s.baseState=K,s.baseQueue=ye,c.lastRenderedState=m}if(o=c.interleaved,o!==null){b=o;do k=b.lane,rr.lanes|=k,zu|=k,b=b.next;while(b!==o)}else b===null&&(c.lanes=0);return[s.memoizedState,c.dispatch]}function _s(o){var s=co(),c=s.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=o;var m=c.dispatch,b=c.pending,k=s.memoizedState;if(b!==null){c.pending=null;var K=b=b.next;do k=o(k,K.action),K=K.next;while(K!==b);Cn(k,s.memoizedState)||(Po=!0),s.memoizedState=k,s.baseQueue===null&&(s.baseState=k),c.lastRenderedState=k}return[k,m]}function Vf(){}function Eh(o,s){var c=rr,m=co(),b=s(),k=!Cn(m.memoizedState,b);if(k&&(m.memoizedState=b,Po=!0),m=m.queue,Lc(Uf.bind(null,c,m,o),[o]),m.getSnapshot!==s||k||_r!==null&&_r.memoizedState.tag&1){if(c.flags|=2048,ho(9,Ah.bind(null,c,m,b,s),void 0,null),di===null)throw Error(t(349));va&30||Bf(c,s,b)}return b}function Bf(o,s,c){o.flags|=16384,o={getSnapshot:s,value:c},s=rr.updateQueue,s===null?(s={lastEffect:null,stores:null},rr.updateQueue=s,s.stores=[o]):(c=s.stores,c===null?s.stores=[o]:c.push(o))}function Ah(o,s,c,m){s.value=c,s.getSnapshot=m,Kl(s)&&Cc(o)}function Uf(o,s,c){return c(function(){Kl(s)&&Cc(o)})}function Kl(o){var s=o.getSnapshot;o=o.value;try{var c=s();return!Cn(o,c)}catch{return!0}}function Cc(o){var s=Fn(o,1);s!==null&&Ga(s,o,1,-1)}function Uu(o){var s=$o();return typeof o=="function"&&(o=o()),s.memoizedState=s.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bu,lastRenderedState:o},s.queue=o,o=o.dispatch=bb.bind(null,rr,o),[s.memoizedState,o]}function ho(o,s,c,m){return o={tag:o,create:s,destroy:c,deps:m,next:null},s=rr.updateQueue,s===null?(s={lastEffect:null,stores:null},rr.updateQueue=s,s.lastEffect=o.next=o):(c=s.lastEffect,c===null?s.lastEffect=o.next=o:(m=c.next,c.next=o,o.next=m,s.lastEffect=o)),o}function qa(){return co().memoizedState}function Go(o,s,c,m){var b=$o();rr.flags|=o,b.memoizedState=ho(1|s,c,void 0,m===void 0?null:m)}function nl(o,s,c,m){var b=co();m=m===void 0?null:m;var k=void 0;if(Ir!==null){var K=Ir.memoizedState;if(k=K.destroy,m!==null&&Pc(m,K.deps)){b.memoizedState=ho(s,c,k,m);return}}rr.flags|=o,b.memoizedState=ho(1|s,c,k,m)}function Nc(o,s){return Go(8390656,8,o,s)}function Lc(o,s){return nl(2048,8,o,s)}function zf(o,s){return nl(4,2,o,s)}function Rc(o,s){return nl(4,4,o,s)}function Dc(o,s){if(typeof s=="function")return o=o(),s(o),function(){s(null)};if(s!=null)return o=o(),s.current=o,function(){s.current=null}}function i1(o,s,c){return c=c!=null?c.concat([o]):null,nl(4,4,Dc.bind(null,s,o),c)}function Gp(){}function o1(o,s){var c=co();s=s===void 0?null:s;var m=c.memoizedState;return m!==null&&s!==null&&Pc(s,m[1])?m[0]:(c.memoizedState=[o,s],o)}function a1(o,s){var c=co();s=s===void 0?null:s;var m=c.memoizedState;return m!==null&&s!==null&&Pc(s,m[1])?m[0]:(o=o(),c.memoizedState=[o,s],o)}function s1(o,s,c){return va&21?(Cn(c,s)||(c=na(),rr.lanes|=c,zu|=c,o.baseState=!0),s):(o.baseState&&(o.baseState=!1,Po=!0),o.memoizedState=c)}function wb(o,s){var c=pn;pn=c!==0&&4>c?c:4,o(!0);var m=Ic.transition;Ic.transition={};try{o(!1),s()}finally{pn=c,Ic.transition=m}}function l1(){return co().memoizedState}function _b(o,s,c){var m=Xl(o);if(c={lane:m,action:c,hasEagerState:!1,eagerState:null,next:null},u1(o))c1(s,c);else if(c=Va(o,s,c,m),c!==null){var b=po();Ga(c,o,m,b),h1(c,s,m)}}function bb(o,s,c){var m=Xl(o),b={lane:m,action:c,hasEagerState:!1,eagerState:null,next:null};if(u1(o))c1(s,b);else{var k=o.alternate;if(o.lanes===0&&(k===null||k.lanes===0)&&(k=s.lastRenderedReducer,k!==null))try{var K=s.lastRenderedState,de=k(K,c);if(b.hasEagerState=!0,b.eagerState=de,Cn(de,K)){var ye=s.interleaved;ye===null?(b.next=b,ys(s)):(b.next=ye.next,ye.next=b),s.interleaved=b;return}}catch{}finally{}c=Va(o,s,b,m),c!==null&&(b=po(),Ga(c,o,m,b),h1(c,s,m))}}function u1(o){var s=o.alternate;return o===rr||s!==null&&s===rr}function c1(o,s){za=$l=!0;var c=o.pending;c===null?s.next=s:(s.next=c.next,c.next=s),o.pending=s}function h1(o,s,c){if(c&4194240){var m=s.lanes;m&=o.pendingLanes,c|=m,s.lanes=c,Mo(o,c)}}var qf={readContext:Tr,useCallback:Rr,useContext:Rr,useEffect:Rr,useImperativeHandle:Rr,useInsertionEffect:Rr,useLayoutEffect:Rr,useMemo:Rr,useReducer:Rr,useRef:Rr,useState:Rr,useDebugValue:Rr,useDeferredValue:Rr,useTransition:Rr,useMutableSource:Rr,useSyncExternalStore:Rr,useId:Rr,unstable_isNewReconciler:!1},xb={readContext:Tr,useCallback:function(o,s){return $o().memoizedState=[o,s===void 0?null:s],o},useContext:Tr,useEffect:Nc,useImperativeHandle:function(o,s,c){return c=c!=null?c.concat([o]):null,Go(4194308,4,Dc.bind(null,s,o),c)},useLayoutEffect:function(o,s){return Go(4194308,4,o,s)},useInsertionEffect:function(o,s){return Go(4,2,o,s)},useMemo:function(o,s){var c=$o();return s=s===void 0?null:s,o=o(),c.memoizedState=[o,s],o},useReducer:function(o,s,c){var m=$o();return s=c!==void 0?c(s):s,m.memoizedState=m.baseState=s,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:s},m.queue=o,o=o.dispatch=_b.bind(null,rr,o),[m.memoizedState,o]},useRef:function(o){var s=$o();return o={current:o},s.memoizedState=o},useState:Uu,useDebugValue:Gp,useDeferredValue:function(o){return $o().memoizedState=o},useTransition:function(){var o=Uu(!1),s=o[0];return o=wb.bind(null,o[1]),$o().memoizedState=o,[s,o]},useMutableSource:function(){},useSyncExternalStore:function(o,s,c){var m=rr,b=$o();if(Ue){if(c===void 0)throw Error(t(407));c=c()}else{if(c=s(),di===null)throw Error(t(349));va&30||Bf(m,s,c)}b.memoizedState=c;var k={value:c,getSnapshot:s};return b.queue=k,Nc(Uf.bind(null,m,k,o),[o]),m.flags|=2048,ho(9,Ah.bind(null,m,k,c,s),void 0,null),c},useId:function(){var o=$o(),s=di.identifierPrefix;if(Ue){var c=Ne,m=Ce;c=(m&~(1<<32-Hr(m)-1)).toString(32)+c,s=":"+s+"R"+c,c=Gl++,0<c&&(s+="H"+c.toString(32)),s+=":"}else c=$p++,s=":"+s+"r"+c.toString(32)+":";return o.memoizedState=s},unstable_isNewReconciler:!1},Sb={readContext:Tr,useCallback:o1,useContext:Tr,useEffect:Lc,useImperativeHandle:i1,useInsertionEffect:zf,useLayoutEffect:Rc,useMemo:a1,useReducer:kc,useRef:qa,useState:function(){return kc(Bu)},useDebugValue:Gp,useDeferredValue:function(o){var s=co();return s1(s,Ir.memoizedState,o)},useTransition:function(){var o=kc(Bu)[0],s=co().memoizedState;return[o,s]},useMutableSource:Vf,useSyncExternalStore:Eh,useId:l1,unstable_isNewReconciler:!1},Eb={readContext:Tr,useCallback:o1,useContext:Tr,useEffect:Lc,useImperativeHandle:i1,useInsertionEffect:zf,useLayoutEffect:Rc,useMemo:a1,useReducer:_s,useRef:qa,useState:function(){return _s(Bu)},useDebugValue:Gp,useDeferredValue:function(o){var s=co();return Ir===null?s.memoizedState=o:s1(s,Ir.memoizedState,o)},useTransition:function(){var o=_s(Bu)[0],s=co().memoizedState;return[o,s]},useMutableSource:Vf,useSyncExternalStore:Eh,useId:l1,unstable_isNewReconciler:!1};function Ha(o,s){if(o&&o.defaultProps){s=he({},s),o=o.defaultProps;for(var c in o)s[c]===void 0&&(s[c]=o[c]);return s}return s}function Kp(o,s,c,m){s=o.memoizedState,c=c(m,s),c=c==null?s:he({},s,c),o.memoizedState=c,o.lanes===0&&(o.updateQueue.baseState=c)}var Hf={isMounted:function(o){return(o=o._reactInternals)?Jt(o)===o:!1},enqueueSetState:function(o,s,c){o=o._reactInternals;var m=po(),b=Xl(o),k=Ao(m,b);k.payload=s,c!=null&&(k.callback=c),s=To(o,k,b),s!==null&&(Ga(s,o,b,m),el(s,o,b))},enqueueReplaceState:function(o,s,c){o=o._reactInternals;var m=po(),b=Xl(o),k=Ao(m,b);k.tag=1,k.payload=s,c!=null&&(k.callback=c),s=To(o,k,b),s!==null&&(Ga(s,o,b,m),el(s,o,b))},enqueueForceUpdate:function(o,s){o=o._reactInternals;var c=po(),m=Xl(o),b=Ao(c,m);b.tag=2,s!=null&&(b.callback=s),s=To(o,b,m),s!==null&&(Ga(s,o,m,c),el(s,o,m))}};function f1(o,s,c,m,b,k,K){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(m,k,K):s.prototype&&s.prototype.isPureReactComponent?!Ra(c,m)||!Ra(b,k):!0}function d1(o,s,c){var m=!1,b=vs,k=s.contextType;return typeof k=="object"&&k!==null?k=Tr(k):(b=zi(s)?Xs:Jr.current,m=s.contextTypes,k=(m=m!=null)?zl(o,b):vs),s=new s(c,k),o.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Hf,o.stateNode=s,s._reactInternals=o,m&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=b,o.__reactInternalMemoizedMaskedChildContext=k),s}function p1(o,s,c,m){o=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(c,m),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(c,m),s.state!==o&&Hf.enqueueReplaceState(s,s.state,null)}function Qp(o,s,c,m){var b=o.stateNode;b.props=c,b.state=o.memoizedState,b.refs={},Ac(o);var k=s.contextType;typeof k=="object"&&k!==null?b.context=Tr(k):(k=zi(s)?Xs:Jr.current,b.context=zl(o,k)),b.state=o.memoizedState,k=s.getDerivedStateFromProps,typeof k=="function"&&(Kp(o,s,k,c),b.state=o.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(s=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),s!==b.state&&Hf.enqueueReplaceState(b,b.state,null),Ba(o,c,b,m),b.state=o.memoizedState),typeof b.componentDidMount=="function"&&(o.flags|=4194308)}function Oc(o,s){try{var c="",m=s;do c+=se(m),m=m.return;while(m);var b=c}catch(k){b=`
Error generating stack: `+k.message+`
`+k.stack}return{value:o,source:s,stack:b,digest:null}}function Yp(o,s,c){return{value:o,source:null,stack:c??null,digest:s??null}}function Jp(o,s){try{console.error(s.value)}catch(c){setTimeout(function(){throw c})}}var Ab=typeof WeakMap=="function"?WeakMap:Map;function m1(o,s,c){c=Ao(-1,c),c.tag=3,c.payload={element:null};var m=s.value;return c.callback=function(){Jf||(Jf=!0,fm=m),Jp(o,s)},c}function g1(o,s,c){c=Ao(-1,c),c.tag=3;var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var b=s.value;c.payload=function(){return m(b)},c.callback=function(){Jp(o,s)}}var k=o.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(c.callback=function(){Jp(o,s),typeof m!="function"&&(Yl===null?Yl=new Set([this]):Yl.add(this));var K=s.stack;this.componentDidCatch(s.value,{componentStack:K!==null?K:""})}),c}function v1(o,s,c){var m=o.pingCache;if(m===null){m=o.pingCache=new Ab;var b=new Set;m.set(s,b)}else b=m.get(s),b===void 0&&(b=new Set,m.set(s,b));b.has(c)||(b.add(c),o=Vb.bind(null,o,s,c),s.then(o,o))}function y1(o){do{var s;if((s=o.tag===13)&&(s=o.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return o;o=o.return}while(o!==null);return null}function w1(o,s,c,m,b){return o.mode&1?(o.flags|=65536,o.lanes=b,o):(o===s?o.flags|=65536:(o.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(s=Ao(-1,1),s.tag=2,To(c,s,1))),c.lanes|=1),o)}var Tb=$.ReactCurrentOwner,Po=!1;function fo(o,s,c,m){s.child=o===null?On(s,null,c,m):Nr(s,o.child,c,m)}function _1(o,s,c,m,b){c=c.render;var k=s.ref;return sr(s,b),m=Vu(o,s,c,m,k,b),c=ya(),o!==null&&!Po?(s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~b,rl(o,s,b)):(Ue&&c&&je(s),s.flags|=1,fo(o,s,m,b),s.child)}function b1(o,s,c,m,b){if(o===null){var k=c.type;return typeof k=="function"&&!wm(k)&&k.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(s.tag=15,s.type=k,x1(o,s,k,m,b)):(o=rd(c.type,null,m,s,s.mode,b),o.ref=s.ref,o.return=s,s.child=o)}if(k=o.child,!(o.lanes&b)){var K=k.memoizedProps;if(c=c.compare,c=c!==null?c:Ra,c(K,m)&&o.ref===s.ref)return rl(o,s,b)}return s.flags|=1,o=eu(k,m),o.ref=s.ref,o.return=s,s.child=o}function x1(o,s,c,m,b){if(o!==null){var k=o.memoizedProps;if(Ra(k,m)&&o.ref===s.ref)if(Po=!1,s.pendingProps=m=k,(o.lanes&b)!==0)o.flags&131072&&(Po=!0);else return s.lanes=o.lanes,rl(o,s,b)}return Xp(o,s,c,m,b)}function S1(o,s,c){var m=s.pendingProps,b=m.children,k=o!==null?o.memoizedState:null;if(m.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Wn(Mc,Ko),Ko|=c;else{if(!(c&1073741824))return o=k!==null?k.baseLanes|c:c,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:o,cachePool:null,transitions:null},s.updateQueue=null,Wn(Mc,Ko),Ko|=o,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=k!==null?k.baseLanes:c,Wn(Mc,Ko),Ko|=m}else k!==null?(m=k.baseLanes|c,s.memoizedState=null):m=c,Wn(Mc,Ko),Ko|=m;return fo(o,s,b,c),s.child}function E1(o,s){var c=s.ref;(o===null&&c!==null||o!==null&&o.ref!==c)&&(s.flags|=512,s.flags|=2097152)}function Xp(o,s,c,m,b){var k=zi(c)?Xs:Jr.current;return k=zl(s,k),sr(s,b),c=Vu(o,s,c,m,k,b),m=ya(),o!==null&&!Po?(s.updateQueue=o.updateQueue,s.flags&=-2053,o.lanes&=~b,rl(o,s,b)):(Ue&&m&&je(s),s.flags|=1,fo(o,s,c,b),s.child)}function A1(o,s,c,m,b){if(zi(c)){var k=!0;Zs(s)}else k=!1;if(sr(s,b),s.stateNode===null)$f(o,s),d1(s,c,m),Qp(s,c,m,b),m=!0;else if(o===null){var K=s.stateNode,de=s.memoizedProps;K.props=de;var ye=K.context,Me=c.contextType;typeof Me=="object"&&Me!==null?Me=Tr(Me):(Me=zi(c)?Xs:Jr.current,Me=zl(s,Me));var et=c.getDerivedStateFromProps,at=typeof et=="function"||typeof K.getSnapshotBeforeUpdate=="function";at||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(de!==m||ye!==Me)&&p1(s,K,m,Me),ma=!1;var Ze=s.memoizedState;K.state=Ze,Ba(s,m,K,b),ye=s.memoizedState,de!==m||Ze!==ye||Ui.current||ma?(typeof et=="function"&&(Kp(s,c,et,m),ye=s.memoizedState),(de=ma||f1(s,c,de,m,Ze,ye,Me))?(at||typeof K.UNSAFE_componentWillMount!="function"&&typeof K.componentWillMount!="function"||(typeof K.componentWillMount=="function"&&K.componentWillMount(),typeof K.UNSAFE_componentWillMount=="function"&&K.UNSAFE_componentWillMount()),typeof K.componentDidMount=="function"&&(s.flags|=4194308)):(typeof K.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=m,s.memoizedState=ye),K.props=m,K.state=ye,K.context=Me,m=de):(typeof K.componentDidMount=="function"&&(s.flags|=4194308),m=!1)}else{K=s.stateNode,_h(o,s),de=s.memoizedProps,Me=s.type===s.elementType?de:Ha(s.type,de),K.props=Me,at=s.pendingProps,Ze=K.context,ye=c.contextType,typeof ye=="object"&&ye!==null?ye=Tr(ye):(ye=zi(c)?Xs:Jr.current,ye=zl(s,ye));var St=c.getDerivedStateFromProps;(et=typeof St=="function"||typeof K.getSnapshotBeforeUpdate=="function")||typeof K.UNSAFE_componentWillReceiveProps!="function"&&typeof K.componentWillReceiveProps!="function"||(de!==at||Ze!==ye)&&p1(s,K,m,ye),ma=!1,Ze=s.memoizedState,K.state=Ze,Ba(s,m,K,b);var kt=s.memoizedState;de!==at||Ze!==kt||Ui.current||ma?(typeof St=="function"&&(Kp(s,c,St,m),kt=s.memoizedState),(Me=ma||f1(s,c,Me,m,Ze,kt,ye)||!1)?(et||typeof K.UNSAFE_componentWillUpdate!="function"&&typeof K.componentWillUpdate!="function"||(typeof K.componentWillUpdate=="function"&&K.componentWillUpdate(m,kt,ye),typeof K.UNSAFE_componentWillUpdate=="function"&&K.UNSAFE_componentWillUpdate(m,kt,ye)),typeof K.componentDidUpdate=="function"&&(s.flags|=4),typeof K.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof K.componentDidUpdate!="function"||de===o.memoizedProps&&Ze===o.memoizedState||(s.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||de===o.memoizedProps&&Ze===o.memoizedState||(s.flags|=1024),s.memoizedProps=m,s.memoizedState=kt),K.props=m,K.state=kt,K.context=ye,m=Me):(typeof K.componentDidUpdate!="function"||de===o.memoizedProps&&Ze===o.memoizedState||(s.flags|=4),typeof K.getSnapshotBeforeUpdate!="function"||de===o.memoizedProps&&Ze===o.memoizedState||(s.flags|=1024),m=!1)}return Zp(o,s,c,m,k,b)}function Zp(o,s,c,m,b,k){E1(o,s);var K=(s.flags&128)!==0;if(!m&&!K)return b&&Mf(s,c,!1),rl(o,s,k);m=s.stateNode,Tb.current=s;var de=K&&typeof c.getDerivedStateFromError!="function"?null:m.render();return s.flags|=1,o!==null&&K?(s.child=Nr(s,o.child,null,k),s.child=Nr(s,null,de,k)):fo(o,s,de,k),s.memoizedState=m.state,b&&Mf(s,c,!0),s.child}function T1(o){var s=o.stateNode;s.pendingContext?Ff(o,s.pendingContext,s.pendingContext!==s.context):s.context&&Ff(o,s.context,!1),Wl(o,s.containerInfo)}function I1(o,s,c,m,b){return cn(),qn(b),s.flags|=256,fo(o,s,c,m),s.child}var em={dehydrated:null,treeContext:null,retryLane:0};function tm(o){return{baseLanes:o,cachePool:null,transitions:null}}function P1(o,s,c){var m=s.pendingProps,b=Zn.current,k=!1,K=(s.flags&128)!==0,de;if((de=K)||(de=o!==null&&o.memoizedState===null?!1:(b&2)!==0),de?(k=!0,s.flags&=-129):(o===null||o.memoizedState!==null)&&(b|=1),Wn(Zn,b&1),o===null)return yt(s),o=s.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(s.mode&1?o.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(K=m.children,o=m.fallback,k?(m=s.mode,k=s.child,K={mode:"hidden",children:K},!(m&1)&&k!==null?(k.childLanes=0,k.pendingProps=K):k=id(K,m,0,null),o=$u(o,m,c,null),k.return=s,o.return=s,k.sibling=o,s.child=k,s.child.memoizedState=tm(c),s.memoizedState=em,o):nm(s,K));if(b=o.memoizedState,b!==null&&(de=b.dehydrated,de!==null))return Ib(o,s,K,m,de,b,c);if(k){k=m.fallback,K=s.mode,b=o.child,de=b.sibling;var ye={mode:"hidden",children:m.children};return!(K&1)&&s.child!==b?(m=s.child,m.childLanes=0,m.pendingProps=ye,s.deletions=null):(m=eu(b,ye),m.subtreeFlags=b.subtreeFlags&14680064),de!==null?k=eu(de,k):(k=$u(k,K,c,null),k.flags|=2),k.return=s,m.return=s,m.sibling=k,s.child=m,m=k,k=s.child,K=o.child.memoizedState,K=K===null?tm(c):{baseLanes:K.baseLanes|c,cachePool:null,transitions:K.transitions},k.memoizedState=K,k.childLanes=o.childLanes&~c,s.memoizedState=em,m}return k=o.child,o=k.sibling,m=eu(k,{mode:"visible",children:m.children}),!(s.mode&1)&&(m.lanes=c),m.return=s,m.sibling=null,o!==null&&(c=s.deletions,c===null?(s.deletions=[o],s.flags|=16):c.push(o)),s.child=m,s.memoizedState=null,m}function nm(o,s){return s=id({mode:"visible",children:s},o.mode,0,null),s.return=o,o.child=s}function Wf(o,s,c,m){return m!==null&&qn(m),Nr(s,o.child,null,c),o=nm(s,s.pendingProps.children),o.flags|=2,s.memoizedState=null,o}function Ib(o,s,c,m,b,k,K){if(c)return s.flags&256?(s.flags&=-257,m=Yp(Error(t(422))),Wf(o,s,K,m)):s.memoizedState!==null?(s.child=o.child,s.flags|=128,null):(k=m.fallback,b=s.mode,m=id({mode:"visible",children:m.children},b,0,null),k=$u(k,b,K,null),k.flags|=2,m.return=s,k.return=s,m.sibling=k,s.child=m,s.mode&1&&Nr(s,o.child,null,K),s.child.memoizedState=tm(K),s.memoizedState=em,k);if(!(s.mode&1))return Wf(o,s,K,null);if(b.data==="$!"){if(m=b.nextSibling&&b.nextSibling.dataset,m)var de=m.dgst;return m=de,k=Error(t(419)),m=Yp(k,m,void 0),Wf(o,s,K,m)}if(de=(K&o.childLanes)!==0,Po||de){if(m=di,m!==null){switch(K&-K){case 4:b=2;break;case 16:b=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:b=32;break;case 536870912:b=268435456;break;default:b=0}b=b&(m.suspendedLanes|K)?0:b,b!==0&&b!==k.retryLane&&(k.retryLane=b,Fn(o,b),Ga(m,o,b,-1))}return ym(),m=Yp(Error(t(421))),Wf(o,s,K,m)}return b.data==="$?"?(s.flags|=128,s.child=o.child,s=Bb.bind(null,o),b._reactRetry=s,null):(o=k.treeContext,ze=Ii(b.nextSibling),be=s,Ue=!0,He=null,o!==null&&(Z[le++]=Ce,Z[le++]=Ne,Z[le++]=ve,Ce=o.id,Ne=o.overflow,ve=s),s=nm(s,m.children),s.flags|=4096,s)}function k1(o,s,c){o.lanes|=s;var m=o.alternate;m!==null&&(m.lanes|=s),Eo(o.return,s,c)}function rm(o,s,c,m,b){var k=o.memoizedState;k===null?o.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:m,tail:c,tailMode:b}:(k.isBackwards=s,k.rendering=null,k.renderingStartTime=0,k.last=m,k.tail=c,k.tailMode=b)}function C1(o,s,c){var m=s.pendingProps,b=m.revealOrder,k=m.tail;if(fo(o,s,m.children,c),m=Zn.current,m&2)m=m&1|2,s.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=s.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&k1(o,c,s);else if(o.tag===19)k1(o,c,s);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break e;for(;o.sibling===null;){if(o.return===null||o.return===s)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}m&=1}if(Wn(Zn,m),!(s.mode&1))s.memoizedState=null;else switch(b){case"forwards":for(c=s.child,b=null;c!==null;)o=c.alternate,o!==null&&Wo(o)===null&&(b=c),c=c.sibling;c=b,c===null?(b=s.child,s.child=null):(b=c.sibling,c.sibling=null),rm(s,!1,b,c,k);break;case"backwards":for(c=null,b=s.child,s.child=null;b!==null;){if(o=b.alternate,o!==null&&Wo(o)===null){s.child=b;break}o=b.sibling,b.sibling=c,c=b,b=o}rm(s,!0,c,null,k);break;case"together":rm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function $f(o,s){!(s.mode&1)&&o!==null&&(o.alternate=null,s.alternate=null,s.flags|=2)}function rl(o,s,c){if(o!==null&&(s.dependencies=o.dependencies),zu|=s.lanes,!(c&s.childLanes))return null;if(o!==null&&s.child!==o.child)throw Error(t(153));if(s.child!==null){for(o=s.child,c=eu(o,o.pendingProps),s.child=c,c.return=s;o.sibling!==null;)o=o.sibling,c=c.sibling=eu(o,o.pendingProps),c.return=s;c.sibling=null}return s.child}function Pb(o,s,c){switch(s.tag){case 3:T1(s),cn();break;case 5:jf(s);break;case 1:zi(s.type)&&Zs(s);break;case 4:Wl(s,s.stateNode.containerInfo);break;case 10:var m=s.type._context,b=s.memoizedProps.value;Wn(hi,m._currentValue),m._currentValue=b;break;case 13:if(m=s.memoizedState,m!==null)return m.dehydrated!==null?(Wn(Zn,Zn.current&1),s.flags|=128,null):c&s.child.childLanes?P1(o,s,c):(Wn(Zn,Zn.current&1),o=rl(o,s,c),o!==null?o.sibling:null);Wn(Zn,Zn.current&1);break;case 19:if(m=(c&s.childLanes)!==0,o.flags&128){if(m)return C1(o,s,c);s.flags|=128}if(b=s.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),Wn(Zn,Zn.current),m)break;return null;case 22:case 23:return s.lanes=0,S1(o,s,c)}return rl(o,s,c)}var N1,im,L1,R1;N1=function(o,s){for(var c=s.child;c!==null;){if(c.tag===5||c.tag===6)o.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===s)break;for(;c.sibling===null;){if(c.return===null||c.return===s)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},im=function(){},L1=function(o,s,c,m){var b=o.memoizedProps;if(b!==m){o=s.stateNode,Ua(uo.current);var k=null;switch(c){case"input":b=Ct(o,b),m=Ct(o,m),k=[];break;case"select":b=he({},b,{value:void 0}),m=he({},m,{value:void 0}),k=[];break;case"textarea":b=ct(o,b),m=ct(o,m),k=[];break;default:typeof b.onClick!="function"&&typeof m.onClick=="function"&&(o.onclick=Vl)}dn(c,m);var K;c=null;for(Me in b)if(!m.hasOwnProperty(Me)&&b.hasOwnProperty(Me)&&b[Me]!=null)if(Me==="style"){var de=b[Me];for(K in de)de.hasOwnProperty(K)&&(c||(c={}),c[K]="")}else Me!=="dangerouslySetInnerHTML"&&Me!=="children"&&Me!=="suppressContentEditableWarning"&&Me!=="suppressHydrationWarning"&&Me!=="autoFocus"&&(i.hasOwnProperty(Me)?k||(k=[]):(k=k||[]).push(Me,null));for(Me in m){var ye=m[Me];if(de=b!=null?b[Me]:void 0,m.hasOwnProperty(Me)&&ye!==de&&(ye!=null||de!=null))if(Me==="style")if(de){for(K in de)!de.hasOwnProperty(K)||ye&&ye.hasOwnProperty(K)||(c||(c={}),c[K]="");for(K in ye)ye.hasOwnProperty(K)&&de[K]!==ye[K]&&(c||(c={}),c[K]=ye[K])}else c||(k||(k=[]),k.push(Me,c)),c=ye;else Me==="dangerouslySetInnerHTML"?(ye=ye?ye.__html:void 0,de=de?de.__html:void 0,ye!=null&&de!==ye&&(k=k||[]).push(Me,ye)):Me==="children"?typeof ye!="string"&&typeof ye!="number"||(k=k||[]).push(Me,""+ye):Me!=="suppressContentEditableWarning"&&Me!=="suppressHydrationWarning"&&(i.hasOwnProperty(Me)?(ye!=null&&Me==="onScroll"&&Yn("scroll",o),k||de===ye||(k=[])):(k=k||[]).push(Me,ye))}c&&(k=k||[]).push("style",c);var Me=k;(s.updateQueue=Me)&&(s.flags|=4)}},R1=function(o,s,c,m){c!==m&&(s.flags|=4)};function Th(o,s){if(!Ue)switch(o.tailMode){case"hidden":s=o.tail;for(var c=null;s!==null;)s.alternate!==null&&(c=s),s=s.sibling;c===null?o.tail=null:c.sibling=null;break;case"collapsed":c=o.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?s||o.tail===null?o.tail=null:o.tail.sibling=null:m.sibling=null}}function Hi(o){var s=o.alternate!==null&&o.alternate.child===o.child,c=0,m=0;if(s)for(var b=o.child;b!==null;)c|=b.lanes|b.childLanes,m|=b.subtreeFlags&14680064,m|=b.flags&14680064,b.return=o,b=b.sibling;else for(b=o.child;b!==null;)c|=b.lanes|b.childLanes,m|=b.subtreeFlags,m|=b.flags,b.return=o,b=b.sibling;return o.subtreeFlags|=m,o.childLanes=c,s}function kb(o,s,c){var m=s.pendingProps;switch(_e(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hi(s),null;case 1:return zi(s.type)&&Ec(),Hi(s),null;case 3:return m=s.stateNode,ga(),zn(Ui),zn(Jr),Sh(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(Pn(s)?s.flags|=4:o===null||o.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,He!==null&&(mm(He),He=null))),im(o,s),Hi(s),null;case 5:bh(s);var b=Ua(ws.current);if(c=s.type,o!==null&&s.stateNode!=null)L1(o,s,c,m,b),o.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!m){if(s.stateNode===null)throw Error(t(166));return Hi(s),null}if(o=Ua(uo.current),Pn(s)){m=s.stateNode,c=s.type;var k=s.memoizedProps;switch(m[pa]=s,m[Bl]=k,o=(s.mode&1)!==0,c){case"dialog":Yn("cancel",m),Yn("close",m);break;case"iframe":case"object":case"embed":Yn("load",m);break;case"video":case"audio":for(b=0;b<ms.length;b++)Yn(ms[b],m);break;case"source":Yn("error",m);break;case"img":case"image":case"link":Yn("error",m),Yn("load",m);break;case"details":Yn("toggle",m);break;case"input":Ve(m,k),Yn("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!k.multiple},Yn("invalid",m);break;case"textarea":Tt(m,k),Yn("invalid",m)}dn(c,k),b=null;for(var K in k)if(k.hasOwnProperty(K)){var de=k[K];K==="children"?typeof de=="string"?m.textContent!==de&&(k.suppressHydrationWarning!==!0&&Sc(m.textContent,de,o),b=["children",de]):typeof de=="number"&&m.textContent!==""+de&&(k.suppressHydrationWarning!==!0&&Sc(m.textContent,de,o),b=["children",""+de]):i.hasOwnProperty(K)&&de!=null&&K==="onScroll"&&Yn("scroll",m)}switch(c){case"input":Ge(m),xt(m,k,!0);break;case"textarea":Ge(m),Je(m);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(m.onclick=Vl)}m=b,s.updateQueue=m,m!==null&&(s.flags|=4)}else{K=b.nodeType===9?b:b.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=ht(c)),o==="http://www.w3.org/1999/xhtml"?c==="script"?(o=K.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof m.is=="string"?o=K.createElement(c,{is:m.is}):(o=K.createElement(c),c==="select"&&(K=o,m.multiple?K.multiple=!0:m.size&&(K.size=m.size))):o=K.createElementNS(o,c),o[pa]=s,o[Bl]=m,N1(o,s,!1,!1),s.stateNode=o;e:{switch(K=gr(c,m),c){case"dialog":Yn("cancel",o),Yn("close",o),b=m;break;case"iframe":case"object":case"embed":Yn("load",o),b=m;break;case"video":case"audio":for(b=0;b<ms.length;b++)Yn(ms[b],o);b=m;break;case"source":Yn("error",o),b=m;break;case"img":case"image":case"link":Yn("error",o),Yn("load",o),b=m;break;case"details":Yn("toggle",o),b=m;break;case"input":Ve(o,m),b=Ct(o,m),Yn("invalid",o);break;case"option":b=m;break;case"select":o._wrapperState={wasMultiple:!!m.multiple},b=he({},m,{value:void 0}),Yn("invalid",o);break;case"textarea":Tt(o,m),b=ct(o,m),Yn("invalid",o);break;default:b=m}dn(c,b),de=b;for(k in de)if(de.hasOwnProperty(k)){var ye=de[k];k==="style"?ur(o,ye):k==="dangerouslySetInnerHTML"?(ye=ye?ye.__html:void 0,ye!=null&&Rt(o,ye)):k==="children"?typeof ye=="string"?(c!=="textarea"||ye!=="")&&Nt(o,ye):typeof ye=="number"&&Nt(o,""+ye):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(i.hasOwnProperty(k)?ye!=null&&k==="onScroll"&&Yn("scroll",o):ye!=null&&B(o,k,ye,K))}switch(c){case"input":Ge(o),xt(o,m,!1);break;case"textarea":Ge(o),Je(o);break;case"option":m.value!=null&&o.setAttribute("value",""+xe(m.value));break;case"select":o.multiple=!!m.multiple,k=m.value,k!=null?lt(o,!!m.multiple,k,!1):m.defaultValue!=null&&lt(o,!!m.multiple,m.defaultValue,!0);break;default:typeof b.onClick=="function"&&(o.onclick=Vl)}switch(c){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Hi(s),null;case 6:if(o&&s.stateNode!=null)R1(o,s,o.memoizedProps,m);else{if(typeof m!="string"&&s.stateNode===null)throw Error(t(166));if(c=Ua(ws.current),Ua(uo.current),Pn(s)){if(m=s.stateNode,c=s.memoizedProps,m[pa]=s,(k=m.nodeValue!==c)&&(o=be,o!==null))switch(o.tag){case 3:Sc(m.nodeValue,c,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Sc(m.nodeValue,c,(o.mode&1)!==0)}k&&(s.flags|=4)}else m=(c.nodeType===9?c:c.ownerDocument).createTextNode(m),m[pa]=s,s.stateNode=m}return Hi(s),null;case 13:if(zn(Zn),m=s.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Ue&&ze!==null&&s.mode&1&&!(s.flags&128))yn(),cn(),s.flags|=98560,k=!1;else if(k=Pn(s),m!==null&&m.dehydrated!==null){if(o===null){if(!k)throw Error(t(318));if(k=s.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(t(317));k[pa]=s}else cn(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Hi(s),k=!1}else He!==null&&(mm(He),He=null),k=!0;if(!k)return s.flags&65536?s:null}return s.flags&128?(s.lanes=c,s):(m=m!==null,m!==(o!==null&&o.memoizedState!==null)&&m&&(s.child.flags|=8192,s.mode&1&&(o===null||Zn.current&1?Zr===0&&(Zr=3):ym())),s.updateQueue!==null&&(s.flags|=4),Hi(s),null);case 4:return ga(),im(o,s),o===null&&Ks(s.stateNode.containerInfo),Hi(s),null;case 10:return qi(s.type._context),Hi(s),null;case 17:return zi(s.type)&&Ec(),Hi(s),null;case 19:if(zn(Zn),k=s.memoizedState,k===null)return Hi(s),null;if(m=(s.flags&128)!==0,K=k.rendering,K===null)if(m)Th(k,!1);else{if(Zr!==0||o!==null&&o.flags&128)for(o=s.child;o!==null;){if(K=Wo(o),K!==null){for(s.flags|=128,Th(k,!1),m=K.updateQueue,m!==null&&(s.updateQueue=m,s.flags|=4),s.subtreeFlags=0,m=c,c=s.child;c!==null;)k=c,o=m,k.flags&=14680066,K=k.alternate,K===null?(k.childLanes=0,k.lanes=o,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=K.childLanes,k.lanes=K.lanes,k.child=K.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=K.memoizedProps,k.memoizedState=K.memoizedState,k.updateQueue=K.updateQueue,k.type=K.type,o=K.dependencies,k.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),c=c.sibling;return Wn(Zn,Zn.current&1|2),s.child}o=o.sibling}k.tail!==null&&bn()>jc&&(s.flags|=128,m=!0,Th(k,!1),s.lanes=4194304)}else{if(!m)if(o=Wo(K),o!==null){if(s.flags|=128,m=!0,c=o.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),Th(k,!0),k.tail===null&&k.tailMode==="hidden"&&!K.alternate&&!Ue)return Hi(s),null}else 2*bn()-k.renderingStartTime>jc&&c!==1073741824&&(s.flags|=128,m=!0,Th(k,!1),s.lanes=4194304);k.isBackwards?(K.sibling=s.child,s.child=K):(c=k.last,c!==null?c.sibling=K:s.child=K,k.last=K)}return k.tail!==null?(s=k.tail,k.rendering=s,k.tail=s.sibling,k.renderingStartTime=bn(),s.sibling=null,c=Zn.current,Wn(Zn,m?c&1|2:c&1),s):(Hi(s),null);case 22:case 23:return vm(),m=s.memoizedState!==null,o!==null&&o.memoizedState!==null!==m&&(s.flags|=8192),m&&s.mode&1?Ko&1073741824&&(Hi(s),s.subtreeFlags&6&&(s.flags|=8192)):Hi(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function Cb(o,s){switch(_e(s),s.tag){case 1:return zi(s.type)&&Ec(),o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 3:return ga(),zn(Ui),zn(Jr),Sh(),o=s.flags,o&65536&&!(o&128)?(s.flags=o&-65537|128,s):null;case 5:return bh(s),null;case 13:if(zn(Zn),o=s.memoizedState,o!==null&&o.dehydrated!==null){if(s.alternate===null)throw Error(t(340));cn()}return o=s.flags,o&65536?(s.flags=o&-65537|128,s):null;case 19:return zn(Zn),null;case 4:return ga(),null;case 10:return qi(s.type._context),null;case 22:case 23:return vm(),null;case 24:return null;default:return null}}var Gf=!1,Wi=!1,Nb=typeof WeakSet=="function"?WeakSet:Set,It=null;function Fc(o,s){var c=o.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(m){Pr(o,s,m)}else c.current=null}function om(o,s,c){try{c()}catch(m){Pr(o,s,m)}}var D1=!1;function Lb(o,s){if(Fu=oa,o=ku(),Hs(o)){if("selectionStart"in o)var c={start:o.selectionStart,end:o.selectionEnd};else e:{c=(c=o.ownerDocument)&&c.defaultView||window;var m=c.getSelection&&c.getSelection();if(m&&m.rangeCount!==0){c=m.anchorNode;var b=m.anchorOffset,k=m.focusNode;m=m.focusOffset;try{c.nodeType,k.nodeType}catch{c=null;break e}var K=0,de=-1,ye=-1,Me=0,et=0,at=o,Ze=null;t:for(;;){for(var St;at!==c||b!==0&&at.nodeType!==3||(de=K+b),at!==k||m!==0&&at.nodeType!==3||(ye=K+m),at.nodeType===3&&(K+=at.nodeValue.length),(St=at.firstChild)!==null;)Ze=at,at=St;for(;;){if(at===o)break t;if(Ze===c&&++Me===b&&(de=K),Ze===k&&++et===m&&(ye=K),(St=at.nextSibling)!==null)break;at=Ze,Ze=at.parentNode}at=St}c=de===-1||ye===-1?null:{start:de,end:ye}}else c=null}c=c||{start:0,end:0}}else c=null;for(Ys={focusedElem:o,selectionRange:c},oa=!1,It=s;It!==null;)if(s=It,o=s.child,(s.subtreeFlags&1028)!==0&&o!==null)o.return=s,It=o;else for(;It!==null;){s=It;try{var kt=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(kt!==null){var Lt=kt.memoizedProps,Dr=kt.memoizedState,Re=s.stateNode,Ee=Re.getSnapshotBeforeUpdate(s.elementType===s.type?Lt:Ha(s.type,Lt),Dr);Re.__reactInternalSnapshotBeforeUpdate=Ee}break;case 3:var Oe=s.stateNode.containerInfo;Oe.nodeType===1?Oe.textContent="":Oe.nodeType===9&&Oe.documentElement&&Oe.removeChild(Oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ft){Pr(s,s.return,ft)}if(o=s.sibling,o!==null){o.return=s.return,It=o;break}It=s.return}return kt=D1,D1=!1,kt}function Ih(o,s,c){var m=s.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var b=m=m.next;do{if((b.tag&o)===o){var k=b.destroy;b.destroy=void 0,k!==void 0&&om(s,c,k)}b=b.next}while(b!==m)}}function Kf(o,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var c=s=s.next;do{if((c.tag&o)===o){var m=c.create;c.destroy=m()}c=c.next}while(c!==s)}}function am(o){var s=o.ref;if(s!==null){var c=o.stateNode;switch(o.tag){case 5:o=c;break;default:o=c}typeof s=="function"?s(o):s.current=o}}function O1(o){var s=o.alternate;s!==null&&(o.alternate=null,O1(s)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(s=o.stateNode,s!==null&&(delete s[pa],delete s[Bl],delete s[Bi],delete s[Hp],delete s[Wp])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function F1(o){return o.tag===5||o.tag===3||o.tag===4}function M1(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||F1(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function sm(o,s,c){var m=o.tag;if(m===5||m===6)o=o.stateNode,s?c.nodeType===8?c.parentNode.insertBefore(o,s):c.insertBefore(o,s):(c.nodeType===8?(s=c.parentNode,s.insertBefore(o,c)):(s=c,s.appendChild(o)),c=c._reactRootContainer,c!=null||s.onclick!==null||(s.onclick=Vl));else if(m!==4&&(o=o.child,o!==null))for(sm(o,s,c),o=o.sibling;o!==null;)sm(o,s,c),o=o.sibling}function lm(o,s,c){var m=o.tag;if(m===5||m===6)o=o.stateNode,s?c.insertBefore(o,s):c.appendChild(o);else if(m!==4&&(o=o.child,o!==null))for(lm(o,s,c),o=o.sibling;o!==null;)lm(o,s,c),o=o.sibling}var ki=null,Wa=!1;function Ql(o,s,c){for(c=c.child;c!==null;)j1(o,s,c),c=c.sibling}function j1(o,s,c){if(Vr&&typeof Vr.onCommitFiberUnmount=="function")try{Vr.onCommitFiberUnmount(qr,c)}catch{}switch(c.tag){case 5:Wi||Fc(c,s);case 6:var m=ki,b=Wa;ki=null,Ql(o,s,c),ki=m,Wa=b,ki!==null&&(Wa?(o=ki,c=c.stateNode,o.nodeType===8?o.parentNode.removeChild(c):o.removeChild(c)):ki.removeChild(c.stateNode));break;case 18:ki!==null&&(Wa?(o=ki,c=c.stateNode,o.nodeType===8?vh(o.parentNode,c):o.nodeType===1&&vh(o,c),Kr(o)):vh(ki,c.stateNode));break;case 4:m=ki,b=Wa,ki=c.stateNode.containerInfo,Wa=!0,Ql(o,s,c),ki=m,Wa=b;break;case 0:case 11:case 14:case 15:if(!Wi&&(m=c.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){b=m=m.next;do{var k=b,K=k.destroy;k=k.tag,K!==void 0&&(k&2||k&4)&&om(c,s,K),b=b.next}while(b!==m)}Ql(o,s,c);break;case 1:if(!Wi&&(Fc(c,s),m=c.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=c.memoizedProps,m.state=c.memoizedState,m.componentWillUnmount()}catch(de){Pr(c,s,de)}Ql(o,s,c);break;case 21:Ql(o,s,c);break;case 22:c.mode&1?(Wi=(m=Wi)||c.memoizedState!==null,Ql(o,s,c),Wi=m):Ql(o,s,c);break;default:Ql(o,s,c)}}function V1(o){var s=o.updateQueue;if(s!==null){o.updateQueue=null;var c=o.stateNode;c===null&&(c=o.stateNode=new Nb),s.forEach(function(m){var b=Ub.bind(null,o,m);c.has(m)||(c.add(m),m.then(b,b))})}}function $a(o,s){var c=s.deletions;if(c!==null)for(var m=0;m<c.length;m++){var b=c[m];try{var k=o,K=s,de=K;e:for(;de!==null;){switch(de.tag){case 5:ki=de.stateNode,Wa=!1;break e;case 3:ki=de.stateNode.containerInfo,Wa=!0;break e;case 4:ki=de.stateNode.containerInfo,Wa=!0;break e}de=de.return}if(ki===null)throw Error(t(160));j1(k,K,b),ki=null,Wa=!1;var ye=b.alternate;ye!==null&&(ye.return=null),b.return=null}catch(Me){Pr(b,s,Me)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)B1(s,o),s=s.sibling}function B1(o,s){var c=o.alternate,m=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if($a(s,o),bs(o),m&4){try{Ih(3,o,o.return),Kf(3,o)}catch(Lt){Pr(o,o.return,Lt)}try{Ih(5,o,o.return)}catch(Lt){Pr(o,o.return,Lt)}}break;case 1:$a(s,o),bs(o),m&512&&c!==null&&Fc(c,c.return);break;case 5:if($a(s,o),bs(o),m&512&&c!==null&&Fc(c,c.return),o.flags&32){var b=o.stateNode;try{Nt(b,"")}catch(Lt){Pr(o,o.return,Lt)}}if(m&4&&(b=o.stateNode,b!=null)){var k=o.memoizedProps,K=c!==null?c.memoizedProps:k,de=o.type,ye=o.updateQueue;if(o.updateQueue=null,ye!==null)try{de==="input"&&k.type==="radio"&&k.name!=null&&fe(b,k),gr(de,K);var Me=gr(de,k);for(K=0;K<ye.length;K+=2){var et=ye[K],at=ye[K+1];et==="style"?ur(b,at):et==="dangerouslySetInnerHTML"?Rt(b,at):et==="children"?Nt(b,at):B(b,et,at,Me)}switch(de){case"input":Ft(b,k);break;case"textarea":qe(b,k);break;case"select":var Ze=b._wrapperState.wasMultiple;b._wrapperState.wasMultiple=!!k.multiple;var St=k.value;St!=null?lt(b,!!k.multiple,St,!1):Ze!==!!k.multiple&&(k.defaultValue!=null?lt(b,!!k.multiple,k.defaultValue,!0):lt(b,!!k.multiple,k.multiple?[]:"",!1))}b[Bl]=k}catch(Lt){Pr(o,o.return,Lt)}}break;case 6:if($a(s,o),bs(o),m&4){if(o.stateNode===null)throw Error(t(162));b=o.stateNode,k=o.memoizedProps;try{b.nodeValue=k}catch(Lt){Pr(o,o.return,Lt)}}break;case 3:if($a(s,o),bs(o),m&4&&c!==null&&c.memoizedState.isDehydrated)try{Kr(s.containerInfo)}catch(Lt){Pr(o,o.return,Lt)}break;case 4:$a(s,o),bs(o);break;case 13:$a(s,o),bs(o),b=o.child,b.flags&8192&&(k=b.memoizedState!==null,b.stateNode.isHidden=k,!k||b.alternate!==null&&b.alternate.memoizedState!==null||(hm=bn())),m&4&&V1(o);break;case 22:if(et=c!==null&&c.memoizedState!==null,o.mode&1?(Wi=(Me=Wi)||et,$a(s,o),Wi=Me):$a(s,o),bs(o),m&8192){if(Me=o.memoizedState!==null,(o.stateNode.isHidden=Me)&&!et&&o.mode&1)for(It=o,et=o.child;et!==null;){for(at=It=et;It!==null;){switch(Ze=It,St=Ze.child,Ze.tag){case 0:case 11:case 14:case 15:Ih(4,Ze,Ze.return);break;case 1:Fc(Ze,Ze.return);var kt=Ze.stateNode;if(typeof kt.componentWillUnmount=="function"){m=Ze,c=Ze.return;try{s=m,kt.props=s.memoizedProps,kt.state=s.memoizedState,kt.componentWillUnmount()}catch(Lt){Pr(m,c,Lt)}}break;case 5:Fc(Ze,Ze.return);break;case 22:if(Ze.memoizedState!==null){q1(at);continue}}St!==null?(St.return=Ze,It=St):q1(at)}et=et.sibling}e:for(et=null,at=o;;){if(at.tag===5){if(et===null){et=at;try{b=at.stateNode,Me?(k=b.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(de=at.stateNode,ye=at.memoizedProps.style,K=ye!=null&&ye.hasOwnProperty("display")?ye.display:null,de.style.display=nn("display",K))}catch(Lt){Pr(o,o.return,Lt)}}}else if(at.tag===6){if(et===null)try{at.stateNode.nodeValue=Me?"":at.memoizedProps}catch(Lt){Pr(o,o.return,Lt)}}else if((at.tag!==22&&at.tag!==23||at.memoizedState===null||at===o)&&at.child!==null){at.child.return=at,at=at.child;continue}if(at===o)break e;for(;at.sibling===null;){if(at.return===null||at.return===o)break e;et===at&&(et=null),at=at.return}et===at&&(et=null),at.sibling.return=at.return,at=at.sibling}}break;case 19:$a(s,o),bs(o),m&4&&V1(o);break;case 21:break;default:$a(s,o),bs(o)}}function bs(o){var s=o.flags;if(s&2){try{e:{for(var c=o.return;c!==null;){if(F1(c)){var m=c;break e}c=c.return}throw Error(t(160))}switch(m.tag){case 5:var b=m.stateNode;m.flags&32&&(Nt(b,""),m.flags&=-33);var k=M1(o);lm(o,k,b);break;case 3:case 4:var K=m.stateNode.containerInfo,de=M1(o);sm(o,de,K);break;default:throw Error(t(161))}}catch(ye){Pr(o,o.return,ye)}o.flags&=-3}s&4096&&(o.flags&=-4097)}function Rb(o,s,c){It=o,U1(o)}function U1(o,s,c){for(var m=(o.mode&1)!==0;It!==null;){var b=It,k=b.child;if(b.tag===22&&m){var K=b.memoizedState!==null||Gf;if(!K){var de=b.alternate,ye=de!==null&&de.memoizedState!==null||Wi;de=Gf;var Me=Wi;if(Gf=K,(Wi=ye)&&!Me)for(It=b;It!==null;)K=It,ye=K.child,K.tag===22&&K.memoizedState!==null?H1(b):ye!==null?(ye.return=K,It=ye):H1(b);for(;k!==null;)It=k,U1(k),k=k.sibling;It=b,Gf=de,Wi=Me}z1(o)}else b.subtreeFlags&8772&&k!==null?(k.return=b,It=k):z1(o)}}function z1(o){for(;It!==null;){var s=It;if(s.flags&8772){var c=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Wi||Kf(5,s);break;case 1:var m=s.stateNode;if(s.flags&4&&!Wi)if(c===null)m.componentDidMount();else{var b=s.elementType===s.type?c.memoizedProps:Ha(s.type,c.memoizedProps);m.componentDidUpdate(b,c.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var k=s.updateQueue;k!==null&&tl(s,k,m);break;case 3:var K=s.updateQueue;if(K!==null){if(c=null,s.child!==null)switch(s.child.tag){case 5:c=s.child.stateNode;break;case 1:c=s.child.stateNode}tl(s,K,c)}break;case 5:var de=s.stateNode;if(c===null&&s.flags&4){c=de;var ye=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":ye.autoFocus&&c.focus();break;case"img":ye.src&&(c.src=ye.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Me=s.alternate;if(Me!==null){var et=Me.memoizedState;if(et!==null){var at=et.dehydrated;at!==null&&Kr(at)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Wi||s.flags&512&&am(s)}catch(Ze){Pr(s,s.return,Ze)}}if(s===o){It=null;break}if(c=s.sibling,c!==null){c.return=s.return,It=c;break}It=s.return}}function q1(o){for(;It!==null;){var s=It;if(s===o){It=null;break}var c=s.sibling;if(c!==null){c.return=s.return,It=c;break}It=s.return}}function H1(o){for(;It!==null;){var s=It;try{switch(s.tag){case 0:case 11:case 15:var c=s.return;try{Kf(4,s)}catch(ye){Pr(s,c,ye)}break;case 1:var m=s.stateNode;if(typeof m.componentDidMount=="function"){var b=s.return;try{m.componentDidMount()}catch(ye){Pr(s,b,ye)}}var k=s.return;try{am(s)}catch(ye){Pr(s,k,ye)}break;case 5:var K=s.return;try{am(s)}catch(ye){Pr(s,K,ye)}}}catch(ye){Pr(s,s.return,ye)}if(s===o){It=null;break}var de=s.sibling;if(de!==null){de.return=s.return,It=de;break}It=s.return}}var Db=Math.ceil,Qf=$.ReactCurrentDispatcher,um=$.ReactCurrentOwner,wa=$.ReactCurrentBatchConfig,Nn=0,di=null,Br=null,Ci=0,Ko=0,Mc=Ho(0),Zr=0,Ph=null,zu=0,Yf=0,cm=0,kh=null,ko=null,hm=0,jc=1/0,il=null,Jf=!1,fm=null,Yl=null,Xf=!1,Jl=null,Zf=0,Ch=0,dm=null,ed=-1,td=0;function po(){return Nn&6?bn():ed!==-1?ed:ed=bn()}function Xl(o){return o.mode&1?Nn&2&&Ci!==0?Ci&-Ci:$n.transition!==null?(td===0&&(td=na()),td):(o=pn,o!==0||(o=window.event,o=o===void 0?16:ls(o.type)),o):1}function Ga(o,s,c,m){if(50<Ch)throw Ch=0,dm=null,Error(t(185));Fo(o,c,m),(!(Nn&2)||o!==di)&&(o===di&&(!(Nn&2)&&(Yf|=c),Zr===4&&Zl(o,Ci)),Co(o,m),c===1&&Nn===0&&!(s.mode&1)&&(jc=bn()+500,ju&&L()))}function Co(o,s){var c=o.callbackNode;hr(o,s);var m=Wr(o,o===di?Ci:0);if(m===0)c!==null&&Di(c),o.callbackNode=null,o.callbackPriority=0;else if(s=m&-m,o.callbackPriority!==s){if(c!=null&&Di(c),s===1)o.tag===0?S($1.bind(null,o)):g($1.bind(null,o)),zp(function(){!(Nn&6)&&L()}),c=null;else{switch(mo(m)){case 1:c=hn;break;case 4:c=Hn;break;case 16:c=Cr;break;case 536870912:c=Kn;break;default:c=Cr}c=e0(c,W1.bind(null,o))}o.callbackPriority=s,o.callbackNode=c}}function W1(o,s){if(ed=-1,td=0,Nn&6)throw Error(t(327));var c=o.callbackNode;if(Vc()&&o.callbackNode!==c)return null;var m=Wr(o,o===di?Ci:0);if(m===0)return null;if(m&30||m&o.expiredLanes||s)s=nd(o,m);else{s=m;var b=Nn;Nn|=2;var k=K1();(di!==o||Ci!==s)&&(il=null,jc=bn()+500,Hu(o,s));do try{Mb();break}catch(de){G1(o,de)}while(!0);Xr(),Qf.current=k,Nn=b,Br!==null?s=0:(di=null,Ci=0,s=Zr)}if(s!==0){if(s===2&&(b=$r(o),b!==0&&(m=b,s=pm(o,b))),s===1)throw c=Ph,Hu(o,0),Zl(o,m),Co(o,bn()),c;if(s===6)Zl(o,m);else{if(b=o.current.alternate,!(m&30)&&!Ob(b)&&(s=nd(o,m),s===2&&(k=$r(o),k!==0&&(m=k,s=pm(o,k))),s===1))throw c=Ph,Hu(o,0),Zl(o,m),Co(o,bn()),c;switch(o.finishedWork=b,o.finishedLanes=m,s){case 0:case 1:throw Error(t(345));case 2:Wu(o,ko,il);break;case 3:if(Zl(o,m),(m&130023424)===m&&(s=hm+500-bn(),10<s)){if(Wr(o,0)!==0)break;if(b=o.suspendedLanes,(b&m)!==m){po(),o.pingedLanes|=o.suspendedLanes&b;break}o.timeoutHandle=gh(Wu.bind(null,o,ko,il),s);break}Wu(o,ko,il);break;case 4:if(Zl(o,m),(m&4194240)===m)break;for(s=o.eventTimes,b=-1;0<m;){var K=31-Hr(m);k=1<<K,K=s[K],K>b&&(b=K),m&=~k}if(m=b,m=bn()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*Db(m/1960))-m,10<m){o.timeoutHandle=gh(Wu.bind(null,o,ko,il),m);break}Wu(o,ko,il);break;case 5:Wu(o,ko,il);break;default:throw Error(t(329))}}}return Co(o,bn()),o.callbackNode===c?W1.bind(null,o):null}function pm(o,s){var c=kh;return o.current.memoizedState.isDehydrated&&(Hu(o,s).flags|=256),o=nd(o,s),o!==2&&(s=ko,ko=c,s!==null&&mm(s)),o}function mm(o){ko===null?ko=o:ko.push.apply(ko,o)}function Ob(o){for(var s=o;;){if(s.flags&16384){var c=s.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var m=0;m<c.length;m++){var b=c[m],k=b.getSnapshot;b=b.value;try{if(!Cn(k(),b))return!1}catch{return!1}}}if(c=s.child,s.subtreeFlags&16384&&c!==null)c.return=s,s=c;else{if(s===o)break;for(;s.sibling===null;){if(s.return===null||s.return===o)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Zl(o,s){for(s&=~cm,s&=~Yf,o.suspendedLanes|=s,o.pingedLanes&=~s,o=o.expirationTimes;0<s;){var c=31-Hr(s),m=1<<c;o[c]=-1,s&=~m}}function $1(o){if(Nn&6)throw Error(t(327));Vc();var s=Wr(o,0);if(!(s&1))return Co(o,bn()),null;var c=nd(o,s);if(o.tag!==0&&c===2){var m=$r(o);m!==0&&(s=m,c=pm(o,m))}if(c===1)throw c=Ph,Hu(o,0),Zl(o,s),Co(o,bn()),c;if(c===6)throw Error(t(345));return o.finishedWork=o.current.alternate,o.finishedLanes=s,Wu(o,ko,il),Co(o,bn()),null}function gm(o,s){var c=Nn;Nn|=1;try{return o(s)}finally{Nn=c,Nn===0&&(jc=bn()+500,ju&&L())}}function qu(o){Jl!==null&&Jl.tag===0&&!(Nn&6)&&Vc();var s=Nn;Nn|=1;var c=wa.transition,m=pn;try{if(wa.transition=null,pn=1,o)return o()}finally{pn=m,wa.transition=c,Nn=s,!(Nn&6)&&L()}}function vm(){Ko=Mc.current,zn(Mc)}function Hu(o,s){o.finishedWork=null,o.finishedLanes=0;var c=o.timeoutHandle;if(c!==-1&&(o.timeoutHandle=-1,Df(c)),Br!==null)for(c=Br.return;c!==null;){var m=c;switch(_e(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Ec();break;case 3:ga(),zn(Ui),zn(Jr),Sh();break;case 5:bh(m);break;case 4:ga();break;case 13:zn(Zn);break;case 19:zn(Zn);break;case 10:qi(m.type._context);break;case 22:case 23:vm()}c=c.return}if(di=o,Br=o=eu(o.current,null),Ci=Ko=s,Zr=0,Ph=null,cm=Yf=zu=0,ko=kh=null,lo!==null){for(s=0;s<lo.length;s++)if(c=lo[s],m=c.interleaved,m!==null){c.interleaved=null;var b=m.next,k=c.pending;if(k!==null){var K=k.next;k.next=b,m.next=K}c.pending=m}lo=null}return o}function G1(o,s){do{var c=Br;try{if(Xr(),Tc.current=qf,$l){for(var m=rr.memoizedState;m!==null;){var b=m.queue;b!==null&&(b.pending=null),m=m.next}$l=!1}if(va=0,_r=Ir=rr=null,za=!1,Gl=0,um.current=null,c===null||c.return===null){Zr=1,Ph=s,Br=null;break}e:{var k=o,K=c.return,de=c,ye=s;if(s=Ci,de.flags|=32768,ye!==null&&typeof ye=="object"&&typeof ye.then=="function"){var Me=ye,et=de,at=et.tag;if(!(et.mode&1)&&(at===0||at===11||at===15)){var Ze=et.alternate;Ze?(et.updateQueue=Ze.updateQueue,et.memoizedState=Ze.memoizedState,et.lanes=Ze.lanes):(et.updateQueue=null,et.memoizedState=null)}var St=y1(K);if(St!==null){St.flags&=-257,w1(St,K,de,k,s),St.mode&1&&v1(k,Me,s),s=St,ye=Me;var kt=s.updateQueue;if(kt===null){var Lt=new Set;Lt.add(ye),s.updateQueue=Lt}else kt.add(ye);break e}else{if(!(s&1)){v1(k,Me,s),ym();break e}ye=Error(t(426))}}else if(Ue&&de.mode&1){var Dr=y1(K);if(Dr!==null){!(Dr.flags&65536)&&(Dr.flags|=256),w1(Dr,K,de,k,s),qn(Oc(ye,de));break e}}k=ye=Oc(ye,de),Zr!==4&&(Zr=2),kh===null?kh=[k]:kh.push(k),k=K;do{switch(k.tag){case 3:k.flags|=65536,s&=-s,k.lanes|=s;var Re=m1(k,ye,s);Io(k,Re);break e;case 1:de=ye;var Ee=k.type,Oe=k.stateNode;if(!(k.flags&128)&&(typeof Ee.getDerivedStateFromError=="function"||Oe!==null&&typeof Oe.componentDidCatch=="function"&&(Yl===null||!Yl.has(Oe)))){k.flags|=65536,s&=-s,k.lanes|=s;var ft=g1(k,de,s);Io(k,ft);break e}}k=k.return}while(k!==null)}Y1(c)}catch(Ot){s=Ot,Br===c&&c!==null&&(Br=c=c.return);continue}break}while(!0)}function K1(){var o=Qf.current;return Qf.current=qf,o===null?qf:o}function ym(){(Zr===0||Zr===3||Zr===2)&&(Zr=4),di===null||!(zu&268435455)&&!(Yf&268435455)||Zl(di,Ci)}function nd(o,s){var c=Nn;Nn|=2;var m=K1();(di!==o||Ci!==s)&&(il=null,Hu(o,s));do try{Fb();break}catch(b){G1(o,b)}while(!0);if(Xr(),Nn=c,Qf.current=m,Br!==null)throw Error(t(261));return di=null,Ci=0,Zr}function Fb(){for(;Br!==null;)Q1(Br)}function Mb(){for(;Br!==null&&!yi();)Q1(Br)}function Q1(o){var s=Z1(o.alternate,o,Ko);o.memoizedProps=o.pendingProps,s===null?Y1(o):Br=s,um.current=null}function Y1(o){var s=o;do{var c=s.alternate;if(o=s.return,s.flags&32768){if(c=Cb(c,s),c!==null){c.flags&=32767,Br=c;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{Zr=6,Br=null;return}}else if(c=kb(c,s,Ko),c!==null){Br=c;return}if(s=s.sibling,s!==null){Br=s;return}Br=s=o}while(s!==null);Zr===0&&(Zr=5)}function Wu(o,s,c){var m=pn,b=wa.transition;try{wa.transition=null,pn=1,jb(o,s,c,m)}finally{wa.transition=b,pn=m}return null}function jb(o,s,c,m){do Vc();while(Jl!==null);if(Nn&6)throw Error(t(327));c=o.finishedWork;var b=o.finishedLanes;if(c===null)return null;if(o.finishedWork=null,o.finishedLanes=0,c===o.current)throw Error(t(177));o.callbackNode=null,o.callbackPriority=0;var k=c.lanes|c.childLanes;if(Vn(o,k),o===di&&(Br=di=null,Ci=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||Xf||(Xf=!0,e0(Cr,function(){return Vc(),null})),k=(c.flags&15990)!==0,c.subtreeFlags&15990||k){k=wa.transition,wa.transition=null;var K=pn;pn=1;var de=Nn;Nn|=4,um.current=null,Lb(o,c),B1(c,o),Ws(Ys),oa=!!Fu,Ys=Fu=null,o.current=c,Rb(c),Oi(),Nn=de,pn=K,wa.transition=k}else o.current=c;if(Xf&&(Xf=!1,Jl=o,Zf=b),k=o.pendingLanes,k===0&&(Yl=null),Oo(c.stateNode),Co(o,bn()),s!==null)for(m=o.onRecoverableError,c=0;c<s.length;c++)b=s[c],m(b.value,{componentStack:b.stack,digest:b.digest});if(Jf)throw Jf=!1,o=fm,fm=null,o;return Zf&1&&o.tag!==0&&Vc(),k=o.pendingLanes,k&1?o===dm?Ch++:(Ch=0,dm=o):Ch=0,L(),null}function Vc(){if(Jl!==null){var o=mo(Zf),s=wa.transition,c=pn;try{if(wa.transition=null,pn=16>o?16:o,Jl===null)var m=!1;else{if(o=Jl,Jl=null,Zf=0,Nn&6)throw Error(t(331));var b=Nn;for(Nn|=4,It=o.current;It!==null;){var k=It,K=k.child;if(It.flags&16){var de=k.deletions;if(de!==null){for(var ye=0;ye<de.length;ye++){var Me=de[ye];for(It=Me;It!==null;){var et=It;switch(et.tag){case 0:case 11:case 15:Ih(8,et,k)}var at=et.child;if(at!==null)at.return=et,It=at;else for(;It!==null;){et=It;var Ze=et.sibling,St=et.return;if(O1(et),et===Me){It=null;break}if(Ze!==null){Ze.return=St,It=Ze;break}It=St}}}var kt=k.alternate;if(kt!==null){var Lt=kt.child;if(Lt!==null){kt.child=null;do{var Dr=Lt.sibling;Lt.sibling=null,Lt=Dr}while(Lt!==null)}}It=k}}if(k.subtreeFlags&2064&&K!==null)K.return=k,It=K;else e:for(;It!==null;){if(k=It,k.flags&2048)switch(k.tag){case 0:case 11:case 15:Ih(9,k,k.return)}var Re=k.sibling;if(Re!==null){Re.return=k.return,It=Re;break e}It=k.return}}var Ee=o.current;for(It=Ee;It!==null;){K=It;var Oe=K.child;if(K.subtreeFlags&2064&&Oe!==null)Oe.return=K,It=Oe;else e:for(K=Ee;It!==null;){if(de=It,de.flags&2048)try{switch(de.tag){case 0:case 11:case 15:Kf(9,de)}}catch(Ot){Pr(de,de.return,Ot)}if(de===K){It=null;break e}var ft=de.sibling;if(ft!==null){ft.return=de.return,It=ft;break e}It=de.return}}if(Nn=b,L(),Vr&&typeof Vr.onPostCommitFiberRoot=="function")try{Vr.onPostCommitFiberRoot(qr,o)}catch{}m=!0}return m}finally{pn=c,wa.transition=s}}return!1}function J1(o,s,c){s=Oc(c,s),s=m1(o,s,1),o=To(o,s,1),s=po(),o!==null&&(Fo(o,1,s),Co(o,s))}function Pr(o,s,c){if(o.tag===3)J1(o,o,c);else for(;s!==null;){if(s.tag===3){J1(s,o,c);break}else if(s.tag===1){var m=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(Yl===null||!Yl.has(m))){o=Oc(c,o),o=g1(s,o,1),s=To(s,o,1),o=po(),s!==null&&(Fo(s,1,o),Co(s,o));break}}s=s.return}}function Vb(o,s,c){var m=o.pingCache;m!==null&&m.delete(s),s=po(),o.pingedLanes|=o.suspendedLanes&c,di===o&&(Ci&c)===c&&(Zr===4||Zr===3&&(Ci&130023424)===Ci&&500>bn()-hm?Hu(o,0):cm|=c),Co(o,s)}function X1(o,s){s===0&&(o.mode&1?(s=ea,ea<<=1,!(ea&130023424)&&(ea=4194304)):s=1);var c=po();o=Fn(o,s),o!==null&&(Fo(o,s,c),Co(o,c))}function Bb(o){var s=o.memoizedState,c=0;s!==null&&(c=s.retryLane),X1(o,c)}function Ub(o,s){var c=0;switch(o.tag){case 13:var m=o.stateNode,b=o.memoizedState;b!==null&&(c=b.retryLane);break;case 19:m=o.stateNode;break;default:throw Error(t(314))}m!==null&&m.delete(s),X1(o,c)}var Z1;Z1=function(o,s,c){if(o!==null)if(o.memoizedProps!==s.pendingProps||Ui.current)Po=!0;else{if(!(o.lanes&c)&&!(s.flags&128))return Po=!1,Pb(o,s,c);Po=!!(o.flags&131072)}else Po=!1,Ue&&s.flags&1048576&&$e(s,Y,s.index);switch(s.lanes=0,s.tag){case 2:var m=s.type;$f(o,s),o=s.pendingProps;var b=zl(s,Jr.current);sr(s,c),b=Vu(null,s,m,o,b,c);var k=ya();return s.flags|=1,typeof b=="object"&&b!==null&&typeof b.render=="function"&&b.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,zi(m)?(k=!0,Zs(s)):k=!1,s.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,Ac(s),b.updater=Hf,s.stateNode=b,b._reactInternals=s,Qp(s,m,o,c),s=Zp(null,s,m,!0,k,c)):(s.tag=0,Ue&&k&&je(s),fo(null,s,b,c),s=s.child),s;case 16:m=s.elementType;e:{switch($f(o,s),o=s.pendingProps,b=m._init,m=b(m._payload),s.type=m,b=s.tag=qb(m),o=Ha(m,o),b){case 0:s=Xp(null,s,m,o,c);break e;case 1:s=A1(null,s,m,o,c);break e;case 11:s=_1(null,s,m,o,c);break e;case 14:s=b1(null,s,m,Ha(m.type,o),c);break e}throw Error(t(306,m,""))}return s;case 0:return m=s.type,b=s.pendingProps,b=s.elementType===m?b:Ha(m,b),Xp(o,s,m,b,c);case 1:return m=s.type,b=s.pendingProps,b=s.elementType===m?b:Ha(m,b),A1(o,s,m,b,c);case 3:e:{if(T1(s),o===null)throw Error(t(387));m=s.pendingProps,k=s.memoizedState,b=k.element,_h(o,s),Ba(s,m,null,c);var K=s.memoizedState;if(m=K.element,k.isDehydrated)if(k={element:m,isDehydrated:!1,cache:K.cache,pendingSuspenseBoundaries:K.pendingSuspenseBoundaries,transitions:K.transitions},s.updateQueue.baseState=k,s.memoizedState=k,s.flags&256){b=Oc(Error(t(423)),s),s=I1(o,s,m,c,b);break e}else if(m!==b){b=Oc(Error(t(424)),s),s=I1(o,s,m,c,b);break e}else for(ze=Ii(s.stateNode.containerInfo.firstChild),be=s,Ue=!0,He=null,c=On(s,null,m,c),s.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(cn(),m===b){s=rl(o,s,c);break e}fo(o,s,m,c)}s=s.child}return s;case 5:return jf(s),o===null&&yt(s),m=s.type,b=s.pendingProps,k=o!==null?o.memoizedProps:null,K=b.children,mh(m,b)?K=null:k!==null&&mh(m,k)&&(s.flags|=32),E1(o,s),fo(o,s,K,c),s.child;case 6:return o===null&&yt(s),null;case 13:return P1(o,s,c);case 4:return Wl(s,s.stateNode.containerInfo),m=s.pendingProps,o===null?s.child=Nr(s,null,m,c):fo(o,s,m,c),s.child;case 11:return m=s.type,b=s.pendingProps,b=s.elementType===m?b:Ha(m,b),_1(o,s,m,b,c);case 7:return fo(o,s,s.pendingProps,c),s.child;case 8:return fo(o,s,s.pendingProps.children,c),s.child;case 12:return fo(o,s,s.pendingProps.children,c),s.child;case 10:e:{if(m=s.type._context,b=s.pendingProps,k=s.memoizedProps,K=b.value,Wn(hi,m._currentValue),m._currentValue=K,k!==null)if(Cn(k.value,K)){if(k.children===b.children&&!Ui.current){s=rl(o,s,c);break e}}else for(k=s.child,k!==null&&(k.return=s);k!==null;){var de=k.dependencies;if(de!==null){K=k.child;for(var ye=de.firstContext;ye!==null;){if(ye.context===m){if(k.tag===1){ye=Ao(-1,c&-c),ye.tag=2;var Me=k.updateQueue;if(Me!==null){Me=Me.shared;var et=Me.pending;et===null?ye.next=ye:(ye.next=et.next,et.next=ye),Me.pending=ye}}k.lanes|=c,ye=k.alternate,ye!==null&&(ye.lanes|=c),Eo(k.return,c,s),de.lanes|=c;break}ye=ye.next}}else if(k.tag===10)K=k.type===s.type?null:k.child;else if(k.tag===18){if(K=k.return,K===null)throw Error(t(341));K.lanes|=c,de=K.alternate,de!==null&&(de.lanes|=c),Eo(K,c,s),K=k.sibling}else K=k.child;if(K!==null)K.return=k;else for(K=k;K!==null;){if(K===s){K=null;break}if(k=K.sibling,k!==null){k.return=K.return,K=k;break}K=K.return}k=K}fo(o,s,b.children,c),s=s.child}return s;case 9:return b=s.type,m=s.pendingProps.children,sr(s,c),b=Tr(b),m=m(b),s.flags|=1,fo(o,s,m,c),s.child;case 14:return m=s.type,b=Ha(m,s.pendingProps),b=Ha(m.type,b),b1(o,s,m,b,c);case 15:return x1(o,s,s.type,s.pendingProps,c);case 17:return m=s.type,b=s.pendingProps,b=s.elementType===m?b:Ha(m,b),$f(o,s),s.tag=1,zi(m)?(o=!0,Zs(s)):o=!1,sr(s,c),d1(s,m,b),Qp(s,m,b,c),Zp(null,s,m,!0,o,c);case 19:return C1(o,s,c);case 22:return S1(o,s,c)}throw Error(t(156,s.tag))};function e0(o,s){return cr(o,s)}function zb(o,s,c,m){this.tag=o,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _a(o,s,c,m){return new zb(o,s,c,m)}function wm(o){return o=o.prototype,!(!o||!o.isReactComponent)}function qb(o){if(typeof o=="function")return wm(o)?1:0;if(o!=null){if(o=o.$$typeof,o===P)return 11;if(o===pe)return 14}return 2}function eu(o,s){var c=o.alternate;return c===null?(c=_a(o.tag,s,o.key,o.mode),c.elementType=o.elementType,c.type=o.type,c.stateNode=o.stateNode,c.alternate=o,o.alternate=c):(c.pendingProps=s,c.type=o.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=o.flags&14680064,c.childLanes=o.childLanes,c.lanes=o.lanes,c.child=o.child,c.memoizedProps=o.memoizedProps,c.memoizedState=o.memoizedState,c.updateQueue=o.updateQueue,s=o.dependencies,c.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},c.sibling=o.sibling,c.index=o.index,c.ref=o.ref,c}function rd(o,s,c,m,b,k){var K=2;if(m=o,typeof o=="function")wm(o)&&(K=1);else if(typeof o=="string")K=5;else e:switch(o){case D:return $u(c.children,b,k,s);case A:K=8,b|=8;break;case M:return o=_a(12,c,s,b|2),o.elementType=M,o.lanes=k,o;case F:return o=_a(13,c,s,b),o.elementType=F,o.lanes=k,o;case X:return o=_a(19,c,s,b),o.elementType=X,o.lanes=k,o;case oe:return id(c,b,k,s);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case U:K=10;break e;case I:K=9;break e;case P:K=11;break e;case pe:K=14;break e;case ae:K=16,m=null;break e}throw Error(t(130,o==null?o:typeof o,""))}return s=_a(K,c,s,b),s.elementType=o,s.type=m,s.lanes=k,s}function $u(o,s,c,m){return o=_a(7,o,m,s),o.lanes=c,o}function id(o,s,c,m){return o=_a(22,o,m,s),o.elementType=oe,o.lanes=c,o.stateNode={isHidden:!1},o}function _m(o,s,c){return o=_a(6,o,null,s),o.lanes=c,o}function bm(o,s,c){return s=_a(4,o.children!==null?o.children:[],o.key,s),s.lanes=c,s.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},s}function Hb(o,s,c,m,b){this.tag=s,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ra(0),this.expirationTimes=ra(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ra(0),this.identifierPrefix=m,this.onRecoverableError=b,this.mutableSourceEagerHydrationData=null}function xm(o,s,c,m,b,k,K,de,ye){return o=new Hb(o,s,c,de,ye),s===1?(s=1,k===!0&&(s|=8)):s=0,k=_a(3,null,null,s),o.current=k,k.stateNode=o,k.memoizedState={element:m,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ac(k),o}function Wb(o,s,c){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ie,key:m==null?null:""+m,children:o,containerInfo:s,implementation:c}}function t0(o){if(!o)return vs;o=o._reactInternals;e:{if(Jt(o)!==o||o.tag!==1)throw Error(t(170));var s=o;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(zi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(o.tag===1){var c=o.type;if(zi(c))return wh(o,c,s)}return s}function n0(o,s,c,m,b,k,K,de,ye){return o=xm(c,m,!0,o,b,k,K,de,ye),o.context=t0(null),c=o.current,m=po(),b=Xl(c),k=Ao(m,b),k.callback=s??null,To(c,k,b),o.current.lanes=b,Fo(o,b,m),Co(o,m),o}function od(o,s,c,m){var b=s.current,k=po(),K=Xl(b);return c=t0(c),s.context===null?s.context=c:s.pendingContext=c,s=Ao(k,K),s.payload={element:o},m=m===void 0?null:m,m!==null&&(s.callback=m),o=To(b,s,K),o!==null&&(Ga(o,b,K,k),el(o,b,K)),K}function ad(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function r0(o,s){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var c=o.retryLane;o.retryLane=c!==0&&c<s?c:s}}function Sm(o,s){r0(o,s),(o=o.alternate)&&r0(o,s)}function $b(){return null}var i0=typeof reportError=="function"?reportError:function(o){console.error(o)};function Em(o){this._internalRoot=o}sd.prototype.render=Em.prototype.render=function(o){var s=this._internalRoot;if(s===null)throw Error(t(409));od(o,s,null,null)},sd.prototype.unmount=Em.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var s=o.containerInfo;qu(function(){od(null,o,null,null)}),s[ci]=null}};function sd(o){this._internalRoot=o}sd.prototype.unstable_scheduleHydration=function(o){if(o){var s=go();o={blockedOn:null,target:o,priority:s};for(var c=0;c<vo.length&&s!==0&&s<vo[c].priority;c++);vo.splice(c,0,o),c===0&&ss(o)}};function Am(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function ld(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function o0(){}function Gb(o,s,c,m,b){if(b){if(typeof m=="function"){var k=m;m=function(){var Me=ad(K);k.call(Me)}}var K=n0(s,m,o,0,null,!1,!1,"",o0);return o._reactRootContainer=K,o[ci]=K.current,Ks(o.nodeType===8?o.parentNode:o),qu(),K}for(;b=o.lastChild;)o.removeChild(b);if(typeof m=="function"){var de=m;m=function(){var Me=ad(ye);de.call(Me)}}var ye=xm(o,0,!1,null,null,!1,!1,"",o0);return o._reactRootContainer=ye,o[ci]=ye.current,Ks(o.nodeType===8?o.parentNode:o),qu(function(){od(s,ye,c,m)}),ye}function ud(o,s,c,m,b){var k=c._reactRootContainer;if(k){var K=k;if(typeof b=="function"){var de=b;b=function(){var ye=ad(K);de.call(ye)}}od(s,K,o,b)}else K=Gb(c,s,o,b,m);return ad(K)}Sl=function(o){switch(o.tag){case 3:var s=o.stateNode;if(s.current.memoizedState.isDehydrated){var c=ta(s.pendingLanes);c!==0&&(Mo(s,c|1),Co(s,bn()),!(Nn&6)&&(jc=bn()+500,L()))}break;case 13:qu(function(){var m=Fn(o,1);if(m!==null){var b=po();Ga(m,o,1,b)}}),Sm(o,1)}},os=function(o){if(o.tag===13){var s=Fn(o,134217728);if(s!==null){var c=po();Ga(s,o,134217728,c)}Sm(o,134217728)}},El=function(o){if(o.tag===13){var s=Xl(o),c=Fn(o,s);if(c!==null){var m=po();Ga(c,o,s,m)}Sm(o,s)}},go=function(){return pn},Aa=function(o,s){var c=pn;try{return pn=o,s()}finally{pn=c}},Ln=function(o,s,c){switch(s){case"input":if(Ft(o,c),s=c.name,c.type==="radio"&&s!=null){for(c=o;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<c.length;s++){var m=c[s];if(m!==o&&m.form===o.form){var b=Mu(m);if(!b)throw Error(t(90));st(m),Ft(m,b)}}}break;case"textarea":qe(o,c);break;case"select":s=c.value,s!=null&&lt(o,!!c.multiple,s,!1)}},vi=gm,me=qu;var Kb={usingClientEntryPoint:!1,Events:[Ul,Js,Mu,Dt,mn,gm]},Nh={findFiberByHostInstance:gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qb={bundleType:Nh.bundleType,version:Nh.version,rendererPackageName:Nh.rendererPackageName,rendererConfig:Nh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=zr(o),o===null?null:o.stateNode},findFiberByHostInstance:Nh.findFiberByHostInstance||$b,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cd.isDisabled&&cd.supportsFiber)try{qr=cd.inject(Qb),Vr=cd}catch{}}return No.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kb,No.createPortal=function(o,s){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Am(s))throw Error(t(200));return Wb(o,s,null,c)},No.createRoot=function(o,s){if(!Am(o))throw Error(t(299));var c=!1,m="",b=i0;return s!=null&&(s.unstable_strictMode===!0&&(c=!0),s.identifierPrefix!==void 0&&(m=s.identifierPrefix),s.onRecoverableError!==void 0&&(b=s.onRecoverableError)),s=xm(o,1,!1,null,null,c,!1,m,b),o[ci]=s.current,Ks(o.nodeType===8?o.parentNode:o),new Em(s)},No.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var s=o._reactInternals;if(s===void 0)throw typeof o.render=="function"?Error(t(188)):(o=Object.keys(o).join(","),Error(t(268,o)));return o=zr(s),o=o===null?null:o.stateNode,o},No.flushSync=function(o){return qu(o)},No.hydrate=function(o,s,c){if(!ld(s))throw Error(t(200));return ud(null,o,s,!0,c)},No.hydrateRoot=function(o,s,c){if(!Am(o))throw Error(t(405));var m=c!=null&&c.hydratedSources||null,b=!1,k="",K=i0;if(c!=null&&(c.unstable_strictMode===!0&&(b=!0),c.identifierPrefix!==void 0&&(k=c.identifierPrefix),c.onRecoverableError!==void 0&&(K=c.onRecoverableError)),s=n0(s,null,o,1,c??null,b,!1,k,K),o[ci]=s.current,Ks(o),m)for(o=0;o<m.length;o++)c=m[o],b=c._getVersion,b=b(c._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[c,b]:s.mutableSourceEagerHydrationData.push(c,b);return new sd(s)},No.render=function(o,s,c){if(!ld(s))throw Error(t(200));return ud(null,o,s,!1,c)},No.unmountComponentAtNode=function(o){if(!ld(o))throw Error(t(40));return o._reactRootContainer?(qu(function(){ud(null,null,o,!1,function(){o._reactRootContainer=null,o[ci]=null})}),!0):!1},No.unstable_batchedUpdates=gm,No.unstable_renderSubtreeIntoContainer=function(o,s,c,m){if(!ld(c))throw Error(t(200));if(o==null||o._reactInternals===void 0)throw Error(t(38));return ud(o,s,c,!1,m)},No.version="18.3.1-next-f1338f8080-20240426",No}var d0;function $2(){if(d0)return Pm.exports;d0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Pm.exports=ox(),Pm.exports}var p0;function ax(){if(p0)return hd;p0=1;var n=$2();return hd.createRoot=n.createRoot,hd.hydrateRoot=n.hydrateRoot,hd}var sx=ax(),Rh={},m0;function lx(){if(m0)return Rh;m0=1,Object.defineProperty(Rh,"__esModule",{value:!0}),Rh.parse=l,Rh.serialize=p;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function l(x,v){const T=new a,R=x.length;if(R<2)return T;const O=(v==null?void 0:v.decode)||y;let C=0;do{const V=x.indexOf("=",C);if(V===-1)break;const B=x.indexOf(";",C),$=B===-1?R:B;if(V>$){C=x.lastIndexOf(";",V-1)+1;continue}const z=u(x,C,V),ie=h(x,V,z),D=x.slice(z,ie);if(T[D]===void 0){let A=u(x,V+1,$),M=h(x,$,A);const U=O(x.slice(A,M));T[D]=U}C=$+1}while(C<R);return T}function u(x,v,T){do{const R=x.charCodeAt(v);if(R!==32&&R!==9)return v}while(++v<T);return T}function h(x,v,T){for(;v>T;){const R=x.charCodeAt(--v);if(R!==32&&R!==9)return v+1}return T}function p(x,v,T){const R=(T==null?void 0:T.encode)||encodeURIComponent;if(!n.test(x))throw new TypeError(`argument name is invalid: ${x}`);const O=R(v);if(!e.test(O))throw new TypeError(`argument val is invalid: ${v}`);let C=x+"="+O;if(!T)return C;if(T.maxAge!==void 0){if(!Number.isInteger(T.maxAge))throw new TypeError(`option maxAge is invalid: ${T.maxAge}`);C+="; Max-Age="+T.maxAge}if(T.domain){if(!t.test(T.domain))throw new TypeError(`option domain is invalid: ${T.domain}`);C+="; Domain="+T.domain}if(T.path){if(!r.test(T.path))throw new TypeError(`option path is invalid: ${T.path}`);C+="; Path="+T.path}if(T.expires){if(!_(T.expires)||!Number.isFinite(T.expires.valueOf()))throw new TypeError(`option expires is invalid: ${T.expires}`);C+="; Expires="+T.expires.toUTCString()}if(T.httpOnly&&(C+="; HttpOnly"),T.secure&&(C+="; Secure"),T.partitioned&&(C+="; Partitioned"),T.priority)switch(typeof T.priority=="string"?T.priority.toLowerCase():void 0){case"low":C+="; Priority=Low";break;case"medium":C+="; Priority=Medium";break;case"high":C+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${T.priority}`)}if(T.sameSite)switch(typeof T.sameSite=="string"?T.sameSite.toLowerCase():T.sameSite){case!0:case"strict":C+="; SameSite=Strict";break;case"lax":C+="; SameSite=Lax";break;case"none":C+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${T.sameSite}`)}return C}function y(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function _(x){return i.call(x)==="[object Date]"}return Rh}lx();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var g0="popstate";function ux(n={}){function e(i,a){let{pathname:l="/",search:u="",hash:h=""}=vl(i.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),rf("",{pathname:l,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(i,a){let l=i.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let h=i.location.href,p=h.indexOf("#");u=p===-1?h:h.slice(0,p)}return u+"#"+(typeof a=="string"?a:wu(a))}function r(i,a){gi(i.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return hx(e,t,r,n)}function Sn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function gi(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function cx(){return Math.random().toString(36).substring(2,10)}function v0(n,e){return{usr:n.state,key:n.key,idx:e}}function rf(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?vl(e):e,state:t,key:e&&e.key||r||cx()}}function wu({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function vl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function hx(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,u="POP",h=null,p=y();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function y(){return(l.state||{idx:null}).idx}function _(){u="POP";let O=y(),C=O==null?null:O-p;p=O,h&&h({action:u,location:R.location,delta:C})}function x(O,C){u="PUSH";let V=rf(R.location,O,C);t&&t(V,O),p=y()+1;let B=v0(V,p),$=R.createHref(V);try{l.pushState(B,"",$)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign($)}a&&h&&h({action:u,location:R.location,delta:1})}function v(O,C){u="REPLACE";let V=rf(R.location,O,C);t&&t(V,O),p=y();let B=v0(V,p),$=R.createHref(V);l.replaceState(B,"",$),a&&h&&h({action:u,location:R.location,delta:0})}function T(O){let C=i.location.origin!=="null"?i.location.origin:i.location.href,V=typeof O=="string"?O:wu(O);return V=V.replace(/ $/,"%20"),Sn(C,`No window.location.(origin|href) available to create URL for href: ${V}`),new URL(V,C)}let R={get action(){return u},get location(){return n(i,l)},listen(O){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(g0,_),h=O,()=>{i.removeEventListener(g0,_),h=null}},createHref(O){return e(i,O)},createURL:T,encodeLocation(O){let C=T(O);return{pathname:C.pathname,search:C.search,hash:C.hash}},push:x,replace:v,go(O){return l.go(O)}};return R}var fx=new Set(["lazy","caseSensitive","path","id","index","children"]);function dx(n){return n.index===!0}function Ud(n,e,t=[],r={}){return n.map((i,a)=>{let l=[...t,String(a)],u=typeof i.id=="string"?i.id:l.join("-");if(Sn(i.index!==!0||!i.children,"Cannot specify children on an index route"),Sn(!r[u],`Found a route id collision on id "${u}".  Route id's must be globally unique within Data Router usages`),dx(i)){let h={...i,...e(i),id:u};return r[u]=h,h}else{let h={...i,...e(i),id:u,children:void 0};return r[u]=h,i.children&&(h.children=Ud(i.children,e,l,r)),h}})}function au(n,e,t="/"){return Id(n,e,t,!1)}function Id(n,e,t,r){let i=typeof e=="string"?vl(e):e,a=ts(i.pathname||"/",t);if(a==null)return null;let l=G2(n);mx(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let p=Tx(a);u=Ex(l[h],p,r)}return u}function px(n,e){let{route:t,pathname:r,params:i}=n;return{id:t.id,pathname:r,params:i,data:e[t.id],handle:t.handle}}function G2(n,e=[],t=[],r=""){let i=(a,l,u)=>{let h={relativePath:u===void 0?a.path||"":u,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(Sn(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let p=Ts([r,h.relativePath]),y=t.concat(h);a.children&&a.children.length>0&&(Sn(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),G2(a.children,e,y,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:xx(p,a.index),routesMeta:y})};return n.forEach((a,l)=>{var u;if(a.path===""||!((u=a.path)!=null&&u.includes("?")))i(a,l);else for(let h of K2(a.path))i(a,l,h)}),e}function K2(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=K2(r.join("/")),u=[];return u.push(...l.map(h=>h===""?a:[a,h].join("/"))),i&&u.push(...l),u.map(h=>n.startsWith("/")&&h===""?"/":h)}function mx(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Sx(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var gx=/^:[\w-]+$/,vx=3,yx=2,wx=1,_x=10,bx=-2,y0=n=>n==="*";function xx(n,e){let t=n.split("/"),r=t.length;return t.some(y0)&&(r+=bx),e&&(r+=yx),t.filter(i=>!y0(i)).reduce((i,a)=>i+(gx.test(a)?vx:a===""?wx:_x),r)}function Sx(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function Ex(n,e,t=!1){let{routesMeta:r}=n,i={},a="/",l=[];for(let u=0;u<r.length;++u){let h=r[u],p=u===r.length-1,y=a==="/"?e:e.slice(a.length)||"/",_=zd({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},y),x=h.route;if(!_&&p&&t&&!r[r.length-1].route.index&&(_=zd({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},y)),!_)return null;Object.assign(i,_.params),l.push({params:i,pathname:Ts([a,_.pathname]),pathnameBase:kx(Ts([a,_.pathnameBase])),route:x}),_.pathnameBase!=="/"&&(a=Ts([a,_.pathnameBase]))}return l}function zd(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=Ax(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((p,{paramName:y,isOptional:_},x)=>{if(y==="*"){let T=u[x]||"";l=a.slice(0,a.length-T.length).replace(/(.)\/+$/,"$1")}const v=u[x];return _&&!v?p[y]=void 0:p[y]=(v||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:n}}function Ax(n,e=!1,t=!0){gi(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Tx(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return gi(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ts(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Ix(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?vl(n):n;return{pathname:t?t.startsWith("/")?t:Px(t,e):e,search:Cx(r),hash:Nx(i)}}function Px(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Nm(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Q2(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Jg(n){let e=Q2(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Xg(n,e,t,r=!1){let i;typeof n=="string"?i=vl(n):(i={...n},Sn(!i.pathname||!i.pathname.includes("?"),Nm("?","pathname","search",i)),Sn(!i.pathname||!i.pathname.includes("#"),Nm("#","pathname","hash",i)),Sn(!i.search||!i.search.includes("#"),Nm("#","search","hash",i)));let a=n===""||i.pathname==="",l=a?"/":i.pathname,u;if(l==null)u=t;else{let _=e.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),_-=1;i.pathname=x.join("/")}u=_>=0?e[_]:"/"}let h=Ix(i,u),p=l&&l!=="/"&&l.endsWith("/"),y=(a||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||y)&&(h.pathname+="/"),h}var Ts=n=>n.join("/").replace(/\/\/+/g,"/"),kx=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Cx=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Nx=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,qd=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function gp(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Y2=["POST","PUT","PATCH","DELETE"],Lx=new Set(Y2),Rx=["GET",...Y2],Dx=new Set(Rx),Ox=new Set([301,302,303,307,308]),Fx=new Set([307,308]),Lm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Mx={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Dh={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Zg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jx=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),J2="remix-router-transitions",X2=Symbol("ResetLoaderData");function Vx(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";Sn(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=n.mapRouteProperties||jx,i={},a=Ud(n.routes,r,void 0,i),l,u=n.basename||"/",h=n.dataStrategy||Hx,p=n.patchRoutesOnNavigation,y={...n.future},_=null,x=new Set,v=null,T=null,R=null,O=n.hydrationData!=null,C=au(a,n.history.location,u),V=null;if(C==null&&!p){let me=ba(404,{pathname:n.history.location.pathname}),{matches:Ie,route:Fe}=k0(a);C=Ie,V={[Fe.id]:me}}C&&!n.hydrationData&&En(C,a,n.history.location.pathname).active&&(C=null);let B;if(C)if(C.some(me=>me.route.lazy))B=!1;else if(!C.some(me=>me.route.loader))B=!0;else{let me=n.hydrationData?n.hydrationData.loaderData:null,Ie=n.hydrationData?n.hydrationData.errors:null;if(Ie){let Fe=C.findIndex(Le=>Ie[Le.route.id]!==void 0);B=C.slice(0,Fe+1).every(Le=>!sg(Le.route,me,Ie))}else B=C.every(Fe=>!sg(Fe.route,me,Ie))}else{B=!1,C=[];let me=En(null,a,n.history.location.pathname);me.active&&me.matches&&(C=me.matches)}let $,z={historyAction:n.history.action,location:n.history.location,matches:C,initialized:B,navigation:Lm,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||V,fetchers:new Map,blockers:new Map},ie="POP",D=!1,A,M=!1,U=new Map,I=null,P=!1,F=!1,X=new Set,pe=new Map,ae=0,oe=-1,te=new Map,ne=new Set,he=new Map,re=new Map,N=new Set,W=new Map,ee,se=null;function ue(){if(_=n.history.listen(({action:me,location:Ie,delta:Fe})=>{if(ee){ee(),ee=void 0;return}gi(W.size===0||Fe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Le=gr({currentLocation:z.location,nextLocation:Ie,historyAction:me});if(Le&&Fe!=null){let pt=new Promise(wt=>{ee=wt});n.history.go(Fe*-1),dn(Le,{state:"blocked",location:Ie,proceed(){dn(Le,{state:"proceeding",proceed:void 0,reset:void 0,location:Ie}),pt.then(()=>n.history.go(Fe))},reset(){let wt=new Map(z.blockers);wt.set(Le,Dh),Se({blockers:wt})}});return}return it(me,Ie)}),t){tS(e,U);let me=()=>nS(e,U);e.addEventListener("pagehide",me),I=()=>e.removeEventListener("pagehide",me)}return z.initialized||it("POP",z.location,{initialHydration:!0}),$}function we(){_&&_(),I&&I(),x.clear(),A&&A.abort(),z.fetchers.forEach((me,Ie)=>Mt(Ie)),z.blockers.forEach((me,Ie)=>fn(Ie))}function xe(me){return x.add(me),()=>x.delete(me)}function Se(me,Ie={}){z={...z,...me};let Fe=[],Le=[];z.fetchers.forEach((pt,wt)=>{pt.state==="idle"&&(N.has(wt)?Fe.push(wt):Le.push(wt))}),N.forEach(pt=>{!z.fetchers.has(pt)&&!pe.has(pt)&&Fe.push(pt)}),[...x].forEach(pt=>pt(z,{deletedFetchers:Fe,viewTransitionOpts:Ie.viewTransitionOpts,flushSync:Ie.flushSync===!0})),Fe.forEach(pt=>Mt(pt)),Le.forEach(pt=>z.fetchers.delete(pt))}function We(me,Ie,{flushSync:Fe}={}){var rt,jt;let Le=z.actionData!=null&&z.navigation.formMethod!=null&&Ja(z.navigation.formMethod)&&z.navigation.state==="loading"&&((rt=me.state)==null?void 0:rt._isRedirect)!==!0,pt;Ie.actionData?Object.keys(Ie.actionData).length>0?pt=Ie.actionData:pt=null:Le?pt=z.actionData:pt=null;let wt=Ie.loaderData?I0(z.loaderData,Ie.loaderData,Ie.matches||[],Ie.errors):z.loaderData,Et=z.blockers;Et.size>0&&(Et=new Map(Et),Et.forEach((zt,un)=>Et.set(un,Dh)));let ut=D===!0||z.navigation.formMethod!=null&&Ja(z.navigation.formMethod)&&((jt=me.state)==null?void 0:jt._isRedirect)!==!0;l&&(a=l,l=void 0),P||ie==="POP"||(ie==="PUSH"?n.history.push(me,me.state):ie==="REPLACE"&&n.history.replace(me,me.state));let mt;if(ie==="POP"){let zt=U.get(z.location.pathname);zt&&zt.has(me.pathname)?mt={currentLocation:z.location,nextLocation:me}:U.has(me.pathname)&&(mt={currentLocation:me,nextLocation:z.location})}else if(M){let zt=U.get(z.location.pathname);zt?zt.add(me.pathname):(zt=new Set([me.pathname]),U.set(z.location.pathname,zt)),mt={currentLocation:z.location,nextLocation:me}}Se({...Ie,actionData:pt,loaderData:wt,historyAction:ie,location:me,initialized:!0,navigation:Lm,revalidation:"idle",restoreScrollPosition:vr(me,Ie.matches||z.matches),preventScrollReset:ut,blockers:Et},{viewTransitionOpts:mt,flushSync:Fe===!0}),ie="POP",D=!1,M=!1,P=!1,F=!1,se==null||se.resolve(),se=null}async function Ge(me,Ie){if(typeof me=="number"){n.history.go(me);return}let Fe=ag(z.location,z.matches,u,me,Ie==null?void 0:Ie.fromRouteId,Ie==null?void 0:Ie.relative),{path:Le,submission:pt,error:wt}=w0(!1,Fe,Ie),Et=z.location,ut=rf(z.location,Le,Ie&&Ie.state);ut={...ut,...n.history.encodeLocation(ut)};let mt=Ie&&Ie.replace!=null?Ie.replace:void 0,rt="PUSH";mt===!0?rt="REPLACE":mt===!1||pt!=null&&Ja(pt.formMethod)&&pt.formAction===z.location.pathname+z.location.search&&(rt="REPLACE");let jt=Ie&&"preventScrollReset"in Ie?Ie.preventScrollReset===!0:void 0,zt=(Ie&&Ie.flushSync)===!0,un=gr({currentLocation:Et,nextLocation:ut,historyAction:rt});if(un){dn(un,{state:"blocked",location:ut,proceed(){dn(un,{state:"proceeding",proceed:void 0,reset:void 0,location:ut}),Ge(me,Ie)},reset(){let An=new Map(z.blockers);An.set(un,Dh),Se({blockers:An})}});return}await it(rt,ut,{submission:pt,pendingError:wt,preventScrollReset:jt,replace:Ie&&Ie.replace,enableViewTransition:Ie&&Ie.viewTransition,flushSync:zt})}function st(){se||(se=rS()),qe(),Se({revalidation:"loading"});let me=se.promise;return z.navigation.state==="submitting"?me:z.navigation.state==="idle"?(it(z.historyAction,z.location,{startUninterruptedRevalidation:!0}),me):(it(ie||z.historyAction,z.navigation.location,{overrideNavigation:z.navigation,enableViewTransition:M===!0}),me)}async function it(me,Ie,Fe){A&&A.abort(),A=null,ie=me,P=(Fe&&Fe.startUninterruptedRevalidation)===!0,nr(z.location,z.matches),D=(Fe&&Fe.preventScrollReset)===!0,M=(Fe&&Fe.enableViewTransition)===!0;let Le=l||a,pt=Fe&&Fe.overrideNavigation,wt=au(Le,Ie,u),Et=(Fe&&Fe.flushSync)===!0,ut=En(wt,Le,Ie.pathname);if(ut.active&&ut.matches&&(wt=ut.matches),!wt){let{error:Jt,notFoundMatches:on,route:an}=Zt(Ie.pathname);We(Ie,{matches:on,loaderData:{},errors:{[an.id]:Jt}},{flushSync:Et});return}if(z.initialized&&!F&&Yx(z.location,Ie)&&!(Fe&&Fe.submission&&Ja(Fe.submission.formMethod))){We(Ie,{matches:wt},{flushSync:Et});return}A=new AbortController;let mt=Bc(n.history,Ie,A.signal,Fe&&Fe.submission),rt;if(Fe&&Fe.pendingError)rt=[Qu(wt).route.id,{type:"error",error:Fe.pendingError}];else if(Fe&&Fe.submission&&Ja(Fe.submission.formMethod)){let Jt=await Ct(mt,Ie,Fe.submission,wt,ut.active,{replace:Fe.replace,flushSync:Et});if(Jt.shortCircuited)return;if(Jt.pendingActionResult){let[on,an]=Jt.pendingActionResult;if(Qo(an)&&gp(an.error)&&an.error.status===404){A=null,We(Ie,{matches:Jt.matches,loaderData:{},errors:{[on]:an.error}});return}}wt=Jt.matches||wt,rt=Jt.pendingActionResult,pt=Rm(Ie,Fe.submission),Et=!1,ut.active=!1,mt=Bc(n.history,mt.url,mt.signal)}let{shortCircuited:jt,matches:zt,loaderData:un,errors:An}=await Ve(mt,Ie,wt,ut.active,pt,Fe&&Fe.submission,Fe&&Fe.fetcherSubmission,Fe&&Fe.replace,Fe&&Fe.initialHydration===!0,Et,rt);jt||(A=null,We(Ie,{matches:zt||wt,...P0(rt),loaderData:un,errors:An}))}async function Ct(me,Ie,Fe,Le,pt,wt={}){qe();let Et=Zx(Ie,Fe);if(Se({navigation:Et},{flushSync:wt.flushSync===!0}),pt){let rt=await Dt(Le,Ie.pathname,me.signal);if(rt.type==="aborted")return{shortCircuited:!0};if(rt.type==="error"){let jt=Qu(rt.partialMatches).route.id;return{matches:rt.partialMatches,pendingActionResult:[jt,{type:"error",error:rt.error}]}}else if(rt.matches)Le=rt.matches;else{let{notFoundMatches:jt,error:zt,route:un}=Zt(Ie.pathname);return{matches:jt,pendingActionResult:[un.id,{type:"error",error:zt}]}}}let ut,mt=Vh(Le,Ie);if(!mt.route.action&&!mt.route.lazy)ut={type:"error",error:ba(405,{method:me.method,pathname:Ie.pathname,routeId:mt.route.id})};else if(ut=(await ct("action",z,me,[mt],Le,null))[mt.route.id],me.signal.aborted)return{shortCircuited:!0};if(Ju(ut)){let rt;return wt&&wt.replace!=null?rt=wt.replace:rt=E0(ut.response.headers.get("Location"),new URL(me.url),u)===z.location.pathname+z.location.search,await lt(me,ut,!0,{submission:Fe,replace:rt}),{shortCircuited:!0}}if(Qo(ut)){let rt=Qu(Le,mt.route.id);return(wt&&wt.replace)!==!0&&(ie="PUSH"),{matches:Le,pendingActionResult:[rt.route.id,ut]}}return{matches:Le,pendingActionResult:[mt.route.id,ut]}}async function Ve(me,Ie,Fe,Le,pt,wt,Et,ut,mt,rt,jt){let zt=pt||Rm(Ie,wt),un=wt||Et||N0(zt),An=!P&&!mt;if(Le){if(An){let Hn=fe(jt);Se({navigation:zt,...Hn!==void 0?{actionData:Hn}:{}},{flushSync:rt})}let hn=await Dt(Fe,Ie.pathname,me.signal);if(hn.type==="aborted")return{shortCircuited:!0};if(hn.type==="error"){let Hn=Qu(hn.partialMatches).route.id;return{matches:hn.partialMatches,loaderData:{},errors:{[Hn]:hn.error}}}else if(hn.matches)Fe=hn.matches;else{let{error:Hn,notFoundMatches:Cr,route:wi}=Zt(Ie.pathname);return{matches:Cr,loaderData:{},errors:{[wi.id]:Hn}}}}let Jt=l||a,[on,an]=b0(n.history,z,Fe,un,Ie,mt===!0,F,X,N,he,ne,Jt,u,jt);if(oe=++ae,on.length===0&&an.length===0){let hn=jn();return We(Ie,{matches:Fe,loaderData:{},errors:jt&&Qo(jt[1])?{[jt[0]]:jt[1].error}:null,...P0(jt),...hn?{fetchers:new Map(z.fetchers)}:{}},{flushSync:rt}),{shortCircuited:!0}}if(An){let hn={};if(!Le){hn.navigation=zt;let Hn=fe(jt);Hn!==void 0&&(hn.actionData=Hn)}an.length>0&&(hn.fetchers=Ft(an)),Se(hn,{flushSync:rt})}an.forEach(hn=>{Nt(hn.key),hn.controller&&pe.set(hn.key,hn.controller)});let Sr=()=>an.forEach(hn=>Nt(hn.key));A&&A.signal.addEventListener("abort",Sr);let{loaderResults:zr,fetcherResults:yr}=await Tt(z,Fe,on,an,me);if(me.signal.aborted)return{shortCircuited:!0};A&&A.signal.removeEventListener("abort",Sr),an.forEach(hn=>pe.delete(hn.key));let cr=fd(zr);if(cr)return await lt(me,cr.result,!0,{replace:ut}),{shortCircuited:!0};if(cr=fd(yr),cr)return ne.add(cr.key),await lt(me,cr.result,!0,{replace:ut}),{shortCircuited:!0};let{loaderData:Di,errors:yi}=T0(z,Fe,zr,jt,an,yr);mt&&z.errors&&(yi={...z.errors,...yi});let Oi=jn(),bn=nn(oe),Do=Oi||bn||an.length>0;return{matches:Fe,loaderData:Di,errors:yi,...Do?{fetchers:new Map(z.fetchers)}:{}}}function fe(me){if(me&&!Qo(me[1]))return{[me[0]]:me[1].data};if(z.actionData)return Object.keys(z.actionData).length===0?null:z.actionData}function Ft(me){return me.forEach(Ie=>{let Fe=z.fetchers.get(Ie.key),Le=Oh(void 0,Fe?Fe.data:void 0);z.fetchers.set(Ie.key,Le)}),new Map(z.fetchers)}async function xt(me,Ie,Fe,Le){Nt(me);let pt=(Le&&Le.flushSync)===!0,wt=l||a,Et=ag(z.location,z.matches,u,Fe,Ie,Le==null?void 0:Le.relative),ut=au(wt,Et,u),mt=En(ut,wt,Et);if(mt.active&&mt.matches&&(ut=mt.matches),!ut){ht(me,Ie,ba(404,{pathname:Et}),{flushSync:pt});return}let{path:rt,submission:jt,error:zt}=w0(!0,Et,Le);if(zt){ht(me,Ie,zt,{flushSync:pt});return}let un=Vh(ut,rt),An=(Le&&Le.preventScrollReset)===!0;if(jt&&Ja(jt.formMethod)){await Qe(me,Ie,rt,un,ut,mt.active,pt,An,jt);return}he.set(me,{routeId:Ie,path:rt}),await ot(me,Ie,rt,un,ut,mt.active,pt,An,jt)}async function Qe(me,Ie,Fe,Le,pt,wt,Et,ut,mt){qe(),he.delete(me);function rt(Kn){if(!Kn.route.action&&!Kn.route.lazy){let qr=ba(405,{method:mt.formMethod,pathname:Fe,routeId:Ie});return ht(me,Ie,qr,{flushSync:Et}),!0}return!1}if(!wt&&rt(Le))return;let jt=z.fetchers.get(me);Je(me,eS(mt,jt),{flushSync:Et});let zt=new AbortController,un=Bc(n.history,Fe,zt.signal,mt);if(wt){let Kn=await Dt(pt,Fe,un.signal);if(Kn.type==="aborted")return;if(Kn.type==="error"){ht(me,Ie,Kn.error,{flushSync:Et});return}else if(Kn.matches){if(pt=Kn.matches,Le=Vh(pt,Fe),rt(Le))return}else{ht(me,Ie,ba(404,{pathname:Fe}),{flushSync:Et});return}}pe.set(me,zt);let An=ae,on=(await ct("action",z,un,[Le],pt,me))[Le.route.id];if(un.signal.aborted){pe.get(me)===zt&&pe.delete(me);return}if(N.has(me)){if(Ju(on)||Qo(on)){Je(me,ou(void 0));return}}else{if(Ju(on))if(pe.delete(me),oe>An){Je(me,ou(void 0));return}else return ne.add(me),Je(me,Oh(mt)),lt(un,on,!1,{fetcherSubmission:mt,preventScrollReset:ut});if(Qo(on)){ht(me,Ie,on.error);return}}let an=z.navigation.location||z.location,Sr=Bc(n.history,an,zt.signal),zr=l||a,yr=z.navigation.state!=="idle"?au(zr,z.navigation.location,u):z.matches;Sn(yr,"Didn't find any matches after fetcher action");let cr=++ae;te.set(me,cr);let Di=Oh(mt,on.data);z.fetchers.set(me,Di);let[yi,Oi]=b0(n.history,z,yr,mt,an,!1,F,X,N,he,ne,zr,u,[Le.route.id,on]);Oi.filter(Kn=>Kn.key!==me).forEach(Kn=>{let qr=Kn.key,Vr=z.fetchers.get(qr),Oo=Oh(void 0,Vr?Vr.data:void 0);z.fetchers.set(qr,Oo),Nt(qr),Kn.controller&&pe.set(qr,Kn.controller)}),Se({fetchers:new Map(z.fetchers)});let bn=()=>Oi.forEach(Kn=>Nt(Kn.key));zt.signal.addEventListener("abort",bn);let{loaderResults:Do,fetcherResults:hn}=await Tt(z,yr,yi,Oi,Sr);if(zt.signal.aborted)return;zt.signal.removeEventListener("abort",bn),te.delete(me),pe.delete(me),Oi.forEach(Kn=>pe.delete(Kn.key));let Hn=fd(Do);if(Hn)return lt(Sr,Hn.result,!1,{preventScrollReset:ut});if(Hn=fd(hn),Hn)return ne.add(Hn.key),lt(Sr,Hn.result,!1,{preventScrollReset:ut});let{loaderData:Cr,errors:wi}=T0(z,yr,Do,void 0,Oi,hn);if(z.fetchers.has(me)){let Kn=ou(on.data);z.fetchers.set(me,Kn)}nn(cr),z.navigation.state==="loading"&&cr>oe?(Sn(ie,"Expected pending action"),A&&A.abort(),We(z.navigation.location,{matches:yr,loaderData:Cr,errors:wi,fetchers:new Map(z.fetchers)})):(Se({errors:wi,loaderData:I0(z.loaderData,Cr,yr,wi),fetchers:new Map(z.fetchers)}),F=!1)}async function ot(me,Ie,Fe,Le,pt,wt,Et,ut,mt){let rt=z.fetchers.get(me);Je(me,Oh(mt,rt?rt.data:void 0),{flushSync:Et});let jt=new AbortController,zt=Bc(n.history,Fe,jt.signal);if(wt){let on=await Dt(pt,Fe,zt.signal);if(on.type==="aborted")return;if(on.type==="error"){ht(me,Ie,on.error,{flushSync:Et});return}else if(on.matches)pt=on.matches,Le=Vh(pt,Fe);else{ht(me,Ie,ba(404,{pathname:Fe}),{flushSync:Et});return}}pe.set(me,jt);let un=ae,Jt=(await ct("loader",z,zt,[Le],pt,me))[Le.route.id];if(pe.get(me)===jt&&pe.delete(me),!zt.signal.aborted){if(N.has(me)){Je(me,ou(void 0));return}if(Ju(Jt))if(oe>un){Je(me,ou(void 0));return}else{ne.add(me),await lt(zt,Jt,!1,{preventScrollReset:ut});return}if(Qo(Jt)){ht(me,Ie,Jt.error);return}Je(me,ou(Jt.data))}}async function lt(me,Ie,Fe,{submission:Le,fetcherSubmission:pt,preventScrollReset:wt,replace:Et}={}){Ie.response.headers.has("X-Remix-Revalidate")&&(F=!0);let ut=Ie.response.headers.get("Location");Sn(ut,"Expected a Location header on the redirect Response"),ut=E0(ut,new URL(me.url),u);let mt=rf(z.location,ut,{_isRedirect:!0});if(t){let Jt=!1;if(Ie.response.headers.has("X-Remix-Reload-Document"))Jt=!0;else if(Zg.test(ut)){const on=n.history.createURL(ut);Jt=on.origin!==e.location.origin||ts(on.pathname,u)==null}if(Jt){Et?e.location.replace(ut):e.location.assign(ut);return}}A=null;let rt=Et===!0||Ie.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:jt,formAction:zt,formEncType:un}=z.navigation;!Le&&!pt&&jt&&zt&&un&&(Le=N0(z.navigation));let An=Le||pt;if(Fx.has(Ie.response.status)&&An&&Ja(An.formMethod))await it(rt,mt,{submission:{...An,formAction:ut},preventScrollReset:wt||D,enableViewTransition:Fe?M:void 0});else{let Jt=Rm(mt,Le);await it(rt,mt,{overrideNavigation:Jt,fetcherSubmission:pt,preventScrollReset:wt||D,enableViewTransition:Fe?M:void 0})}}async function ct(me,Ie,Fe,Le,pt,wt){let Et,ut={};try{Et=await Wx(h,me,Ie,Fe,Le,pt,wt,i,r)}catch(mt){return Le.forEach(rt=>{ut[rt.route.id]={type:"error",error:mt}}),ut}for(let[mt,rt]of Object.entries(Et))if(Jx(rt)){let jt=rt.result;ut[mt]={type:"redirect",response:Kx(jt,Fe,mt,pt,u)}}else ut[mt]=await Gx(rt);return ut}async function Tt(me,Ie,Fe,Le,pt){let wt=ct("loader",me,pt,Fe,Ie,null),Et=Promise.all(Le.map(async rt=>{if(rt.matches&&rt.match&&rt.controller){let zt=(await ct("loader",me,Bc(n.history,rt.path,rt.controller.signal),[rt.match],rt.matches,rt.key))[rt.match.route.id];return{[rt.key]:zt}}else return Promise.resolve({[rt.key]:{type:"error",error:ba(404,{pathname:rt.path})}})})),ut=await wt,mt=(await Et).reduce((rt,jt)=>Object.assign(rt,jt),{});return{loaderResults:ut,fetcherResults:mt}}function qe(){F=!0,he.forEach((me,Ie)=>{pe.has(Ie)&&X.add(Ie),Nt(Ie)})}function Je(me,Ie,Fe={}){z.fetchers.set(me,Ie),Se({fetchers:new Map(z.fetchers)},{flushSync:(Fe&&Fe.flushSync)===!0})}function ht(me,Ie,Fe,Le={}){let pt=Qu(z.matches,Ie);Mt(me),Se({errors:{[pt.route.id]:Fe},fetchers:new Map(z.fetchers)},{flushSync:(Le&&Le.flushSync)===!0})}function _t(me){return re.set(me,(re.get(me)||0)+1),N.has(me)&&N.delete(me),z.fetchers.get(me)||Mx}function Mt(me){let Ie=z.fetchers.get(me);pe.has(me)&&!(Ie&&Ie.state==="loading"&&te.has(me))&&Nt(me),he.delete(me),te.delete(me),ne.delete(me),N.delete(me),X.delete(me),z.fetchers.delete(me)}function Rt(me){let Ie=(re.get(me)||0)-1;Ie<=0?(re.delete(me),N.add(me)):re.set(me,Ie),Se({fetchers:new Map(z.fetchers)})}function Nt(me){let Ie=pe.get(me);Ie&&(Ie.abort(),pe.delete(me))}function dt(me){for(let Ie of me){let Fe=_t(Ie),Le=ou(Fe.data);z.fetchers.set(Ie,Le)}}function jn(){let me=[],Ie=!1;for(let Fe of ne){let Le=z.fetchers.get(Fe);Sn(Le,`Expected fetcher: ${Fe}`),Le.state==="loading"&&(ne.delete(Fe),me.push(Fe),Ie=!0)}return dt(me),Ie}function nn(me){let Ie=[];for(let[Fe,Le]of te)if(Le<me){let pt=z.fetchers.get(Fe);Sn(pt,`Expected fetcher: ${Fe}`),pt.state==="loading"&&(Nt(Fe),te.delete(Fe),Ie.push(Fe))}return dt(Ie),Ie.length>0}function ur(me,Ie){let Fe=z.blockers.get(me)||Dh;return W.get(me)!==Ie&&W.set(me,Ie),Fe}function fn(me){z.blockers.delete(me),W.delete(me)}function dn(me,Ie){let Fe=z.blockers.get(me)||Dh;Sn(Fe.state==="unblocked"&&Ie.state==="blocked"||Fe.state==="blocked"&&Ie.state==="blocked"||Fe.state==="blocked"&&Ie.state==="proceeding"||Fe.state==="blocked"&&Ie.state==="unblocked"||Fe.state==="proceeding"&&Ie.state==="unblocked",`Invalid blocker state transition: ${Fe.state} -> ${Ie.state}`);let Le=new Map(z.blockers);Le.set(me,Ie),Se({blockers:Le})}function gr({currentLocation:me,nextLocation:Ie,historyAction:Fe}){if(W.size===0)return;W.size>1&&gi(!1,"A router only supports one blocker at a time");let Le=Array.from(W.entries()),[pt,wt]=Le[Le.length-1],Et=z.blockers.get(pt);if(!(Et&&Et.state==="proceeding")&&wt({currentLocation:me,nextLocation:Ie,historyAction:Fe}))return pt}function Zt(me){let Ie=ba(404,{pathname:me}),Fe=l||a,{matches:Le,route:pt}=k0(Fe);return{notFoundMatches:Le,route:pt,error:Ie}}function ii(me,Ie,Fe){if(v=me,R=Ie,T=Fe||null,!O&&z.navigation===Lm){O=!0;let Le=vr(z.location,z.matches);Le!=null&&Se({restoreScrollPosition:Le})}return()=>{v=null,R=null,T=null}}function Ln(me,Ie){return T&&T(me,Ie.map(Le=>px(Le,z.loaderData)))||me.key}function nr(me,Ie){if(v&&R){let Fe=Ln(me,Ie);v[Fe]=R()}}function vr(me,Ie){if(v){let Fe=Ln(me,Ie),Le=v[Fe];if(typeof Le=="number")return Le}return null}function En(me,Ie,Fe){if(p)if(me){if(Object.keys(me[0].params).length>0)return{active:!0,matches:Id(Ie,Fe,u,!0)}}else return{active:!0,matches:Id(Ie,Fe,u,!0)||[]};return{active:!1,matches:null}}async function Dt(me,Ie,Fe){if(!p)return{type:"success",matches:me};let Le=me;for(;;){let pt=l==null,wt=l||a,Et=i;try{await p({path:Ie,matches:Le,patch:(rt,jt)=>{Fe.aborted||S0(rt,jt,wt,Et,r)}})}catch(rt){return{type:"error",error:rt,partialMatches:Le}}finally{pt&&!Fe.aborted&&(a=[...a])}if(Fe.aborted)return{type:"aborted"};let ut=au(wt,Ie,u);if(ut)return{type:"success",matches:ut};let mt=Id(wt,Ie,u,!0);if(!mt||Le.length===mt.length&&Le.every((rt,jt)=>rt.route.id===mt[jt].route.id))return{type:"success",matches:null};Le=mt}}function mn(me){i={},l=Ud(me,r,void 0,i)}function vi(me,Ie){let Fe=l==null;S0(me,Ie,l||a,i,r),Fe&&(a=[...a],Se({}))}return $={get basename(){return u},get future(){return y},get state(){return z},get routes(){return a},get window(){return e},initialize:ue,subscribe:xe,enableScrollRestoration:ii,navigate:Ge,fetch:xt,revalidate:st,createHref:me=>n.history.createHref(me),encodeLocation:me=>n.history.encodeLocation(me),getFetcher:_t,deleteFetcher:Rt,dispose:we,getBlocker:ur,deleteBlocker:fn,patchRoutes:vi,_internalFetchControllers:pe,_internalSetRoutes:mn},$}function Bx(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function ag(n,e,t,r,i,a){let l,u;if(i){l=[];for(let p of e)if(l.push(p),p.route.id===i){u=p;break}}else l=e,u=e[e.length-1];let h=Xg(r||".",Jg(l),ts(n.pathname,t)||n.pathname,a==="path");if(r==null&&(h.search=n.search,h.hash=n.hash),(r==null||r===""||r===".")&&u){let p=ev(h.search);if(u.route.index&&!p)h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index";else if(!u.route.index&&p){let y=new URLSearchParams(h.search),_=y.getAll("index");y.delete("index"),_.filter(v=>v).forEach(v=>y.append("index",v));let x=y.toString();h.search=x?`?${x}`:""}}return t!=="/"&&(h.pathname=h.pathname==="/"?t:Ts([t,h.pathname])),wu(h)}function w0(n,e,t){if(!t||!Bx(t))return{path:e};if(t.formMethod&&!Xx(t.formMethod))return{path:e,error:ba(405,{method:t.formMethod})};let r=()=>({path:e,error:ba(400,{type:"invalid-body"})}),a=(t.formMethod||"get").toUpperCase(),l=e5(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Ja(a))return r();let _=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((x,[v,T])=>`${x}${v}=${T}
`,""):String(t.body);return{path:e,submission:{formMethod:a,formAction:l,formEncType:t.formEncType,formData:void 0,json:void 0,text:_}}}else if(t.formEncType==="application/json"){if(!Ja(a))return r();try{let _=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:a,formAction:l,formEncType:t.formEncType,formData:void 0,json:_,text:void 0}}}catch{return r()}}}Sn(typeof FormData=="function","FormData is not available in this environment");let u,h;if(t.formData)u=lg(t.formData),h=t.formData;else if(t.body instanceof FormData)u=lg(t.body),h=t.body;else if(t.body instanceof URLSearchParams)u=t.body,h=A0(u);else if(t.body==null)u=new URLSearchParams,h=new FormData;else try{u=new URLSearchParams(t.body),h=A0(u)}catch{return r()}let p={formMethod:a,formAction:l,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(Ja(p.formMethod))return{path:e,submission:p};let y=vl(e);return n&&y.search&&ev(y.search)&&u.append("index",""),y.search=`?${u}`,{path:wu(y),submission:p}}function _0(n,e,t=!1){let r=n.findIndex(i=>i.route.id===e);return r>=0?n.slice(0,t?r+1:r):n}function b0(n,e,t,r,i,a,l,u,h,p,y,_,x,v){let T=v?Qo(v[1])?v[1].error:v[1].data:void 0,R=n.createURL(e.location),O=n.createURL(i),C=t;a&&e.errors?C=_0(t,Object.keys(e.errors)[0],!0):v&&Qo(v[1])&&(C=_0(t,v[0]));let V=v?v[1].statusCode:void 0,B=V&&V>=400,$=C.filter((ie,D)=>{let{route:A}=ie;if(A.lazy)return!0;if(A.loader==null)return!1;if(a)return sg(A,e.loaderData,e.errors);if(Ux(e.loaderData,e.matches[D],ie))return!0;let M=e.matches[D],U=ie;return x0(ie,{currentUrl:R,currentParams:M.params,nextUrl:O,nextParams:U.params,...r,actionResult:T,actionStatus:V,defaultShouldRevalidate:B?!1:l||R.pathname+R.search===O.pathname+O.search||R.search!==O.search||zx(M,U)})}),z=[];return p.forEach((ie,D)=>{if(a||!t.some(P=>P.route.id===ie.routeId)||h.has(D))return;let A=au(_,ie.path,x);if(!A){z.push({key:D,routeId:ie.routeId,path:ie.path,matches:null,match:null,controller:null});return}let M=e.fetchers.get(D),U=Vh(A,ie.path),I=!1;y.has(D)?I=!1:u.has(D)?(u.delete(D),I=!0):M&&M.state!=="idle"&&M.data===void 0?I=l:I=x0(U,{currentUrl:R,currentParams:e.matches[e.matches.length-1].params,nextUrl:O,nextParams:t[t.length-1].params,...r,actionResult:T,actionStatus:V,defaultShouldRevalidate:B?!1:l}),I&&z.push({key:D,routeId:ie.routeId,path:ie.path,matches:A,match:U,controller:new AbortController})}),[$,z]}function sg(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let r=e!=null&&e[n.id]!==void 0,i=t!=null&&t[n.id]!==void 0;return!r&&i?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!r&&!i}function Ux(n,e,t){let r=!e||t.route.id!==e.route.id,i=!n.hasOwnProperty(t.route.id);return r||i}function zx(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function x0(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function S0(n,e,t,r,i){let a;if(n){let h=r[n];Sn(h,`No route found to patch children into: routeId = ${n}`),h.children||(h.children=[]),a=h.children}else a=t;let l=e.filter(h=>!a.some(p=>Z2(h,p))),u=Ud(l,i,[n||"_","patch",String((a==null?void 0:a.length)||"0")],r);a.push(...u)}function Z2(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,r)=>{var i;return(i=e.children)==null?void 0:i.some(a=>Z2(t,a))}):!1}async function qx(n,e,t){if(!n.lazy)return;let r=await n.lazy();if(!n.lazy)return;let i=t[n.id];Sn(i,"No route found in manifest");let a={};for(let l in r){let h=i[l]!==void 0&&l!=="hasErrorBoundary";gi(!h,`Route "${i.id}" has a static property "${l}" defined but its lazy function is also returning a value for this property. The lazy route property "${l}" will be ignored.`),!h&&!fx.has(l)&&(a[l]=r[l])}Object.assign(i,a),Object.assign(i,{...e(i),lazy:void 0})}async function Hx({matches:n}){let e=n.filter(r=>r.shouldLoad);return(await Promise.all(e.map(r=>r.resolve()))).reduce((r,i,a)=>Object.assign(r,{[e[a].route.id]:i}),{})}async function Wx(n,e,t,r,i,a,l,u,h,p){let y=a.map(v=>v.route.lazy?qx(v.route,h,u):void 0),_=a.map((v,T)=>{let R=y[T],O=i.some(V=>V.route.id===v.route.id);return{...v,shouldLoad:O,resolve:async V=>(V&&r.method==="GET"&&(v.route.lazy||v.route.loader)&&(O=!0),O?$x(e,r,v,R,V,p):Promise.resolve({type:"data",result:void 0}))}}),x=await n({matches:_,request:r,params:a[0].params,fetcherKey:l,context:p});try{await Promise.all(y)}catch{}return x}async function $x(n,e,t,r,i,a){let l,u,h=p=>{let y,_=new Promise((T,R)=>y=R);u=()=>y(),e.signal.addEventListener("abort",u);let x=T=>typeof p!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${t.route.id}]`)):p({request:e,params:t.params,context:a},...T!==void 0?[T]:[]),v=(async()=>{try{return{type:"data",result:await(i?i(R=>x(R)):x())}}catch(T){return{type:"error",result:T}}})();return Promise.race([v,_])};try{let p=t.route[n];if(r)if(p){let y,[_]=await Promise.all([h(p).catch(x=>{y=x}),r]);if(y!==void 0)throw y;l=_}else if(await r,p=t.route[n],p)l=await h(p);else if(n==="action"){let y=new URL(e.url),_=y.pathname+y.search;throw ba(405,{method:e.method,pathname:_,routeId:t.route.id})}else return{type:"data",result:void 0};else if(p)l=await h(p);else{let y=new URL(e.url),_=y.pathname+y.search;throw ba(404,{pathname:_})}}catch(p){return{type:"error",result:p}}finally{u&&e.signal.removeEventListener("abort",u)}return l}async function Gx(n){var r,i,a,l;let{result:e,type:t}=n;if(t5(e)){let u;try{let h=e.headers.get("Content-Type");h&&/\bapplication\/json\b/.test(h)?e.body==null?u=null:u=await e.json():u=await e.text()}catch(h){return{type:"error",error:h}}return t==="error"?{type:"error",error:new qd(e.status,e.statusText,u),statusCode:e.status,headers:e.headers}:{type:"data",data:u,statusCode:e.status,headers:e.headers}}if(t==="error"){if(C0(e)){if(e.data instanceof Error)return{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status};e=new qd(((i=e.init)==null?void 0:i.status)||500,void 0,e.data)}return{type:"error",error:e,statusCode:gp(e)?e.status:void 0}}return C0(e)?{type:"data",data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(l=e.init)!=null&&l.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function Kx(n,e,t,r,i){let a=n.headers.get("Location");if(Sn(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!Zg.test(a)){let l=r.slice(0,r.findIndex(u=>u.route.id===t)+1);a=ag(new URL(e.url),l,i,a),n.headers.set("Location",a)}return n}function E0(n,e,t){if(Zg.test(n)){let r=n,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),a=ts(i.pathname,t)!=null;if(i.origin===e.origin&&a)return i.pathname+i.search+i.hash}return n}function Bc(n,e,t,r){let i=n.createURL(e5(e)).toString(),a={signal:t};if(r&&Ja(r.formMethod)){let{formMethod:l,formEncType:u}=r;a.method=l.toUpperCase(),u==="application/json"?(a.headers=new Headers({"Content-Type":u}),a.body=JSON.stringify(r.json)):u==="text/plain"?a.body=r.text:u==="application/x-www-form-urlencoded"&&r.formData?a.body=lg(r.formData):a.body=r.formData}return new Request(i,a)}function lg(n){let e=new URLSearchParams;for(let[t,r]of n.entries())e.append(t,typeof r=="string"?r:r.name);return e}function A0(n){let e=new FormData;for(let[t,r]of n.entries())e.append(t,r);return e}function Qx(n,e,t,r=!1,i=!1){let a={},l=null,u,h=!1,p={},y=t&&Qo(t[1])?t[1].error:void 0;return n.forEach(_=>{if(!(_.route.id in e))return;let x=_.route.id,v=e[x];if(Sn(!Ju(v),"Cannot handle redirect results in processLoaderData"),Qo(v)){let T=v.error;if(y!==void 0&&(T=y,y=void 0),l=l||{},i)l[x]=T;else{let R=Qu(n,x);l[R.route.id]==null&&(l[R.route.id]=T)}r||(a[x]=X2),h||(h=!0,u=gp(v.error)?v.error.status:500),v.headers&&(p[x]=v.headers)}else a[x]=v.data,v.statusCode&&v.statusCode!==200&&!h&&(u=v.statusCode),v.headers&&(p[x]=v.headers)}),y!==void 0&&t&&(l={[t[0]]:y},a[t[0]]=void 0),{loaderData:a,errors:l,statusCode:u||200,loaderHeaders:p}}function T0(n,e,t,r,i,a){let{loaderData:l,errors:u}=Qx(e,t,r);return i.forEach(h=>{let{key:p,match:y,controller:_}=h,x=a[p];if(Sn(x,"Did not find corresponding fetcher result"),!(_&&_.signal.aborted))if(Qo(x)){let v=Qu(n.matches,y==null?void 0:y.route.id);u&&u[v.route.id]||(u={...u,[v.route.id]:x.error}),n.fetchers.delete(p)}else if(Ju(x))Sn(!1,"Unhandled fetcher revalidation redirect");else{let v=ou(x.data);n.fetchers.set(p,v)}}),{loaderData:l,errors:u}}function I0(n,e,t,r){let i=Object.entries(e).filter(([,a])=>a!==X2).reduce((a,[l,u])=>(a[l]=u,a),{});for(let a of t){let l=a.route.id;if(!e.hasOwnProperty(l)&&n.hasOwnProperty(l)&&a.route.loader&&(i[l]=n[l]),r&&r.hasOwnProperty(l))break}return i}function P0(n){return n?Qo(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Qu(n,e){return(e?n.slice(0,n.findIndex(r=>r.route.id===e)+1):[...n]).reverse().find(r=>r.route.hasErrorBoundary===!0)||n[0]}function k0(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ba(n,{pathname:e,routeId:t,method:r,type:i,message:a}={}){let l="Unknown Server Error",u="Unknown @remix-run/router error";return n===400?(l="Bad Request",r&&e&&t?u=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:i==="invalid-body"&&(u="Unable to encode submission body")):n===403?(l="Forbidden",u=`Route "${t}" does not match URL "${e}"`):n===404?(l="Not Found",u=`No route matches URL "${e}"`):n===405&&(l="Method Not Allowed",r&&e&&t?u=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:r&&(u=`Invalid request method "${r.toUpperCase()}"`)),new qd(n||500,l,new Error(u),!0)}function fd(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[r,i]=e[t];if(Ju(i))return{key:r,result:i}}}function e5(n){let e=typeof n=="string"?vl(n):n;return wu({...e,hash:""})}function Yx(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function Jx(n){return t5(n.result)&&Ox.has(n.result.status)}function Qo(n){return n.type==="error"}function Ju(n){return(n&&n.type)==="redirect"}function C0(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function t5(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function Xx(n){return Dx.has(n.toUpperCase())}function Ja(n){return Lx.has(n.toUpperCase())}function ev(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Vh(n,e){let t=typeof e=="string"?vl(e).search:e.search;if(n[n.length-1].route.index&&ev(t||""))return n[n.length-1];let r=Q2(n);return r[r.length-1]}function N0(n){let{formMethod:e,formAction:t,formEncType:r,text:i,formData:a,json:l}=n;if(!(!e||!t||!r)){if(i!=null)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:void 0,text:i};if(a!=null)return{formMethod:e,formAction:t,formEncType:r,formData:a,json:void 0,text:void 0};if(l!==void 0)return{formMethod:e,formAction:t,formEncType:r,formData:void 0,json:l,text:void 0}}}function Rm(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Zx(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Oh(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function eS(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function ou(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function tS(n,e){try{let t=n.sessionStorage.getItem(J2);if(t){let r=JSON.parse(t);for(let[i,a]of Object.entries(r||{}))a&&Array.isArray(a)&&e.set(i,new Set(a||[]))}}catch{}}function nS(n,e){if(e.size>0){let t={};for(let[r,i]of e)t[r]=[...i];try{n.sessionStorage.setItem(J2,JSON.stringify(t))}catch(r){gi(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function rS(){let n,e,t=new Promise((r,i)=>{n=async a=>{r(a);try{await t}catch{}},e=async a=>{i(a);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var hc=ke.createContext(null);hc.displayName="DataRouter";var vf=ke.createContext(null);vf.displayName="DataRouterState";var tv=ke.createContext({isTransitioning:!1});tv.displayName="ViewTransition";var n5=ke.createContext(new Map);n5.displayName="Fetchers";var iS=ke.createContext(null);iS.displayName="Await";var Rs=ke.createContext(null);Rs.displayName="Navigation";var vp=ke.createContext(null);vp.displayName="Location";var yl=ke.createContext({outlet:null,matches:[],isDataRoute:!1});yl.displayName="Route";var nv=ke.createContext(null);nv.displayName="RouteError";function oS(n,{relative:e}={}){Sn(yf(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=ke.useContext(Rs),{hash:i,pathname:a,search:l}=_f(n,{relative:e}),u=a;return t!=="/"&&(u=a==="/"?t:Ts([t,a])),r.createHref({pathname:u,search:l,hash:i})}function yf(){return ke.useContext(vp)!=null}function fc(){return Sn(yf(),"useLocation() may be used only in the context of a <Router> component."),ke.useContext(vp).location}var r5="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function i5(n){ke.useContext(Rs).static||ke.useLayoutEffect(n)}function wf(){let{isDataRoute:n}=ke.useContext(yl);return n?yS():aS()}function aS(){Sn(yf(),"useNavigate() may be used only in the context of a <Router> component.");let n=ke.useContext(hc),{basename:e,navigator:t}=ke.useContext(Rs),{matches:r}=ke.useContext(yl),{pathname:i}=fc(),a=JSON.stringify(Jg(r)),l=ke.useRef(!1);return i5(()=>{l.current=!0}),ke.useCallback((h,p={})=>{if(gi(l.current,r5),!l.current)return;if(typeof h=="number"){t.go(h);return}let y=Xg(h,JSON.parse(a),i,p.relative==="path");n==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Ts([e,y.pathname])),(p.replace?t.replace:t.push)(y,p.state,p)},[e,t,a,i,n])}ke.createContext(null);function _f(n,{relative:e}={}){let{matches:t}=ke.useContext(yl),{pathname:r}=fc(),i=JSON.stringify(Jg(t));return ke.useMemo(()=>Xg(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function sS(n,e,t,r){Sn(yf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=ke.useContext(Rs),{matches:a}=ke.useContext(yl),l=a[a.length-1],u=l?l.params:{},h=l?l.pathname:"/",p=l?l.pathnameBase:"/",y=l&&l.route;{let C=y&&y.path||"";o5(h,!y||C.endsWith("*")||C.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${C}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${C}"> to <Route path="${C==="/"?"*":`${C}/*`}">.`)}let _=fc(),x;x=_;let v=x.pathname||"/",T=v;if(p!=="/"){let C=p.replace(/^\//,"").split("/");T="/"+v.replace(/^\//,"").split("/").slice(C.length).join("/")}let R=au(n,{pathname:T});return gi(y||R!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),gi(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),fS(R&&R.map(C=>Object.assign({},C,{params:Object.assign({},u,C.params),pathname:Ts([p,i.encodeLocation?i.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?p:Ts([p,i.encodeLocation?i.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),a,t,r)}function lS(){let n=vS(),e=gp(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=ke.createElement(ke.Fragment,null,ke.createElement("p",null," Hey developer "),ke.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",ke.createElement("code",{style:a},"ErrorBoundary")," or"," ",ke.createElement("code",{style:a},"errorElement")," prop on your route.")),ke.createElement(ke.Fragment,null,ke.createElement("h2",null,"Unexpected Application Error!"),ke.createElement("h3",{style:{fontStyle:"italic"}},e),t?ke.createElement("pre",{style:i},t):null,l)}var uS=ke.createElement(lS,null),cS=class extends ke.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?ke.createElement(yl.Provider,{value:this.props.routeContext},ke.createElement(nv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hS({routeContext:n,match:e,children:t}){let r=ke.useContext(hc);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),ke.createElement(yl.Provider,{value:n},t)}function fS(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,a=t==null?void 0:t.errors;if(a!=null){let h=i.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);Sn(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let l=!1,u=-1;if(t)for(let h=0;h<i.length;h++){let p=i[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=h),p.route.id){let{loaderData:y,errors:_}=t,x=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||x){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((h,p,y)=>{let _,x=!1,v=null,T=null;t&&(_=a&&p.route.id?a[p.route.id]:void 0,v=p.route.errorElement||uS,l&&(u<0&&y===0?(o5("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,T=null):u===y&&(x=!0,T=p.route.hydrateFallbackElement||null)));let R=e.concat(i.slice(0,y+1)),O=()=>{let C;return _?C=v:x?C=T:p.route.Component?C=ke.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=h,ke.createElement(hS,{match:p,routeContext:{outlet:h,matches:R,isDataRoute:t!=null},children:C})};return t&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?ke.createElement(cS,{location:t.location,revalidation:t.revalidation,component:v,error:_,children:O(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):O()},null)}function rv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dS(n){let e=ke.useContext(hc);return Sn(e,rv(n)),e}function pS(n){let e=ke.useContext(vf);return Sn(e,rv(n)),e}function mS(n){let e=ke.useContext(yl);return Sn(e,rv(n)),e}function iv(n){let e=mS(n),t=e.matches[e.matches.length-1];return Sn(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function gS(){return iv("useRouteId")}function vS(){var r;let n=ke.useContext(nv),e=pS("useRouteError"),t=iv("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function yS(){let{router:n}=dS("useNavigate"),e=iv("useNavigate"),t=ke.useRef(!1);return i5(()=>{t.current=!0}),ke.useCallback(async(i,a={})=>{gi(t.current,r5),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...a}))},[n,e])}var L0={};function o5(n,e,t){!e&&!L0[n]&&(L0[n]=!0,gi(!1,t))}var R0={};function D0(n,e){!n&&!R0[e]&&(R0[e]=!0,console.warn(e))}function wS(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&gi(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:ke.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&gi(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:ke.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&gi(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:ke.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var _S=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",t(r))}})}};function bS({router:n,flushSync:e}){let[t,r]=ke.useState(n.state),[i,a]=ke.useState(),[l,u]=ke.useState({isTransitioning:!1}),[h,p]=ke.useState(),[y,_]=ke.useState(),[x,v]=ke.useState(),T=ke.useRef(new Map),R=ke.useCallback((B,{deletedFetchers:$,flushSync:z,viewTransitionOpts:ie})=>{B.fetchers.forEach((A,M)=>{A.data!==void 0&&T.current.set(M,A.data)}),$.forEach(A=>T.current.delete(A)),D0(z===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let D=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(D0(ie==null||D,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!ie||!D){e&&z?e(()=>r(B)):ke.startTransition(()=>r(B));return}if(e&&z){e(()=>{y&&(h&&h.resolve(),y.skipTransition()),u({isTransitioning:!0,flushSync:!0,currentLocation:ie.currentLocation,nextLocation:ie.nextLocation})});let A=n.window.document.startViewTransition(()=>{e(()=>r(B))});A.finished.finally(()=>{e(()=>{p(void 0),_(void 0),a(void 0),u({isTransitioning:!1})})}),e(()=>_(A));return}y?(h&&h.resolve(),y.skipTransition(),v({state:B,currentLocation:ie.currentLocation,nextLocation:ie.nextLocation})):(a(B),u({isTransitioning:!0,flushSync:!1,currentLocation:ie.currentLocation,nextLocation:ie.nextLocation}))},[n.window,e,y,h]);ke.useLayoutEffect(()=>n.subscribe(R),[n,R]),ke.useEffect(()=>{l.isTransitioning&&!l.flushSync&&p(new _S)},[l]),ke.useEffect(()=>{if(h&&i&&n.window){let B=i,$=h.promise,z=n.window.document.startViewTransition(async()=>{ke.startTransition(()=>r(B)),await $});z.finished.finally(()=>{p(void 0),_(void 0),a(void 0),u({isTransitioning:!1})}),_(z)}},[i,h,n.window]),ke.useEffect(()=>{h&&i&&t.location.key===i.location.key&&h.resolve()},[h,y,t.location,i]),ke.useEffect(()=>{!l.isTransitioning&&x&&(a(x.state),u({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}),v(void 0))},[l.isTransitioning,x]);let O=ke.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:B=>n.navigate(B),push:(B,$,z)=>n.navigate(B,{state:$,preventScrollReset:z==null?void 0:z.preventScrollReset}),replace:(B,$,z)=>n.navigate(B,{replace:!0,state:$,preventScrollReset:z==null?void 0:z.preventScrollReset})}),[n]),C=n.basename||"/",V=ke.useMemo(()=>({router:n,navigator:O,static:!1,basename:C}),[n,O,C]);return ke.createElement(ke.Fragment,null,ke.createElement(hc.Provider,{value:V},ke.createElement(vf.Provider,{value:t},ke.createElement(n5.Provider,{value:T.current},ke.createElement(tv.Provider,{value:l},ke.createElement(ES,{basename:C,location:t.location,navigationType:t.historyAction,navigator:O},ke.createElement(xS,{routes:n.routes,future:n.future,state:t})))))),null)}var xS=ke.memo(SS);function SS({routes:n,future:e,state:t}){return sS(n,void 0,t,e)}function ES({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:a=!1}){Sn(!yf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),u=ke.useMemo(()=>({basename:l,navigator:i,static:a,future:{}}),[l,i,a]);typeof t=="string"&&(t=vl(t));let{pathname:h="/",search:p="",hash:y="",state:_=null,key:x="default"}=t,v=ke.useMemo(()=>{let T=ts(h,l);return T==null?null:{location:{pathname:T,search:p,hash:y,state:_,key:x},navigationType:r}},[l,h,p,y,_,x,r]);return gi(v!=null,`<Router basename="${l}"> is not able to match the URL "${h}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:ke.createElement(Rs.Provider,{value:u},ke.createElement(vp.Provider,{children:e,value:v}))}var Pd="get",kd="application/x-www-form-urlencoded";function yp(n){return n!=null&&typeof n.tagName=="string"}function AS(n){return yp(n)&&n.tagName.toLowerCase()==="button"}function TS(n){return yp(n)&&n.tagName.toLowerCase()==="form"}function IS(n){return yp(n)&&n.tagName.toLowerCase()==="input"}function PS(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function kS(n,e){return n.button===0&&(!e||e==="_self")&&!PS(n)}var dd=null;function CS(){if(dd===null)try{new FormData(document.createElement("form"),0),dd=!1}catch{dd=!0}return dd}var NS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dm(n){return n!=null&&!NS.has(n)?(gi(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kd}"`),null):n}function LS(n,e){let t,r,i,a,l;if(TS(n)){let u=n.getAttribute("action");r=u?ts(u,e):null,t=n.getAttribute("method")||Pd,i=Dm(n.getAttribute("enctype"))||kd,a=new FormData(n)}else if(AS(n)||IS(n)&&(n.type==="submit"||n.type==="image")){let u=n.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||u.getAttribute("action");if(r=h?ts(h,e):null,t=n.getAttribute("formmethod")||u.getAttribute("method")||Pd,i=Dm(n.getAttribute("formenctype"))||Dm(u.getAttribute("enctype"))||kd,a=new FormData(u,n),!CS()){let{name:p,type:y,value:_}=n;if(y==="image"){let x=p?`${p}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else p&&a.append(p,_)}}else{if(yp(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Pd,r=null,i=kd,l=n}return a&&i==="text/plain"&&(l=a,a=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:a,body:l}}function ov(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function RS(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function DS(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function OS(n,e,t){let r=await Promise.all(n.map(async i=>{let a=e.routes[i.route.id];if(a){let l=await RS(a,t);return l.links?l.links():[]}return[]}));return VS(r.flat(1).filter(DS).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function O0(n,e,t,r,i,a){let l=(h,p)=>t[p]?h.route.id!==t[p].route.id:!0,u=(h,p)=>{var y;return t[p].pathname!==h.pathname||((y=t[p].route.path)==null?void 0:y.endsWith("*"))&&t[p].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,p)=>l(h,p)||u(h,p)):a==="data"?e.filter((h,p)=>{var _;let y=r.routes[h.route.id];if(!y||!y.hasLoader)return!1;if(l(h,p)||u(h,p))return!0;if(h.route.shouldRevalidate){let x=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function FS(n,e){return MS(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function MS(n){return[...new Set(n)]}function jS(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function VS(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let a=JSON.stringify(jS(i));return t.has(a)||(t.add(a),r.push({key:a,link:i})),r},[])}function BS(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function US(){let n=ke.useContext(hc);return ov(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function zS(){let n=ke.useContext(vf);return ov(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var av=ke.createContext(void 0);av.displayName="FrameworkContext";function a5(){let n=ke.useContext(av);return ov(n,"You must render this element inside a <HydratedRouter> element"),n}function qS(n,e){let t=ke.useContext(av),[r,i]=ke.useState(!1),[a,l]=ke.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,x=ke.useRef(null);ke.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let R=C=>{C.forEach(V=>{l(V.isIntersecting)})},O=new IntersectionObserver(R,{threshold:.5});return x.current&&O.observe(x.current),()=>{O.disconnect()}}},[n]),ke.useEffect(()=>{if(r){let R=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(R)}}},[r]);let v=()=>{i(!0)},T=()=>{i(!1),l(!1)};return t?n!=="intent"?[a,x,{}]:[a,x,{onFocus:Fh(u,v),onBlur:Fh(h,T),onMouseEnter:Fh(p,v),onMouseLeave:Fh(y,T),onTouchStart:Fh(_,v)}]:[!1,x,{}]}function Fh(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function HS({page:n,...e}){let{router:t}=US(),r=ke.useMemo(()=>au(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?ke.createElement($S,{page:n,matches:r,...e}):null}function WS(n){let{manifest:e,routeModules:t}=a5(),[r,i]=ke.useState([]);return ke.useEffect(()=>{let a=!1;return OS(n,e,t).then(l=>{a||i(l)}),()=>{a=!0}},[n,e,t]),r}function $S({page:n,matches:e,...t}){let r=fc(),{manifest:i,routeModules:a}=a5(),{loaderData:l,matches:u}=zS(),h=ke.useMemo(()=>O0(n,e,u,i,r,"data"),[n,e,u,i,r]),p=ke.useMemo(()=>O0(n,e,u,i,r,"assets"),[n,e,u,i,r]),y=ke.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let v=new Set,T=!1;if(e.forEach(O=>{var V;let C=i.routes[O.route.id];!C||!C.hasLoader||(!h.some(B=>B.route.id===O.route.id)&&O.route.id in l&&((V=a[O.route.id])!=null&&V.shouldRevalidate)||C.hasClientLoader?T=!0:v.add(O.route.id))}),v.size===0)return[];let R=BS(n);return T&&v.size>0&&R.searchParams.set("_routes",e.filter(O=>v.has(O.route.id)).map(O=>O.route.id).join(",")),[R.pathname+R.search]},[l,r,i,h,e,n,a]),_=ke.useMemo(()=>FS(p,i),[p,i]),x=WS(p);return ke.createElement(ke.Fragment,null,y.map(v=>ke.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...t})),_.map(v=>ke.createElement("link",{key:v,rel:"modulepreload",href:v,...t})),x.map(({key:v,link:T})=>ke.createElement("link",{key:v,...T})))}function GS(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var s5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{s5&&(window.__reactRouterVersion="7.1.3")}catch{}function KS(n,e){return Vx({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:ux({window:e==null?void 0:e.window}),hydrationData:QS(),routes:n,mapRouteProperties:wS,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function QS(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:YS(n.errors)}),n}function YS(n){if(!n)return null;let e=Object.entries(n),t={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")t[r]=new qd(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let l=new a(i.message);l.stack="",t[r]=l}catch{}}if(t[r]==null){let a=new Error(i.message);a.stack="",t[r]=a}}else t[r]=i;return t}var l5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,u5=ke.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:a,replace:l,state:u,target:h,to:p,preventScrollReset:y,viewTransition:_,...x},v){let{basename:T}=ke.useContext(Rs),R=typeof p=="string"&&l5.test(p),O,C=!1;if(typeof p=="string"&&R&&(O=p,s5))try{let M=new URL(window.location.href),U=p.startsWith("//")?new URL(M.protocol+p):new URL(p),I=ts(U.pathname,T);U.origin===M.origin&&I!=null?p=I+U.search+U.hash:C=!0}catch{gi(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let V=oS(p,{relative:i}),[B,$,z]=qS(r,x),ie=eE(p,{replace:l,state:u,target:h,preventScrollReset:y,relative:i,viewTransition:_});function D(M){e&&e(M),M.defaultPrevented||ie(M)}let A=ke.createElement("a",{...x,...z,href:O||V,onClick:C||a?e:D,ref:GS(v,$),target:h,"data-discover":!R&&t==="render"?"true":void 0});return B&&!R?ke.createElement(ke.Fragment,null,A,ke.createElement(HS,{page:V})):A});u5.displayName="Link";var JS=ke.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:a,to:l,viewTransition:u,children:h,...p},y){let _=_f(l,{relative:p.relative}),x=fc(),v=ke.useContext(vf),{navigator:T,basename:R}=ke.useContext(Rs),O=v!=null&&oE(_)&&u===!0,C=T.encodeLocation?T.encodeLocation(_).pathname:_.pathname,V=x.pathname,B=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;t||(V=V.toLowerCase(),B=B?B.toLowerCase():null,C=C.toLowerCase()),B&&R&&(B=ts(B,R)||B);const $=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let z=V===C||!i&&V.startsWith(C)&&V.charAt($)==="/",ie=B!=null&&(B===C||!i&&B.startsWith(C)&&B.charAt(C.length)==="/"),D={isActive:z,isPending:ie,isTransitioning:O},A=z?e:void 0,M;typeof r=="function"?M=r(D):M=[r,z?"active":null,ie?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let U=typeof a=="function"?a(D):a;return ke.createElement(u5,{...p,"aria-current":A,className:M,ref:y,style:U,to:l,viewTransition:u},typeof h=="function"?h(D):h)});JS.displayName="NavLink";var XS=ke.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:a,method:l=Pd,action:u,onSubmit:h,relative:p,preventScrollReset:y,viewTransition:_,...x},v)=>{let T=rE(),R=iE(u,{relative:p}),O=l.toLowerCase()==="get"?"get":"post",C=typeof u=="string"&&l5.test(u),V=B=>{if(h&&h(B),B.defaultPrevented)return;B.preventDefault();let $=B.nativeEvent.submitter,z=($==null?void 0:$.getAttribute("formmethod"))||l;T($||B.currentTarget,{fetcherKey:e,method:z,navigate:t,replace:i,state:a,relative:p,preventScrollReset:y,viewTransition:_})};return ke.createElement("form",{ref:v,method:O,action:R,onSubmit:r?h:V,...x,"data-discover":!C&&n==="render"?"true":void 0})});XS.displayName="Form";function ZS(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function c5(n){let e=ke.useContext(hc);return Sn(e,ZS(n)),e}function eE(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:l}={}){let u=wf(),h=fc(),p=_f(n,{relative:a});return ke.useCallback(y=>{if(kS(y,e)){y.preventDefault();let _=t!==void 0?t:wu(h)===wu(p);u(n,{replace:_,state:r,preventScrollReset:i,relative:a,viewTransition:l})}},[h,u,p,t,r,e,n,i,a,l])}var tE=0,nE=()=>`__${String(++tE)}__`;function rE(){let{router:n}=c5("useSubmit"),{basename:e}=ke.useContext(Rs),t=gS();return ke.useCallback(async(r,i={})=>{let{action:a,method:l,encType:u,formData:h,body:p}=LS(r,e);if(i.navigate===!1){let y=i.fetcherKey||nE();await n.fetch(y,t,i.action||a,{preventScrollReset:i.preventScrollReset,formData:h,body:p,formMethod:i.method||l,formEncType:i.encType||u,flushSync:i.flushSync})}else await n.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:h,body:p,formMethod:i.method||l,formEncType:i.encType||u,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function iE(n,{relative:e}={}){let{basename:t}=ke.useContext(Rs),r=ke.useContext(yl);Sn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={..._f(n||".",{relative:e})},l=fc();if(n==null){a.search=l.search;let u=new URLSearchParams(a.search),h=u.getAll("index");if(h.some(y=>y==="")){u.delete("index"),h.filter(_=>_).forEach(_=>u.append("index",_));let y=u.toString();a.search=y?`?${y}`:""}}return(!n||n===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Ts([t,a.pathname])),wu(a)}function oE(n,e={}){let t=ke.useContext(tv);Sn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=c5("useViewTransitionState"),i=_f(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=ts(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=ts(t.nextLocation.pathname,r)||t.nextLocation.pathname;return zd(i.pathname,l)!=null||zd(i.pathname,a)!=null}new TextEncoder;var aE=$2();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sE(n){return ke.createElement(bS,{flushSync:aE.flushSync,...n})}const ug=({type:n,placeholder:e,icon:t,value:r,onChange:i,id:a})=>tt.jsxs("div",{className:"input-form",children:[tt.jsx("span",{children:tt.jsx("i",{className:t})}),tt.jsx("input",{type:n,placeholder:e,value:r,onChange:i,id:a,required:!0,autoComplete:"off",minLength:n==="password"?6:void 0})]}),F0=({onSubmit:n,error:e,email:t,setEmail:r,password:i,setPassword:a})=>{const l=()=>{!t||!i?setError("Please fill in all fields"):n()};return tt.jsxs("div",{className:"form",children:[tt.jsxs("form",{children:[tt.jsx(ug,{type:"text",placeholder:"Email",value:t,onChange:u=>r(u.target.value),icon:"fas fa-envelope"}),tt.jsx(ug,{type:"password",placeholder:"Password",value:i,onChange:u=>a(u.target.value),icon:"fa-solid fa-lock"})]}),e&&tt.jsx("div",{className:"error",children:e}),tt.jsx("div",{id:"goBtn",onClick:l,children:"Go"})]})},lE=(n,e)=>{localStorage.setItem("userName",n),localStorage.setItem("userID",e)};var M0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h5=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},uE=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=n[t++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=n[t++],l=n[t++],u=n[t++],h=((i&7)<<18|(a&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},f5={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const a=n[i],l=i+1<n.length,u=l?n[i+1]:0,h=i+2<n.length,p=h?n[i+2]:0,y=a>>2,_=(a&3)<<4|u>>4;let x=(u&15)<<2|p>>6,v=p&63;h||(v=64,l||(x=64)),r.push(t[y],t[_],t[x],t[v])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(h5(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):uE(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const a=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const _=i<n.length?t[n.charAt(i)]:64;if(++i,a==null||u==null||p==null||_==null)throw new cE;const x=a<<2|u>>4;if(r.push(x),p!==64){const v=u<<4&240|p>>2;if(r.push(v),_!==64){const T=p<<6&192|_;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class cE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hE=function(n){const e=h5(n);return f5.encodeByteArray(e,!0)},Hd=function(n){return hE(n).replace(/\./g,"")},d5=function(n){try{return f5.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=()=>fE().__FIREBASE_DEFAULTS__,pE=()=>{if(typeof process>"u"||typeof M0>"u")return;const n=M0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},mE=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&d5(n[1]);return e&&JSON.parse(e)},wp=()=>{try{return dE()||pE()||mE()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},p5=n=>{var e,t;return(t=(e=wp())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},gE=n=>{const e=p5(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},m5=()=>{var n;return(n=wp())===null||n===void 0?void 0:n.config},g5=n=>{var e;return(e=wp())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Hd(JSON.stringify(t)),Hd(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function wE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(eo())}function _E(){var n;const e=(n=wp())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bE(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function xE(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function SE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EE(){const n=eo();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function AE(){return!_E()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TE(){try{return typeof indexedDB=="object"}catch{return!1}}function IE(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE="FirebaseError";class wl extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=PE,Object.setPrototypeOf(this,wl.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bf.prototype.create)}}class bf{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?kE(a,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new wl(i,u,r)}}function kE(n,e){return n.replace(CE,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const CE=/\{\$([^}]+)}/g;function NE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Wd(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const a=n[i],l=e[i];if(j0(a)&&j0(l)){if(!Wd(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function j0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xf(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Bh(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Uh(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function LE(n,e){const t=new RE(n,e);return t.subscribe.bind(t)}class RE{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");DE(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Om),i.error===void 0&&(i.error=Om),i.complete===void 0&&(i.complete=Om);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DE(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Om(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(n){return n&&n._delegate?n._delegate:n}class ac{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new vE;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ME(e))try{this.getOrInitializeService({instanceIdentifier:Gu})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Gu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gu){return this.instances.has(e)}getOptions(e=Gu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(a);r===u&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FE(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gu){return this.component?this.component.multipleInstances?e:Gu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FE(n){return n===Gu?void 0:n}function ME(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new OE(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(wn||(wn={}));const VE={debug:wn.DEBUG,verbose:wn.VERBOSE,info:wn.INFO,warn:wn.WARN,error:wn.ERROR,silent:wn.SILENT},BE=wn.INFO,UE={[wn.DEBUG]:"log",[wn.VERBOSE]:"log",[wn.INFO]:"info",[wn.WARN]:"warn",[wn.ERROR]:"error"},zE=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=UE[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sv{constructor(e){this.name=e,this._logLevel=BE,this._logHandler=zE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in wn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,wn.DEBUG,...e),this._logHandler(this,wn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,wn.VERBOSE,...e),this._logHandler(this,wn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,wn.INFO,...e),this._logHandler(this,wn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,wn.WARN,...e),this._logHandler(this,wn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,wn.ERROR,...e),this._logHandler(this,wn.ERROR,...e)}}const qE=(n,e)=>e.some(t=>n instanceof t);let V0,B0;function HE(){return V0||(V0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WE(){return B0||(B0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const v5=new WeakMap,cg=new WeakMap,y5=new WeakMap,Fm=new WeakMap,lv=new WeakMap;function $E(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(du(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&v5.set(t,n)}).catch(()=>{}),lv.set(e,n),e}function GE(n){if(cg.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});cg.set(n,e)}let hg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return cg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||y5.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return du(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function KE(n){hg=n(hg)}function QE(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Mm(this),e,...t);return y5.set(r,e.sort?e.sort():[e]),du(r)}:WE().includes(n)?function(...e){return n.apply(Mm(this),e),du(v5.get(this))}:function(...e){return du(n.apply(Mm(this),e))}}function YE(n){return typeof n=="function"?QE(n):(n instanceof IDBTransaction&&GE(n),qE(n,HE())?new Proxy(n,hg):n)}function du(n){if(n instanceof IDBRequest)return $E(n);if(Fm.has(n))return Fm.get(n);const e=YE(n);return e!==n&&(Fm.set(n,e),lv.set(e,n)),e}const Mm=n=>lv.get(n);function JE(n,e,{blocked:t,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(n,e),u=du(l);return r&&l.addEventListener("upgradeneeded",h=>{r(du(l.result),h.oldVersion,h.newVersion,du(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),u.then(h=>{a&&h.addEventListener("close",()=>a()),i&&h.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const XE=["get","getKey","getAll","getAllKeys","count"],ZE=["put","add","delete","clear"],jm=new Map;function U0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(jm.get(e))return jm.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=ZE.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||XE.includes(t)))return;const a=async function(l,...u){const h=this.transaction(l,i?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(u.shift())),(await Promise.all([p[t](...u),i&&h.done]))[0]};return jm.set(e,a),a}KE(n=>({...n,get:(e,t,r)=>U0(e,t)||n.get(e,t,r),has:(e,t)=>!!U0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(t4(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function t4(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fg="@firebase/app",z0="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl=new sv("@firebase/app"),n4="@firebase/app-compat",r4="@firebase/analytics-compat",i4="@firebase/analytics",o4="@firebase/app-check-compat",a4="@firebase/app-check",s4="@firebase/auth",l4="@firebase/auth-compat",u4="@firebase/database",c4="@firebase/data-connect",h4="@firebase/database-compat",f4="@firebase/functions",d4="@firebase/functions-compat",p4="@firebase/installations",m4="@firebase/installations-compat",g4="@firebase/messaging",v4="@firebase/messaging-compat",y4="@firebase/performance",w4="@firebase/performance-compat",_4="@firebase/remote-config",b4="@firebase/remote-config-compat",x4="@firebase/storage",S4="@firebase/storage-compat",E4="@firebase/firestore",A4="@firebase/vertexai",T4="@firebase/firestore-compat",I4="firebase",P4="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="[DEFAULT]",k4={[fg]:"fire-core",[n4]:"fire-core-compat",[i4]:"fire-analytics",[r4]:"fire-analytics-compat",[a4]:"fire-app-check",[o4]:"fire-app-check-compat",[s4]:"fire-auth",[l4]:"fire-auth-compat",[u4]:"fire-rtdb",[c4]:"fire-data-connect",[h4]:"fire-rtdb-compat",[f4]:"fire-fn",[d4]:"fire-fn-compat",[p4]:"fire-iid",[m4]:"fire-iid-compat",[g4]:"fire-fcm",[v4]:"fire-fcm-compat",[y4]:"fire-perf",[w4]:"fire-perf-compat",[_4]:"fire-rc",[b4]:"fire-rc-compat",[x4]:"fire-gcs",[S4]:"fire-gcs-compat",[E4]:"fire-fst",[T4]:"fire-fst-compat",[A4]:"fire-vertex","fire-js":"fire-js",[I4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $d=new Map,C4=new Map,pg=new Map;function q0(n,e){try{n.container.addComponent(e)}catch(t){fl.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Zc(n){const e=n.name;if(pg.has(e))return fl.debug(`There were multiple attempts to register component ${e}.`),!1;pg.set(e,n);for(const t of $d.values())q0(t,n);for(const t of C4.values())q0(t,n);return!0}function uv(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Yo(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pu=new bf("app","Firebase",N4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ac("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=P4;function w5(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:dg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw pu.create("bad-app-name",{appName:String(i)});if(t||(t=m5()),!t)throw pu.create("no-options");const a=$d.get(i);if(a){if(Wd(t,a.options)&&Wd(r,a.config))return a;throw pu.create("duplicate-app",{appName:i})}const l=new jE(i);for(const h of pg.values())l.addComponent(h);const u=new L4(t,r,l);return $d.set(i,u),u}function _5(n=dg){const e=$d.get(n);if(!e&&n===dg&&m5())return w5();if(!e)throw pu.create("no-app",{appName:n});return e}function mu(n,e,t){var r;let i=(r=k4[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const u=[`Unable to register library "${i}" with version "${e}":`];a&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fl.warn(u.join(" "));return}Zc(new ac(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4="firebase-heartbeat-database",D4=1,of="firebase-heartbeat-store";let Vm=null;function b5(){return Vm||(Vm=JE(R4,D4,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(of)}catch(t){console.warn(t)}}}}).catch(n=>{throw pu.create("idb-open",{originalErrorMessage:n.message})})),Vm}async function O4(n){try{const t=(await b5()).transaction(of),r=await t.objectStore(of).get(x5(n));return await t.done,r}catch(e){if(e instanceof wl)fl.warn(e.message);else{const t=pu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fl.warn(t.message)}}}async function H0(n,e){try{const r=(await b5()).transaction(of,"readwrite");await r.objectStore(of).put(e,x5(n)),await r.done}catch(t){if(t instanceof wl)fl.warn(t.message);else{const r=pu.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});fl.warn(r.message)}}}function x5(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=1024,M4=30;class j4{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new B4(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=W0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>M4){const l=U4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){fl.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=W0(),{heartbeatsToSend:r,unsentEntries:i}=V4(this._heartbeatsCache.heartbeats),a=Hd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return fl.warn(t),""}}}function W0(){return new Date().toISOString().substring(0,10)}function V4(n,e=F4){const t=[];let r=n.slice();for(const i of n){const a=t.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),$0(t)>e){a.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),$0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class B4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TE()?IE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await O4(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return H0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return H0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function $0(n){return Hd(JSON.stringify({version:2,heartbeats:n})).length}function U4(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(n){Zc(new ac("platform-logger",e=>new e4(e),"PRIVATE")),Zc(new ac("heartbeat",e=>new j4(e),"PRIVATE")),mu(fg,z0,n),mu(fg,z0,"esm2017"),mu("fire-js","")}z4("");function cv(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function dc(n,e,t,r){function i(a){return a instanceof t?a:new t(function(l){l(a)})}return new(t||(t=Promise))(function(a,l){function u(y){try{p(r.next(y))}catch(_){l(_)}}function h(y){try{p(r.throw(y))}catch(_){l(_)}}function p(y){y.done?a(y.value):i(y.value).then(u,h)}p((r=r.apply(n,e||[])).next())})}function S5(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const q4=S5,E5=new bf("auth","Firebase",S5());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd=new sv("@firebase/auth");function H4(n,...e){Gd.logLevel<=wn.WARN&&Gd.warn(`Auth (${lh}): ${n}`,...e)}function Cd(n,...e){Gd.logLevel<=wn.ERROR&&Gd.error(`Auth (${lh}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(n,...e){throw fv(n,...e)}function Za(n,...e){return fv(n,...e)}function hv(n,e,t){const r=Object.assign(Object.assign({},q4()),{[e]:t});return new bf("auth","Firebase",r).create(e,{appName:n.name})}function cl(n){return hv(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function W4(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Sa(n,"argument-error"),hv(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function fv(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return E5.create(n,...e)}function Qt(n,e,...t){if(!n)throw fv(e,...t)}function sl(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Cd(e),new Error(e)}function dl(n,e){n||sl(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function $4(){return G0()==="http:"||G0()==="https:"}function G0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($4()||xE()||"connection"in navigator)?navigator.onLine:!0}function K4(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,t){this.shortDelay=e,this.longDelay=t,dl(t>e,"Short delay should be less than long delay!"),this.isMobile=wE()||SE()}get(){return G4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(n,e){dl(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A5{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sl("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sl("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sl("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=new Sf(3e4,6e4);function _l(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function bl(n,e,t,r,i={}){return T5(n,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const u=xf(Object.assign({key:n.config.apiKey},l)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:h},a);return bE()||(p.referrerPolicy="no-referrer"),A5.fetch()(I5(n,n.config.apiHost,t,u),p)})}async function T5(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},Q4),e);try{const i=new X4(n),a=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw pd(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const u=a.ok?l.errorMessage:l.error.message,[h,p]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw pd(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw pd(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw pd(n,"user-disabled",l);const y=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw hv(n,y,p);Sa(n,y)}}catch(i){if(i instanceof wl)throw i;Sa(n,"network-request-failed",{message:String(i)})}}async function Ef(n,e,t,r,i={}){const a=await bl(n,e,t,r,i);return"mfaPendingCredential"in a&&Sa(n,"multi-factor-auth-required",{_serverResponse:a}),a}function I5(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?dv(n.config,i):`${n.config.apiScheme}://${i}`}function J4(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class X4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Za(this.auth,"network-request-failed")),Y4.get())})}}function pd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Za(n,e,r);return i.customData._tokenResponse=t,i}function K0(n){return n!==void 0&&n.enterprise!==void 0}class Z4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return J4(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function e3(n,e){return bl(n,"GET","/v2/recaptchaConfig",_l(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t3(n,e){return bl(n,"POST","/v1/accounts:delete",e)}async function P5(n,e){return bl(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function n3(n,e=!1){const t=Zo(n),r=await t.getIdToken(e),i=pv(r);Qt(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:$h(Bm(i.auth_time)),issuedAtTime:$h(Bm(i.iat)),expirationTime:$h(Bm(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Bm(n){return Number(n)*1e3}function pv(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Cd("JWT malformed, contained fewer than 3 sections"),null;try{const i=d5(t);return i?JSON.parse(i):(Cd("Failed to decode base64 JWT payload"),null)}catch(i){return Cd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Q0(n){const e=pv(n);return Qt(e,"internal-error"),Qt(typeof e.exp<"u","internal-error"),Qt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function af(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof wl&&r3(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function r3({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=$h(this.lastLoginAt),this.creationTime=$h(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kd(n){var e;const t=n.auth,r=await n.getIdToken(),i=await af(n,P5(t,{idToken:r}));Qt(i==null?void 0:i.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?k5(a.providerUserInfo):[],u=a3(n.providerData,l),h=n.isAnonymous,p=!(n.email&&a.passwordHash)&&!(u!=null&&u.length),y=h?p:!1,_={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:u,metadata:new gg(a.createdAt,a.lastLoginAt),isAnonymous:y};Object.assign(n,_)}async function o3(n){const e=Zo(n);await Kd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function a3(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function k5(n){return n.map(e=>{var{providerId:t}=e,r=cv(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s3(n,e){const t=await T5(n,{},async()=>{const r=xf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,l=I5(n,i,"/v1/token",`key=${a}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",A5.fetch()(l,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function l3(n,e){return bl(n,"POST","/v2/accounts:revokeToken",_l(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Qt(e.idToken,"internal-error"),Qt(typeof e.idToken<"u","internal-error"),Qt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Q0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Qt(e.length!==0,"internal-error");const t=Q0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Qt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:a}=await s3(e,t);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,l=new Qc;return r&&(Qt(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Qt(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Qt(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Qc,this.toJSON())}_performRefresh(){return sl("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nu(n,e){Qt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ll{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,a=cv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new i3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new gg(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await af(this,this.stsTokenManager.getToken(this.auth,e));return Qt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return n3(this,e)}reload(){return o3(this)}_assign(e){this!==e&&(Qt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ll(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Qt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Kd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yo(this.auth.app))return Promise.reject(cl(this.auth));const e=await this.getIdToken();return await af(this,t3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,a,l,u,h,p,y;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,x=(i=t.email)!==null&&i!==void 0?i:void 0,v=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,T=(l=t.photoURL)!==null&&l!==void 0?l:void 0,R=(u=t.tenantId)!==null&&u!==void 0?u:void 0,O=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,C=(p=t.createdAt)!==null&&p!==void 0?p:void 0,V=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:B,emailVerified:$,isAnonymous:z,providerData:ie,stsTokenManager:D}=t;Qt(B&&D,e,"internal-error");const A=Qc.fromJSON(this.name,D);Qt(typeof B=="string",e,"internal-error"),nu(_,e.name),nu(x,e.name),Qt(typeof $=="boolean",e,"internal-error"),Qt(typeof z=="boolean",e,"internal-error"),nu(v,e.name),nu(T,e.name),nu(R,e.name),nu(O,e.name),nu(C,e.name),nu(V,e.name);const M=new ll({uid:B,auth:e,email:x,emailVerified:$,displayName:_,isAnonymous:z,photoURL:T,phoneNumber:v,tenantId:R,stsTokenManager:A,createdAt:C,lastLoginAt:V});return ie&&Array.isArray(ie)&&(M.providerData=ie.map(U=>Object.assign({},U))),O&&(M._redirectEventId=O),M}static async _fromIdTokenResponse(e,t,r=!1){const i=new Qc;i.updateFromServerResponse(t);const a=new ll({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Kd(a),a}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Qt(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?k5(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),u=new Qc;u.updateFromIdToken(r);const h=new ll({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new gg(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0=new Map;function ul(n){dl(n instanceof Function,"Expected a class definition");let e=Y0.get(n);return e?(dl(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Y0.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}C5.type="NONE";const J0=C5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(n,e,t){return`firebase:${n}:${e}:${t}`}class Yc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Nd(this.userKey,i.apiKey,a),this.fullPersistenceKey=Nd("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ll._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Yc(ul(J0),e,r);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||ul(J0);const l=Nd(r,e.config.apiKey,e.name);let u=null;for(const p of t)try{const y=await p._get(l);if(y){const _=ll._fromJSON(e,y);p!==a&&(u=_),a=p;break}}catch{}const h=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Yc(a,e,r):(a=h[0],u&&await a._set(l,u.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new Yc(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(D5(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(N5(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(F5(e))return"Blackberry";if(M5(e))return"Webos";if(L5(e))return"Safari";if((e.includes("chrome/")||R5(e))&&!e.includes("edge/"))return"Chrome";if(O5(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function N5(n=eo()){return/firefox\//i.test(n)}function L5(n=eo()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function R5(n=eo()){return/crios\//i.test(n)}function D5(n=eo()){return/iemobile/i.test(n)}function O5(n=eo()){return/android/i.test(n)}function F5(n=eo()){return/blackberry/i.test(n)}function M5(n=eo()){return/webos/i.test(n)}function mv(n=eo()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function u3(n=eo()){var e;return mv(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function c3(){return EE()&&document.documentMode===10}function j5(n=eo()){return mv(n)||O5(n)||M5(n)||F5(n)||/windows phone/i.test(n)||D5(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V5(n,e=[]){let t;switch(n){case"Browser":t=X0(eo());break;case"Worker":t=`${X0(eo())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${lh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,u)=>{try{const h=e(a);l(h)}catch(h){u(h)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f3(n,e={}){return bl(n,"GET","/v2/passwordPolicy",_l(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3=6;class p3{constructor(e){var t,r,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:d3,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,a,l,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Z0(this),this.idTokenSubscription=new Z0(this),this.beforeStateQueue=new h3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=E5,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ul(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Yc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await P5(this,{idToken:e}),r=await ll._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Yo(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&(h!=null&&h.user)&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Qt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Kd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=K4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yo(this.app))return Promise.reject(cl(this));const t=e?Zo(e):null;return t&&Qt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Qt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yo(this.app)?Promise.reject(cl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yo(this.app)?Promise.reject(cl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ul(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await f3(this),t=new p3(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new bf("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await l3(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ul(e)||this._popupRedirectResolver;Qt(t,this,"argument-error"),this.redirectPersistenceManager=await Yc.create(this,[ul(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Qt(u,this,"internal-error"),u.then(()=>{l||a(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Qt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=V5(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Yo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&H4(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function xl(n){return Zo(n)}class Z0{constructor(e){this.auth=e,this.observer=null,this.addObserver=LE(t=>this.observer=t)}get next(){return Qt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _p={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function g3(n){_p=n}function B5(n){return _p.loadJS(n)}function v3(){return _p.recaptchaEnterpriseScript}function y3(){return _p.gapiScript}function w3(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class _3{constructor(){this.enterprise=new b3}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class b3{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const x3="recaptcha-enterprise",U5="NO_RECAPTCHA";class S3{constructor(e){this.type=x3,this.auth=xl(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,u)=>{e3(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const p=new Z4(h);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(h=>{u(h)})})}function i(a,l,u){const h=window.grecaptcha;K0(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(U5)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new _3().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(u=>{if(!t&&K0(window.grecaptcha))i(u,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=v3();h.length!==0&&(h+=u),B5(h).then(()=>{i(u,a,l)}).catch(p=>{l(p)})}}).catch(u=>{l(u)})})}}async function ey(n,e,t,r=!1,i=!1){const a=new S3(n);let l;if(i)l=U5;else try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,p=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Qd(n,e,t,r,i){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await ey(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await ey(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(n,e){const t=uv(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),a=t.getOptions();if(Wd(a,e??{}))return i;Sa(i,"already-initialized")}return t.initialize({options:e})}function A3(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(ul);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function T3(n,e,t){const r=xl(n);Qt(r._canInitEmulator,r,"emulator-config-failed"),Qt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=z5(e),{host:l,port:u}=I3(e),h=u===null?"":`:${u}`;r.config.emulator={url:`${a}//${l}${h}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),P3()}function z5(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function I3(n){const e=z5(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:ty(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:ty(l)}}}function ty(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function P3(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return sl("not implemented")}_getIdTokenResponse(e){return sl("not implemented")}_linkToIdToken(e,t){return sl("not implemented")}_getReauthenticationResolver(e){return sl("not implemented")}}async function k3(n,e){return bl(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C3(n,e){return Ef(n,"POST","/v1/accounts:signInWithPassword",_l(n,e))}async function q5(n,e){return bl(n,"POST","/v1/accounts:sendOobCode",_l(n,e))}async function N3(n,e){return q5(n,e)}async function L3(n,e){return q5(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R3(n,e){return Ef(n,"POST","/v1/accounts:signInWithEmailLink",_l(n,e))}async function D3(n,e){return Ef(n,"POST","/v1/accounts:signInWithEmailLink",_l(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf extends gv{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new sf(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new sf(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qd(e,t,"signInWithPassword",C3);case"emailLink":return R3(e,{email:this._email,oobCode:this._password});default:Sa(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qd(e,r,"signUpPassword",k3);case"emailLink":return D3(e,{idToken:t,email:this._email,oobCode:this._password});default:Sa(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jc(n,e){return Ef(n,"POST","/v1/accounts:signInWithIdp",_l(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O3="http://localhost";class sc extends gv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new sc(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Sa("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,a=cv(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new sc(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Jc(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Jc(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Jc(e,t)}buildRequest(){const e={requestUri:O3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=xf(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F3(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function M3(n){const e=Bh(Uh(n)).link,t=e?Bh(Uh(e)).deep_link_id:null,r=Bh(Uh(n)).deep_link_id;return(r?Bh(Uh(r)).link:null)||r||t||e||n}class vv{constructor(e){var t,r,i,a,l,u;const h=Bh(Uh(e)),p=(t=h.apiKey)!==null&&t!==void 0?t:null,y=(r=h.oobCode)!==null&&r!==void 0?r:null,_=F3((i=h.mode)!==null&&i!==void 0?i:null);Qt(p&&y&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=y,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=h.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(u=h.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=M3(e);try{return new vv(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(){this.providerId=uh.PROVIDER_ID}static credential(e,t){return sf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=vv.parseLink(t);return Qt(r,"argument-error"),sf._fromEmailAndCode(e,r.code,r.tenantId)}}uh.PROVIDER_ID="password";uh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";uh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af extends yv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends Af{constructor(){super("facebook.com")}static credential(e){return sc._fromParams({providerId:su.PROVIDER_ID,signInMethod:su.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return su.credentialFromTaggedObject(e)}static credentialFromError(e){return su.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return su.credential(e.oauthAccessToken)}catch{return null}}}su.FACEBOOK_SIGN_IN_METHOD="facebook.com";su.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al extends Af{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return sc._fromParams({providerId:al.PROVIDER_ID,signInMethod:al.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return al.credentialFromTaggedObject(e)}static credentialFromError(e){return al.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return al.credential(t,r)}catch{return null}}}al.GOOGLE_SIGN_IN_METHOD="google.com";al.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends Af{constructor(){super("github.com")}static credential(e){return sc._fromParams({providerId:lu.PROVIDER_ID,signInMethod:lu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lu.credentialFromTaggedObject(e)}static credentialFromError(e){return lu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return lu.credential(e.oauthAccessToken)}catch{return null}}}lu.GITHUB_SIGN_IN_METHOD="github.com";lu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends Af{constructor(){super("twitter.com")}static credential(e,t){return sc._fromParams({providerId:uu.PROVIDER_ID,signInMethod:uu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return uu.credentialFromTaggedObject(e)}static credentialFromError(e){return uu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return uu.credential(t,r)}catch{return null}}}uu.TWITTER_SIGN_IN_METHOD="twitter.com";uu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j3(n,e){return Ef(n,"POST","/v1/accounts:signUp",_l(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const a=await ll._fromIdTokenResponse(e,r,i),l=ny(r);return new lc({user:a,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=ny(r);return new lc({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function ny(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd extends wl{constructor(e,t,r,i){var a;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Yd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Yd(e,t,r,i)}}function H5(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Yd._fromErrorAndOperation(n,a,e,r):a})}async function V3(n,e,t=!1){const r=await af(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return lc._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B3(n,e,t=!1){const{auth:r}=n;if(Yo(r.app))return Promise.reject(cl(r));const i="reauthenticate";try{const a=await af(n,H5(r,i,e,n),t);Qt(a.idToken,r,"internal-error");const l=pv(a.idToken);Qt(l,r,"internal-error");const{sub:u}=l;return Qt(n.uid===u,r,"user-mismatch"),lc._forOperation(n,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Sa(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W5(n,e,t=!1){if(Yo(n.app))return Promise.reject(cl(n));const r="signIn",i=await H5(n,r,e),a=await lc._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(a.user),a}async function U3(n,e){return W5(xl(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $5(n){const e=xl(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function z3(n,e,t){const r=xl(n);await Qd(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",L3)}async function q3(n,e,t){if(Yo(n.app))return Promise.reject(cl(n));const r=xl(n),l=await Qd(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",j3).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&$5(n),h}),u=await lc._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function H3(n,e,t){return Yo(n.app)?Promise.reject(cl(n)):U3(Zo(n),uh.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&$5(n),r})}async function W3(n,e){const t=Zo(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:a}=await N3(t.auth,i);a!==n.email&&await n.reload()}function $3(n,e,t,r){return Zo(n).onIdTokenChanged(e,t,r)}function G3(n,e,t){return Zo(n).beforeAuthStateChanged(e,t)}const Jd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Jd,"1"),this.storage.removeItem(Jd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K3=1e3,Q3=10;class K5 extends G5{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=j5(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);c3()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Q3):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},K3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}K5.type="LOCAL";const Y3=K5;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5 extends G5{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Q5.type="SESSION";const Y5=Q5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J3(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new bp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:a}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async p=>p(t.origin,a)),h=await J3(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((u,h)=>{const p=wv("",20);i.port1.start();const y=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(_){const x=_;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(y),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),u(x.data.response);break;default:clearTimeout(y),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(){return window}function Z3(n){Is().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J5(){return typeof Is().WorkerGlobalScope<"u"&&typeof Is().importScripts=="function"}async function eA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function tA(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function nA(){return J5()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5="firebaseLocalStorageDb",rA=1,Xd="firebaseLocalStorage",Z5="fbase_key";class Tf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function xp(n,e){return n.transaction([Xd],e?"readwrite":"readonly").objectStore(Xd)}function iA(){const n=indexedDB.deleteDatabase(X5);return new Tf(n).toPromise()}function vg(){const n=indexedDB.open(X5,rA);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Xd,{keyPath:Z5})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Xd)?e(r):(r.close(),await iA(),e(await vg()))})})}async function ry(n,e,t){const r=xp(n,!0).put({[Z5]:e,value:t});return new Tf(r).toPromise()}async function oA(n,e){const t=xp(n,!1).get(e),r=await new Tf(t).toPromise();return r===void 0?null:r.value}function iy(n,e){const t=xp(n,!0).delete(e);return new Tf(t).toPromise()}const aA=800,sA=3;class ew{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>sA)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return J5()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bp._getInstance(nA()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await eA(),!this.activeServiceWorker)return;this.sender=new X3(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||tA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await vg();return await ry(e,Jd,"1"),await iy(e,Jd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>ry(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>oA(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>iy(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=xp(i,!1).getAll();return new Tf(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ew.type="LOCAL";const lA=ew;new Sf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tw(n,e){return e?ul(e):(Qt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v extends gv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Jc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Jc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function uA(n){return W5(n.auth,new _v(n),n.bypassAuthState)}function cA(n){const{auth:e,user:t}=n;return Qt(t,e,"internal-error"),B3(t,new _v(n),n.bypassAuthState)}async function hA(n){const{auth:e,user:t}=n;return Qt(t,e,"internal-error"),V3(t,new _v(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{constructor(e,t,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:a,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uA;case"linkViaPopup":case"linkViaRedirect":return hA;case"reauthViaPopup":case"reauthViaRedirect":return cA;default:Sa(this.auth,"internal-error")}}resolve(e){dl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){dl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fA=new Sf(2e3,1e4);async function dA(n,e,t){if(Yo(n.app))return Promise.reject(Za(n,"operation-not-supported-in-this-environment"));const r=xl(n);W4(n,e,yv);const i=tw(r,t);return new Xu(r,"signInViaPopup",e,i).executeNotNull()}class Xu extends nw{constructor(e,t,r,i,a){super(e,t,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Xu.currentPopupAction&&Xu.currentPopupAction.cancel(),Xu.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Qt(e,this.auth,"internal-error"),e}async onExecution(){dl(this.filter.length===1,"Popup operations only handle one event");const e=wv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Za(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Za(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xu.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Za(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,fA.get())};e()}}Xu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA="pendingRedirect",Ld=new Map;class mA extends nw{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Ld.get(this.auth._key());if(!e){try{const r=await gA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Ld.set(this.auth._key(),e)}return this.bypassAuthState||Ld.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gA(n,e){const t=wA(e),r=yA(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function vA(n,e){Ld.set(n._key(),e)}function yA(n){return ul(n._redirectPersistence)}function wA(n){return Nd(pA,n.config.apiKey,n.name)}async function _A(n,e,t=!1){if(Yo(n.app))return Promise.reject(cl(n));const r=xl(n),i=tw(r,e),l=await new mA(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA=10*60*1e3;class xA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!SA(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!rw(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Za(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bA&&this.cachedEventUids.clear(),this.cachedEventUids.has(oy(e))}saveEventToCache(e){this.cachedEventUids.add(oy(e)),this.lastProcessedEventTime=Date.now()}}function oy(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function rw({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function SA(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EA(n,e={}){return bl(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TA=/^https?/;async function IA(n){if(n.config.emulator)return;const{authorizedDomains:e}=await EA(n);for(const t of e)try{if(PA(t))return}catch{}Sa(n,"unauthorized-domain")}function PA(n){const e=mg(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!TA.test(t))return!1;if(AA.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=new Sf(3e4,6e4);function ay(){const n=Is().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function CA(n){return new Promise((e,t)=>{var r,i,a;function l(){ay(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ay(),t(Za(n,"network-request-failed"))},timeout:kA.get()})}if(!((i=(r=Is().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Is().gapi)===null||a===void 0)&&a.load)l();else{const u=w3("iframefcb");return Is()[u]=()=>{gapi.load?l():t(Za(n,"network-request-failed"))},B5(`${y3()}?onload=${u}`).catch(h=>t(h))}}).catch(e=>{throw Rd=null,e})}let Rd=null;function NA(n){return Rd=Rd||CA(n),Rd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA=new Sf(5e3,15e3),RA="__/auth/iframe",DA="emulator/auth/iframe",OA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MA(n){const e=n.config;Qt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?dv(e,DA):`https://${n.config.authDomain}/${RA}`,r={apiKey:e.apiKey,appName:n.name,v:lh},i=FA.get(n.config.apiHost);i&&(r.eid=i);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${xf(r).slice(1)}`}async function jA(n){const e=await NA(n),t=Is().gapi;return Qt(t,n,"internal-error"),e.open({where:document.body,url:MA(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OA,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=Za(n,"network-request-failed"),u=Is().setTimeout(()=>{a(l)},LA.get());function h(){Is().clearTimeout(u),i(r)}r.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BA=500,UA=600,zA="_blank",qA="http://localhost";class sy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function HA(n,e,t,r=BA,i=UA){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h=Object.assign(Object.assign({},VA),{width:r.toString(),height:i.toString(),top:a,left:l}),p=eo().toLowerCase();t&&(u=R5(p)?zA:t),N5(p)&&(e=e||qA,h.scrollbars="yes");const y=Object.entries(h).reduce((x,[v,T])=>`${x}${v}=${T},`,"");if(u3(p)&&u!=="_self")return WA(e||"",u),new sy(null);const _=window.open(e||"",u,y);Qt(_,n,"popup-blocked");try{_.focus()}catch{}return new sy(_)}function WA(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="__/auth/handler",GA="emulator/auth/handler",KA=encodeURIComponent("fac");async function ly(n,e,t,r,i,a){Qt(n.config.authDomain,n,"auth-domain-config-required"),Qt(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:lh,eventId:i};if(e instanceof yv){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",NE(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,_]of Object.entries({}))l[y]=_}if(e instanceof Af){const y=e.getScopes().filter(_=>_!=="");y.length>0&&(l.scopes=y.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const y of Object.keys(u))u[y]===void 0&&delete u[y];const h=await n._getAppCheckToken(),p=h?`#${KA}=${encodeURIComponent(h)}`:"";return`${QA(n)}?${xf(u).slice(1)}${p}`}function QA({config:n}){return n.emulator?dv(n,GA):`https://${n.authDomain}/${$A}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="webStorageSupport";class YA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Y5,this._completeRedirectFn=_A,this._overrideRedirectResult=vA}async _openPopup(e,t,r,i){var a;dl((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await ly(e,t,r,mg(),i);return HA(e,l,wv())}async _openRedirect(e,t,r,i){await this._originValidation(e);const a=await ly(e,t,r,mg(),i);return Z3(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:a}=this.eventManagers[t];return i?Promise.resolve(i):(dl(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await jA(e),r=new xA(e);return t.register("authEvent",i=>(Qt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Um,{type:Um},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[Um];l!==void 0&&t(!!l),Sa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=IA(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return j5()||L5()||mv()}}const JA=YA;var uy="@firebase/auth",cy="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Qt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function eT(n){Zc(new ac("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Qt(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:V5(n)},p=new m3(r,i,a,h);return A3(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Zc(new ac("auth-internal",e=>{const t=xl(e.getProvider("auth").getImmediate());return(r=>new XA(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),mu(uy,cy,ZA(n)),mu(uy,cy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT=5*60,nT=g5("authIdTokenMaxAge")||tT;let hy=null;const rT=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>nT)return;const i=t==null?void 0:t.token;hy!==i&&(hy=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function iT(n=_5()){const e=uv(n,"auth");if(e.isInitialized())return e.getImmediate();const t=E3(n,{popupRedirectResolver:JA,persistence:[lA,Y3,Y5]}),r=g5("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=rT(a.toString());G3(t,l,()=>l(t.currentUser)),$3(t,u=>l(u))}}const i=p5("auth");return i&&T3(t,`http://${i}`),t}function oT(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}g3({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=Za("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",oT().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});eT("Browser");var fy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gu,iw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,A){function M(){}M.prototype=A.prototype,D.D=A.prototype,D.prototype=new M,D.prototype.constructor=D,D.C=function(U,I,P){for(var F=Array(arguments.length-2),X=2;X<arguments.length;X++)F[X-2]=arguments[X];return A.prototype[I].apply(U,F)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,A,M){M||(M=0);var U=Array(16);if(typeof A=="string")for(var I=0;16>I;++I)U[I]=A.charCodeAt(M++)|A.charCodeAt(M++)<<8|A.charCodeAt(M++)<<16|A.charCodeAt(M++)<<24;else for(I=0;16>I;++I)U[I]=A[M++]|A[M++]<<8|A[M++]<<16|A[M++]<<24;A=D.g[0],M=D.g[1],I=D.g[2];var P=D.g[3],F=A+(P^M&(I^P))+U[0]+3614090360&4294967295;A=M+(F<<7&4294967295|F>>>25),F=P+(I^A&(M^I))+U[1]+3905402710&4294967295,P=A+(F<<12&4294967295|F>>>20),F=I+(M^P&(A^M))+U[2]+606105819&4294967295,I=P+(F<<17&4294967295|F>>>15),F=M+(A^I&(P^A))+U[3]+3250441966&4294967295,M=I+(F<<22&4294967295|F>>>10),F=A+(P^M&(I^P))+U[4]+4118548399&4294967295,A=M+(F<<7&4294967295|F>>>25),F=P+(I^A&(M^I))+U[5]+1200080426&4294967295,P=A+(F<<12&4294967295|F>>>20),F=I+(M^P&(A^M))+U[6]+2821735955&4294967295,I=P+(F<<17&4294967295|F>>>15),F=M+(A^I&(P^A))+U[7]+4249261313&4294967295,M=I+(F<<22&4294967295|F>>>10),F=A+(P^M&(I^P))+U[8]+1770035416&4294967295,A=M+(F<<7&4294967295|F>>>25),F=P+(I^A&(M^I))+U[9]+2336552879&4294967295,P=A+(F<<12&4294967295|F>>>20),F=I+(M^P&(A^M))+U[10]+4294925233&4294967295,I=P+(F<<17&4294967295|F>>>15),F=M+(A^I&(P^A))+U[11]+2304563134&4294967295,M=I+(F<<22&4294967295|F>>>10),F=A+(P^M&(I^P))+U[12]+1804603682&4294967295,A=M+(F<<7&4294967295|F>>>25),F=P+(I^A&(M^I))+U[13]+4254626195&4294967295,P=A+(F<<12&4294967295|F>>>20),F=I+(M^P&(A^M))+U[14]+2792965006&4294967295,I=P+(F<<17&4294967295|F>>>15),F=M+(A^I&(P^A))+U[15]+1236535329&4294967295,M=I+(F<<22&4294967295|F>>>10),F=A+(I^P&(M^I))+U[1]+4129170786&4294967295,A=M+(F<<5&4294967295|F>>>27),F=P+(M^I&(A^M))+U[6]+3225465664&4294967295,P=A+(F<<9&4294967295|F>>>23),F=I+(A^M&(P^A))+U[11]+643717713&4294967295,I=P+(F<<14&4294967295|F>>>18),F=M+(P^A&(I^P))+U[0]+3921069994&4294967295,M=I+(F<<20&4294967295|F>>>12),F=A+(I^P&(M^I))+U[5]+3593408605&4294967295,A=M+(F<<5&4294967295|F>>>27),F=P+(M^I&(A^M))+U[10]+38016083&4294967295,P=A+(F<<9&4294967295|F>>>23),F=I+(A^M&(P^A))+U[15]+3634488961&4294967295,I=P+(F<<14&4294967295|F>>>18),F=M+(P^A&(I^P))+U[4]+3889429448&4294967295,M=I+(F<<20&4294967295|F>>>12),F=A+(I^P&(M^I))+U[9]+568446438&4294967295,A=M+(F<<5&4294967295|F>>>27),F=P+(M^I&(A^M))+U[14]+3275163606&4294967295,P=A+(F<<9&4294967295|F>>>23),F=I+(A^M&(P^A))+U[3]+4107603335&4294967295,I=P+(F<<14&4294967295|F>>>18),F=M+(P^A&(I^P))+U[8]+1163531501&4294967295,M=I+(F<<20&4294967295|F>>>12),F=A+(I^P&(M^I))+U[13]+2850285829&4294967295,A=M+(F<<5&4294967295|F>>>27),F=P+(M^I&(A^M))+U[2]+4243563512&4294967295,P=A+(F<<9&4294967295|F>>>23),F=I+(A^M&(P^A))+U[7]+1735328473&4294967295,I=P+(F<<14&4294967295|F>>>18),F=M+(P^A&(I^P))+U[12]+2368359562&4294967295,M=I+(F<<20&4294967295|F>>>12),F=A+(M^I^P)+U[5]+4294588738&4294967295,A=M+(F<<4&4294967295|F>>>28),F=P+(A^M^I)+U[8]+2272392833&4294967295,P=A+(F<<11&4294967295|F>>>21),F=I+(P^A^M)+U[11]+1839030562&4294967295,I=P+(F<<16&4294967295|F>>>16),F=M+(I^P^A)+U[14]+4259657740&4294967295,M=I+(F<<23&4294967295|F>>>9),F=A+(M^I^P)+U[1]+2763975236&4294967295,A=M+(F<<4&4294967295|F>>>28),F=P+(A^M^I)+U[4]+1272893353&4294967295,P=A+(F<<11&4294967295|F>>>21),F=I+(P^A^M)+U[7]+4139469664&4294967295,I=P+(F<<16&4294967295|F>>>16),F=M+(I^P^A)+U[10]+3200236656&4294967295,M=I+(F<<23&4294967295|F>>>9),F=A+(M^I^P)+U[13]+681279174&4294967295,A=M+(F<<4&4294967295|F>>>28),F=P+(A^M^I)+U[0]+3936430074&4294967295,P=A+(F<<11&4294967295|F>>>21),F=I+(P^A^M)+U[3]+3572445317&4294967295,I=P+(F<<16&4294967295|F>>>16),F=M+(I^P^A)+U[6]+76029189&4294967295,M=I+(F<<23&4294967295|F>>>9),F=A+(M^I^P)+U[9]+3654602809&4294967295,A=M+(F<<4&4294967295|F>>>28),F=P+(A^M^I)+U[12]+3873151461&4294967295,P=A+(F<<11&4294967295|F>>>21),F=I+(P^A^M)+U[15]+530742520&4294967295,I=P+(F<<16&4294967295|F>>>16),F=M+(I^P^A)+U[2]+3299628645&4294967295,M=I+(F<<23&4294967295|F>>>9),F=A+(I^(M|~P))+U[0]+4096336452&4294967295,A=M+(F<<6&4294967295|F>>>26),F=P+(M^(A|~I))+U[7]+1126891415&4294967295,P=A+(F<<10&4294967295|F>>>22),F=I+(A^(P|~M))+U[14]+2878612391&4294967295,I=P+(F<<15&4294967295|F>>>17),F=M+(P^(I|~A))+U[5]+4237533241&4294967295,M=I+(F<<21&4294967295|F>>>11),F=A+(I^(M|~P))+U[12]+1700485571&4294967295,A=M+(F<<6&4294967295|F>>>26),F=P+(M^(A|~I))+U[3]+2399980690&4294967295,P=A+(F<<10&4294967295|F>>>22),F=I+(A^(P|~M))+U[10]+4293915773&4294967295,I=P+(F<<15&4294967295|F>>>17),F=M+(P^(I|~A))+U[1]+2240044497&4294967295,M=I+(F<<21&4294967295|F>>>11),F=A+(I^(M|~P))+U[8]+1873313359&4294967295,A=M+(F<<6&4294967295|F>>>26),F=P+(M^(A|~I))+U[15]+4264355552&4294967295,P=A+(F<<10&4294967295|F>>>22),F=I+(A^(P|~M))+U[6]+2734768916&4294967295,I=P+(F<<15&4294967295|F>>>17),F=M+(P^(I|~A))+U[13]+1309151649&4294967295,M=I+(F<<21&4294967295|F>>>11),F=A+(I^(M|~P))+U[4]+4149444226&4294967295,A=M+(F<<6&4294967295|F>>>26),F=P+(M^(A|~I))+U[11]+3174756917&4294967295,P=A+(F<<10&4294967295|F>>>22),F=I+(A^(P|~M))+U[2]+718787259&4294967295,I=P+(F<<15&4294967295|F>>>17),F=M+(P^(I|~A))+U[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(I+(F<<21&4294967295|F>>>11))&4294967295,D.g[2]=D.g[2]+I&4294967295,D.g[3]=D.g[3]+P&4294967295}r.prototype.u=function(D,A){A===void 0&&(A=D.length);for(var M=A-this.blockSize,U=this.B,I=this.h,P=0;P<A;){if(I==0)for(;P<=M;)i(this,D,P),P+=this.blockSize;if(typeof D=="string"){for(;P<A;)if(U[I++]=D.charCodeAt(P++),I==this.blockSize){i(this,U),I=0;break}}else for(;P<A;)if(U[I++]=D[P++],I==this.blockSize){i(this,U),I=0;break}}this.h=I,this.o+=A},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;var M=8*this.o;for(A=D.length-8;A<D.length;++A)D[A]=M&255,M/=256;for(this.u(D),D=Array(16),A=M=0;4>A;++A)for(var U=0;32>U;U+=8)D[M++]=this.g[A]>>>U&255;return D};function a(D,A){var M=u;return Object.prototype.hasOwnProperty.call(M,D)?M[D]:M[D]=A(D)}function l(D,A){this.h=A;for(var M=[],U=!0,I=D.length-1;0<=I;I--){var P=D[I]|0;U&&P==A||(M[I]=P,U=!1)}this.g=M}var u={};function h(D){return-128<=D&&128>D?a(D,function(A){return new l([A|0],0>A?-1:0)}):new l([D|0],0>D?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return _;if(0>D)return O(p(-D));for(var A=[],M=1,U=0;D>=M;U++)A[U]=D/M|0,M*=4294967296;return new l(A,0)}function y(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return O(y(D.substring(1),A));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=p(Math.pow(A,8)),U=_,I=0;I<D.length;I+=8){var P=Math.min(8,D.length-I),F=parseInt(D.substring(I,I+P),A);8>P?(P=p(Math.pow(A,P)),U=U.j(P).add(p(F))):(U=U.j(M),U=U.add(p(F)))}return U}var _=h(0),x=h(1),v=h(16777216);n=l.prototype,n.m=function(){if(R(this))return-O(this).m();for(var D=0,A=1,M=0;M<this.g.length;M++){var U=this.i(M);D+=(0<=U?U:4294967296+U)*A,A*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(T(this))return"0";if(R(this))return"-"+O(this).toString(D);for(var A=p(Math.pow(D,6)),M=this,U="";;){var I=$(M,A).g;M=C(M,I.j(A));var P=((0<M.g.length?M.g[0]:M.h)>>>0).toString(D);if(M=I,T(M))return P+U;for(;6>P.length;)P="0"+P;U=P+U}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function T(D){if(D.h!=0)return!1;for(var A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function R(D){return D.h==-1}n.l=function(D){return D=C(this,D),R(D)?-1:T(D)?0:1};function O(D){for(var A=D.g.length,M=[],U=0;U<A;U++)M[U]=~D.g[U];return new l(M,~D.h).add(x)}n.abs=function(){return R(this)?O(this):this},n.add=function(D){for(var A=Math.max(this.g.length,D.g.length),M=[],U=0,I=0;I<=A;I++){var P=U+(this.i(I)&65535)+(D.i(I)&65535),F=(P>>>16)+(this.i(I)>>>16)+(D.i(I)>>>16);U=F>>>16,P&=65535,F&=65535,M[I]=F<<16|P}return new l(M,M[M.length-1]&-2147483648?-1:0)};function C(D,A){return D.add(O(A))}n.j=function(D){if(T(this)||T(D))return _;if(R(this))return R(D)?O(this).j(O(D)):O(O(this).j(D));if(R(D))return O(this.j(O(D)));if(0>this.l(v)&&0>D.l(v))return p(this.m()*D.m());for(var A=this.g.length+D.g.length,M=[],U=0;U<2*A;U++)M[U]=0;for(U=0;U<this.g.length;U++)for(var I=0;I<D.g.length;I++){var P=this.i(U)>>>16,F=this.i(U)&65535,X=D.i(I)>>>16,pe=D.i(I)&65535;M[2*U+2*I]+=F*pe,V(M,2*U+2*I),M[2*U+2*I+1]+=P*pe,V(M,2*U+2*I+1),M[2*U+2*I+1]+=F*X,V(M,2*U+2*I+1),M[2*U+2*I+2]+=P*X,V(M,2*U+2*I+2)}for(U=0;U<A;U++)M[U]=M[2*U+1]<<16|M[2*U];for(U=A;U<2*A;U++)M[U]=0;return new l(M,0)};function V(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function B(D,A){this.g=D,this.h=A}function $(D,A){if(T(A))throw Error("division by zero");if(T(D))return new B(_,_);if(R(D))return A=$(O(D),A),new B(O(A.g),O(A.h));if(R(A))return A=$(D,O(A)),new B(O(A.g),A.h);if(30<D.g.length){if(R(D)||R(A))throw Error("slowDivide_ only works with positive integers.");for(var M=x,U=A;0>=U.l(D);)M=z(M),U=z(U);var I=ie(M,1),P=ie(U,1);for(U=ie(U,2),M=ie(M,2);!T(U);){var F=P.add(U);0>=F.l(D)&&(I=I.add(M),P=F),U=ie(U,1),M=ie(M,1)}return A=C(D,I.j(A)),new B(I,A)}for(I=_;0<=D.l(A);){for(M=Math.max(1,Math.floor(D.m()/A.m())),U=Math.ceil(Math.log(M)/Math.LN2),U=48>=U?1:Math.pow(2,U-48),P=p(M),F=P.j(A);R(F)||0<F.l(D);)M-=U,P=p(M),F=P.j(A);T(P)&&(P=x),I=I.add(P),D=C(D,F)}return new B(I,D)}n.A=function(D){return $(this,D).h},n.and=function(D){for(var A=Math.max(this.g.length,D.g.length),M=[],U=0;U<A;U++)M[U]=this.i(U)&D.i(U);return new l(M,this.h&D.h)},n.or=function(D){for(var A=Math.max(this.g.length,D.g.length),M=[],U=0;U<A;U++)M[U]=this.i(U)|D.i(U);return new l(M,this.h|D.h)},n.xor=function(D){for(var A=Math.max(this.g.length,D.g.length),M=[],U=0;U<A;U++)M[U]=this.i(U)^D.i(U);return new l(M,this.h^D.h)};function z(D){for(var A=D.g.length+1,M=[],U=0;U<A;U++)M[U]=D.i(U)<<1|D.i(U-1)>>>31;return new l(M,D.h)}function ie(D,A){var M=A>>5;A%=32;for(var U=D.g.length-M,I=[],P=0;P<U;P++)I[P]=0<A?D.i(P+M)>>>A|D.i(P+M+1)<<32-A:D.i(P+M);return new l(I,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,iw=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=y,gu=l}).apply(typeof fy<"u"?fy:typeof self<"u"?self:typeof window<"u"?window:{});var md=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ow,zh,aw,Dd,yg,sw,lw,uw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,E,j){return d==Array.prototype||d==Object.prototype||(d[E]=j.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof md=="object"&&md];for(var E=0;E<d.length;++E){var j=d[E];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}var r=t(this);function i(d,E){if(E)e:{var j=r;d=d.split(".");for(var J=0;J<d.length-1;J++){var Ae=d[J];if(!(Ae in j))break e;j=j[Ae]}d=d[d.length-1],J=j[d],E=E(J),E!=J&&E!=null&&e(j,d,{configurable:!0,writable:!0,value:E})}}function a(d,E){d instanceof String&&(d+="");var j=0,J=!1,Ae={next:function(){if(!J&&j<d.length){var De=j++;return{value:E(De,d[De]),done:!1}}return J=!0,{done:!0,value:void 0}}};return Ae[Symbol.iterator]=function(){return Ae},Ae}i("Array.prototype.values",function(d){return d||function(){return a(this,function(E,j){return j})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(d){var E=typeof d;return E=E!="object"?E:d?Array.isArray(d)?"array":E:"null",E=="array"||E=="object"&&typeof d.length=="number"}function p(d){var E=typeof d;return E=="object"&&d!=null||E=="function"}function y(d,E,j){return d.call.apply(d.bind,arguments)}function _(d,E,j){if(!d)throw Error();if(2<arguments.length){var J=Array.prototype.slice.call(arguments,2);return function(){var Ae=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ae,J),d.apply(E,Ae)}}return function(){return d.apply(E,arguments)}}function x(d,E,j){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,x.apply(null,arguments)}function v(d,E){var j=Array.prototype.slice.call(arguments,1);return function(){var J=j.slice();return J.push.apply(J,arguments),d.apply(this,J)}}function T(d,E){function j(){}j.prototype=E.prototype,d.aa=E.prototype,d.prototype=new j,d.prototype.constructor=d,d.Qb=function(J,Ae,De){for(var Xe=Array(arguments.length-2),en=2;en<arguments.length;en++)Xe[en-2]=arguments[en];return E.prototype[Ae].apply(J,Xe)}}function R(d){const E=d.length;if(0<E){const j=Array(E);for(let J=0;J<E;J++)j[J]=d[J];return j}return[]}function O(d,E){for(let j=1;j<arguments.length;j++){const J=arguments[j];if(h(J)){const Ae=d.length||0,De=J.length||0;d.length=Ae+De;for(let Xe=0;Xe<De;Xe++)d[Ae+Xe]=J[Xe]}else d.push(J)}}class C{constructor(E,j){this.i=E,this.j=j,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function V(d){return/^[\s\xa0]*$/.test(d)}function B(){var d=u.navigator;return d&&(d=d.userAgent)?d:""}function $(d){return $[" "](d),d}$[" "]=function(){};var z=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function ie(d,E,j){for(const J in d)E.call(j,d[J],J,d)}function D(d,E){for(const j in d)E.call(void 0,d[j],j,d)}function A(d){const E={};for(const j in d)E[j]=d[j];return E}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(d,E){let j,J;for(let Ae=1;Ae<arguments.length;Ae++){J=arguments[Ae];for(j in J)d[j]=J[j];for(let De=0;De<M.length;De++)j=M[De],Object.prototype.hasOwnProperty.call(J,j)&&(d[j]=J[j])}}function I(d){var E=1;d=d.split(":");const j=[];for(;0<E&&d.length;)j.push(d.shift()),E--;return d.length&&j.push(d.join(":")),j}function P(d){u.setTimeout(()=>{throw d},0)}function F(){var d=ne;let E=null;return d.g&&(E=d.g,d.g=d.g.next,d.g||(d.h=null),E.next=null),E}class X{constructor(){this.h=this.g=null}add(E,j){const J=pe.get();J.set(E,j),this.h?this.h.next=J:this.g=J,this.h=J}}var pe=new C(()=>new ae,d=>d.reset());class ae{constructor(){this.next=this.g=this.h=null}set(E,j){this.h=E,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,te=!1,ne=new X,he=()=>{const d=u.Promise.resolve(void 0);oe=()=>{d.then(re)}};var re=()=>{for(var d;d=F();){try{d.h.call(d.g)}catch(j){P(j)}var E=pe;E.j(d),100>E.h&&(E.h++,d.next=E.g,E.g=d)}te=!1};function N(){this.s=this.s,this.C=this.C}N.prototype.s=!1,N.prototype.ma=function(){this.s||(this.s=!0,this.N())},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(d,E){this.type=d,this.g=this.target=E,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ee=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,E=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const j=()=>{};u.addEventListener("test",j,E),u.removeEventListener("test",j,E)}catch{}return d}();function se(d,E){if(W.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var j=this.type=d.type,J=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=E,E=d.relatedTarget){if(z){e:{try{$(E.nodeName);var Ae=!0;break e}catch{}Ae=!1}Ae||(E=null)}}else j=="mouseover"?E=d.fromElement:j=="mouseout"&&(E=d.toElement);this.relatedTarget=E,J?(this.clientX=J.clientX!==void 0?J.clientX:J.pageX,this.clientY=J.clientY!==void 0?J.clientY:J.pageY,this.screenX=J.screenX||0,this.screenY=J.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:ue[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&se.aa.h.call(this)}}T(se,W);var ue={2:"touch",3:"pen",4:"mouse"};se.prototype.h=function(){se.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),xe=0;function Se(d,E,j,J,Ae){this.listener=d,this.proxy=null,this.src=E,this.type=j,this.capture=!!J,this.ha=Ae,this.key=++xe,this.da=this.fa=!1}function We(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Ge(d){this.src=d,this.g={},this.h=0}Ge.prototype.add=function(d,E,j,J,Ae){var De=d.toString();d=this.g[De],d||(d=this.g[De]=[],this.h++);var Xe=it(d,E,J,Ae);return-1<Xe?(E=d[Xe],j||(E.fa=!1)):(E=new Se(E,this.src,De,!!J,Ae),E.fa=j,d.push(E)),E};function st(d,E){var j=E.type;if(j in d.g){var J=d.g[j],Ae=Array.prototype.indexOf.call(J,E,void 0),De;(De=0<=Ae)&&Array.prototype.splice.call(J,Ae,1),De&&(We(E),d.g[j].length==0&&(delete d.g[j],d.h--))}}function it(d,E,j,J){for(var Ae=0;Ae<d.length;++Ae){var De=d[Ae];if(!De.da&&De.listener==E&&De.capture==!!j&&De.ha==J)return Ae}return-1}var Ct="closure_lm_"+(1e6*Math.random()|0),Ve={};function fe(d,E,j,J,Ae){if(Array.isArray(E)){for(var De=0;De<E.length;De++)fe(d,E[De],j,J,Ae);return null}return j=Je(j),d&&d[we]?d.K(E,j,p(J)?!!J.capture:!1,Ae):Ft(d,E,j,!1,J,Ae)}function Ft(d,E,j,J,Ae,De){if(!E)throw Error("Invalid event type");var Xe=p(Ae)?!!Ae.capture:!!Ae,en=Tt(d);if(en||(d[Ct]=en=new Ge(d)),j=en.add(E,j,J,Xe,De),j.proxy)return j;if(J=xt(),j.proxy=J,J.src=d,J.listener=j,d.addEventListener)ee||(Ae=Xe),Ae===void 0&&(Ae=!1),d.addEventListener(E.toString(),J,Ae);else if(d.attachEvent)d.attachEvent(lt(E.toString()),J);else if(d.addListener&&d.removeListener)d.addListener(J);else throw Error("addEventListener and attachEvent are unavailable.");return j}function xt(){function d(j){return E.call(d.src,d.listener,j)}const E=ct;return d}function Qe(d,E,j,J,Ae){if(Array.isArray(E))for(var De=0;De<E.length;De++)Qe(d,E[De],j,J,Ae);else J=p(J)?!!J.capture:!!J,j=Je(j),d&&d[we]?(d=d.i,E=String(E).toString(),E in d.g&&(De=d.g[E],j=it(De,j,J,Ae),-1<j&&(We(De[j]),Array.prototype.splice.call(De,j,1),De.length==0&&(delete d.g[E],d.h--)))):d&&(d=Tt(d))&&(E=d.g[E.toString()],d=-1,E&&(d=it(E,j,J,Ae)),(j=-1<d?E[d]:null)&&ot(j))}function ot(d){if(typeof d!="number"&&d&&!d.da){var E=d.src;if(E&&E[we])st(E.i,d);else{var j=d.type,J=d.proxy;E.removeEventListener?E.removeEventListener(j,J,d.capture):E.detachEvent?E.detachEvent(lt(j),J):E.addListener&&E.removeListener&&E.removeListener(J),(j=Tt(E))?(st(j,d),j.h==0&&(j.src=null,E[Ct]=null)):We(d)}}}function lt(d){return d in Ve?Ve[d]:Ve[d]="on"+d}function ct(d,E){if(d.da)d=!0;else{E=new se(E,this);var j=d.listener,J=d.ha||d.src;d.fa&&ot(d),d=j.call(J,E)}return d}function Tt(d){return d=d[Ct],d instanceof Ge?d:null}var qe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Je(d){return typeof d=="function"?d:(d[qe]||(d[qe]=function(E){return d.handleEvent(E)}),d[qe])}function ht(){N.call(this),this.i=new Ge(this),this.M=this,this.F=null}T(ht,N),ht.prototype[we]=!0,ht.prototype.removeEventListener=function(d,E,j,J){Qe(this,d,E,j,J)};function _t(d,E){var j,J=d.F;if(J)for(j=[];J;J=J.F)j.push(J);if(d=d.M,J=E.type||E,typeof E=="string")E=new W(E,d);else if(E instanceof W)E.target=E.target||d;else{var Ae=E;E=new W(J,d),U(E,Ae)}if(Ae=!0,j)for(var De=j.length-1;0<=De;De--){var Xe=E.g=j[De];Ae=Mt(Xe,J,!0,E)&&Ae}if(Xe=E.g=d,Ae=Mt(Xe,J,!0,E)&&Ae,Ae=Mt(Xe,J,!1,E)&&Ae,j)for(De=0;De<j.length;De++)Xe=E.g=j[De],Ae=Mt(Xe,J,!1,E)&&Ae}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var d=this.i,E;for(E in d.g){for(var j=d.g[E],J=0;J<j.length;J++)We(j[J]);delete d.g[E],d.h--}}this.F=null},ht.prototype.K=function(d,E,j,J){return this.i.add(String(d),E,!1,j,J)},ht.prototype.L=function(d,E,j,J){return this.i.add(String(d),E,!0,j,J)};function Mt(d,E,j,J){if(E=d.i.g[String(E)],!E)return!0;E=E.concat();for(var Ae=!0,De=0;De<E.length;++De){var Xe=E[De];if(Xe&&!Xe.da&&Xe.capture==j){var en=Xe.listener,gn=Xe.ha||Xe.src;Xe.fa&&st(d.i,Xe),Ae=en.call(gn,J)!==!1&&Ae}}return Ae&&!J.defaultPrevented}function Rt(d,E,j){if(typeof d=="function")j&&(d=x(d,j));else if(d&&typeof d.handleEvent=="function")d=x(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:u.setTimeout(d,E||0)}function Nt(d){d.g=Rt(()=>{d.g=null,d.i&&(d.i=!1,Nt(d))},d.l);const E=d.h;d.h=null,d.m.apply(null,E)}class dt extends N{constructor(E,j){super(),this.m=E,this.l=j,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Nt(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jn(d){N.call(this),this.h=d,this.g={}}T(jn,N);var nn=[];function ur(d){ie(d.g,function(E,j){this.g.hasOwnProperty(j)&&ot(E)},d),d.g={}}jn.prototype.N=function(){jn.aa.N.call(this),ur(this)},jn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fn=u.JSON.stringify,dn=u.JSON.parse,gr=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function Zt(){}Zt.prototype.h=null;function ii(d){return d.h||(d.h=d.i())}function Ln(){}var nr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vr(){W.call(this,"d")}T(vr,W);function En(){W.call(this,"c")}T(En,W);var Dt={},mn=null;function vi(){return mn=mn||new ht}Dt.La="serverreachability";function me(d){W.call(this,Dt.La,d)}T(me,W);function Ie(d){const E=vi();_t(E,new me(E))}Dt.STAT_EVENT="statevent";function Fe(d,E){W.call(this,Dt.STAT_EVENT,d),this.stat=E}T(Fe,W);function Le(d){const E=vi();_t(E,new Fe(E,d))}Dt.Ma="timingevent";function pt(d,E){W.call(this,Dt.Ma,d),this.size=E}T(pt,W);function wt(d,E){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},E)}function Et(){this.g=!0}Et.prototype.xa=function(){this.g=!1};function ut(d,E,j,J,Ae,De){d.info(function(){if(d.g)if(De)for(var Xe="",en=De.split("&"),gn=0;gn<en.length;gn++){var tn=en[gn].split("=");if(1<tn.length){var Dn=tn[0];tn=tn[1];var Bn=Dn.split("_");Xe=2<=Bn.length&&Bn[1]=="type"?Xe+(Dn+"="+tn+"&"):Xe+(Dn+"=redacted&")}}else Xe=null;else Xe=De;return"XMLHTTP REQ ("+J+") [attempt "+Ae+"]: "+E+`
`+j+`
`+Xe})}function mt(d,E,j,J,Ae,De,Xe){d.info(function(){return"XMLHTTP RESP ("+J+") [ attempt "+Ae+"]: "+E+`
`+j+`
`+De+" "+Xe})}function rt(d,E,j,J){d.info(function(){return"XMLHTTP TEXT ("+E+"): "+zt(d,j)+(J?" "+J:"")})}function jt(d,E){d.info(function(){return"TIMEOUT: "+E})}Et.prototype.info=function(){};function zt(d,E){if(!d.g)return E;if(!E)return null;try{var j=JSON.parse(E);if(j){for(d=0;d<j.length;d++)if(Array.isArray(j[d])){var J=j[d];if(!(2>J.length)){var Ae=J[1];if(Array.isArray(Ae)&&!(1>Ae.length)){var De=Ae[0];if(De!="noop"&&De!="stop"&&De!="close")for(var Xe=1;Xe<Ae.length;Xe++)Ae[Xe]=""}}}}return fn(j)}catch{return E}}var un={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},An={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Jt;function on(){}T(on,Zt),on.prototype.g=function(){return new XMLHttpRequest},on.prototype.i=function(){return{}},Jt=new on;function an(d,E,j,J){this.j=d,this.i=E,this.l=j,this.R=J||1,this.U=new jn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Sr}function Sr(){this.i=null,this.g="",this.h=!1}var zr={},yr={};function cr(d,E,j){d.L=1,d.v=Mo($r(E)),d.m=j,d.P=!0,Di(d,null)}function Di(d,E){d.F=Date.now(),bn(d),d.A=$r(d.v);var j=d.A,J=d.R;Array.isArray(J)||(J=[String(J)]),Ut(j.i,"t",J),d.C=0,j=d.j.J,d.h=new Sr,d.g=H(d.j,j?E:null,!d.m),0<d.O&&(d.M=new dt(x(d.Y,d,d.g),d.O)),E=d.U,j=d.g,J=d.ca;var Ae="readystatechange";Array.isArray(Ae)||(Ae&&(nn[0]=Ae.toString()),Ae=nn);for(var De=0;De<Ae.length;De++){var Xe=fe(j,Ae[De],J||E.handleEvent,!1,E.h||E);if(!Xe)break;E.g[Xe.key]=Xe}E=d.H?A(d.H):{},d.m?(d.u||(d.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,E)):(d.u="GET",d.g.ea(d.A,d.u,null,E)),Ie(),ut(d.i,d.u,d.A,d.l,d.R,d.m)}an.prototype.ca=function(d){d=d.target;const E=this.M;E&&fr(d)==3?E.j():this.Y(d)},an.prototype.Y=function(d){try{if(d==this.g)e:{const Bn=fr(this.g);var E=this.g.Ba();const xi=this.g.Z();if(!(3>Bn)&&(Bn!=3||this.g&&(this.h.h||this.g.oa()||Vs(this.g)))){this.J||Bn!=4||E==7||(E==8||0>=xi?Ie(3):Ie(2)),hn(this);var j=this.g.Z();this.X=j;t:if(yi(this)){var J=Vs(this.g);d="";var Ae=J.length,De=fr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cr(this),Hn(this);var Xe="";break t}this.h.i=new u.TextDecoder}for(E=0;E<Ae;E++)this.h.h=!0,d+=this.h.i.decode(J[E],{stream:!(De&&E==Ae-1)});J.length=0,this.h.g+=d,this.C=0,Xe=this.h.g}else Xe=this.g.oa();if(this.o=j==200,mt(this.i,this.u,this.A,this.l,this.R,Bn,j),this.o){if(this.T&&!this.K){t:{if(this.g){var en,gn=this.g;if((en=gn.g?gn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(en)){var tn=en;break t}}tn=null}if(j=tn)rt(this.i,this.l,j,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,wi(this,j);else{this.o=!1,this.s=3,Le(12),Cr(this),Hn(this);break e}}if(this.P){j=!0;let Qr;for(;!this.J&&this.C<Xe.length;)if(Qr=Oi(this,Xe),Qr==yr){Bn==4&&(this.s=4,Le(14),j=!1),rt(this.i,this.l,null,"[Incomplete Response]");break}else if(Qr==zr){this.s=4,Le(15),rt(this.i,this.l,Xe,"[Invalid Chunk]"),j=!1;break}else rt(this.i,this.l,Qr,null),wi(this,Qr);if(yi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bn!=4||Xe.length!=0||this.h.h||(this.s=1,Le(16),j=!1),this.o=this.o&&j,!j)rt(this.i,this.l,Xe,"[Invalid Chunked Response]"),Cr(this),Hn(this);else if(0<Xe.length&&!this.W){this.W=!0;var Dn=this.j;Dn.g==this&&Dn.ba&&!Dn.M&&(Dn.j.info("Great, no buffering proxy detected. Bytes received: "+Xe.length),us(Dn),Dn.M=!0,Le(11))}}else rt(this.i,this.l,Xe,null),wi(this,Xe);Bn==4&&Cr(this),this.o&&!this.J&&(Bn==4?bo(this.j,this):(this.o=!1,bn(this)))}else ro(this.g),j==400&&0<Xe.indexOf("Unknown SID")?(this.s=3,Le(12)):(this.s=0,Le(13)),Cr(this),Hn(this)}}}catch{}finally{}};function yi(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function Oi(d,E){var j=d.C,J=E.indexOf(`
`,j);return J==-1?yr:(j=Number(E.substring(j,J)),isNaN(j)?zr:(J+=1,J+j>E.length?yr:(E=E.slice(J,J+j),d.C=J+j,E)))}an.prototype.cancel=function(){this.J=!0,Cr(this)};function bn(d){d.S=Date.now()+d.I,Do(d,d.I)}function Do(d,E){if(d.B!=null)throw Error("WatchDog timer not null");d.B=wt(x(d.ba,d),E)}function hn(d){d.B&&(u.clearTimeout(d.B),d.B=null)}an.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(jt(this.i,this.A),this.L!=2&&(Ie(),Le(17)),Cr(this),this.s=2,Hn(this)):Do(this,this.S-d)};function Hn(d){d.j.G==0||d.J||bo(d.j,d)}function Cr(d){hn(d);var E=d.M;E&&typeof E.ma=="function"&&E.ma(),d.M=null,ur(d.U),d.g&&(E=d.g,d.g=null,E.abort(),E.ma())}function wi(d,E){try{var j=d.j;if(j.G!=0&&(j.g==d||Hr(j.h,d))){if(!d.K&&Hr(j.h,d)&&j.G==3){try{var J=j.Da.g.parse(E)}catch{J=null}if(Array.isArray(J)&&J.length==3){var Ae=J;if(Ae[0]==0){e:if(!j.u){if(j.g)if(j.g.F+3e3<d.F)Uo(j),io(j);else break e;ua(j),Le(18)}}else j.za=Ae[1],0<j.za-j.T&&37500>Ae[2]&&j.F&&j.v==0&&!j.C&&(j.C=wt(x(j.Za,j),6e3));if(1>=Oo(j.h)&&j.ca){try{j.ca()}catch{}j.ca=void 0}}else si(j,11)}else if((d.K||j.g==d)&&Uo(j),!V(E))for(Ae=j.Da.g.parse(E),E=0;E<Ae.length;E++){let tn=Ae[E];if(j.T=tn[0],tn=tn[1],j.G==2)if(tn[0]=="c"){j.K=tn[1],j.ia=tn[2];const Dn=tn[3];Dn!=null&&(j.la=Dn,j.j.info("VER="+j.la));const Bn=tn[4];Bn!=null&&(j.Aa=Bn,j.j.info("SVER="+j.Aa));const xi=tn[5];xi!=null&&typeof xi=="number"&&0<xi&&(J=1.5*xi,j.L=J,j.j.info("backChannelRequestTimeoutMs_="+J)),J=j;const Qr=d.g;if(Qr){const zo=Qr.g?Qr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(zo){var De=J.h;De.g||zo.indexOf("spdy")==-1&&zo.indexOf("quic")==-1&&zo.indexOf("h2")==-1||(De.j=De.l,De.g=new Set,De.h&&(Xn(De,De.h),De.h=null))}if(J.D){const qo=Qr.g?Qr.g.getResponseHeader("X-HTTP-Session-Id"):null;qo&&(J.ya=qo,Vn(J.I,J.D,qo))}}j.G=3,j.l&&j.l.ua(),j.ba&&(j.R=Date.now()-d.F,j.j.info("Handshake RTT: "+j.R+"ms")),J=j;var Xe=d;if(J.qa=w(J,J.J?J.ia:null,J.W),Xe.K){Os(J.h,Xe);var en=Xe,gn=J.L;gn&&(en.I=gn),en.B&&(hn(en),bn(en)),J.g=Xe}else Bo(J);0<j.i.length&&wo(j)}else tn[0]!="stop"&&tn[0]!="close"||si(j,7);else j.G==3&&(tn[0]=="stop"||tn[0]=="close"?tn[0]=="stop"?si(j,7):ir(j):tn[0]!="noop"&&j.l&&j.l.ta(tn),j.v=0)}}Ie(4)}catch{}}var Kn=class{constructor(d,E){this.g=d,this.map=E}};function qr(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vr(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Oo(d){return d.h?1:d.g?d.g.size:0}function Hr(d,E){return d.h?d.h==E:d.g?d.g.has(E):!1}function Xn(d,E){d.g?d.g.add(E):d.h=E}function Os(d,E){d.h&&d.h==E?d.h=null:d.g&&d.g.has(E)&&d.g.delete(E)}qr.prototype.cancel=function(){if(this.i=Fs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Fs(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let E=d.i;for(const j of d.g.values())E=E.concat(j.D);return E}return R(d.i)}function Ea(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var E=[],j=d.length,J=0;J<j;J++)E.push(d[J]);return E}E=[],j=0;for(J in d)E[j++]=d[J];return E}function ea(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var E=[];d=d.length;for(var j=0;j<d;j++)E.push(j);return E}E=[],j=0;for(const J in d)E[j++]=J;return E}}}function ta(d,E){if(d.forEach&&typeof d.forEach=="function")d.forEach(E,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,E,void 0);else for(var j=ea(d),J=Ea(d),Ae=J.length,De=0;De<Ae;De++)E.call(void 0,J[De],j&&j[De],d)}var Wr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function is(d,E){if(d){d=d.split("&");for(var j=0;j<d.length;j++){var J=d[j].indexOf("="),Ae=null;if(0<=J){var De=d[j].substring(0,J);Ae=d[j].substring(J+1)}else De=d[j];E(De,Ae?decodeURIComponent(Ae.replace(/\+/g," ")):"")}}}function hr(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof hr){this.h=d.h,na(this,d.j),this.o=d.o,this.g=d.g,ra(this,d.s),this.l=d.l;var E=d.i,j=new to;j.i=E.i,E.g&&(j.g=new Map(E.g),j.h=E.h),Fo(this,j),this.m=d.m}else d&&(E=String(d).match(Wr))?(this.h=!1,na(this,E[1]||"",!0),this.o=pn(E[2]||""),this.g=pn(E[3]||"",!0),ra(this,E[4]),this.l=pn(E[5]||"",!0),Fo(this,E[6]||"",!0),this.m=pn(E[7]||"")):(this.h=!1,this.i=new to(null,this.h))}hr.prototype.toString=function(){var d=[],E=this.j;E&&d.push(mo(E,os,!0),":");var j=this.g;return(j||E=="file")&&(d.push("//"),(E=this.o)&&d.push(mo(E,os,!0),"@"),d.push(encodeURIComponent(String(j)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j=this.s,j!=null&&d.push(":",String(j))),(j=this.l)&&(this.g&&j.charAt(0)!="/"&&d.push("/"),d.push(mo(j,j.charAt(0)=="/"?go:El,!0))),(j=this.i.toString())&&d.push("?",j),(j=this.m)&&d.push("#",mo(j,ia)),d.join("")};function $r(d){return new hr(d)}function na(d,E,j){d.j=j?pn(E,!0):E,d.j&&(d.j=d.j.replace(/:$/,""))}function ra(d,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);d.s=E}else d.s=null}function Fo(d,E,j){E instanceof to?(d.i=E,vo(d.i,d.h)):(j||(E=mo(E,Aa)),d.i=new to(E,d.h))}function Vn(d,E,j){d.i.set(E,j)}function Mo(d){return Vn(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function pn(d,E){return d?E?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function mo(d,E,j){return typeof d=="string"?(d=encodeURI(d).replace(E,Sl),j&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Sl(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var os=/[#\/\?@]/g,El=/[#\?:]/g,go=/[#\?]/g,Aa=/[#\?@]/g,ia=/#/g;function to(d,E){this.h=this.g=null,this.i=d||null,this.j=!!E}function Tn(d){d.g||(d.g=new Map,d.h=0,d.i&&is(d.i,function(E,j){d.add(decodeURIComponent(E.replace(/\+/g," ")),j)}))}n=to.prototype,n.add=function(d,E){Tn(this),this.i=null,d=Mi(this,d);var j=this.g.get(d);return j||this.g.set(d,j=[]),j.push(E),this.h+=1,this};function no(d,E){Tn(d),E=Mi(d,E),d.g.has(E)&&(d.i=null,d.h-=d.g.get(E).length,d.g.delete(E))}function Fi(d,E){return Tn(d),E=Mi(d,E),d.g.has(E)}n.forEach=function(d,E){Tn(this),this.g.forEach(function(j,J){j.forEach(function(Ae){d.call(E,Ae,J,this)},this)},this)},n.na=function(){Tn(this);const d=Array.from(this.g.values()),E=Array.from(this.g.keys()),j=[];for(let J=0;J<E.length;J++){const Ae=d[J];for(let De=0;De<Ae.length;De++)j.push(E[J])}return j},n.V=function(d){Tn(this);let E=[];if(typeof d=="string")Fi(this,d)&&(E=E.concat(this.g.get(Mi(this,d))));else{d=Array.from(this.g.values());for(let j=0;j<d.length;j++)E=E.concat(d[j])}return E},n.set=function(d,E){return Tn(this),this.i=null,d=Mi(this,d),Fi(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[E]),this.h+=1,this},n.get=function(d,E){return d?(d=this.V(d),0<d.length?String(d[0]):E):E};function Ut(d,E,j){no(d,E),0<j.length&&(d.i=null,d.g.set(Mi(d,E),R(j)),d.h+=j.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],E=Array.from(this.g.keys());for(var j=0;j<E.length;j++){var J=E[j];const De=encodeURIComponent(String(J)),Xe=this.V(J);for(J=0;J<Xe.length;J++){var Ae=De;Xe[J]!==""&&(Ae+="="+encodeURIComponent(String(Xe[J]))),d.push(Ae)}}return this.i=d.join("&")};function Mi(d,E){return E=String(E),d.j&&(E=E.toLowerCase()),E}function vo(d,E){E&&!d.j&&(Tn(d),d.i=null,d.g.forEach(function(j,J){var Ae=J.toLowerCase();J!=Ae&&(no(this,J),Ut(this,Ae,j))},d)),d.j=E}function yo(d,E){const j=new Et;if(u.Image){const J=new Image;J.onload=v(Gr,j,"TestLoadImage: loaded",!0,E,J),J.onerror=v(Gr,j,"TestLoadImage: error",!1,E,J),J.onabort=v(Gr,j,"TestLoadImage: abort",!1,E,J),J.ontimeout=v(Gr,j,"TestLoadImage: timeout",!1,E,J),u.setTimeout(function(){J.ontimeout&&J.ontimeout()},1e4),J.src=d}else E(!1)}function Ms(d,E){const j=new Et,J=new AbortController,Ae=setTimeout(()=>{J.abort(),Gr(j,"TestPingServer: timeout",!1,E)},1e4);fetch(d,{signal:J.signal}).then(De=>{clearTimeout(Ae),De.ok?Gr(j,"TestPingServer: ok",!0,E):Gr(j,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(Ae),Gr(j,"TestPingServer: error",!1,E)})}function Gr(d,E,j,J,Ae){try{Ae&&(Ae.onload=null,Ae.onerror=null,Ae.onabort=null,Ae.ontimeout=null),J(j)}catch{}}function as(){this.g=new gr}function ss(d,E,j){const J=j||"";try{ta(d,function(Ae,De){let Xe=Ae;p(Ae)&&(Xe=fn(Ae)),E.push(J+De+"="+encodeURIComponent(Xe))})}catch(Ae){throw E.push(J+"type="+encodeURIComponent("_badmap")),Ae}}function jo(d){this.l=d.Ub||null,this.j=d.eb||!1}T(jo,Zt),jo.prototype.g=function(){return new Ta(this.l,this.j)},jo.prototype.i=function(d){return function(){return d}}({});function Ta(d,E){ht.call(this),this.D=d,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}T(Ta,ht),n=Ta.prototype,n.open=function(d,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=E,this.readyState=1,Kr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(E.body=d),(this.D||u).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_i(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Kr(this)),this.g&&(this.readyState=3,Kr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Al(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Al(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var E=d.value?d.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!d.done}))&&(this.response=this.responseText+=E)}d.done?_i(this):Kr(this),this.readyState==3&&Al(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,_i(this))},n.Qa=function(d){this.g&&(this.response=d,_i(this))},n.ga=function(){this.g&&_i(this)};function _i(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Kr(d)}n.setRequestHeader=function(d,E){this.u.append(d,E)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],E=this.h.entries();for(var j=E.next();!j.done;)j=j.value,d.push(j[0]+": "+j[1]),j=E.next();return d.join(`\r
`)};function Kr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Ta.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function oi(d){let E="";return ie(d,function(j,J){E+=J,E+=":",E+=j,E+=`\r
`}),E}function oa(d,E,j){e:{for(J in j){var J=!1;break e}J=!0}J||(j=oi(j),typeof d=="string"?j!=null&&encodeURIComponent(String(j)):Vn(d,E,j))}function Rn(d){ht.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}T(Rn,ht);var js=/^https?$/i,aa=["POST","PUT"];n=Rn.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,E,j,J){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);E=E?E.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Jt.g(),this.v=this.o?ii(this.o):ii(Jt),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(E,String(d),!0),this.B=!1}catch(De){sa(this,De);return}if(d=j||"",j=new Map(this.headers),J)if(Object.getPrototypeOf(J)===Object.prototype)for(var Ae in J)j.set(Ae,J[Ae]);else if(typeof J.keys=="function"&&typeof J.get=="function")for(const De of J.keys())j.set(De,J.get(De));else throw Error("Unknown input type for opt_headers: "+String(J));J=Array.from(j.keys()).find(De=>De.toLowerCase()=="content-type"),Ae=u.FormData&&d instanceof u.FormData,!(0<=Array.prototype.indexOf.call(aa,E,void 0))||J||Ae||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[De,Xe]of j)this.g.setRequestHeader(De,Xe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bi(this),this.u=!0,this.g.send(d),this.u=!1}catch(De){sa(this,De)}};function sa(d,E){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=E,d.m=5,Ia(d),ai(d)}function Ia(d){d.A||(d.A=!0,_t(d,"complete"),_t(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,_t(this,"complete"),_t(this,"abort"),ai(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ai(this,!0)),Rn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ls(this):this.bb())},n.bb=function(){ls(this)};function ls(d){if(d.h&&typeof l<"u"&&(!d.v[1]||fr(d)!=4||d.Z()!=2)){if(d.u&&fr(d)==4)Rt(d.Ea,0,d);else if(_t(d,"readystatechange"),fr(d)==4){d.h=!1;try{const Xe=d.Z();e:switch(Xe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var j;if(!(j=E)){var J;if(J=Xe===0){var Ae=String(d.D).match(Wr)[1]||null;!Ae&&u.self&&u.self.location&&(Ae=u.self.location.protocol.slice(0,-1)),J=!js.test(Ae?Ae.toLowerCase():"")}j=J}if(j)_t(d,"complete"),_t(d,"success");else{d.m=6;try{var De=2<fr(d)?d.g.statusText:""}catch{De=""}d.l=De+" ["+d.Z()+"]",Ia(d)}}finally{ai(d)}}}}function ai(d,E){if(d.g){bi(d);const j=d.g,J=d.v[0]?()=>{}:null;d.g=null,d.v=null,E||_t(d,"ready");try{j.onreadystatechange=J}catch{}}}function bi(d){d.I&&(u.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function fr(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<fr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var E=this.g.responseText;return d&&E.indexOf(d)==0&&(E=E.substring(d.length)),dn(E)}};function Vs(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ro(d){const E={};d=(d.g&&2<=fr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let J=0;J<d.length;J++){if(V(d[J]))continue;var j=I(d[J]);const Ae=j[0];if(j=j[1],typeof j!="string")continue;j=j.trim();const De=E[Ae]||[];E[Ae]=De,De.push(j)}D(E,function(J){return J.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Er(d,E,j){return j&&j.internalChannelParams&&j.internalChannelParams[d]||E}function Pa(d){this.Aa=0,this.i=[],this.j=new Et,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Er("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Er("baseRetryDelayMs",5e3,d),this.cb=Er("retryDelaySeedMs",1e4,d),this.Wa=Er("forwardChannelMaxRetries",2,d),this.wa=Er("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new qr(d&&d.concurrentRequestLimit),this.Da=new as,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Pa.prototype,n.la=8,n.G=1,n.connect=function(d,E,j,J){Le(0),this.W=d,this.H=E||{},j&&J!==void 0&&(this.H.OSID=j,this.H.OAID=J),this.F=this.X,this.I=w(this,null,this.W),wo(this)};function ir(d){if(Vo(d),d.G==3){var E=d.U++,j=$r(d.I);if(Vn(j,"SID",d.K),Vn(j,"RID",E),Vn(j,"TYPE","terminate"),_o(d,j),E=new an(d,d.j,E),E.L=2,E.v=Mo($r(j)),j=!1,u.navigator&&u.navigator.sendBeacon)try{j=u.navigator.sendBeacon(E.v.toString(),"")}catch{}!j&&u.Image&&(new Image().src=E.v,j=!0),j||(E.g=H(E.j,null),E.g.ea(E.v)),E.F=Date.now(),bn(E)}hs(d)}function io(d){d.g&&(us(d),d.g.cancel(),d.g=null)}function Vo(d){io(d),d.u&&(u.clearTimeout(d.u),d.u=null),Uo(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&u.clearTimeout(d.s),d.s=null)}function wo(d){if(!Vr(d.h)&&!d.s){d.s=!0;var E=d.Ga;oe||he(),te||(oe(),te=!0),ne.add(E,d),d.B=0}}function Bs(d,E){return Oo(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=E.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=wt(x(d.Ga,d,E),cs(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const Ae=new an(this,this.j,d);let De=this.o;if(this.S&&(De?(De=A(De),U(De,this.S)):De=this.S),this.m!==null||this.O||(Ae.H=De,De=null),this.P)e:{for(var E=0,j=0;j<this.i.length;j++){t:{var J=this.i[j];if("__data__"in J.map&&(J=J.map.__data__,typeof J=="string")){J=J.length;break t}J=void 0}if(J===void 0)break;if(E+=J,4096<E){E=j;break e}if(E===4096||j===this.i.length-1){E=j+1;break e}}E=1e3}else E=1e3;E=oo(this,Ae,E),j=$r(this.I),Vn(j,"RID",d),Vn(j,"CVER",22),this.D&&Vn(j,"X-HTTP-Session-Id",this.D),_o(this,j),De&&(this.O?E="headers="+encodeURIComponent(String(oi(De)))+"&"+E:this.m&&oa(j,this.m,De)),Xn(this.h,Ae),this.Ua&&Vn(j,"TYPE","init"),this.P?(Vn(j,"$req",E),Vn(j,"SID","null"),Ae.T=!0,cr(Ae,j,null)):cr(Ae,j,E),this.G=2}}else this.G==3&&(d?la(this,d):this.i.length==0||Vr(this.h)||la(this))};function la(d,E){var j;E?j=E.l:j=d.U++;const J=$r(d.I);Vn(J,"SID",d.K),Vn(J,"RID",j),Vn(J,"AID",d.T),_o(d,J),d.m&&d.o&&oa(J,d.m,d.o),j=new an(d,d.j,j,d.B+1),d.m===null&&(j.H=d.o),E&&(d.i=E.D.concat(d.i)),E=oo(d,j,1e3),j.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Xn(d.h,j),cr(j,J,E)}function _o(d,E){d.H&&ie(d.H,function(j,J){Vn(E,J,j)}),d.l&&ta({},function(j,J){Vn(E,J,j)})}function oo(d,E,j){j=Math.min(d.i.length,j);var J=d.l?x(d.l.Na,d.l,d):null;e:{var Ae=d.i;let De=-1;for(;;){const Xe=["count="+j];De==-1?0<j?(De=Ae[0].g,Xe.push("ofs="+De)):De=0:Xe.push("ofs="+De);let en=!0;for(let gn=0;gn<j;gn++){let tn=Ae[gn].g;const Dn=Ae[gn].map;if(tn-=De,0>tn)De=Math.max(0,Ae[gn].g-100),en=!1;else try{ss(Dn,Xe,"req"+tn+"_")}catch{J&&J(Dn)}}if(en){J=Xe.join("&");break e}}}return d=d.i.splice(0,j),E.D=d,J}function Bo(d){if(!d.g&&!d.u){d.Y=1;var E=d.Fa;oe||he(),te||(oe(),te=!0),ne.add(E,d),d.v=0}}function ua(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=wt(x(d.Fa,d),cs(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Tl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=wt(x(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Le(10),io(this),Tl(this))};function us(d){d.A!=null&&(u.clearTimeout(d.A),d.A=null)}function Tl(d){d.g=new an(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var E=$r(d.qa);Vn(E,"RID","rpc"),Vn(E,"SID",d.K),Vn(E,"AID",d.T),Vn(E,"CI",d.F?"0":"1"),!d.F&&d.ja&&Vn(E,"TO",d.ja),Vn(E,"TYPE","xmlhttp"),_o(d,E),d.m&&d.o&&oa(E,d.m,d.o),d.L&&(d.g.I=d.L);var j=d.g;d=d.ia,j.L=1,j.v=Mo($r(E)),j.m=null,j.P=!0,Di(j,d)}n.Za=function(){this.C!=null&&(this.C=null,io(this),ua(this),Le(19))};function Uo(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function bo(d,E){var j=null;if(d.g==E){Uo(d),us(d),d.g=null;var J=2}else if(Hr(d.h,E))j=E.D,Os(d.h,E),J=1;else return;if(d.G!=0){if(E.o)if(J==1){j=E.m?E.m.length:0,E=Date.now()-E.F;var Ae=d.B;J=vi(),_t(J,new pt(J,j)),wo(d)}else Bo(d);else if(Ae=E.s,Ae==3||Ae==0&&0<E.X||!(J==1&&Bs(d,E)||J==2&&ua(d)))switch(j&&0<j.length&&(E=d.h,E.i=E.i.concat(j)),Ae){case 1:si(d,5);break;case 4:si(d,10);break;case 3:si(d,6);break;default:si(d,2)}}}function cs(d,E){let j=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(j*=2),j*E}function si(d,E){if(d.j.info("Error code "+E),E==2){var j=x(d.fb,d),J=d.Xa;const Ae=!J;J=new hr(J||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||na(J,"https"),Mo(J),Ae?yo(J.toString(),j):Ms(J.toString(),j)}else Le(2);d.G=0,d.l&&d.l.sa(E),hs(d),Vo(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Le(2)):(this.j.info("Failed to ping google.com"),Le(1))};function hs(d){if(d.G=0,d.ka=[],d.l){const E=Fs(d.h);(E.length!=0||d.i.length!=0)&&(O(d.ka,E),O(d.ka,d.i),d.h.i.length=0,R(d.i),d.i.length=0),d.l.ra()}}function w(d,E,j){var J=j instanceof hr?$r(j):new hr(j);if(J.g!="")E&&(J.g=E+"."+J.g),ra(J,J.s);else{var Ae=u.location;J=Ae.protocol,E=E?E+"."+Ae.hostname:Ae.hostname,Ae=+Ae.port;var De=new hr(null);J&&na(De,J),E&&(De.g=E),Ae&&ra(De,Ae),j&&(De.l=j),J=De}return j=d.D,E=d.ya,j&&E&&Vn(J,j,E),Vn(J,"VER",d.la),_o(d,J),J}function H(d,E,j){if(E&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=d.Ca&&!d.pa?new Rn(new jo({eb:j})):new Rn(d.pa),E.Ha(d.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ce(){}n=ce.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ge(){}ge.prototype.g=function(d,E){return new Pe(d,E)};function Pe(d,E){ht.call(this),this.g=new Pa(E),this.l=d,this.h=E&&E.messageUrlParams||null,d=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(d?d["X-WebChannel-Content-Type"]=E.messageContentType:d={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(d?d["X-WebChannel-Client-Profile"]=E.va:d={"X-WebChannel-Client-Profile":E.va}),this.g.S=d,(d=E&&E.Sb)&&!V(d)&&(this.g.m=d),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!V(E)&&(this.g.D=E,d=this.h,d!==null&&E in d&&(d=this.h,E in d&&delete d[E])),this.j=new gt(this)}T(Pe,ht),Pe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pe.prototype.close=function(){ir(this.g)},Pe.prototype.o=function(d){var E=this.g;if(typeof d=="string"){var j={};j.__data__=d,d=j}else this.u&&(j={},j.__data__=fn(d),d=j);E.i.push(new Kn(E.Ya++,d)),E.G==3&&wo(E)},Pe.prototype.N=function(){this.g.l=null,delete this.j,ir(this.g),delete this.g,Pe.aa.N.call(this)};function Be(d){vr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var E=d.__sm__;if(E){e:{for(const j in E){d=j;break e}d=void 0}(this.i=d)&&(d=this.i,E=E!==null&&d in E?E[d]:void 0),this.data=E}else this.data=d}T(Be,vr);function Ye(){En.call(this),this.status=1}T(Ye,En);function gt(d){this.g=d}T(gt,ce),gt.prototype.ua=function(){_t(this.g,"a")},gt.prototype.ta=function(d){_t(this.g,new Be(d))},gt.prototype.sa=function(d){_t(this.g,new Ye)},gt.prototype.ra=function(){_t(this.g,"b")},ge.prototype.createWebChannel=ge.prototype.g,Pe.prototype.send=Pe.prototype.o,Pe.prototype.open=Pe.prototype.m,Pe.prototype.close=Pe.prototype.close,uw=function(){return new ge},lw=function(){return vi()},sw=Dt,yg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},un.NO_ERROR=0,un.TIMEOUT=8,un.HTTP_ERROR=6,Dd=un,An.COMPLETE="complete",aw=An,Ln.EventType=nr,nr.OPEN="a",nr.CLOSE="b",nr.ERROR="c",nr.MESSAGE="d",ht.prototype.listen=ht.prototype.K,zh=Ln,Rn.prototype.listenOnce=Rn.prototype.L,Rn.prototype.getLastError=Rn.prototype.Ka,Rn.prototype.getLastErrorCode=Rn.prototype.Ba,Rn.prototype.getStatus=Rn.prototype.Z,Rn.prototype.getResponseJson=Rn.prototype.Oa,Rn.prototype.getResponseText=Rn.prototype.oa,Rn.prototype.send=Rn.prototype.ea,Rn.prototype.setWithCredentials=Rn.prototype.Ha,ow=Rn}).apply(typeof md<"u"?md:typeof self<"u"?self:typeof window<"u"?window:{});const dy="@firebase/firestore",py="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ji.UNAUTHENTICATED=new Ji(null),Ji.GOOGLE_CREDENTIALS=new Ji("google-credentials-uid"),Ji.FIRST_PARTY=new Ji("first-party-uid"),Ji.MOCK_USER=new Ji("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=new sv("@firebase/firestore");function qc(){return uc.logLevel}function At(n,...e){if(uc.logLevel<=wn.DEBUG){const t=e.map(bv);uc.debug(`Firestore (${ch}): ${n}`,...t)}}function pl(n,...e){if(uc.logLevel<=wn.ERROR){const t=e.map(bv);uc.error(`Firestore (${ch}): ${n}`,...t)}}function eh(n,...e){if(uc.logLevel<=wn.WARN){const t=e.map(bv);uc.warn(`Firestore (${ch}): ${n}`,...t)}}function bv(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(n="Unexpected state"){const e=`FIRESTORE (${ch}) INTERNAL ASSERTION FAILED: `+n;throw pl(e),new Error(e)}function Gn(n,e){n||Yt()}function ln(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Bt extends wl{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ji.UNAUTHENTICATED))}shutdown(){}}class sT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class lT{constructor(e){this.t=e,this.currentUser=Ji.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Gn(this.o===void 0);let r=this.i;const i=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let a=new hl;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new hl,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},u=h=>{At("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(At("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new hl)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(At("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Gn(typeof r.accessToken=="string"),new cw(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Gn(e===null||typeof e=="string"),new Ji(e)}}class uT{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Ji.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class cT{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new uT(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ji.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class my{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hT{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Yo(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Gn(this.o===void 0);const r=a=>{a.error!=null&&At("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,At("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{At("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):At("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new my(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Gn(typeof t.token=="string"),this.R=t.token,new my(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fT(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=fT(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%62))}return r}}function xn(n,e){return n<e?-1:n>e?1:0}function th(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy=-62135596800,vy=1e6;class ni{static now(){return ni.fromMillis(Date.now())}static fromDate(e){return ni.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*vy);return new ni(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Bt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Bt(nt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<gy)throw new Bt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Bt(nt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vy}_compareTo(e){return this.seconds===e.seconds?xn(this.nanoseconds,e.nanoseconds):xn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-gy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{static fromTimestamp(e){return new rn(e)}static min(){return new rn(new ni(0,0))}static max(){return new rn(new ni(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy="__name__";class Es{constructor(e,t,r){t===void 0?t=0:t>e.length&&Yt(),r===void 0?r=e.length-t:r>e.length-t&&Yt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Es.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Es?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=Es.compareSegments(e.get(i),t.get(i));if(a!==0)return a}return Math.sign(e.length-t.length)}static compareSegments(e,t){const r=Es.isNumericId(e),i=Es.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?Es.extractNumericId(e).compare(Es.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gu.fromString(e.substring(4,e.length-2))}}class mr extends Es{construct(e,t,r){return new mr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Bt(nt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new mr(t)}static emptyPath(){return new mr([])}}const dT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Li extends Es{construct(e,t,r){return new Li(e,t,r)}static isValidIdentifier(e){return dT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Li.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yy}static keyField(){return new Li([yy])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Bt(nt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Bt(nt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Bt(nt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(a(),i++)}if(a(),l)throw new Bt(nt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Li(t)}static emptyPath(){return new Li([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.path=e}static fromPath(e){return new $t(mr.fromString(e))}static fromName(e){return new $t(mr.fromString(e).popFirst(5))}static empty(){return new $t(mr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&mr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return mr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $t(new mr(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf=-1;function pT(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=rn.fromTimestamp(r===1e9?new ni(t+1,0):new ni(t,r));return new _u(i,$t.empty(),e)}function mT(n){return new _u(n.readTime,n.key,lf)}class _u{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new _u(rn.min(),$t.empty(),lf)}static max(){return new _u(rn.max(),$t.empty(),lf)}}function gT(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=$t.comparator(n.documentKey,e.documentKey),t!==0?t:xn(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hh(n){if(n.code!==nt.FAILED_PRECONDITION||n.message!==vT)throw n;At("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ke((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Ke?t:Ke.resolve(t)}catch(t){return Ke.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Ke.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Ke.reject(t)}static resolve(e){return new Ke((t,r)=>{t(e)})}static reject(e){return new Ke((t,r)=>{r(e)})}static waitFor(e){return new Ke((t,r)=>{let i=0,a=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++a,l&&a===i&&t()},h=>r(h))}),l=!0,a===i&&t()})}static or(e){let t=Ke.resolve(!1);for(const r of e)t=t.next(i=>i?Ke.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new Ke((r,i)=>{const a=e.length,l=new Array(a);let u=0;for(let h=0;h<a;h++){const p=h;t(e[p]).next(y=>{l[p]=y,++u,u===a&&r(l)},y=>i(y))}})}static doWhile(e,t){return new Ke((r,i)=>{const a=()=>{e()===!0?t().next(()=>{a()},i):r()};a()})}}function wT(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function fh(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Sp.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv=-1;function Ep(n){return n==null}function Zd(n){return n===0&&1/n==-1/0}function _T(n){return typeof n=="number"&&Number.isInteger(n)&&!Zd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="";function bT(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=wy(e)),e=xT(n.get(t),e);return wy(e)}function xT(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="";break;case fw:t+="";break;default:t+=a}}return t}function wy(n){return n+fw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function pc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function dw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(e,t){this.comparator=e,this.root=t||Ni.EMPTY}insert(e,t){return new xr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ni.BLACK,null,null))}remove(e){return new xr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ni.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new gd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new gd(this.root,e,this.comparator,!1)}getReverseIterator(){return new gd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new gd(this.root,e,this.comparator,!0)}}class gd{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ni{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Ni.RED,this.left=i??Ni.EMPTY,this.right=a??Ni.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Ni(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):a===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ni.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Ni.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ni.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ni.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Yt();const e=this.left.check();if(e!==this.right.check())throw Yt();return e+(this.isRed()?0:1)}}Ni.EMPTY=null,Ni.RED=!0,Ni.BLACK=!1;Ni.EMPTY=new class{constructor(){this.size=0}get key(){throw Yt()}get value(){throw Yt()}get color(){throw Yt()}get left(){throw Yt()}get right(){throw Yt()}copy(e,t,r,i,a){return this}insert(e,t,r){return new Ni(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this.comparator=e,this.data=new xr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new by(this.data.getIterator())}getIteratorFrom(e){return new by(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof ri)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new ri(this.comparator);return t.data=e,t}}class by{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e){this.fields=e,e.sort(Li.comparator)}static empty(){return new Xa([])}unionWith(e){let t=new ri(Li.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Xa(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return th(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new pw("Invalid base64 string: "+a):a}}(e);return new Ri(t)}static fromUint8Array(e){const t=function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a}(e);return new Ri(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ri.EMPTY_BYTE_STRING=new Ri("");const ST=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bu(n){if(Gn(!!n),typeof n=="string"){let e=0;const t=ST.exec(n);if(Gn(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Or(n.seconds),nanos:Or(n.nanos)}}function Or(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function xu(n){return typeof n=="string"?Ri.fromBase64String(n):Ri.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw="server_timestamp",gw="__type__",vw="__previous_value__",yw="__local_write_time__";function Sv(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[gw])===null||t===void 0?void 0:t.stringValue)===mw}function Ap(n){const e=n.mapValue.fields[vw];return Sv(e)?Ap(e):e}function uf(n){const e=bu(n.mapValue.fields[yw].timestampValue);return new ni(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,t,r,i,a,l,u,h,p){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=p}}const ep="(default)";class cf{constructor(e,t){this.projectId=e,this.database=t||ep}static empty(){return new cf("","")}get isDefaultDatabase(){return this.database===ep}isEqual(e){return e instanceof cf&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="__type__",AT="__max__",vd={mapValue:{}},_w="__vector__",tp="value";function Su(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Sv(n)?4:IT(n)?9007199254740991:TT(n)?10:11:Yt()}function Ns(n,e){if(n===e)return!0;const t=Su(n);if(t!==Su(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return uf(n).isEqual(uf(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=bu(i.timestampValue),u=bu(a.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,a){return xu(i.bytesValue).isEqual(xu(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,a){return Or(i.geoPointValue.latitude)===Or(a.geoPointValue.latitude)&&Or(i.geoPointValue.longitude)===Or(a.geoPointValue.longitude)}(n,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return Or(i.integerValue)===Or(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=Or(i.doubleValue),u=Or(a.doubleValue);return l===u?Zd(l)===Zd(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return th(n.arrayValue.values||[],e.arrayValue.values||[],Ns);case 10:case 11:return function(i,a){const l=i.mapValue.fields||{},u=a.mapValue.fields||{};if(_y(l)!==_y(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!Ns(l[h],u[h])))return!1;return!0}(n,e);default:return Yt()}}function hf(n,e){return(n.values||[]).find(t=>Ns(t,e))!==void 0}function nh(n,e){if(n===e)return 0;const t=Su(n),r=Su(e);if(t!==r)return xn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return xn(n.booleanValue,e.booleanValue);case 2:return function(a,l){const u=Or(a.integerValue||a.doubleValue),h=Or(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,e);case 3:return xy(n.timestampValue,e.timestampValue);case 4:return xy(uf(n),uf(e));case 5:return xn(n.stringValue,e.stringValue);case 6:return function(a,l){const u=xu(a),h=xu(l);return u.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const u=a.split("/"),h=l.split("/");for(let p=0;p<u.length&&p<h.length;p++){const y=xn(u[p],h[p]);if(y!==0)return y}return xn(u.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const u=xn(Or(a.latitude),Or(l.latitude));return u!==0?u:xn(Or(a.longitude),Or(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Sy(n.arrayValue,e.arrayValue);case 10:return function(a,l){var u,h,p,y;const _=a.fields||{},x=l.fields||{},v=(u=_[tp])===null||u===void 0?void 0:u.arrayValue,T=(h=x[tp])===null||h===void 0?void 0:h.arrayValue,R=xn(((p=v==null?void 0:v.values)===null||p===void 0?void 0:p.length)||0,((y=T==null?void 0:T.values)===null||y===void 0?void 0:y.length)||0);return R!==0?R:Sy(v,T)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===vd.mapValue&&l===vd.mapValue)return 0;if(a===vd.mapValue)return 1;if(l===vd.mapValue)return-1;const u=a.fields||{},h=Object.keys(u),p=l.fields||{},y=Object.keys(p);h.sort(),y.sort();for(let _=0;_<h.length&&_<y.length;++_){const x=xn(h[_],y[_]);if(x!==0)return x;const v=nh(u[h[_]],p[y[_]]);if(v!==0)return v}return xn(h.length,y.length)}(n.mapValue,e.mapValue);default:throw Yt()}}function xy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return xn(n,e);const t=bu(n),r=bu(e),i=xn(t.seconds,r.seconds);return i!==0?i:xn(t.nanos,r.nanos)}function Sy(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const a=nh(t[i],r[i]);if(a)return a}return xn(t.length,r.length)}function rh(n){return wg(n)}function wg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=bu(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return xu(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return $t.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const a of t.values||[])i?i=!1:r+=",",r+=wg(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${wg(t.fields[l])}`;return i+"}"}(n.mapValue):Yt()}function Od(n){switch(Su(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ap(n);return e?16+Od(e):16;case 5:return 2*n.stringValue.length;case 6:return xu(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Od(a),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return pc(r.fields,(a,l)=>{i+=a.length+Od(l)}),i}(n.mapValue);default:throw Yt()}}function _g(n){return!!n&&"integerValue"in n}function Ev(n){return!!n&&"arrayValue"in n}function Ey(n){return!!n&&"nullValue"in n}function Ay(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Fd(n){return!!n&&"mapValue"in n}function TT(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[ww])===null||t===void 0?void 0:t.stringValue)===_w}function Gh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return pc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Gh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Gh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function IT(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===AT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e){this.value=e}static empty(){return new xa({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Fd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Gh(t)}setAll(e){let t=Li.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const h=this.getFieldsMap(t);this.applyChanges(h,r,i),r={},i=[],t=u.popLast()}l?r[u.lastSegment()]=Gh(l):i.push(u.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());Fd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ns(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Fd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){pc(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new xa(Gh(this.value))}}function bw(n){const e=[];return pc(n.fields,(t,r)=>{const i=new Li([t]);if(Fd(r)){const a=bw(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new Xa(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,t,r,i,a,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Xi(e,0,rn.min(),rn.min(),rn.min(),xa.empty(),0)}static newFoundDocument(e,t,r,i){return new Xi(e,1,t,rn.min(),r,i,0)}static newNoDocument(e,t){return new Xi(e,2,t,rn.min(),rn.min(),xa.empty(),0)}static newUnknownDocument(e,t){return new Xi(e,3,t,rn.min(),rn.min(),xa.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(rn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xa.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xa.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,t){this.position=e,this.inclusive=t}}function Ty(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],l=n.position[i];if(a.field.isKeyField()?r=$t.comparator($t.fromName(l.referenceValue),t.key):r=nh(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Iy(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ns(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,t="asc"){this.field=e,this.dir=t}}function PT(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{}class ti extends xw{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new CT(e,t,r):t==="array-contains"?new RT(e,r):t==="in"?new DT(e,r):t==="not-in"?new OT(e,r):t==="array-contains-any"?new FT(e,r):new ti(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new NT(e,r):new LT(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(nh(t,this.value)):t!==null&&Su(this.value)===Su(t)&&this.matchesComparison(nh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Yt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ls extends xw{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Ls(e,t)}matches(e){return Sw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Sw(n){return n.op==="and"}function Ew(n){return kT(n)&&Sw(n)}function kT(n){for(const e of n.filters)if(e instanceof Ls)return!1;return!0}function bg(n){if(n instanceof ti)return n.field.canonicalString()+n.op.toString()+rh(n.value);if(Ew(n))return n.filters.map(e=>bg(e)).join(",");{const e=n.filters.map(t=>bg(t)).join(",");return`${n.op}(${e})`}}function Aw(n,e){return n instanceof ti?function(r,i){return i instanceof ti&&r.op===i.op&&r.field.isEqual(i.field)&&Ns(r.value,i.value)}(n,e):n instanceof Ls?function(r,i){return i instanceof Ls&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,l,u)=>a&&Aw(l,i.filters[u]),!0):!1}(n,e):void Yt()}function Tw(n){return n instanceof ti?function(t){return`${t.field.canonicalString()} ${t.op} ${rh(t.value)}`}(n):n instanceof Ls?function(t){return t.op.toString()+" {"+t.getFilters().map(Tw).join(" ,")+"}"}(n):"Filter"}class CT extends ti{constructor(e,t,r){super(e,t,r),this.key=$t.fromName(r.referenceValue)}matches(e){const t=$t.comparator(e.key,this.key);return this.matchesComparison(t)}}class NT extends ti{constructor(e,t){super(e,"in",t),this.keys=Iw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class LT extends ti{constructor(e,t){super(e,"not-in",t),this.keys=Iw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Iw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>$t.fromName(r.referenceValue))}class RT extends ti{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ev(t)&&hf(t.arrayValue,this.value)}}class DT extends ti{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&hf(this.value.arrayValue,t)}}class OT extends ti{constructor(e,t){super(e,"not-in",t)}matches(e){if(hf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!hf(this.value.arrayValue,t)}}class FT extends ti{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ev(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>hf(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,t=null,r=[],i=[],a=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=u,this.le=null}}function Py(n,e=null,t=[],r=[],i=null,a=null,l=null){return new MT(n,e,t,r,i,a,l)}function Av(n){const e=ln(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>bg(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Ep(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>rh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>rh(r)).join(",")),e.le=t}return e.le}function Tv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!PT(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Aw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Iy(n.startAt,e.startAt)&&Iy(n.endAt,e.endAt)}function xg(n){return $t.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,t=null,r=[],i=[],a=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=u,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function jT(n,e,t,r,i,a,l,u){return new Tp(n,e,t,r,i,a,l,u)}function Iv(n){return new Tp(n)}function ky(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function VT(n){return n.collectionGroup!==null}function Kh(n){const e=ln(n);if(e.he===null){e.he=[];const t=new Set;for(const a of e.explicitOrderBy)e.he.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new ri(Li.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(u=u.add(p.field))})}),u})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.he.push(new rp(a,r))}),t.has(Li.keyField().canonicalString())||e.he.push(new rp(Li.keyField(),r))}return e.he}function Ps(n){const e=ln(n);return e.Pe||(e.Pe=BT(e,Kh(n))),e.Pe}function BT(n,e){if(n.limitType==="F")return Py(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new rp(i.field,a)});const t=n.endAt?new np(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new np(n.startAt.position,n.startAt.inclusive):null;return Py(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Sg(n,e,t){return new Tp(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ip(n,e){return Tv(Ps(n),Ps(e))&&n.limitType===e.limitType}function Pw(n){return`${Av(Ps(n))}|lt:${n.limitType}`}function Hc(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>Tw(i)).join(", ")}]`),Ep(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>rh(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>rh(i)).join(",")),`Target(${r})`}(Ps(n))}; limitType=${n.limitType})`}function Pp(n,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):$t.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,i){for(const a of Kh(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,u,h){const p=Ty(l,u,h);return l.inclusive?p<=0:p<0}(r.startAt,Kh(r),i)||r.endAt&&!function(l,u,h){const p=Ty(l,u,h);return l.inclusive?p>=0:p>0}(r.endAt,Kh(r),i))}(n,e)}function UT(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function kw(n){return(e,t)=>{let r=!1;for(const i of Kh(n)){const a=zT(i,e,t);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function zT(n,e,t){const r=n.field.isKeyField()?$t.comparator(e.key,t.key):function(a,l,u){const h=l.data.field(a),p=u.data.field(a);return h!==null&&p!==null?nh(h,p):Yt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Yt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){pc(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return dw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=new xr($t.comparator);function ml(){return qT}const Cw=new xr($t.comparator);function qh(...n){let e=Cw;for(const t of n)e=e.insert(t.key,t);return e}function Nw(n){let e=Cw;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Zu(){return Qh()}function Lw(){return Qh()}function Qh(){return new mc(n=>n.toString(),(n,e)=>n.isEqual(e))}const HT=new xr($t.comparator),WT=new ri($t.comparator);function _n(...n){let e=WT;for(const t of n)e=e.add(t);return e}const $T=new ri(xn);function GT(){return $T}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zd(e)?"-0":e}}function Rw(n){return{integerValue:""+n}}function KT(n,e){return _T(e)?Rw(e):Pv(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(){this._=void 0}}function QT(n,e,t){return n instanceof ip?function(i,a){const l={fields:{[gw]:{stringValue:mw},[yw]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Sv(a)&&(a=Ap(a)),a&&(l.fields[vw]=a),{mapValue:l}}(t,e):n instanceof ff?Ow(n,e):n instanceof df?Fw(n,e):function(i,a){const l=Dw(i,a),u=Cy(l)+Cy(i.Ie);return _g(l)&&_g(i.Ie)?Rw(u):Pv(i.serializer,u)}(n,e)}function YT(n,e,t){return n instanceof ff?Ow(n,e):n instanceof df?Fw(n,e):t}function Dw(n,e){return n instanceof op?function(r){return _g(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class ip extends kp{}class ff extends kp{constructor(e){super(),this.elements=e}}function Ow(n,e){const t=Mw(e);for(const r of n.elements)t.some(i=>Ns(i,r))||t.push(r);return{arrayValue:{values:t}}}class df extends kp{constructor(e){super(),this.elements=e}}function Fw(n,e){let t=Mw(e);for(const r of n.elements)t=t.filter(i=>!Ns(i,r));return{arrayValue:{values:t}}}class op extends kp{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Cy(n){return Or(n.integerValue||n.doubleValue)}function Mw(n){return Ev(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function JT(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof ff&&i instanceof ff||r instanceof df&&i instanceof df?th(r.elements,i.elements,Ns):r instanceof op&&i instanceof op?Ns(r.Ie,i.Ie):r instanceof ip&&i instanceof ip}(n.transform,e.transform)}class XT{constructor(e,t){this.version=e,this.transformResults=t}}class es{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new es}static exists(e){return new es(void 0,e)}static updateTime(e){return new es(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Md(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Cp{}function jw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new kv(n.key,es.none()):new If(n.key,n.data,es.none());{const t=n.data,r=xa.empty();let i=new ri(Li.comparator);for(let a of e.fields)if(!i.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new gc(n.key,r,new Xa(i.toArray()),es.none())}}function ZT(n,e,t){n instanceof If?function(i,a,l){const u=i.value.clone(),h=Ly(i.fieldTransforms,a,l.transformResults);u.setAll(h),a.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof gc?function(i,a,l){if(!Md(i.precondition,a))return void a.convertToUnknownDocument(l.version);const u=Ly(i.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(Vw(i)),h.setAll(u),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Yh(n,e,t,r){return n instanceof If?function(a,l,u,h){if(!Md(a.precondition,l))return u;const p=a.value.clone(),y=Ry(a.fieldTransforms,h,l);return p.setAll(y),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof gc?function(a,l,u,h){if(!Md(a.precondition,l))return u;const p=Ry(a.fieldTransforms,h,l),y=l.data;return y.setAll(Vw(a)),y.setAll(p),l.convertToFoundDocument(l.version,y).setHasLocalMutations(),u===null?null:u.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(a,l,u){return Md(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function eI(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=Dw(r.transform,i||null);a!=null&&(t===null&&(t=xa.empty()),t.set(r.field,a))}return t||null}function Ny(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&th(r,i,(a,l)=>JT(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class If extends Cp{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class gc extends Cp{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Vw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Ly(n,e,t){const r=new Map;Gn(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],l=a.transform,u=e.data.field(a.field);r.set(a.field,YT(l,u,t[i]))}return r}function Ry(n,e,t){const r=new Map;for(const i of n){const a=i.transform,l=t.data.field(i.field);r.set(i.field,QT(a,l,e))}return r}class kv extends Cp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tI extends Cp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&ZT(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Yh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Yh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Lw();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let u=this.applyToLocalView(l,a.mutatedFields);u=t.has(i.key)?null:u;const h=jw(l,u);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(rn.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),_n())}isEqual(e){return this.batchId===e.batchId&&th(this.mutations,e.mutations,(t,r)=>Ny(t,r))&&th(this.baseMutations,e.baseMutations,(t,r)=>Ny(t,r))}}class Cv{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Gn(e.mutations.length===r.length);let i=function(){return HT}();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new Cv(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ur,kn;function oI(n){switch(n){case nt.OK:return Yt();case nt.CANCELLED:case nt.UNKNOWN:case nt.DEADLINE_EXCEEDED:case nt.RESOURCE_EXHAUSTED:case nt.INTERNAL:case nt.UNAVAILABLE:case nt.UNAUTHENTICATED:return!1;case nt.INVALID_ARGUMENT:case nt.NOT_FOUND:case nt.ALREADY_EXISTS:case nt.PERMISSION_DENIED:case nt.FAILED_PRECONDITION:case nt.ABORTED:case nt.OUT_OF_RANGE:case nt.UNIMPLEMENTED:case nt.DATA_LOSS:return!0;default:return Yt()}}function Bw(n){if(n===void 0)return pl("GRPC error has no .code"),nt.UNKNOWN;switch(n){case Ur.OK:return nt.OK;case Ur.CANCELLED:return nt.CANCELLED;case Ur.UNKNOWN:return nt.UNKNOWN;case Ur.DEADLINE_EXCEEDED:return nt.DEADLINE_EXCEEDED;case Ur.RESOURCE_EXHAUSTED:return nt.RESOURCE_EXHAUSTED;case Ur.INTERNAL:return nt.INTERNAL;case Ur.UNAVAILABLE:return nt.UNAVAILABLE;case Ur.UNAUTHENTICATED:return nt.UNAUTHENTICATED;case Ur.INVALID_ARGUMENT:return nt.INVALID_ARGUMENT;case Ur.NOT_FOUND:return nt.NOT_FOUND;case Ur.ALREADY_EXISTS:return nt.ALREADY_EXISTS;case Ur.PERMISSION_DENIED:return nt.PERMISSION_DENIED;case Ur.FAILED_PRECONDITION:return nt.FAILED_PRECONDITION;case Ur.ABORTED:return nt.ABORTED;case Ur.OUT_OF_RANGE:return nt.OUT_OF_RANGE;case Ur.UNIMPLEMENTED:return nt.UNIMPLEMENTED;case Ur.DATA_LOSS:return nt.DATA_LOSS;default:return Yt()}}(kn=Ur||(Ur={}))[kn.OK=0]="OK",kn[kn.CANCELLED=1]="CANCELLED",kn[kn.UNKNOWN=2]="UNKNOWN",kn[kn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kn[kn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kn[kn.NOT_FOUND=5]="NOT_FOUND",kn[kn.ALREADY_EXISTS=6]="ALREADY_EXISTS",kn[kn.PERMISSION_DENIED=7]="PERMISSION_DENIED",kn[kn.UNAUTHENTICATED=16]="UNAUTHENTICATED",kn[kn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kn[kn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kn[kn.ABORTED=10]="ABORTED",kn[kn.OUT_OF_RANGE=11]="OUT_OF_RANGE",kn[kn.UNIMPLEMENTED=12]="UNIMPLEMENTED",kn[kn.INTERNAL=13]="INTERNAL",kn[kn.UNAVAILABLE=14]="UNAVAILABLE",kn[kn.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI=new gu([4294967295,4294967295],0);function Dy(n){const e=aI().encode(n),t=new iw;return t.update(e),new Uint8Array(t.digest())}function Oy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new gu([t,r],0),new gu([i,a],0)]}class Nv{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Hh(`Invalid padding: ${t}`);if(r<0)throw new Hh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Hh(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Hh(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=gu.fromNumber(this.Ee)}Ae(e,t,r){let i=e.add(t.multiply(gu.fromNumber(r)));return i.compare(sI)===1&&(i=new gu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=Dy(e),[r,i]=Oy(t);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,i,a);if(!this.Re(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Nv(a,i,t);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.Ee===0)return;const t=Dy(e),[r,i]=Oy(t);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,i,a);this.Ve(l)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Hh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Np{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Pf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Np(rn.min(),i,new xr(xn),ml(),_n())}}class Pf{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Pf(r,t,_n(),_n(),_n())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e,t,r,i){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=i}}class Uw{constructor(e,t){this.targetId=e,this.ge=t}}class zw{constructor(e,t,r=Ri.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class Fy{constructor(){this.pe=0,this.ye=My(),this.we=Ri.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=_n(),t=_n(),r=_n();return this.ye.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Yt()}}),new Pf(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=My()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Gn(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class lI{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ml(),this.$e=yd(),this.Ke=yd(),this.Ue=new xr(xn)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Yt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,i)=>{this.Je(i)&&t(i)})}Ze(e){const t=e.targetId,r=e.ge.count,i=this.Xe(t);if(i){const a=i.target;if(xg(a))if(r===0){const l=new $t(a.path);this.ze(t,l,Xi.newNoDocument(l,rn.min()))}else Gn(r===1);else{const l=this.et(t);if(l!==r){const u=this.tt(e),h=u?this.nt(u,e,l):1;if(h!==0){this.Ye(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,p)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=t;let l,u;try{l=xu(r).toUint8Array()}catch(h){if(h instanceof pw)return eh("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new Nv(l,i,a)}catch(h){return eh(h instanceof Hh?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.Ee===0?null:u}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let i=0;return r.forEach(a=>{const l=this.ke.it(),u=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(u)||(this.ze(t,a,null),i++)}),i}ot(e){const t=new Map;this.qe.forEach((a,l)=>{const u=this.Xe(l);if(u){if(a.current&&xg(u.target)){const h=new $t(u.target.path);this._t(h).has(l)||this.ut(l,h)||this.ze(l,h,Xi.newNoDocument(h,e))}a.ve&&(t.set(l,a.Fe()),a.Me())}});let r=_n();this.Ke.forEach((a,l)=>{let u=!0;l.forEachWhile(h=>{const p=this.Xe(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(a))}),this.Qe.forEach((a,l)=>l.setReadTime(e));const i=new Np(e,t,this.Ue,this.Qe,r);return this.Qe=ml(),this.$e=yd(),this.Ke=yd(),this.Ue=new xr(xn),i}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,t)?i.xe(t,1):i.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Fy,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new ri(xn),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new ri(xn),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||At("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Fy),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function yd(){return new xr($t.comparator)}function My(){return new xr($t.comparator)}const uI={asc:"ASCENDING",desc:"DESCENDING"},cI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hI={and:"AND",or:"OR"};class fI{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Eg(n,e){return n.useProto3Json||Ep(e)?e:{value:e}}function ap(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function dI(n,e){return ap(n,e.toTimestamp())}function ks(n){return Gn(!!n),rn.fromTimestamp(function(t){const r=bu(t);return new ni(r.seconds,r.nanos)}(n))}function Lv(n,e){return Ag(n,e).canonicalString()}function Ag(n,e){const t=function(i){return new mr(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Hw(n){const e=mr.fromString(n);return Gn(Qw(e)),e}function Tg(n,e){return Lv(n.databaseId,e.path)}function zm(n,e){const t=Hw(e);if(t.get(1)!==n.databaseId.projectId)throw new Bt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Bt(nt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new $t($w(t))}function Ww(n,e){return Lv(n.databaseId,e)}function pI(n){const e=Hw(n);return e.length===4?mr.emptyPath():$w(e)}function Ig(n){return new mr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $w(n){return Gn(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function jy(n,e,t){return{name:Tg(n,e),fields:t.value.mapValue.fields}}function mI(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Yt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(p,y){return p.useProto3Json?(Gn(y===void 0||typeof y=="string"),Ri.fromBase64String(y||"")):(Gn(y===void 0||y instanceof Buffer||y instanceof Uint8Array),Ri.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(p){const y=p.code===void 0?nt.UNKNOWN:Bw(p.code);return new Bt(y,p.message||"")}(l);t=new zw(r,i,a,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=zm(n,r.document.name),a=ks(r.document.updateTime),l=r.document.createTime?ks(r.document.createTime):rn.min(),u=new xa({mapValue:{fields:r.document.fields}}),h=Xi.newFoundDocument(i,a,l,u),p=r.targetIds||[],y=r.removedTargetIds||[];t=new jd(p,y,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=zm(n,r.document),a=r.readTime?ks(r.readTime):rn.min(),l=Xi.newNoDocument(i,a),u=r.removedTargetIds||[];t=new jd([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=zm(n,r.document),a=r.removedTargetIds||[];t=new jd([],a,i,null)}else{if(!("filter"in e))return Yt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new iI(i,a),u=r.targetId;t=new Uw(u,l)}}return t}function gI(n,e){let t;if(e instanceof If)t={update:jy(n,e.key,e.value)};else if(e instanceof kv)t={delete:Tg(n,e.key)};else if(e instanceof gc)t={update:jy(n,e.key,e.data),updateMask:AI(e.fieldMask)};else{if(!(e instanceof tI))return Yt();t={verify:Tg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const u=l.transform;if(u instanceof ip)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof ff)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof df)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof op)return{fieldPath:l.field.canonicalString(),increment:u.Ie};throw Yt()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:dI(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Yt()}(n,e.precondition)),t}function vI(n,e){return n&&n.length>0?(Gn(e!==void 0),n.map(t=>function(i,a){let l=i.updateTime?ks(i.updateTime):ks(a);return l.isEqual(rn.min())&&(l=ks(a)),new XT(l,i.transformResults||[])}(t,e))):[]}function yI(n,e){return{documents:[Ww(n,e.path)]}}function wI(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=Ww(n,i);const a=function(p){if(p.length!==0)return Kw(Ls.create(p,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(y=>function(x){return{field:Wc(x.field),direction:xI(x.dir)}}(y))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=Eg(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:t,parent:i}}function _I(n){let e=pI(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Gn(r===1);const y=t.from[0];y.allDescendants?i=y.collectionId:e=e.child(y.collectionId)}let a=[];t.where&&(a=function(_){const x=Gw(_);return x instanceof Ls&&Ew(x)?x.getFilters():[x]}(t.where));let l=[];t.orderBy&&(l=function(_){return _.map(x=>function(T){return new rp($c(T.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(x))}(t.orderBy));let u=null;t.limit&&(u=function(_){let x;return x=typeof _=="object"?_.value:_,Ep(x)?null:x}(t.limit));let h=null;t.startAt&&(h=function(_){const x=!!_.before,v=_.values||[];return new np(v,x)}(t.startAt));let p=null;return t.endAt&&(p=function(_){const x=!_.before,v=_.values||[];return new np(v,x)}(t.endAt)),jT(e,i,l,a,u,"F",h,p)}function bI(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Yt()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Gw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=$c(t.unaryFilter.field);return ti.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=$c(t.unaryFilter.field);return ti.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=$c(t.unaryFilter.field);return ti.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=$c(t.unaryFilter.field);return ti.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Yt()}}(n):n.fieldFilter!==void 0?function(t){return ti.create($c(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Yt()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Ls.create(t.compositeFilter.filters.map(r=>Gw(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Yt()}}(t.compositeFilter.op))}(n):Yt()}function xI(n){return uI[n]}function SI(n){return cI[n]}function EI(n){return hI[n]}function Wc(n){return{fieldPath:n.canonicalString()}}function $c(n){return Li.fromServerFormat(n.fieldPath)}function Kw(n){return n instanceof ti?function(t){if(t.op==="=="){if(Ay(t.value))return{unaryFilter:{field:Wc(t.field),op:"IS_NAN"}};if(Ey(t.value))return{unaryFilter:{field:Wc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Ay(t.value))return{unaryFilter:{field:Wc(t.field),op:"IS_NOT_NAN"}};if(Ey(t.value))return{unaryFilter:{field:Wc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wc(t.field),op:SI(t.op),value:t.value}}}(n):n instanceof Ls?function(t){const r=t.getFilters().map(i=>Kw(i));return r.length===1?r[0]:{compositeFilter:{op:EI(t.op),filters:r}}}(n):Yt()}function AI(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Qw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,t,r,i,a=rn.min(),l=rn.min(),u=Ri.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new hu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new hu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){this.Tt=e}}function II(n){const e=_I({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Sg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(){this.Tn=new kI}addToCollectionParentIndex(e,t){return this.Tn.add(t),Ke.resolve()}getCollectionParents(e,t){return Ke.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Ke.resolve()}deleteFieldIndex(e,t){return Ke.resolve()}deleteAllFieldIndexes(e){return Ke.resolve()}createTargetIndexes(e,t){return Ke.resolve()}getDocumentsMatchingTarget(e,t){return Ke.resolve(null)}getIndexType(e,t){return Ke.resolve(0)}getFieldIndexes(e,t){return Ke.resolve([])}getNextCollectionGroupToUpdate(e){return Ke.resolve(null)}getMinOffset(e,t){return Ke.resolve(_u.min())}getMinOffsetFromCollectionGroup(e,t){return Ke.resolve(_u.min())}updateCollectionGroup(e,t,r){return Ke.resolve()}updateIndexEntries(e,t){return Ke.resolve()}}class kI{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ri(mr.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ri(mr.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Yw=41943040;class Lo{static withCacheSize(e){return new Lo(e,Lo.DEFAULT_COLLECTION_PERCENTILE,Lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Lo.DEFAULT_COLLECTION_PERCENTILE=10,Lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lo.DEFAULT=new Lo(Yw,Lo.DEFAULT_COLLECTION_PERCENTILE,Lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lo.DISABLED=new Lo(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new ih(0)}static Un(){return new ih(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="LruGarbageCollector",CI=1048576;function Uy([n,e],[t,r]){const i=xn(n,t);return i===0?xn(e,r):i}class NI{constructor(e){this.Hn=e,this.buffer=new ri(Uy),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Uy(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class LI{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){At(By,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){fh(t)?At(By,"Ignoring IndexedDB error during garbage collection: ",t):await hh(t)}await this.er(3e5)})}}class RI{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return Ke.resolve(Sp.ae);const r=new NI(t);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(At("LruGarbageCollector","Garbage collection skipped; disabled"),Ke.resolve(Vy)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(At("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vy):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,i,a,l,u,h,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(At("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,l=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,u=Date.now(),this.removeTargets(e,r,t))).next(_=>(a=_,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),qc()<=wn.DEBUG&&At("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-y}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${a} targets in `+(h-u)+`ms
	Removed ${_} documents in `+(p-h)+`ms
Total Duration: ${p-y}ms`),Ke.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:_})))}}function DI(n,e){return new RI(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(){this.changes=new mc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Xi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Ke.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Yh(r.mutation,i,Xa.empty(),ni.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,_n()).next(()=>r))}getLocalViewOfDocuments(e,t,r=_n()){const i=Zu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let l=qh();return a.forEach((u,h)=>{l=l.insert(u,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Zu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,_n()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,r,i){let a=ml();const l=Qh(),u=function(){return Qh()}();return t.forEach((h,p)=>{const y=r.get(p.key);i.has(p.key)&&(y===void 0||y.mutation instanceof gc)?a=a.insert(p.key,p):y!==void 0?(l.set(p.key,y.mutation.getFieldMask()),Yh(y.mutation,p,y.mutation.getFieldMask(),ni.now())):l.set(p.key,Xa.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((p,y)=>l.set(p,y)),t.forEach((p,y)=>{var _;return u.set(p,new FI(y,(_=l.get(p))!==null&&_!==void 0?_:null))}),u))}recalculateAndSaveOverlays(e,t){const r=Qh();let i=new xr((l,u)=>l-u),a=_n();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(h=>{const p=t.get(h);if(p===null)return;let y=r.get(h)||Xa.empty();y=u.applyToLocalView(p,y),r.set(h,y);const _=(i.get(u.batchId)||_n()).add(h);i=i.insert(u.batchId,_)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),p=h.key,y=h.value,_=Lw();y.forEach(x=>{if(!a.has(x)){const v=jw(t.get(x),r.get(x));v!==null&&_.set(x,v),a=a.add(x)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return Ke.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return $t.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):VT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):Ke.resolve(Zu());let u=lf,h=a;return l.next(p=>Ke.forEach(p,(y,_)=>(u<_.largestBatchId&&(u=_.largestBatchId),a.get(y)?Ke.resolve():this.remoteDocumentCache.getEntry(e,y).next(x=>{h=h.insert(y,x)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,h,p,_n())).next(y=>({batchId:u,changes:Nw(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new $t(t)).next(r=>{let i=qh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const a=t.collectionGroup;let l=qh();return this.indexManager.getCollectionParents(e,a).next(u=>Ke.forEach(u,h=>{const p=function(_,x){return new Tp(x,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(y=>{y.forEach((_,x)=>{l=l.insert(_,x)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,i))).next(l=>{a.forEach((h,p)=>{const y=p.getKey();l.get(y)===null&&(l=l.insert(y,Xi.newInvalidDocument(y)))});let u=qh();return l.forEach((h,p)=>{const y=a.get(h);y!==void 0&&Yh(y.mutation,p,Xa.empty(),ni.now()),Pp(t,p)&&(u=u.insert(h,p))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Ke.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:ks(i.createTime)}}(t)),Ke.resolve()}getNamedQuery(e,t){return Ke.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(i){return{name:i.name,query:II(i.bundledQuery),readTime:ks(i.readTime)}}(t)),Ke.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(){this.overlays=new xr($t.comparator),this.Rr=new Map}getOverlay(e,t){return Ke.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Zu();return Ke.forEach(t,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.Et(e,t,a)}),Ke.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(r)),Ke.resolve()}getOverlaysForCollection(e,t,r){const i=Zu(),a=t.length+1,l=new $t(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&h.largestBatchId>r&&i.set(h.getKey(),h)}return Ke.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new xr((p,y)=>p-y);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let y=a.get(p.largestBatchId);y===null&&(y=Zu(),a=a.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const u=Zu(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,y)=>u.set(p,y)),!(u.size()>=i)););return Ke.resolve(u)}Et(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new rI(t,r));let a=this.Rr.get(t);a===void 0&&(a=_n(),this.Rr.set(t,a)),this.Rr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(){this.sessionToken=Ri.EMPTY_BYTE_STRING}getSessionToken(e){return Ke.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ke.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rv{constructor(){this.Vr=new ri(mi.mr),this.gr=new ri(mi.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new mi(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new mi(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new $t(new mr([])),r=new mi(t,e),i=new mi(t,e+1),a=[];return this.gr.forEachInRange([r,i],l=>{this.wr(l),a.push(l.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new $t(new mr([])),r=new mi(t,e),i=new mi(t,e+1);let a=_n();return this.gr.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new mi(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class mi{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return $t.comparator(e.key,t.key)||xn(e.Cr,t.Cr)}static pr(e,t){return xn(e.Cr,t.Cr)||$t.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new ri(mi.mr)}checkEmpty(e){return Ke.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new nI(a,t,r,i);this.mutationQueue.push(l);for(const u of i)this.Mr=this.Mr.add(new mi(u.key,a)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return Ke.resolve(l)}lookupMutationBatch(e,t){return Ke.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Nr(r),a=i<0?0:i;return Ke.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Ke.resolve(this.mutationQueue.length===0?xv:this.Fr-1)}getAllMutationBatches(e){return Ke.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new mi(t,0),i=new mi(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,i],l=>{const u=this.Or(l.Cr);a.push(u)}),Ke.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ri(xn);return t.forEach(i=>{const a=new mi(i,0),l=new mi(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,l],u=>{r=r.add(u.Cr)})}),Ke.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;$t.isDocumentKey(a)||(a=a.child(""));const l=new mi(new $t(a),0);let u=new ri(xn);return this.Mr.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(u=u.add(h.Cr)),!0)},l),Ke.resolve(this.Br(u))}Br(e){const t=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Gn(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return Ke.forEach(t.mutations,i=>{const a=new mi(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new mi(t,0),i=this.Mr.firstAfterOrEqual(r);return Ke.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ke.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e){this.kr=e,this.docs=function(){return new xr($t.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,l=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ke.resolve(r?r.document.mutableCopy():Xi.newInvalidDocument(t))}getEntries(e,t){let r=ml();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Xi.newInvalidDocument(i))}),Ke.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let a=ml();const l=t.path,u=new $t(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:p,value:{document:y}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||gT(mT(y),r)<=0||(i.has(y.key)||Pp(t,y))&&(a=a.insert(y.key,y.mutableCopy()))}return Ke.resolve(a)}getAllFromCollectionGroup(e,t,r,i){Yt()}qr(e,t){return Ke.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new qI(this)}getSize(e){return Ke.resolve(this.size)}}class qI extends OI{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),Ke.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e){this.persistence=e,this.Qr=new mc(t=>Av(t),Tv),this.lastRemoteSnapshotVersion=rn.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Rv,this.targetCount=0,this.Ur=ih.Kn()}forEachTarget(e,t){return this.Qr.forEach((r,i)=>t(i)),Ke.resolve()}getLastRemoteSnapshotVersion(e){return Ke.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ke.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Ke.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),Ke.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new ih(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Ke.resolve()}updateTargetData(e,t){return this.zn(t),Ke.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,Ke.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Qr.forEach((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.Qr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),Ke.waitFor(a).next(()=>i)}getTargetCount(e){return Ke.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return Ke.resolve(r)}addMatchingKeys(e,t,r){return this.Kr.yr(t,r),Ke.resolve()}removeMatchingKeys(e,t,r){this.Kr.Sr(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),Ke.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),Ke.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Kr.vr(t);return Ke.resolve(r)}containsKey(e,t){return Ke.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Sp(0),this.zr=!1,this.zr=!0,this.jr=new BI,this.referenceDelegate=e(this),this.Hr=new HI(this),this.indexManager=new PI,this.remoteDocumentCache=function(i){return new zI(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new TI(t),this.Yr=new jI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new VI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new UI(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){At("MemoryPersistence","Starting transaction:",e);const i=new WI(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(a=>this.referenceDelegate.Xr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}ei(e,t){return Ke.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class WI extends yT{constructor(e){super(),this.currentSequenceNumber=e}}class Dv{constructor(e){this.persistence=e,this.ti=new Rv,this.ni=null}static ri(e){return new Dv(e)}get ii(){if(this.ni)return this.ni;throw Yt()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),Ke.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),Ke.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Ke.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.ii.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ke.forEach(this.ii,r=>{const i=$t.fromPath(r);return this.si(e,i).next(a=>{a||t.removeEntry(i,rn.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return Ke.or([()=>Ke.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class sp{constructor(e,t){this.persistence=e,this.oi=new mc(r=>bT(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=DI(this,t)}static ri(e,t){return new sp(e,t)}Zr(){}Xr(e){return Ke.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return Ke.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(a=>a?Ke.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.qr(e,l=>this.ar(e,l,t).next(u=>{u||(r++,a.removeEntry(l,rn.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Ke.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),Ke.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),Ke.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Ke.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Od(e.data.value)),t}ar(e,t,r){return Ke.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.oi.get(t);return Ke.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=i}static Yi(e,t){let r=_n(),i=_n();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Ov(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return AE()?8:wT(eo())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,i){const a={result:null};return this.rs(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ss(e,t,i,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new $I;return this._s(e,t,l).next(u=>{if(a.result=u,this.Xi)return this.us(e,t,l,u.size)})}).next(()=>a.result)}us(e,t,r,i){return r.documentReadCount<this.es?(qc()<=wn.DEBUG&&At("QueryEngine","SDK will not create cache indexes for query:",Hc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Ke.resolve()):(qc()<=wn.DEBUG&&At("QueryEngine","Query:",Hc(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(qc()<=wn.DEBUG&&At("QueryEngine","The SDK decides to create cache indexes for query:",Hc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ps(t))):Ke.resolve())}rs(e,t){if(ky(t))return Ke.resolve(null);let r=Ps(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Sg(t,null,"F"),r=Ps(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=_n(...a);return this.ns.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(h=>{const p=this.cs(t,u);return this.ls(t,p,l,h.readTime)?this.rs(e,Sg(t,null,"F")):this.hs(e,p,t,h)}))})))}ss(e,t,r,i){return ky(t)||i.isEqual(rn.min())?Ke.resolve(null):this.ns.getDocuments(e,r).next(a=>{const l=this.cs(t,a);return this.ls(t,l,r,i)?Ke.resolve(null):(qc()<=wn.DEBUG&&At("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hc(t)),this.hs(e,l,t,pT(i,lf)).next(u=>u))})}cs(e,t){let r=new ri(kw(e));return t.forEach((i,a)=>{Pp(e,a)&&(r=r.add(a))}),r}ls(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}_s(e,t,r){return qc()<=wn.DEBUG&&At("QueryEngine","Using full collection scan to execute query:",Hc(t)),this.ns.getDocumentsMatchingQuery(e,t,_u.min(),r)}hs(e,t,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="LocalStore",KI=3e8;class QI{constructor(e,t,r,i){this.persistence=e,this.Ps=t,this.serializer=i,this.Ts=new xr(xn),this.Is=new mc(a=>Av(a),Tv),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new MI(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function YI(n,e,t,r){return new QI(n,e,t,r)}async function Xw(n,e){const t=ln(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],u=[];let h=_n();for(const p of i){l.push(p.batchId);for(const y of p.mutations)h=h.add(y.key)}for(const p of a){u.push(p.batchId);for(const y of p.mutations)h=h.add(y.key)}return t.localDocuments.getDocuments(r,h).next(p=>({Rs:p,removedBatchIds:l,addedBatchIds:u}))})})}function JI(n,e){const t=ln(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.ds.newChangeBuffer({trackRemovals:!0});return function(u,h,p,y){const _=p.batch,x=_.keys();let v=Ke.resolve();return x.forEach(T=>{v=v.next(()=>y.getEntry(h,T)).next(R=>{const O=p.docVersions.get(T);Gn(O!==null),R.version.compareTo(O)<0&&(_.applyToRemoteDocument(R,p),R.isValidDocument()&&(R.setReadTime(p.commitVersion),y.addEntry(R)))})}),v.next(()=>u.mutationQueue.removeMutationBatch(h,_))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let h=_n();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(h=h.add(u.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Zw(n){const e=ln(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function XI(n,e){const t=ln(n),r=e.snapshotVersion;let i=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.ds.newChangeBuffer({trackRemovals:!0});i=t.Ts;const u=[];e.targetChanges.forEach((y,_)=>{const x=i.get(_);if(!x)return;u.push(t.Hr.removeMatchingKeys(a,y.removedDocuments,_).next(()=>t.Hr.addMatchingKeys(a,y.addedDocuments,_)));let v=x.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?v=v.withResumeToken(Ri.EMPTY_BYTE_STRING,rn.min()).withLastLimboFreeSnapshotVersion(rn.min()):y.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(y.resumeToken,r)),i=i.insert(_,v),function(R,O,C){return R.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=KI?!0:C.addedDocuments.size+C.modifiedDocuments.size+C.removedDocuments.size>0}(x,v,y)&&u.push(t.Hr.updateTargetData(a,v))});let h=ml(),p=_n();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(a,y))}),u.push(ZI(a,l,e.documentUpdates).next(y=>{h=y.Vs,p=y.fs})),!r.isEqual(rn.min())){const y=t.Hr.getLastRemoteSnapshotVersion(a).next(_=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,r));u.push(y)}return Ke.waitFor(u).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,h,p)).next(()=>h)}).then(a=>(t.Ts=i,a))}function ZI(n,e,t){let r=_n(),i=_n();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=ml();return t.forEach((u,h)=>{const p=a.get(u);h.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(u)),h.isNoDocument()&&h.version.isEqual(rn.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):At(Fv,"Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",h.version)}),{Vs:l,fs:i}})}function eP(n,e){const t=ln(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=xv),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function tP(n,e){const t=ln(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Hr.getTargetData(r,e).next(a=>a?(i=a,Ke.resolve(i)):t.Hr.allocateTargetId(r).next(l=>(i=new hu(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function Pg(n,e,t){const r=ln(n),i=r.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!fh(l))throw l;At(Fv,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function zy(n,e,t){const r=ln(n);let i=rn.min(),a=_n();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,p,y){const _=ln(h),x=_.Is.get(y);return x!==void 0?Ke.resolve(_.Ts.get(x)):_.Hr.getTargetData(p,y)}(r,l,Ps(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,u.targetId).next(h=>{a=h})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,t?i:rn.min(),t?a:_n())).next(u=>(nP(r,UT(e),u),{documents:u,gs:a})))}function nP(n,e,t){let r=n.Es.get(e)||rn.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Es.set(e,r)}class qy{constructor(){this.activeTargetIds=GT()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rP{constructor(){this.ho=new qy,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new qy,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="ConnectivityMonitor";class Wy{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){At(Hy,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){At(Hy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wd=null;function kg(){return wd===null?wd=function(){return 268435456+Math.round(2147483648*Math.random())}():wd++,"0x"+wd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="RestConnection",oP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aP{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===ep?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,t,r,i,a){const l=kg(),u=this.bo(e,t.toUriEncodedString());At(qm,`Sending RPC '${e}' ${l}:`,u,r);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,i,a),this.vo(e,u,h,r).then(p=>(At(qm,`Received RPC '${e}' ${l}: `,p),p),p=>{throw eh(qm,`RPC '${e}' ${l} failed with error: `,p,"url: ",u,"request:",r),p})}Co(e,t,r,i,a,l){return this.So(e,t,r,i,a)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ch}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}bo(e,t){const r=oP[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i="WebChannelConnection";class lP extends aP{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,i){const a=kg();return new Promise((l,u)=>{const h=new ow;h.setWithCredentials(!0),h.listenOnce(aw.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Dd.NO_ERROR:const y=h.getResponseJson();At($i,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(y)),l(y);break;case Dd.TIMEOUT:At($i,`RPC '${e}' ${a} timed out`),u(new Bt(nt.DEADLINE_EXCEEDED,"Request time out"));break;case Dd.HTTP_ERROR:const _=h.getStatus();if(At($i,`RPC '${e}' ${a} failed with status:`,_,"response text:",h.getResponseText()),_>0){let x=h.getResponseJson();Array.isArray(x)&&(x=x[0]);const v=x==null?void 0:x.error;if(v&&v.status&&v.message){const T=function(O){const C=O.toLowerCase().replace(/_/g,"-");return Object.values(nt).indexOf(C)>=0?C:nt.UNKNOWN}(v.status);u(new Bt(T,v.message))}else u(new Bt(nt.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Bt(nt.UNAVAILABLE,"Connection failed."));break;default:Yt()}}finally{At($i,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(i);At($i,`RPC '${e}' ${a} sending request:`,i),h.send(t,"POST",p,r,15)})}Wo(e,t,r){const i=kg(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=uw(),u=lw(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const y=a.join("");At($i,`Creating RPC '${e}' stream ${i}: ${y}`,h);const _=l.createWebChannel(y,h);let x=!1,v=!1;const T=new sP({Fo:O=>{v?At($i,`Not sending because RPC '${e}' stream ${i} is closed:`,O):(x||(At($i,`Opening RPC '${e}' stream ${i} transport.`),_.open(),x=!0),At($i,`RPC '${e}' stream ${i} sending:`,O),_.send(O))},Mo:()=>_.close()}),R=(O,C,V)=>{O.listen(C,B=>{try{V(B)}catch($){setTimeout(()=>{throw $},0)}})};return R(_,zh.EventType.OPEN,()=>{v||(At($i,`RPC '${e}' stream ${i} transport opened.`),T.Qo())}),R(_,zh.EventType.CLOSE,()=>{v||(v=!0,At($i,`RPC '${e}' stream ${i} transport closed`),T.Ko())}),R(_,zh.EventType.ERROR,O=>{v||(v=!0,eh($i,`RPC '${e}' stream ${i} transport errored:`,O),T.Ko(new Bt(nt.UNAVAILABLE,"The operation could not be completed")))}),R(_,zh.EventType.MESSAGE,O=>{var C;if(!v){const V=O.data[0];Gn(!!V);const B=V,$=(B==null?void 0:B.error)||((C=B[0])===null||C===void 0?void 0:C.error);if($){At($i,`RPC '${e}' stream ${i} received error:`,$);const z=$.status;let ie=function(M){const U=Ur[M];if(U!==void 0)return Bw(U)}(z),D=$.message;ie===void 0&&(ie=nt.INTERNAL,D="Unknown error status: "+z+" with message "+$.message),v=!0,T.Ko(new Bt(ie,D)),_.close()}else At($i,`RPC '${e}' stream ${i} received:`,V),T.Uo(V)}}),R(u,sw.STAT_EVENT,O=>{O.stat===yg.PROXY?At($i,`RPC '${e}' stream ${i} detected buffering proxy`):O.stat===yg.NOPROXY&&At($i,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{T.$o()},0),T}}function Hm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(n){return new fI(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=i,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,t-r);i>0&&At("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y="PersistentStream";class t_{constructor(e,t,r,i,a,l,u,h){this.Ti=e,this.n_=r,this.r_=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new e_(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===nt.RESOURCE_EXHAUSTED?(pl(t.toString()),pl("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===nt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===t&&this.V_(r,i)},r=>{e(()=>{const i=new Bt(nt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return At($y,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(At($y,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class uP extends t_{constructor(e,t,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=mI(this.serializer,e),r=function(a){if(!("targetChange"in a))return rn.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?rn.min():l.readTime?ks(l.readTime):rn.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=Ig(this.serializer),t.addTarget=function(a,l){let u;const h=l.target;if(u=xg(h)?{documents:yI(a,h)}:{query:wI(a,h).ht},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=qw(a,l.resumeToken);const p=Eg(a,l.expectedCount);p!==null&&(u.expectedCount=p)}else if(l.snapshotVersion.compareTo(rn.min())>0){u.readTime=ap(a,l.snapshotVersion.toTimestamp());const p=Eg(a,l.expectedCount);p!==null&&(u.expectedCount=p)}return u}(this.serializer,e);const r=bI(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=Ig(this.serializer),t.removeTarget=e,this.I_(t)}}class cP extends t_{constructor(e,t,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Gn(!!e.streamToken),this.lastStreamToken=e.streamToken,Gn(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Gn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=vI(e.writeResults,e.commitTime),r=ks(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=Ig(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>gI(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{}class fP extends hP{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Bt(nt.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.So(e,Ag(t,r),i,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Bt(nt.UNKNOWN,a.toString())})}Co(e,t,r,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Co(e,Ag(t,r),i,l,u,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===nt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Bt(nt.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class dP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(pl(t),this.N_=!1):At("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc="RemoteStore";class pP{constructor(e,t,r,i,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(l=>{r.enqueueAndForget(async()=>{vc(this)&&(At(cc,"Restarting streams for network reachability change."),await async function(h){const p=ln(h);p.W_.add(4),await kf(p),p.j_.set("Unknown"),p.W_.delete(4),await Rp(p)}(this))})}),this.j_=new dP(r,i)}}async function Rp(n){if(vc(n))for(const e of n.G_)await e(!0)}async function kf(n){for(const e of n.G_)await e(!1)}function n_(n,e){const t=ln(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Bv(t)?Vv(t):dh(t).c_()&&jv(t,e))}function Mv(n,e){const t=ln(n),r=dh(t);t.U_.delete(e),r.c_()&&r_(t,e),t.U_.size===0&&(r.c_()?r.P_():vc(t)&&t.j_.set("Unknown"))}function jv(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(rn.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}dh(n).y_(e)}function r_(n,e){n.H_.Ne(e),dh(n).w_(e)}function Vv(n){n.H_=new lI({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),dh(n).start(),n.j_.B_()}function Bv(n){return vc(n)&&!dh(n).u_()&&n.U_.size>0}function vc(n){return ln(n).W_.size===0}function i_(n){n.H_=void 0}async function mP(n){n.j_.set("Online")}async function gP(n){n.U_.forEach((e,t)=>{jv(n,e)})}async function vP(n,e){i_(n),Bv(n)?(n.j_.q_(e),Vv(n)):n.j_.set("Unknown")}async function yP(n,e,t){if(n.j_.set("Online"),e instanceof zw&&e.state===2&&e.cause)try{await async function(i,a){const l=a.cause;for(const u of a.targetIds)i.U_.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i.U_.delete(u),i.H_.removeTarget(u))}(n,e)}catch(r){At(cc,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await lp(n,r)}else if(e instanceof jd?n.H_.We(e):e instanceof Uw?n.H_.Ze(e):n.H_.je(e),!t.isEqual(rn.min()))try{const r=await Zw(n.localStore);t.compareTo(r)>=0&&await function(a,l){const u=a.H_.ot(l);return u.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const y=a.U_.get(p);y&&a.U_.set(p,y.withResumeToken(h.resumeToken,l))}}),u.targetMismatches.forEach((h,p)=>{const y=a.U_.get(h);if(!y)return;a.U_.set(h,y.withResumeToken(Ri.EMPTY_BYTE_STRING,y.snapshotVersion)),r_(a,h);const _=new hu(y.target,h,p,y.sequenceNumber);jv(a,_)}),a.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){At(cc,"Failed to raise snapshot:",r),await lp(n,r)}}async function lp(n,e,t){if(!fh(e))throw e;n.W_.add(1),await kf(n),n.j_.set("Offline"),t||(t=()=>Zw(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{At(cc,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Rp(n)})}function o_(n,e){return e().catch(t=>lp(n,t,e))}async function Dp(n){const e=ln(n),t=Eu(e);let r=e.K_.length>0?e.K_[e.K_.length-1].batchId:xv;for(;wP(e);)try{const i=await eP(e.localStore,r);if(i===null){e.K_.length===0&&t.P_();break}r=i.batchId,_P(e,i)}catch(i){await lp(e,i)}a_(e)&&s_(e)}function wP(n){return vc(n)&&n.K_.length<10}function _P(n,e){n.K_.push(e);const t=Eu(n);t.c_()&&t.S_&&t.b_(e.mutations)}function a_(n){return vc(n)&&!Eu(n).u_()&&n.K_.length>0}function s_(n){Eu(n).start()}async function bP(n){Eu(n).C_()}async function xP(n){const e=Eu(n);for(const t of n.K_)e.b_(t.mutations)}async function SP(n,e,t){const r=n.K_.shift(),i=Cv.from(r,e,t);await o_(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Dp(n)}async function EP(n,e){e&&Eu(n).S_&&await async function(r,i){if(function(l){return oI(l)&&l!==nt.ABORTED}(i.code)){const a=r.K_.shift();Eu(r).h_(),await o_(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Dp(r)}}(n,e),a_(n)&&s_(n)}async function Gy(n,e){const t=ln(n);t.asyncQueue.verifyOperationInProgress(),At(cc,"RemoteStore received new credentials");const r=vc(t);t.W_.add(3),await kf(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Rp(t)}async function AP(n,e){const t=ln(n);e?(t.W_.delete(2),await Rp(t)):e||(t.W_.add(2),await kf(t),t.j_.set("Unknown"))}function dh(n){return n.J_||(n.J_=function(t,r,i){const a=ln(t);return a.M_(),new uP(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{xo:mP.bind(null,n),No:gP.bind(null,n),Lo:vP.bind(null,n),p_:yP.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Bv(n)?Vv(n):n.j_.set("Unknown")):(await n.J_.stop(),i_(n))})),n.J_}function Eu(n){return n.Y_||(n.Y_=function(t,r,i){const a=ln(t);return a.M_(),new cP(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:bP.bind(null,n),Lo:EP.bind(null,n),D_:xP.bind(null,n),v_:SP.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Dp(n)):(await n.Y_.stop(),n.K_.length>0&&(At(cc,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new hl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,u=new Uv(e,t,l,i,a);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Bt(nt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zv(n,e){if(pl("AsyncQueue",`${e}: ${n}`),fh(n))return new Bt(nt.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{static emptySet(e){return new Xc(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||$t.comparator(t.key,r.key):(t,r)=>$t.comparator(t.key,r.key),this.keyedMap=qh(),this.sortedSet=new xr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Xc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(){this.Z_=new xr($t.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Yt():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class oh{constructor(e,t,r,i,a,l,u,h,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,a){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new oh(e,t,Xc.emptySet(t),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ip(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class IP{constructor(){this.queries=Qy(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const i=ln(t),a=i.queries;i.queries=Qy(),a.forEach((l,u)=>{for(const h of u.ta)h.onError(r)})})(this,new Bt(nt.ABORTED,"Firestore shutting down"))}}function Qy(){return new mc(n=>Pw(n),Ip)}async function l_(n,e){const t=ln(n);let r=3;const i=e.query;let a=t.queries.get(i);a?!a.na()&&e.ra()&&(r=2):(a=new TP,r=e.ra()?0:1);try{switch(r){case 0:a.ea=await t.onListen(i,!0);break;case 1:a.ea=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=zv(l,`Initialization of query '${Hc(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&qv(t)}async function u_(n,e){const t=ln(n),r=e.query;let i=3;const a=t.queries.get(r);if(a){const l=a.ta.indexOf(e);l>=0&&(a.ta.splice(l,1),a.ta.length===0?i=e.ra()?0:1:!a.na()&&e.ra()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function PP(n,e){const t=ln(n);let r=!1;for(const i of e){const a=i.query,l=t.queries.get(a);if(l){for(const u of l.ta)u.oa(i)&&(r=!0);l.ea=i}}r&&qv(t)}function kP(n,e,t){const r=ln(n),i=r.queries.get(e);if(i)for(const a of i.ta)a.onError(t);r.queries.delete(e)}function qv(n){n.ia.forEach(e=>{e.next()})}var Cg,Yy;(Yy=Cg||(Cg={}))._a="default",Yy.Cache="cache";class c_{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new oh(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=oh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Cg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e){this.key=e}}class f_{constructor(e){this.key=e}}class CP{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=_n(),this.mutatedKeys=_n(),this.ya=kw(e),this.wa=new Xc(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new Ky,i=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((y,_)=>{const x=i.get(y),v=Pp(this.query,_)?_:null,T=!!x&&this.mutatedKeys.has(x.key),R=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let O=!1;x&&v?x.data.isEqual(v.data)?T!==R&&(r.track({type:3,doc:v}),O=!0):this.va(x,v)||(r.track({type:2,doc:v}),O=!0,(h&&this.ya(v,h)>0||p&&this.ya(v,p)<0)&&(u=!0)):!x&&v?(r.track({type:0,doc:v}),O=!0):x&&!v&&(r.track({type:1,doc:x}),O=!0,(h||p)&&(u=!0)),O&&(v?(l=l.add(v),a=R?a.add(y):a.delete(y)):(l=l.delete(y),a=a.delete(y)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const y=this.query.limitType==="F"?l.last():l.first();l=l.delete(y.key),a=a.delete(y.key),r.track({type:1,doc:y})}return{wa:l,Da:r,ls:u,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((y,_)=>function(v,T){const R=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Yt()}};return R(v)-R(T)}(y.type,_.type)||this.ya(y.doc,_.doc)),this.Ca(r),i=i!=null&&i;const u=t&&!i?this.Fa():[],h=this.pa.size===0&&this.current&&!i?1:0,p=h!==this.ga;return this.ga=h,l.length!==0||p?{snapshot:new oh(this.query,e.wa,a,l,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:u}:{Ma:u}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Ky,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=_n(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new f_(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new h_(r))}),t}Oa(e){this.fa=e.gs,this.pa=_n();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return oh.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Hv="SyncEngine";class NP{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class LP{constructor(e){this.key=e,this.Ba=!1}}class RP{constructor(e,t,r,i,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new mc(u=>Pw(u),Ip),this.qa=new Map,this.Qa=new Set,this.$a=new xr($t.comparator),this.Ka=new Map,this.Ua=new Rv,this.Wa={},this.Ga=new Map,this.za=ih.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function DP(n,e,t=!0){const r=y_(n);let i;const a=r.ka.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Na()):i=await d_(r,e,t,!0),i}async function OP(n,e){const t=y_(n);await d_(t,e,!0,!1)}async function d_(n,e,t,r){const i=await tP(n.localStore,Ps(e)),a=i.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let u;return r&&(u=await FP(n,e,a,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&n_(n.remoteStore,i),u}async function FP(n,e,t,r,i){n.Ha=(_,x,v)=>async function(R,O,C,V){let B=O.view.ba(C);B.ls&&(B=await zy(R.localStore,O.query,!1).then(({documents:D})=>O.view.ba(D,B)));const $=V&&V.targetChanges.get(O.targetId),z=V&&V.targetMismatches.get(O.targetId)!=null,ie=O.view.applyChanges(B,R.isPrimaryClient,$,z);return Xy(R,O.targetId,ie.Ma),ie.snapshot}(n,_,x,v);const a=await zy(n.localStore,e,!0),l=new CP(e,a.gs),u=l.ba(a.documents),h=Pf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),p=l.applyChanges(u,n.isPrimaryClient,h);Xy(n,t,p.Ma);const y=new NP(e,t,l);return n.ka.set(e,y),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),p.snapshot}async function MP(n,e,t){const r=ln(n),i=r.ka.get(e),a=r.qa.get(i.targetId);if(a.length>1)return r.qa.set(i.targetId,a.filter(l=>!Ip(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Pg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Mv(r.remoteStore,i.targetId),Ng(r,i.targetId)}).catch(hh)):(Ng(r,i.targetId),await Pg(r.localStore,i.targetId,!0))}async function jP(n,e){const t=ln(n),r=t.ka.get(e),i=t.qa.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Mv(t.remoteStore,r.targetId))}async function VP(n,e,t){const r=$P(n);try{const i=await function(l,u){const h=ln(l),p=ni.now(),y=u.reduce((v,T)=>v.add(T.key),_n());let _,x;return h.persistence.runTransaction("Locally write mutations","readwrite",v=>{let T=ml(),R=_n();return h.ds.getEntries(v,y).next(O=>{T=O,T.forEach((C,V)=>{V.isValidDocument()||(R=R.add(C))})}).next(()=>h.localDocuments.getOverlayedDocuments(v,T)).next(O=>{_=O;const C=[];for(const V of u){const B=eI(V,_.get(V.key).overlayedDocument);B!=null&&C.push(new gc(V.key,B,bw(B.value.mapValue),es.exists(!0)))}return h.mutationQueue.addMutationBatch(v,p,C,u)}).next(O=>{x=O;const C=O.applyToLocalDocumentSet(_,R);return h.documentOverlayCache.saveOverlays(v,O.batchId,C)})}).then(()=>({batchId:x.batchId,changes:Nw(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,h){let p=l.Wa[l.currentUser.toKey()];p||(p=new xr(xn)),p=p.insert(u,h),l.Wa[l.currentUser.toKey()]=p}(r,i.batchId,t),await Cf(r,i.changes),await Dp(r.remoteStore)}catch(i){const a=zv(i,"Failed to persist write");t.reject(a)}}async function p_(n,e){const t=ln(n);try{const r=await XI(t.localStore,e);e.targetChanges.forEach((i,a)=>{const l=t.Ka.get(a);l&&(Gn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Ba=!0:i.modifiedDocuments.size>0?Gn(l.Ba):i.removedDocuments.size>0&&(Gn(l.Ba),l.Ba=!1))}),await Cf(t,r,e)}catch(r){await hh(r)}}function Jy(n,e,t){const r=ln(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ka.forEach((a,l)=>{const u=l.view.sa(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const h=ln(l);h.onlineState=u;let p=!1;h.queries.forEach((y,_)=>{for(const x of _.ta)x.sa(u)&&(p=!0)}),p&&qv(h)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function BP(n,e,t){const r=ln(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ka.get(e),a=i&&i.key;if(a){let l=new xr($t.comparator);l=l.insert(a,Xi.newNoDocument(a,rn.min()));const u=_n().add(a),h=new Np(rn.min(),new Map,new xr(xn),l,u);await p_(r,h),r.$a=r.$a.remove(a),r.Ka.delete(e),Wv(r)}else await Pg(r.localStore,e,!1).then(()=>Ng(r,e,t)).catch(hh)}async function UP(n,e){const t=ln(n),r=e.batch.batchId;try{const i=await JI(t.localStore,e);g_(t,r,null),m_(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Cf(t,i)}catch(i){await hh(i)}}async function zP(n,e,t){const r=ln(n);try{const i=await function(l,u){const h=ln(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return h.mutationQueue.lookupMutationBatch(p,u).next(_=>(Gn(_!==null),y=_.keys(),h.mutationQueue.removeMutationBatch(p,_))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,y,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>h.localDocuments.getDocuments(p,y))})}(r.localStore,e);g_(r,e,t),m_(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Cf(r,i)}catch(i){await hh(i)}}function m_(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function g_(n,e,t){const r=ln(n);let i=r.Wa[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function Ng(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.qa.get(e))n.ka.delete(r),t&&n.La.Ja(r,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(r=>{n.Ua.containsKey(r)||v_(n,r)})}function v_(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Mv(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),Wv(n))}function Xy(n,e,t){for(const r of t)r instanceof h_?(n.Ua.addReference(r.key,e),qP(n,r)):r instanceof f_?(At(Hv,"Document no longer in limbo: "+r.key),n.Ua.removeReference(r.key,e),n.Ua.containsKey(r.key)||v_(n,r.key)):Yt()}function qP(n,e){const t=e.key,r=t.path.canonicalString();n.$a.get(t)||n.Qa.has(r)||(At(Hv,"New document in limbo: "+t),n.Qa.add(r),Wv(n))}function Wv(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new $t(mr.fromString(e)),r=n.za.next();n.Ka.set(r,new LP(t)),n.$a=n.$a.insert(t,r),n_(n.remoteStore,new hu(Ps(Iv(t.path)),r,"TargetPurposeLimboResolution",Sp.ae))}}async function Cf(n,e,t){const r=ln(n),i=[],a=[],l=[];r.ka.isEmpty()||(r.ka.forEach((u,h)=>{l.push(r.Ha(h,e,t).then(p=>{var y;if((p||t)&&r.isPrimaryClient){const _=p?!p.fromCache:(y=t==null?void 0:t.targetChanges.get(h.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(h.targetId,_?"current":"not-current")}if(p){i.push(p);const _=Ov.Yi(h.targetId,p);a.push(_)}}))}),await Promise.all(l),r.La.p_(i),await async function(h,p){const y=ln(h);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>Ke.forEach(p,x=>Ke.forEach(x.Hi,v=>y.persistence.referenceDelegate.addReference(_,x.targetId,v)).next(()=>Ke.forEach(x.Ji,v=>y.persistence.referenceDelegate.removeReference(_,x.targetId,v)))))}catch(_){if(!fh(_))throw _;At(Fv,"Failed to update sequence numbers: "+_)}for(const _ of p){const x=_.targetId;if(!_.fromCache){const v=y.Ts.get(x),T=v.snapshotVersion,R=v.withLastLimboFreeSnapshotVersion(T);y.Ts=y.Ts.insert(x,R)}}}(r.localStore,a))}async function HP(n,e){const t=ln(n);if(!t.currentUser.isEqual(e)){At(Hv,"User change. New user:",e.toKey());const r=await Xw(t.localStore,e);t.currentUser=e,function(a,l){a.Ga.forEach(u=>{u.forEach(h=>{h.reject(new Bt(nt.CANCELLED,l))})}),a.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Cf(t,r.Rs)}}function WP(n,e){const t=ln(n),r=t.Ka.get(e);if(r&&r.Ba)return _n().add(r.key);{let i=_n();const a=t.qa.get(e);if(!a)return i;for(const l of a){const u=t.ka.get(l);i=i.unionWith(u.view.Sa)}return i}}function y_(n){const e=ln(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=p_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=BP.bind(null,e),e.La.p_=PP.bind(null,e.eventManager),e.La.Ja=kP.bind(null,e.eventManager),e}function $P(n){const e=ln(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zP.bind(null,e),e}class up{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lp(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return YI(this.persistence,new GI,e.initialUser,this.serializer)}Xa(e){return new Jw(Dv.ri,this.serializer)}Za(e){return new rP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}up.provider={build:()=>new up};class GP extends up{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Gn(this.persistence.referenceDelegate instanceof sp);const r=this.persistence.referenceDelegate.garbageCollector;return new LI(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Lo.withCacheSize(this.cacheSizeBytes):Lo.DEFAULT;return new Jw(r=>sp.ri(r,t),this.serializer)}}class Lg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Jy(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=HP.bind(null,this.syncEngine),await AP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new IP}()}createDatastore(e){const t=Lp(e.databaseInfo.databaseId),r=function(a){return new lP(a)}(e.databaseInfo);return function(a,l,u,h){return new fP(a,l,u,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,a,l,u){return new pP(r,i,a,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>Jy(this.syncEngine,t,0),function(){return Wy.D()?new Wy:new iP}())}createSyncEngine(e,t){return function(i,a,l,u,h,p,y){const _=new RP(i,a,l,u,h,p);return y&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const a=ln(i);At(cc,"RemoteStore shutting down."),a.W_.add(5),await kf(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Lg.provider={build:()=>new Lg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):pl("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au="FirestoreClient";class KP{constructor(e,t,r,i,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ji.UNAUTHENTICATED,this.clientId=hw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{At(Au,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(At(Au,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=zv(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Wm(n,e){n.asyncQueue.verifyOperationInProgress(),At(Au,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Xw(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Zy(n,e){n.asyncQueue.verifyOperationInProgress();const t=await QP(n);At(Au,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Gy(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>Gy(e.remoteStore,i)),n._onlineComponents=e}async function QP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){At(Au,"Using user provided OfflineComponentProvider");try{await Wm(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===nt.FAILED_PRECONDITION||i.code===nt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;eh("Error using user provided cache. Falling back to memory cache: "+t),await Wm(n,new up)}}else At(Au,"Using default OfflineComponentProvider"),await Wm(n,new GP(void 0));return n._offlineComponents}async function __(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(At(Au,"Using user provided OnlineComponentProvider"),await Zy(n,n._uninitializedComponentsProvider._online)):(At(Au,"Using default OnlineComponentProvider"),await Zy(n,new Lg))),n._onlineComponents}function YP(n){return __(n).then(e=>e.syncEngine)}async function b_(n){const e=await __(n),t=e.eventManager;return t.onListen=DP.bind(null,e.syncEngine),t.onUnlisten=MP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=OP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=jP.bind(null,e.syncEngine),t}function JP(n,e,t={}){const r=new hl;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,u,h,p){const y=new w_({next:x=>{y.su(),l.enqueueAndForget(()=>u_(a,_));const v=x.docs.has(u);!v&&x.fromCache?p.reject(new Bt(nt.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&x.fromCache&&h&&h.source==="server"?p.reject(new Bt(nt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(x)},error:x=>p.reject(x)}),_=new c_(Iv(u.path),y,{includeMetadataChanges:!0,Ta:!0});return l_(a,_)}(await b_(n),n.asyncQueue,e,t,r)),r.promise}function XP(n,e,t={}){const r=new hl;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,u,h,p){const y=new w_({next:x=>{y.su(),l.enqueueAndForget(()=>u_(a,_)),x.fromCache&&h.source==="server"?p.reject(new Bt(nt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),_=new c_(u,y,{includeMetadataChanges:!0,Ta:!0});return l_(a,_)}(await b_(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x_(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(n,e,t){if(!t)throw new Bt(nt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function ZP(n,e,t,r){if(e===!0&&r===!0)throw new Bt(nt.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function t2(n){if(!$t.isDocumentKey(n))throw new Bt(nt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function n2(n){if($t.isDocumentKey(n))throw new Bt(nt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $v(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Yt()}function gl(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Bt(nt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=$v(n);throw new Bt(nt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E_="firestore.googleapis.com",r2=!0;class i2{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Bt(nt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=E_,this.ssl=r2}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:r2;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Yw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<CI)throw new Bt(nt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ZP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=x_((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Bt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Bt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Bt(nt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Op{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new i2({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Bt(nt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Bt(nt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new i2(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new aT;switch(r.type){case"firstParty":return new cT(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Bt(nt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=e2.get(t);r&&(At("ComponentProvider","Removing Datastore"),e2.delete(t),r.terminate())}(this),Promise.resolve()}}function ek(n,e,t,r={}){var i;const a=(n=gl(n,Op))._getSettings(),l=`${e}:${t}`;if(a.host!==E_&&a.host!==l&&eh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let u,h;if(typeof r.mockUserToken=="string")u=r.mockUserToken,h=Ji.MOCK_USER;else{u=yE(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Bt(nt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ji(p)}n._authCredentials=new sT(new cw(u,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Fp(this.firestore,e,this._query)}}class Xo{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xo(this.firestore,e,this._key)}}class vu extends Fp{constructor(e,t,r){super(e,t,Iv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xo(this.firestore,null,new $t(e))}withConverter(e){return new vu(this.firestore,e,this._path)}}function Gv(n,e,...t){if(n=Zo(n),S_("collection","path",e),n instanceof Op){const r=mr.fromString(e,...t);return n2(r),new vu(n,null,r)}{if(!(n instanceof Xo||n instanceof vu))throw new Bt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(mr.fromString(e,...t));return n2(r),new vu(n.firestore,null,r)}}function Jh(n,e,...t){if(n=Zo(n),arguments.length===1&&(e=hw.newId()),S_("doc","path",e),n instanceof Op){const r=mr.fromString(e,...t);return t2(r),new Xo(n,null,new $t(r))}{if(!(n instanceof Xo||n instanceof vu))throw new Bt(nt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(mr.fromString(e,...t));return t2(r),new Xo(n.firestore,n instanceof vu?n.converter:null,new $t(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="AsyncQueue";class a2{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new e_(this,"async_queue_retry"),this.Su=()=>{const r=Hm();r&&At(o2,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=Hm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Hm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new hl;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!fh(e))throw e;At(o2,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(l){let u=l.message||"";return l.stack&&(u=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),u}(r);throw pl("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const i=Uv.createAndSchedule(this,e,t,r,a=>this.Fu(a));return this.fu.push(i),i}Du(){this.gu&&Yt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class ph extends Op{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new a2,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new a2(e),this._firestoreClient=void 0,await e}}}function tk(n,e){const t=typeof n=="object"?n:_5(),r=typeof n=="string"?n:ep,i=uv(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=gE("firestore");a&&ek(i,...a)}return i}function Kv(n){if(n._terminated)throw new Bt(nt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||nk(n),n._firestoreClient}function nk(n){var e,t,r;const i=n._freezeSettings(),a=function(u,h,p,y){return new ET(u,h,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,x_(y.experimentalLongPollingOptions),y.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new KP(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ah(Ri.fromBase64String(e))}catch(t){throw new Bt(nt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ah(Ri.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Bt(nt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Li(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Bt(nt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Bt(nt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return xn(this._lat,e._lat)||xn(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk=/^__.*__$/;class ik{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new gc(e,this.data,this.fieldMask,t,this.fieldTransforms):new If(e,this.data,t,this.fieldTransforms)}}function T_(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Yt()}}class Xv{constructor(e,t,r,i,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Xv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return cp(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(T_(this.Lu)&&rk.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class ok{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Lp(e)}ju(e,t,r,i=!1){return new Xv({Lu:e,methodName:t,zu:r,path:Li.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function I_(n){const e=n._freezeSettings(),t=Lp(n._databaseId);return new ok(n._databaseId,!!e.ignoreUndefinedProperties,t)}function P_(n,e,t,r,i,a={}){const l=n.ju(a.merge||a.mergeFields?2:0,e,t,i);L_("Data must be an object, but it was:",l,r);const u=C_(r,l);let h,p;if(a.merge)h=new Xa(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const y=[];for(const _ of a.mergeFields){const x=ak(e,_,t);if(!l.contains(x))throw new Bt(nt.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);lk(y,x)||y.push(x)}h=new Xa(y),p=l.fieldTransforms.filter(_=>h.covers(_.field))}else h=null,p=l.fieldTransforms;return new ik(new xa(u),h,p)}function k_(n,e){if(N_(n=Zo(n)))return L_("Unsupported field value:",e,n),C_(n,e);if(n instanceof A_)return function(r,i){if(!T_(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const a=[];let l=0;for(const u of r){let h=k_(u,i.Uu(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(n,e)}return function(r,i){if((r=Zo(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return KT(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=ni.fromDate(r);return{timestampValue:ap(i.serializer,a)}}if(r instanceof ni){const a=new ni(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ap(i.serializer,a)}}if(r instanceof Yv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ah)return{bytesValue:qw(i.serializer,r._byteString)};if(r instanceof Xo){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Lv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Jv)return function(l,u){return{mapValue:{fields:{[ww]:{stringValue:_w},[tp]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw u.Wu("VectorValues must only contain numeric values.");return Pv(u.serializer,p)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${$v(r)}`)}(n,e)}function C_(n,e){const t={};return dw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pc(n,(r,i)=>{const a=k_(i,e.qu(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function N_(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ni||n instanceof Yv||n instanceof ah||n instanceof Xo||n instanceof A_||n instanceof Jv)}function L_(n,e,t){if(!N_(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=$v(t);throw r==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+r)}}function ak(n,e,t){if((e=Zo(e))instanceof Qv)return e._internalPath;if(typeof e=="string")return R_(n,e);throw cp("Field path arguments must be of type string or ",n,!1,void 0,t)}const sk=new RegExp("[~\\*/\\[\\]]");function R_(n,e,t){if(e.search(sk)>=0)throw cp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Qv(...e.split("."))._internalPath}catch{throw cp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function cp(n,e,t,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new Bt(nt.INVALID_ARGUMENT,u+n+h)}function lk(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Xo(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(O_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class uk extends D_{data(){return super.data()}}function O_(n,e){return typeof e=="string"?R_(n,e):e instanceof Qv?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ck(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Bt(nt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hk{convertValue(e,t="none"){switch(Su(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Or(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(xu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Yt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return pc(e,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,i;const a=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[tp].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>Or(l.doubleValue));return new Jv(a)}convertGeoPoint(e){return new Yv(Or(e.latitude),Or(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Ap(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(uf(e));default:return null}}convertTimestamp(e){const t=bu(e);return new ni(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=mr.fromString(e);Gn(Qw(r));const i=new cf(r.get(1),r.get(3)),a=new $t(r.popFirst(5));return i.isEqual(t)||pl(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class M_ extends D_{constructor(e,t,r,i,a,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Vd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(O_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Vd extends M_{data(e={}){return super.data(e)}}class fk{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Wh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Vd(this._firestore,this._userDataWriter,r.key,r,new Wh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Bt(nt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const h=new Vd(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Wh(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>a||u.type!==3).map(u=>{const h=new Vd(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Wh(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,y=-1;return u.type!==0&&(p=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),y=l.indexOf(u.doc.key)),{type:dk(u.type),doc:h,oldIndex:p,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function dk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Yt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(n){n=gl(n,Xo);const e=gl(n.firestore,ph);return JP(Kv(e),n._key).then(t=>vk(e,n,t))}class j_ extends hk{constructor(e){super(),this.firestore=e}convertBytes(e){return new ah(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xo(this.firestore,null,t)}}function V_(n){n=gl(n,Fp);const e=gl(n.firestore,ph),t=Kv(e),r=new j_(e);return ck(n._query),XP(t,n._query).then(i=>new fk(e,r,n,i))}function s2(n,e,t){n=gl(n,Xo);const r=gl(n.firestore,ph),i=F_(n.converter,e);return Zv(r,[P_(I_(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,es.none())])}function mk(n){return Zv(gl(n.firestore,ph),[new kv(n._key,es.none())])}function gk(n,e){const t=gl(n.firestore,ph),r=Jh(n),i=F_(n.converter,e);return Zv(t,[P_(I_(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,es.exists(!1))]).then(()=>r)}function Zv(n,e){return function(r,i){const a=new hl;return r.asyncQueue.enqueueAndForget(async()=>VP(await YP(r),i,a)),a.promise}(Kv(n),e)}function vk(n,e,t){const r=t.docs.get(e._key),i=new j_(n);return new M_(n,i,e._key,r,new Wh(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){ch=i})(lh),Zc(new ac("firestore",(r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),u=new ph(new lT(r.getProvider("auth-internal")),new hT(l,r.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Bt(nt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cf(p.options.projectId,y)}(l,i),l);return a=Object.assign({useFetchStreams:t},a),u._setSettings(a),u},"PUBLIC").setMultipleInstances(!0)),mu(dy,py,e),mu(dy,py,"esm2017")})();var yk="firebase",wk="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mu(yk,wk,"app");const _k={apiKey:"AIzaSyDrmSpJIywf0ZFc61bJkPVWObxoXxXwLxQ",authDomain:"mediscrape.firebaseapp.com",projectId:"mediscrape",storageBucket:"mediscrape.firebasestorage.app",messagingSenderId:"207817260049",appId:"1:207817260049:web:f23466db3b718b978745b0"},B_=w5(_k),_d=iT(B_),tc=tk(B_),bk=n=>{switch(n){case"auth/weak-password":return"Weak password";case"auth/email-already-in-use":return"Email already in use";case"auth/invalid-email":return"Invalid email";case"auth/wrong-password":return"Wrong password";case"auth/user-not-found":return"User not found";default:return"Invalid credential"}},xk=()=>{ke.useEffect(()=>{(R=>{localStorage.getItem("userID")&&n("/Landing")})()},[]);const n=wf(),[e,t]=ke.useState(null),[r,i]=ke.useState(""),[a,l]=ke.useState(""),[u,h]=ke.useState(""),p=T=>{t(e===T?null:T),i("")},y=async T=>{(await pk(Jh(tc,"users",T.uid))).exists()||await s2(Jh(tc,"users",T.uid),{Email:T.email}),lE(T.displayName,T.uid),n("/Landing")},_=async()=>{try{await z3(_d,a),alert("Reset email sent!"),p("login")}catch{i("Failed to send reset email. Please try again.")}},x=async()=>{try{if(e==="login"){const R=(await H3(_d,a,u)).user;console.log("Logged in:",R.uid),R.emailVerified?await y(R):i("Please verify your email first!")}else if(e==="signup"){const R=(await q3(_d,a,u)).user;console.log("Signed up:",R.uid),await s2(Jh(tc,"users",R.uid),{Email:R.email}),localStorage.setItem("userLevel","Beginner"),await W3(R),alert("Verification email sent! Please verify your email before proceeding."),p("login")}}catch(T){console.error("Error:",T.message);const R=bk(T.code);i(R)}},v=async()=>{try{const T=new al,O=(await dA(_d,T)).user;console.log("Google Sign-In:",O.uid),await y(O)}catch(T){console.error("Error during Google Sign-In:",T.message),i("Google Sign-In failed. Please try again.")}};return tt.jsx("div",{className:"container-Login",children:tt.jsxs("div",{className:"auth-panel",children:[tt.jsx("div",{className:"intro",children:tt.jsx("p",{className:"text",children:"Welcome!"})}),tt.jsx("div",{className:"formBtn",onClick:v,children:"Login with Gmail"}),tt.jsx("div",{className:"formBtn",onClick:()=>p("login"),children:"Login with Email"}),e==="login"&&tt.jsx(F0,{onSubmit:x,error:r,email:a,setEmail:l,password:u,setPassword:h}),tt.jsx("div",{className:"formBtn",onClick:()=>p("signup"),children:"Sign-Up"}),e==="signup"&&tt.jsx(F0,{onSubmit:x,error:r,email:a,setEmail:l,password:u,setPassword:h}),tt.jsx("div",{id:"forgetPassBtn",onClick:()=>p("forgetpass"),children:"Forget Password"}),e==="forgetpass"&&tt.jsxs("div",{className:"form",children:[tt.jsx("form",{children:tt.jsx(ug,{type:"text",placeholder:"Email",value:a,onChange:T=>l(T.target.value),icon:"fas fa-envelope"})}),tt.jsx("div",{id:"goBtn",onClick:_,children:"Go"})]})]})})};var $m={exports:{}},Gm,l2;function Sk(){if(l2)return Gm;l2=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Gm=n,Gm}var Km,u2;function Ek(){if(u2)return Km;u2=1;var n=Sk();function e(){}function t(){}return t.resetWarningCache=e,Km=function(){function r(l,u,h,p,y,_){if(_!==n){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}r.isRequired=r;function i(){return r}var a={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},Km}var c2;function Ak(){return c2||(c2=1,$m.exports=Ek()()),$m.exports}var Tk=Ak();const er=mp(Tk),Ik=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function sh(n,e,t){const r=Pk(n),{webkitRelativePath:i}=n,a=typeof e=="string"?e:typeof i=="string"&&i.length>0?i:`./${n.name}`;return typeof r.path!="string"&&h2(r,"path",a),h2(r,"relativePath",a),r}function Pk(n){const{name:e}=n;if(e&&e.lastIndexOf(".")!==-1&&!n.type){const r=e.split(".").pop().toLowerCase(),i=Ik.get(r);i&&Object.defineProperty(n,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return n}function h2(n,e,t){Object.defineProperty(n,e,{value:t,writable:!1,configurable:!1,enumerable:!0})}const kk=[".DS_Store","Thumbs.db"];function Ck(n){return dc(this,void 0,void 0,function*(){return hp(n)&&Nk(n.dataTransfer)?Ok(n.dataTransfer,n.type):Lk(n)?Rk(n):Array.isArray(n)&&n.every(e=>"getFile"in e&&typeof e.getFile=="function")?Dk(n):[]})}function Nk(n){return hp(n)}function Lk(n){return hp(n)&&hp(n.target)}function hp(n){return typeof n=="object"&&n!==null}function Rk(n){return Rg(n.target.files).map(e=>sh(e))}function Dk(n){return dc(this,void 0,void 0,function*(){return(yield Promise.all(n.map(t=>t.getFile()))).map(t=>sh(t))})}function Ok(n,e){return dc(this,void 0,void 0,function*(){if(n.items){const t=Rg(n.items).filter(i=>i.kind==="file");if(e!=="drop")return t;const r=yield Promise.all(t.map(Fk));return f2(U_(r))}return f2(Rg(n.files).map(t=>sh(t)))})}function f2(n){return n.filter(e=>kk.indexOf(e.name)===-1)}function Rg(n){if(n===null)return[];const e=[];for(let t=0;t<n.length;t++){const r=n[t];e.push(r)}return e}function Fk(n){if(typeof n.webkitGetAsEntry!="function")return d2(n);const e=n.webkitGetAsEntry();return e&&e.isDirectory?z_(e):d2(n,e)}function U_(n){return n.reduce((e,t)=>[...e,...Array.isArray(t)?U_(t):[t]],[])}function d2(n,e){return dc(this,void 0,void 0,function*(){var t;if(globalThis.isSecureContext&&typeof n.getAsFileSystemHandle=="function"){const a=yield n.getAsFileSystemHandle();if(a===null)throw new Error(`${n} is not a File`);if(a!==void 0){const l=yield a.getFile();return l.handle=a,sh(l)}}const r=n.getAsFile();if(!r)throw new Error(`${n} is not a File`);return sh(r,(t=e==null?void 0:e.fullPath)!==null&&t!==void 0?t:void 0)})}function Mk(n){return dc(this,void 0,void 0,function*(){return n.isDirectory?z_(n):jk(n)})}function z_(n){const e=n.createReader();return new Promise((t,r)=>{const i=[];function a(){e.readEntries(l=>dc(this,void 0,void 0,function*(){if(l.length){const u=Promise.all(l.map(Mk));i.push(u),a()}else try{const u=yield Promise.all(i);t(u)}catch(u){r(u)}}),l=>{r(l)})}a()})}function jk(n){return dc(this,void 0,void 0,function*(){return new Promise((e,t)=>{n.file(r=>{const i=sh(r,n.fullPath);e(i)},r=>{t(r)})})})}var bd={},p2;function Vk(){return p2||(p2=1,bd.__esModule=!0,bd.default=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(",");if(t.length===0)return!0;var r=n.name||"",i=(n.type||"").toLowerCase(),a=i.replace(/\/.*$/,"");return t.some(function(l){var u=l.trim().toLowerCase();return u.charAt(0)==="."?r.toLowerCase().endsWith(u):u.endsWith("/*")?a===u.replace(/\/.*$/,""):i===u})}return!0}),bd}var Bk=Vk();const Qm=mp(Bk);function m2(n){return qk(n)||zk(n)||H_(n)||Uk()}function Uk(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zk(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function qk(n){if(Array.isArray(n))return Dg(n)}function g2(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function v2(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?g2(Object(t),!0).forEach(function(r){q_(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):g2(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function q_(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function pf(n,e){return $k(n)||Wk(n,e)||H_(n,e)||Hk()}function Hk(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function H_(n,e){if(n){if(typeof n=="string")return Dg(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Dg(n,e)}}function Dg(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function Wk(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,a=!1,l,u;try{for(t=t.call(n);!(i=(l=t.next()).done)&&(r.push(l.value),!(e&&r.length===e));i=!0);}catch(h){a=!0,u=h}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw u}}return r}}function $k(n){if(Array.isArray(n))return n}var Gk=typeof Qm=="function"?Qm:Qm.default,Kk="file-invalid-type",Qk="file-too-large",Yk="file-too-small",Jk="too-many-files",Xk=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=e.split(","),r=t.length>1?"one of ".concat(t.join(", ")):t[0];return{code:Kk,message:"File type must be ".concat(r)}},y2=function(e){return{code:Qk,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},w2=function(e){return{code:Yk,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},Zk={code:Jk,message:"Too many files"};function W_(n,e){var t=n.type==="application/x-moz-file"||Gk(n,e);return[t,t?null:Xk(e)]}function $_(n,e,t){if(Yu(n.size))if(Yu(e)&&Yu(t)){if(n.size>t)return[!1,y2(t)];if(n.size<e)return[!1,w2(e)]}else{if(Yu(e)&&n.size<e)return[!1,w2(e)];if(Yu(t)&&n.size>t)return[!1,y2(t)]}return[!0,null]}function Yu(n){return n!=null}function eC(n){var e=n.files,t=n.accept,r=n.minSize,i=n.maxSize,a=n.multiple,l=n.maxFiles,u=n.validator;return!a&&e.length>1||a&&l>=1&&e.length>l?!1:e.every(function(h){var p=W_(h,t),y=pf(p,1),_=y[0],x=$_(h,r,i),v=pf(x,1),T=v[0],R=u?u(h):null;return _&&T&&!R})}function fp(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function xd(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function _2(n){n.preventDefault()}function tC(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function nC(n){return n.indexOf("Edge/")!==-1}function rC(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return tC(n)||nC(n)}function xs(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(r){for(var i=arguments.length,a=new Array(i>1?i-1:0),l=1;l<i;l++)a[l-1]=arguments[l];return e.some(function(u){return!fp(r)&&u&&u.apply(void 0,[r].concat(a)),fp(r)})}}function iC(){return"showOpenFilePicker"in window}function oC(n){if(Yu(n)){var e=Object.entries(n).filter(function(t){var r=pf(t,2),i=r[0],a=r[1],l=!0;return G_(i)||(console.warn('Skipped "'.concat(i,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),l=!1),(!Array.isArray(a)||!a.every(K_))&&(console.warn('Skipped "'.concat(i,'" because an invalid file extension was provided.')),l=!1),l}).reduce(function(t,r){var i=pf(r,2),a=i[0],l=i[1];return v2(v2({},t),{},q_({},a,l))},{});return[{description:"Files",accept:e}]}return n}function aC(n){if(Yu(n))return Object.entries(n).reduce(function(e,t){var r=pf(t,2),i=r[0],a=r[1];return[].concat(m2(e),[i],m2(a))},[]).filter(function(e){return G_(e)||K_(e)}).join(",")}function sC(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function lC(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}function G_(n){return n==="audio/*"||n==="video/*"||n==="image/*"||n==="text/*"||n==="application/*"||/\w+\/[-+.\w]+/g.test(n)}function K_(n){return/^.*\.[\w]+$/.test(n)}var uC=["children"],cC=["open"],hC=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],fC=["refKey","onChange","onClick"];function dC(n){return gC(n)||mC(n)||Q_(n)||pC()}function pC(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mC(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function gC(n){if(Array.isArray(n))return Og(n)}function Ym(n,e){return wC(n)||yC(n,e)||Q_(n,e)||vC()}function vC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q_(n,e){if(n){if(typeof n=="string")return Og(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Og(n,e)}}function Og(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function yC(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r=[],i=!0,a=!1,l,u;try{for(t=t.call(n);!(i=(l=t.next()).done)&&(r.push(l.value),!(e&&r.length===e));i=!0);}catch(h){a=!0,u=h}finally{try{!i&&t.return!=null&&t.return()}finally{if(a)throw u}}return r}}function wC(n){if(Array.isArray(n))return n}function b2(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function br(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?b2(Object(t),!0).forEach(function(r){Fg(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):b2(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function Fg(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function dp(n,e){if(n==null)return{};var t=_C(n,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function _C(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}var e1=ke.forwardRef(function(n,e){var t=n.children,r=dp(n,uC),i=J_(r),a=i.open,l=dp(i,cC);return ke.useImperativeHandle(e,function(){return{open:a}},[a]),nx.createElement(ke.Fragment,null,t(br(br({},l),{},{open:a})))});e1.displayName="Dropzone";var Y_={disabled:!1,getFilesFromEvent:Ck,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};e1.defaultProps=Y_;e1.propTypes={children:er.func,accept:er.objectOf(er.arrayOf(er.string)),multiple:er.bool,preventDropOnDocument:er.bool,noClick:er.bool,noKeyboard:er.bool,noDrag:er.bool,noDragEventsBubbling:er.bool,minSize:er.number,maxSize:er.number,maxFiles:er.number,disabled:er.bool,getFilesFromEvent:er.func,onFileDialogCancel:er.func,onFileDialogOpen:er.func,useFsAccessApi:er.bool,autoFocus:er.bool,onDragEnter:er.func,onDragLeave:er.func,onDragOver:er.func,onDrop:er.func,onDropAccepted:er.func,onDropRejected:er.func,onError:er.func,validator:er.func};var Mg={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function J_(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=br(br({},Y_),n),t=e.accept,r=e.disabled,i=e.getFilesFromEvent,a=e.maxSize,l=e.minSize,u=e.multiple,h=e.maxFiles,p=e.onDragEnter,y=e.onDragLeave,_=e.onDragOver,x=e.onDrop,v=e.onDropAccepted,T=e.onDropRejected,R=e.onFileDialogCancel,O=e.onFileDialogOpen,C=e.useFsAccessApi,V=e.autoFocus,B=e.preventDropOnDocument,$=e.noClick,z=e.noKeyboard,ie=e.noDrag,D=e.noDragEventsBubbling,A=e.onError,M=e.validator,U=ke.useMemo(function(){return aC(t)},[t]),I=ke.useMemo(function(){return oC(t)},[t]),P=ke.useMemo(function(){return typeof O=="function"?O:x2},[O]),F=ke.useMemo(function(){return typeof R=="function"?R:x2},[R]),X=ke.useRef(null),pe=ke.useRef(null),ae=ke.useReducer(bC,Mg),oe=Ym(ae,2),te=oe[0],ne=oe[1],he=te.isFocused,re=te.isFileDialogActive,N=ke.useRef(typeof window<"u"&&window.isSecureContext&&C&&iC()),W=function(){!N.current&&re&&setTimeout(function(){if(pe.current){var Je=pe.current.files;Je.length||(ne({type:"closeDialog"}),F())}},300)};ke.useEffect(function(){return window.addEventListener("focus",W,!1),function(){window.removeEventListener("focus",W,!1)}},[pe,re,F,N]);var ee=ke.useRef([]),se=function(Je){X.current&&X.current.contains(Je.target)||(Je.preventDefault(),ee.current=[])};ke.useEffect(function(){return B&&(document.addEventListener("dragover",_2,!1),document.addEventListener("drop",se,!1)),function(){B&&(document.removeEventListener("dragover",_2),document.removeEventListener("drop",se))}},[X,B]),ke.useEffect(function(){return!r&&V&&X.current&&X.current.focus(),function(){}},[X,V,r]);var ue=ke.useCallback(function(qe){A?A(qe):console.error(qe)},[A]),we=ke.useCallback(function(qe){qe.preventDefault(),qe.persist(),ot(qe),ee.current=[].concat(dC(ee.current),[qe.target]),xd(qe)&&Promise.resolve(i(qe)).then(function(Je){if(!(fp(qe)&&!D)){var ht=Je.length,_t=ht>0&&eC({files:Je,accept:U,minSize:l,maxSize:a,multiple:u,maxFiles:h,validator:M}),Mt=ht>0&&!_t;ne({isDragAccept:_t,isDragReject:Mt,isDragActive:!0,type:"setDraggedFiles"}),p&&p(qe)}}).catch(function(Je){return ue(Je)})},[i,p,ue,D,U,l,a,u,h,M]),xe=ke.useCallback(function(qe){qe.preventDefault(),qe.persist(),ot(qe);var Je=xd(qe);if(Je&&qe.dataTransfer)try{qe.dataTransfer.dropEffect="copy"}catch{}return Je&&_&&_(qe),!1},[_,D]),Se=ke.useCallback(function(qe){qe.preventDefault(),qe.persist(),ot(qe);var Je=ee.current.filter(function(_t){return X.current&&X.current.contains(_t)}),ht=Je.indexOf(qe.target);ht!==-1&&Je.splice(ht,1),ee.current=Je,!(Je.length>0)&&(ne({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),xd(qe)&&y&&y(qe))},[X,y,D]),We=ke.useCallback(function(qe,Je){var ht=[],_t=[];qe.forEach(function(Mt){var Rt=W_(Mt,U),Nt=Ym(Rt,2),dt=Nt[0],jn=Nt[1],nn=$_(Mt,l,a),ur=Ym(nn,2),fn=ur[0],dn=ur[1],gr=M?M(Mt):null;if(dt&&fn&&!gr)ht.push(Mt);else{var Zt=[jn,dn];gr&&(Zt=Zt.concat(gr)),_t.push({file:Mt,errors:Zt.filter(function(ii){return ii})})}}),(!u&&ht.length>1||u&&h>=1&&ht.length>h)&&(ht.forEach(function(Mt){_t.push({file:Mt,errors:[Zk]})}),ht.splice(0)),ne({acceptedFiles:ht,fileRejections:_t,isDragReject:_t.length>0,type:"setFiles"}),x&&x(ht,_t,Je),_t.length>0&&T&&T(_t,Je),ht.length>0&&v&&v(ht,Je)},[ne,u,U,l,a,h,x,v,T,M]),Ge=ke.useCallback(function(qe){qe.preventDefault(),qe.persist(),ot(qe),ee.current=[],xd(qe)&&Promise.resolve(i(qe)).then(function(Je){fp(qe)&&!D||We(Je,qe)}).catch(function(Je){return ue(Je)}),ne({type:"reset"})},[i,We,ue,D]),st=ke.useCallback(function(){if(N.current){ne({type:"openDialog"}),P();var qe={multiple:u,types:I};window.showOpenFilePicker(qe).then(function(Je){return i(Je)}).then(function(Je){We(Je,null),ne({type:"closeDialog"})}).catch(function(Je){sC(Je)?(F(Je),ne({type:"closeDialog"})):lC(Je)?(N.current=!1,pe.current?(pe.current.value=null,pe.current.click()):ue(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):ue(Je)});return}pe.current&&(ne({type:"openDialog"}),P(),pe.current.value=null,pe.current.click())},[ne,P,F,C,We,ue,I,u]),it=ke.useCallback(function(qe){!X.current||!X.current.isEqualNode(qe.target)||(qe.key===" "||qe.key==="Enter"||qe.keyCode===32||qe.keyCode===13)&&(qe.preventDefault(),st())},[X,st]),Ct=ke.useCallback(function(){ne({type:"focus"})},[]),Ve=ke.useCallback(function(){ne({type:"blur"})},[]),fe=ke.useCallback(function(){$||(rC()?setTimeout(st,0):st())},[$,st]),Ft=function(Je){return r?null:Je},xt=function(Je){return z?null:Ft(Je)},Qe=function(Je){return ie?null:Ft(Je)},ot=function(Je){D&&Je.stopPropagation()},lt=ke.useMemo(function(){return function(){var qe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Je=qe.refKey,ht=Je===void 0?"ref":Je,_t=qe.role,Mt=qe.onKeyDown,Rt=qe.onFocus,Nt=qe.onBlur,dt=qe.onClick,jn=qe.onDragEnter,nn=qe.onDragOver,ur=qe.onDragLeave,fn=qe.onDrop,dn=dp(qe,hC);return br(br(Fg({onKeyDown:xt(xs(Mt,it)),onFocus:xt(xs(Rt,Ct)),onBlur:xt(xs(Nt,Ve)),onClick:Ft(xs(dt,fe)),onDragEnter:Qe(xs(jn,we)),onDragOver:Qe(xs(nn,xe)),onDragLeave:Qe(xs(ur,Se)),onDrop:Qe(xs(fn,Ge)),role:typeof _t=="string"&&_t!==""?_t:"presentation"},ht,X),!r&&!z?{tabIndex:0}:{}),dn)}},[X,it,Ct,Ve,fe,we,xe,Se,Ge,z,ie,r]),ct=ke.useCallback(function(qe){qe.stopPropagation()},[]),Tt=ke.useMemo(function(){return function(){var qe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Je=qe.refKey,ht=Je===void 0?"ref":Je,_t=qe.onChange,Mt=qe.onClick,Rt=dp(qe,fC),Nt=Fg({accept:U,multiple:u,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:Ft(xs(_t,Ge)),onClick:Ft(xs(Mt,ct)),tabIndex:-1},ht,pe);return br(br({},Nt),Rt)}},[pe,t,u,Ge,r]);return br(br({},te),{},{isFocused:he&&!r,getRootProps:lt,getInputProps:Tt,rootRef:X,inputRef:pe,open:Ft(st)})}function bC(n,e){switch(e.type){case"focus":return br(br({},n),{},{isFocused:!0});case"blur":return br(br({},n),{},{isFocused:!1});case"openDialog":return br(br({},Mg),{},{isFileDialogActive:!0});case"closeDialog":return br(br({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":return br(br({},n),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return br(br({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return br({},Mg);default:return n}}function x2(){}const xC=()=>{const n=wf(),[e,t]=ke.useState(null),[r,i]=ke.useState(null),[a,l]=ke.useState([]),[u,h]=ke.useState([]),[p,y]=ke.useState(!1),[_,x]=ke.useState(null),[v,T]=ke.useState(null),[R,O]=ke.useState(!1),C=ke.useRef([]),V=localStorage.getItem("userID"),B=ke.useCallback(X=>{X.length!==0&&(T(X[0]),l([]),t(null),x(null),O(!1))},[]),$=()=>{t(null),i(null),l([]),h([]),T(null),O(!1)},z=async()=>{if(!v)return;y(!0),x(null),O(!1);const X=new FormData;X.append("image",v);try{const pe=await fetch("https://mediscrape.onrender.com/MediScrape",{method:"POST",body:X});if(!pe.ok)throw new Error("Failed to process the image.");const ae=await pe.json();t(ae.doctorName||"Not Found"),i(ae.disease||"Not Found"),l(ae.medicines||["Not Found"]),h(ae.tests||["Not Found"]),O(!0)}catch(pe){x(pe.message)}finally{y(!1)}},ie=async()=>{if(a.length===0&&u.length===0&&r.length===0){x("Doctor's name, medicines, tests, or disease must be filled in.");return}try{await gk(Gv(tc,V),{doctorName:e,disease:r,medicines:a,tests:u,date:new Date}),alert("Data saved successfully!"),$()}catch(X){x("Failed to save data to Firestore."),console.error(X)}},{getRootProps:D,getInputProps:A,isDragActive:M}=J_({onDrop:B,accept:{"image/*":[".jpeg",".png",".jpg"]},multiple:!1}),U=(X,pe)=>{const ae=[...a];ae[X]=pe,l(ae)},I=(X,pe)=>{if(X.key==="Backspace"&&X.target.textContent.trim()===""){X.preventDefault();const ae=[...a];ae.splice(pe,1),l(ae)}},P=()=>{l([...a,""])},F=()=>{localStorage.removeItem("userID"),alert("Logged out successfully!"),n("/")};return tt.jsxs(tt.Fragment,{children:[tt.jsxs("div",{className:"header",children:[tt.jsx("button",{onClick:()=>n("/history"),className:"top-btn",children:"History"}),tt.jsx("button",{onClick:()=>n("/analysis"),className:"top-btn",children:"Analysis"}),tt.jsx("button",{onClick:F,className:"top-btn",children:"Logout"})]}),tt.jsxs("div",{className:"container",children:[tt.jsx("h1",{className:"title",children:"Medicine Extractor"}),tt.jsxs("div",{...D(),className:`dropzone ${M?"dropzone-active":""}`,children:[tt.jsx("input",{...A()}),tt.jsx("p",{children:M?"Drop the image here...":"Drag and drop an image, or click to select one (JPEG/PNG)."})]}),v&&tt.jsxs("p",{className:"file-info",children:["File selected: ",v.name]}),tt.jsx("button",{onClick:z,className:"extractBtn",disabled:!v||p,children:"Extract Medicine"}),p&&tt.jsx("p",{className:"message",children:"Processing, please wait..."}),_&&tt.jsx("p",{className:"message message-error",children:_}),e&&tt.jsxs("div",{className:"message message-text",children:[tt.jsx("h3",{className:"title",children:"Doctor's Name:"}),tt.jsx("p",{contentEditable:"true",spellCheck:"false",suppressContentEditableWarning:!0,onBlur:X=>t(X.target.textContent),children:e})]}),r&&tt.jsxs("div",{className:"message message-text",children:[tt.jsx("h3",{className:"title",children:"Disease Name:"}),tt.jsx("p",{contentEditable:"true",spellCheck:"false",suppressContentEditableWarning:!0,onBlur:X=>i(X.target.textContent),children:r})]}),a.length>0&&tt.jsxs("div",{className:"message message-text",children:[tt.jsx("h3",{className:"title",children:"Validated Medicines:"}),a.map((X,pe)=>tt.jsx("div",{className:"editable-div",contentEditable:"true",spellCheck:"false",suppressContentEditableWarning:!0,ref:ae=>C.current[pe]=ae,onBlur:ae=>U(pe,ae.target.textContent),onKeyDown:ae=>I(ae,pe),children:X},pe))]}),u.length>0&&tt.jsxs("div",{className:"message message-text",children:[tt.jsx("h3",{className:"title",children:"Prescribed Tests:"}),u.map((X,pe)=>tt.jsx("div",{className:"editable-div",children:X},pe))]}),R&&a.length>0&&tt.jsx(tt.Fragment,{children:tt.jsxs("div",{className:"actionBtn",children:[tt.jsx("button",{onClick:P,className:"addBtn",children:"Add Medicine"}),tt.jsx("button",{onClick:$,className:"cancelBtn",children:"Cancel"}),tt.jsx("button",{onClick:ie,className:"saveBtn",children:"Save"})]})}),R&&a.length===0&&tt.jsx("p",{className:"message",children:"No valid medicines found in the image."})]})]})},SC="modulepreload",EC=function(n){return"/MediScrape/"+n},S2={},jg=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=Promise.allSettled(t.map(h=>{if(h=EC(h),h in S2)return;S2[h]=!0;const p=h.endsWith(".css"),y=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${y}`))return;const _=document.createElement("link");if(_.rel=p?"stylesheet":SC,p||(_.as="script"),_.crossOrigin="",_.href=h,u&&_.setAttribute("nonce",u),document.head.appendChild(_),p)return new Promise((x,v)=>{_.addEventListener("load",x),_.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&a(u.reason);return e().catch(a)})};function Jn(n){"@babel/helpers - typeof";return Jn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jn(n)}var Zi=Uint8Array,Jo=Uint16Array,t1=Int32Array,Mp=new Zi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),jp=new Zi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Vg=new Zi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),X_=function(n,e){for(var t=new Jo(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new t1(t[30]),r=1;r<30;++r)for(var a=t[r];a<t[r+1];++a)i[a]=a-t[r]<<5|r;return{b:t,r:i}},Z_=X_(Mp,2),eb=Z_.b,Bg=Z_.r;eb[28]=258,Bg[258]=28;var tb=X_(jp,0),AC=tb.b,E2=tb.r,Ug=new Jo(32768);for(var lr=0;lr<32768;++lr){var ru=(lr&43690)>>1|(lr&21845)<<1;ru=(ru&52428)>>2|(ru&13107)<<2,ru=(ru&61680)>>4|(ru&3855)<<4,Ug[lr]=((ru&65280)>>8|(ru&255)<<8)>>1}var Cs=function(n,e,t){for(var r=n.length,i=0,a=new Jo(e);i<r;++i)n[i]&&++a[n[i]-1];var l=new Jo(e);for(i=1;i<e;++i)l[i]=l[i-1]+a[i-1]<<1;var u;if(t){u=new Jo(1<<e);var h=15-e;for(i=0;i<r;++i)if(n[i])for(var p=i<<4|n[i],y=e-n[i],_=l[n[i]-1]++<<y,x=_|(1<<y)-1;_<=x;++_)u[Ug[_]>>h]=p}else for(u=new Jo(r),i=0;i<r;++i)n[i]&&(u[i]=Ug[l[n[i]-1]++]>>15-n[i]);return u},Tu=new Zi(288);for(var lr=0;lr<144;++lr)Tu[lr]=8;for(var lr=144;lr<256;++lr)Tu[lr]=9;for(var lr=256;lr<280;++lr)Tu[lr]=7;for(var lr=280;lr<288;++lr)Tu[lr]=8;var mf=new Zi(32);for(var lr=0;lr<32;++lr)mf[lr]=5;var TC=Cs(Tu,9,0),IC=Cs(Tu,9,1),PC=Cs(mf,5,0),kC=Cs(mf,5,1),Jm=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},Ka=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},Xm=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},n1=function(n){return(n+7)/8|0},nb=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new Zi(n.subarray(e,t))},CC=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ya=function(n,e,t){var r=new Error(e||CC[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,Ya),!t)throw r;return r},NC=function(n,e,t,r){var i=n.length,a=0;if(!i||e.f&&!e.l)return t||new Zi(0);var l=!t,u=l||e.i!=2,h=e.i;l&&(t=new Zi(i*3));var p=function(Ge){var st=t.length;if(Ge>st){var it=new Zi(Math.max(st*2,Ge));it.set(t),t=it}},y=e.f||0,_=e.p||0,x=e.b||0,v=e.l,T=e.d,R=e.m,O=e.n,C=i*8;do{if(!v){y=Ka(n,_,1);var V=Ka(n,_+1,3);if(_+=3,V)if(V==1)v=IC,T=kC,R=9,O=5;else if(V==2){var ie=Ka(n,_,31)+257,D=Ka(n,_+10,15)+4,A=ie+Ka(n,_+5,31)+1;_+=14;for(var M=new Zi(A),U=new Zi(19),I=0;I<D;++I)U[Vg[I]]=Ka(n,_+I*3,7);_+=D*3;for(var P=Jm(U),F=(1<<P)-1,X=Cs(U,P,1),I=0;I<A;){var pe=X[Ka(n,_,F)];_+=pe&15;var B=pe>>4;if(B<16)M[I++]=B;else{var ae=0,oe=0;for(B==16?(oe=3+Ka(n,_,3),_+=2,ae=M[I-1]):B==17?(oe=3+Ka(n,_,7),_+=3):B==18&&(oe=11+Ka(n,_,127),_+=7);oe--;)M[I++]=ae}}var te=M.subarray(0,ie),ne=M.subarray(ie);R=Jm(te),O=Jm(ne),v=Cs(te,R,1),T=Cs(ne,O,1)}else Ya(1);else{var B=n1(_)+4,$=n[B-4]|n[B-3]<<8,z=B+$;if(z>i){h&&Ya(0);break}u&&p(x+$),t.set(n.subarray(B,z),x),e.b=x+=$,e.p=_=z*8,e.f=y;continue}if(_>C){h&&Ya(0);break}}u&&p(x+131072);for(var he=(1<<R)-1,re=(1<<O)-1,N=_;;N=_){var ae=v[Xm(n,_)&he],W=ae>>4;if(_+=ae&15,_>C){h&&Ya(0);break}if(ae||Ya(2),W<256)t[x++]=W;else if(W==256){N=_,v=null;break}else{var ee=W-254;if(W>264){var I=W-257,se=Mp[I];ee=Ka(n,_,(1<<se)-1)+eb[I],_+=se}var ue=T[Xm(n,_)&re],we=ue>>4;ue||Ya(3),_+=ue&15;var ne=AC[we];if(we>3){var se=jp[we];ne+=Xm(n,_)&(1<<se)-1,_+=se}if(_>C){h&&Ya(0);break}u&&p(x+131072);var xe=x+ee;if(x<ne){var Se=a-ne,We=Math.min(ne,xe);for(Se+x<0&&Ya(3);x<We;++x)t[x]=r[Se+x]}for(;x<xe;++x)t[x]=t[x-ne]}}e.l=v,e.p=N,e.b=x,e.f=y,v&&(y=1,e.m=R,e.d=T,e.n=O)}while(!y);return x!=t.length&&l?nb(t,0,x):t.subarray(0,x)},ol=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},Mh=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},Zm=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,a=t.slice();if(!i)return{t:ib,l:0};if(i==1){var l=new Zi(t[0].s+1);return l[t[0].s]=1,{t:l,l:1}}t.sort(function(z,ie){return z.f-ie.f}),t.push({s:-1,f:25001});var u=t[0],h=t[1],p=0,y=1,_=2;for(t[0]={s:-1,f:u.f+h.f,l:u,r:h};y!=i-1;)u=t[t[p].f<t[_].f?p++:_++],h=t[p!=y&&t[p].f<t[_].f?p++:_++],t[y++]={s:-1,f:u.f+h.f,l:u,r:h};for(var x=a[0].s,r=1;r<i;++r)a[r].s>x&&(x=a[r].s);var v=new Jo(x+1),T=zg(t[y-1],v,0);if(T>e){var r=0,R=0,O=T-e,C=1<<O;for(a.sort(function(ie,D){return v[D.s]-v[ie.s]||ie.f-D.f});r<i;++r){var V=a[r].s;if(v[V]>e)R+=C-(1<<T-v[V]),v[V]=e;else break}for(R>>=O;R>0;){var B=a[r].s;v[B]<e?R-=1<<e-v[B]++-1:++r}for(;r>=0&&R;--r){var $=a[r].s;v[$]==e&&(--v[$],++R)}T=e}return{t:new Zi(v),l:T}},zg=function(n,e,t){return n.s==-1?Math.max(zg(n.l,e,t+1),zg(n.r,e,t+1)):e[n.s]=t},A2=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Jo(++e),r=0,i=n[0],a=1,l=function(h){t[r++]=h},u=1;u<=e;++u)if(n[u]==i&&u!=e)++a;else{if(!i&&a>2){for(;a>138;a-=138)l(32754);a>2&&(l(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(l(i),--a;a>6;a-=6)l(8304);a>2&&(l(a-3<<5|8208),a=0)}for(;a--;)l(i);a=1,i=n[u]}return{c:t.subarray(0,r),n:e}},jh=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},rb=function(n,e,t){var r=t.length,i=n1(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var a=0;a<r;++a)n[i+a+4]=t[a];return(i+4+r)*8},T2=function(n,e,t,r,i,a,l,u,h,p,y){ol(e,y++,t),++i[256];for(var _=Zm(i,15),x=_.t,v=_.l,T=Zm(a,15),R=T.t,O=T.l,C=A2(x),V=C.c,B=C.n,$=A2(R),z=$.c,ie=$.n,D=new Jo(19),A=0;A<V.length;++A)++D[V[A]&31];for(var A=0;A<z.length;++A)++D[z[A]&31];for(var M=Zm(D,7),U=M.t,I=M.l,P=19;P>4&&!U[Vg[P-1]];--P);var F=p+5<<3,X=jh(i,Tu)+jh(a,mf)+l,pe=jh(i,x)+jh(a,R)+l+14+3*P+jh(D,U)+2*D[16]+3*D[17]+7*D[18];if(h>=0&&F<=X&&F<=pe)return rb(e,y,n.subarray(h,h+p));var ae,oe,te,ne;if(ol(e,y,1+(pe<X)),y+=2,pe<X){ae=Cs(x,v,0),oe=x,te=Cs(R,O,0),ne=R;var he=Cs(U,I,0);ol(e,y,B-257),ol(e,y+5,ie-1),ol(e,y+10,P-4),y+=14;for(var A=0;A<P;++A)ol(e,y+3*A,U[Vg[A]]);y+=3*P;for(var re=[V,z],N=0;N<2;++N)for(var W=re[N],A=0;A<W.length;++A){var ee=W[A]&31;ol(e,y,he[ee]),y+=U[ee],ee>15&&(ol(e,y,W[A]>>5&127),y+=W[A]>>12)}}else ae=TC,oe=Tu,te=PC,ne=mf;for(var A=0;A<u;++A){var se=r[A];if(se>255){var ee=se>>18&31;Mh(e,y,ae[ee+257]),y+=oe[ee+257],ee>7&&(ol(e,y,se>>23&31),y+=Mp[ee]);var ue=se&31;Mh(e,y,te[ue]),y+=ne[ue],ue>3&&(Mh(e,y,se>>5&8191),y+=jp[ue])}else Mh(e,y,ae[se]),y+=oe[se]}return Mh(e,y,ae[256]),y+oe[256]},LC=new t1([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),ib=new Zi(0),RC=function(n,e,t,r,i,a){var l=a.z||n.length,u=new Zi(r+l+5*(1+Math.ceil(l/7e3))+i),h=u.subarray(r,u.length-i),p=a.l,y=(a.r||0)&7;if(e){y&&(h[0]=a.r>>3);for(var _=LC[e-1],x=_>>13,v=_&8191,T=(1<<t)-1,R=a.p||new Jo(32768),O=a.h||new Jo(T+1),C=Math.ceil(t/3),V=2*C,B=function(Ct){return(n[Ct]^n[Ct+1]<<C^n[Ct+2]<<V)&T},$=new t1(25e3),z=new Jo(288),ie=new Jo(32),D=0,A=0,M=a.i||0,U=0,I=a.w||0,P=0;M+2<l;++M){var F=B(M),X=M&32767,pe=O[F];if(R[X]=pe,O[F]=X,I<=M){var ae=l-M;if((D>7e3||U>24576)&&(ae>423||!p)){y=T2(n,h,0,$,z,ie,A,U,P,M-P,y),U=D=A=0,P=M;for(var oe=0;oe<286;++oe)z[oe]=0;for(var oe=0;oe<30;++oe)ie[oe]=0}var te=2,ne=0,he=v,re=X-pe&32767;if(ae>2&&F==B(M-re))for(var N=Math.min(x,ae)-1,W=Math.min(32767,M),ee=Math.min(258,ae);re<=W&&--he&&X!=pe;){if(n[M+te]==n[M+te-re]){for(var se=0;se<ee&&n[M+se]==n[M+se-re];++se);if(se>te){if(te=se,ne=re,se>N)break;for(var ue=Math.min(re,se-2),we=0,oe=0;oe<ue;++oe){var xe=M-re+oe&32767,Se=R[xe],We=xe-Se&32767;We>we&&(we=We,pe=xe)}}}X=pe,pe=R[X],re+=X-pe&32767}if(ne){$[U++]=268435456|Bg[te]<<18|E2[ne];var Ge=Bg[te]&31,st=E2[ne]&31;A+=Mp[Ge]+jp[st],++z[257+Ge],++ie[st],I=M+te,++D}else $[U++]=n[M],++z[n[M]]}}for(M=Math.max(M,I);M<l;++M)$[U++]=n[M],++z[n[M]];y=T2(n,h,p,$,z,ie,A,U,P,M-P,y),p||(a.r=y&7|h[y/8|0]<<3,y-=7,a.h=O,a.p=R,a.i=M,a.w=I)}else{for(var M=a.w||0;M<l+p;M+=65535){var it=M+65535;it>=l&&(h[y/8|0]=p,it=l),y=rb(h,y+1,n.subarray(M,it))}a.i=l}return nb(u,0,r+n1(y)+i)},ob=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,a=t.length|0,l=0;l!=a;){for(var u=Math.min(l+2655,a);l<u;++l)i+=r+=t[l];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},DC=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var a=e.dictionary.subarray(-32768),l=new Zi(a.length+n.length);l.set(a),l.set(n,a.length),n=l,i.w=a.length}return RC(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)},ab=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},OC=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=ob();i.p(e.dictionary),ab(n,2,i.d())}},FC=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&Ya(6,"invalid zlib data"),(n[1]>>5&1)==1&&Ya(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function qg(n,e){e||(e={});var t=ob();t.p(n);var r=DC(n,e,e.dictionary?6:2,4);return OC(r,e),ab(r,r.length-4,t.d()),r}function MC(n,e){return NC(n.subarray(FC(n),-4),{i:2},e,e)}var jC=typeof TextDecoder<"u"&&new TextDecoder,VC=0;try{jC.decode(ib,{stream:!0}),VC=1}catch{}var Gt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function eg(){Gt.console&&typeof Gt.console.log=="function"&&Gt.console.log.apply(Gt.console,arguments)}var tr={log:eg,warn:function(n){Gt.console&&(typeof Gt.console.warn=="function"?Gt.console.warn.apply(Gt.console,arguments):eg.call(null,arguments))},error:function(n){Gt.console&&(typeof Gt.console.error=="function"?Gt.console.error.apply(Gt.console,arguments):eg(n))}};function tg(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){Ku(r.response,e,t)},r.onerror=function(){tr.error("could not download file")},r.send()}function I2(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Sd(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Xh,Hg,Ku=Gt.saveAs||((typeof window>"u"?"undefined":Jn(window))!=="object"||window!==Gt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Gt.URL||Gt.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?I2(i.href)?tg(n,e,t):Sd(i,i.target="_blank"):Sd(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Sd(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(I2(n))tg(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){Sd(r)})}else navigator.msSaveOrOpenBlob(function(i,a){return a===void 0?a={autoBom:!1}:Jn(a)!=="object"&&(tr.warn("Deprecated: Expected third argument to be a object"),a={autoBom:!a}),a.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return tg(n,e,t);var i=n.type==="application/octet-stream",a=/constructor/i.test(Gt.HTMLElement)||Gt.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||i&&a)&&(typeof FileReader>"u"?"undefined":Jn(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var y=u.result;y=l?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=y:location=y,r=null},u.readAsDataURL(n)}else{var h=Gt.URL||Gt.webkitURL,p=h.createObjectURL(n);r?r.location=p:location.href=p,r=null,setTimeout(function(){h.revokeObjectURL(p)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function sb(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,a=t[r].process,l=i.exec(n);l&&(e=a(l),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),h=this.g.toString(16),p=this.b.toString(16);return u.length==1&&(u="0"+u),h.length==1&&(h="0"+h),p.length==1&&(p="0"+p),"#"+u+h+p}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function ng(n,e){var t=n[0],r=n[1],i=n[2],a=n[3];t=Gi(t,r,i,a,e[0],7,-680876936),a=Gi(a,t,r,i,e[1],12,-389564586),i=Gi(i,a,t,r,e[2],17,606105819),r=Gi(r,i,a,t,e[3],22,-1044525330),t=Gi(t,r,i,a,e[4],7,-176418897),a=Gi(a,t,r,i,e[5],12,1200080426),i=Gi(i,a,t,r,e[6],17,-1473231341),r=Gi(r,i,a,t,e[7],22,-45705983),t=Gi(t,r,i,a,e[8],7,1770035416),a=Gi(a,t,r,i,e[9],12,-1958414417),i=Gi(i,a,t,r,e[10],17,-42063),r=Gi(r,i,a,t,e[11],22,-1990404162),t=Gi(t,r,i,a,e[12],7,1804603682),a=Gi(a,t,r,i,e[13],12,-40341101),i=Gi(i,a,t,r,e[14],17,-1502002290),t=Ki(t,r=Gi(r,i,a,t,e[15],22,1236535329),i,a,e[1],5,-165796510),a=Ki(a,t,r,i,e[6],9,-1069501632),i=Ki(i,a,t,r,e[11],14,643717713),r=Ki(r,i,a,t,e[0],20,-373897302),t=Ki(t,r,i,a,e[5],5,-701558691),a=Ki(a,t,r,i,e[10],9,38016083),i=Ki(i,a,t,r,e[15],14,-660478335),r=Ki(r,i,a,t,e[4],20,-405537848),t=Ki(t,r,i,a,e[9],5,568446438),a=Ki(a,t,r,i,e[14],9,-1019803690),i=Ki(i,a,t,r,e[3],14,-187363961),r=Ki(r,i,a,t,e[8],20,1163531501),t=Ki(t,r,i,a,e[13],5,-1444681467),a=Ki(a,t,r,i,e[2],9,-51403784),i=Ki(i,a,t,r,e[7],14,1735328473),t=Qi(t,r=Ki(r,i,a,t,e[12],20,-1926607734),i,a,e[5],4,-378558),a=Qi(a,t,r,i,e[8],11,-2022574463),i=Qi(i,a,t,r,e[11],16,1839030562),r=Qi(r,i,a,t,e[14],23,-35309556),t=Qi(t,r,i,a,e[1],4,-1530992060),a=Qi(a,t,r,i,e[4],11,1272893353),i=Qi(i,a,t,r,e[7],16,-155497632),r=Qi(r,i,a,t,e[10],23,-1094730640),t=Qi(t,r,i,a,e[13],4,681279174),a=Qi(a,t,r,i,e[0],11,-358537222),i=Qi(i,a,t,r,e[3],16,-722521979),r=Qi(r,i,a,t,e[6],23,76029189),t=Qi(t,r,i,a,e[9],4,-640364487),a=Qi(a,t,r,i,e[12],11,-421815835),i=Qi(i,a,t,r,e[15],16,530742520),t=Yi(t,r=Qi(r,i,a,t,e[2],23,-995338651),i,a,e[0],6,-198630844),a=Yi(a,t,r,i,e[7],10,1126891415),i=Yi(i,a,t,r,e[14],15,-1416354905),r=Yi(r,i,a,t,e[5],21,-57434055),t=Yi(t,r,i,a,e[12],6,1700485571),a=Yi(a,t,r,i,e[3],10,-1894986606),i=Yi(i,a,t,r,e[10],15,-1051523),r=Yi(r,i,a,t,e[1],21,-2054922799),t=Yi(t,r,i,a,e[8],6,1873313359),a=Yi(a,t,r,i,e[15],10,-30611744),i=Yi(i,a,t,r,e[6],15,-1560198380),r=Yi(r,i,a,t,e[13],21,1309151649),t=Yi(t,r,i,a,e[4],6,-145523070),a=Yi(a,t,r,i,e[11],10,-1120210379),i=Yi(i,a,t,r,e[2],15,718787259),r=Yi(r,i,a,t,e[9],21,-343485551),n[0]=fu(t,n[0]),n[1]=fu(r,n[1]),n[2]=fu(i,n[2]),n[3]=fu(a,n[3])}function Vp(n,e,t,r,i,a){return e=fu(fu(e,n),fu(r,a)),fu(e<<i|e>>>32-i,t)}function Gi(n,e,t,r,i,a,l){return Vp(e&t|~e&r,n,e,i,a,l)}function Ki(n,e,t,r,i,a,l){return Vp(e&r|t&~r,n,e,i,a,l)}function Qi(n,e,t,r,i,a,l){return Vp(e^t^r,n,e,i,a,l)}function Yi(n,e,t,r,i,a,l){return Vp(t^(e|~r),n,e,i,a,l)}function lb(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)ng(r,BC(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(ng(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,ng(r,i),r}function BC(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}Xh=Gt.atob.bind(Gt),Hg=Gt.btoa.bind(Gt);var P2="0123456789abcdef".split("");function UC(n){for(var e="",t=0;t<4;t++)e+=P2[n>>8*t+4&15]+P2[n>>8*t&15];return e}function zC(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function Wg(n){return lb(n).map(zC).join("")}var qC=function(n){for(var e=0;e<n.length;e++)n[e]=UC(n[e]);return n.join("")}(lb("hello"))!="5d41402abc4b2a76b9719d911017c592";function fu(n,e){if(qC){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function $g(n,e){var t,r,i,a;if(n!==t){for(var l=(i=n,a=1+(256/n.length>>0),new Array(a+1).join(i)),u=[],h=0;h<256;h++)u[h]=h;var p=0;for(h=0;h<256;h++){var y=u[h];p=(p+y+l.charCodeAt(h))%256,u[h]=u[p],u[p]=y}t=n,r=u}else u=r;var _=e.length,x=0,v=0,T="";for(h=0;h<_;h++)v=(v+(y=u[x=(x+1)%256]))%256,u[x]=u[v],u[v]=y,l=u[(u[x]+u[v])%256],T+=String.fromCharCode(e.charCodeAt(h)^l);return T}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var k2={print:4,modify:8,copy:16,"annot-forms":32};function Gc(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(u){if(k2.perm!==void 0)throw new Error("Invalid permission: "+u);i+=k2[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var a=(e+this.padding).substr(0,32),l=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,l),this.P=-(1+(255^i)),this.encryptionKey=Wg(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=$g(this.encryptionKey,this.padding)}function Kc(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=n[r]}return e}function C2(n){if(Jn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var a=Math.random().toString(35);return e[t][a]=[r,!!i],a},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var a in e[t]){var l=e[t][a];try{l[0].apply(n,r)}catch(u){Gt.console&&tr.error("jsPDF PubSub Error",u.message,u)}l[1]&&i.push(a)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function gf(n){if(!(this instanceof gf))return new gf(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function ub(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function cu(n,e,t,r,i){if(!(this instanceof cu))return new cu(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,ub.call(this,r,i)}function ec(n,e,t,r,i){if(!(this instanceof ec))return new ec(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,ub.call(this,r,i)}function Wt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],a=arguments[3],l=[],u=1,h=16,p="S",y=null;Jn(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,a=n.compress||n.compressPdf||a,(y=n.encryption||null)!==null&&(y.userPassword=y.userPassword||"",y.ownerPassword=y.ownerPassword||"",y.userPermissions=y.userPermissions||[]),u=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(h=n.floatPrecision),p=n.defaultPathOperation||"S"),l=n.filters||(a===!0?["FlateEncode"]:l),r=r||"mm",t=(""+(t||"P")).toLowerCase();var _=n.putOnlyUsedFonts||!1,x={},v={internal:{},__private__:{}};v.__private__.PubSub=C2;var T="1.3",R=v.__private__.getPdfVersion=function(){return T};v.__private__.setPdfVersion=function(w){T=w};var O={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};v.__private__.getPageFormats=function(){return O};var C=v.__private__.getPageFormat=function(w){return O[w]};i=i||"a4";var V={COMPAT:"compat",ADVANCED:"advanced"},B=V.COMPAT;function $(){this.saveGraphicsState(),fe(new Le(dt,0,0,-dt,0,si()*dt).toString()+" cm"),this.setFontSize(this.getFontSize()/dt),p="n",B=V.ADVANCED}function z(){this.restoreGraphicsState(),p="S",B=V.COMPAT}var ie=v.__private__.combineFontStyleAndFontWeight=function(w,H){if(w=="bold"&&H=="normal"||w=="bold"&&H==400||w=="normal"&&H=="italic"||w=="bold"&&H=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return H&&(w=H==400||H==="normal"?w==="italic"?"italic":"normal":H!=700&&H!=="bold"||w!=="normal"?(H==700?"bold":H)+""+w:"bold"),w};v.advancedAPI=function(w){var H=B===V.COMPAT;return H&&$.call(this),typeof w!="function"||(w(this),H&&z.call(this)),this},v.compatAPI=function(w){var H=B===V.ADVANCED;return H&&z.call(this),typeof w!="function"||(w(this),H&&$.call(this)),this},v.isAdvancedAPI=function(){return B===V.ADVANCED};var D,A=function(w){if(B!==V.ADVANCED)throw new Error(w+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},M=v.roundToPrecision=v.__private__.roundToPrecision=function(w,H){var ce=e||H;if(isNaN(w)||isNaN(ce))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return w.toFixed(ce).replace(/0+$/,"")};D=v.hpf=v.__private__.hpf=typeof h=="number"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return M(w,h)}:h==="smart"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return M(w,w>-1&&w<1?16:5)}:function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return M(w,16)};var U=v.f2=v.__private__.f2=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f2");return M(w,2)},I=v.__private__.f3=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f3");return M(w,3)},P=v.scale=v.__private__.scale=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.scale");return B===V.COMPAT?w*dt:B===V.ADVANCED?w:void 0},F=function(w){return B===V.COMPAT?si()-w:B===V.ADVANCED?w:void 0},X=function(w){return P(F(w))};v.__private__.setPrecision=v.setPrecision=function(w){typeof parseInt(w,10)=="number"&&(e=parseInt(w,10))};var pe,ae="00000000000000000000000000000000",oe=v.__private__.getFileId=function(){return ae},te=v.__private__.setFileId=function(w){return ae=w!==void 0&&/^[a-fA-F0-9]{32}$/.test(w)?w.toUpperCase():ae.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),y!==null&&(Tn=new Gc(y.userPermissions,y.userPassword,y.ownerPassword,ae)),ae};v.setFileId=function(w){return te(w),this},v.getFileId=function(){return oe()};var ne=v.__private__.convertDateToPDFDate=function(w){var H=w.getTimezoneOffset(),ce=H<0?"+":"-",ge=Math.floor(Math.abs(H/60)),Pe=Math.abs(H%60),Be=[ce,ee(ge),"'",ee(Pe),"'"].join("");return["D:",w.getFullYear(),ee(w.getMonth()+1),ee(w.getDate()),ee(w.getHours()),ee(w.getMinutes()),ee(w.getSeconds()),Be].join("")},he=v.__private__.convertPDFDateToDate=function(w){var H=parseInt(w.substr(2,4),10),ce=parseInt(w.substr(6,2),10)-1,ge=parseInt(w.substr(8,2),10),Pe=parseInt(w.substr(10,2),10),Be=parseInt(w.substr(12,2),10),Ye=parseInt(w.substr(14,2),10);return new Date(H,ce,ge,Pe,Be,Ye,0)},re=v.__private__.setCreationDate=function(w){var H;if(w===void 0&&(w=new Date),w instanceof Date)H=ne(w);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(w))throw new Error("Invalid argument passed to jsPDF.setCreationDate");H=w}return pe=H},N=v.__private__.getCreationDate=function(w){var H=pe;return w==="jsDate"&&(H=he(pe)),H};v.setCreationDate=function(w){return re(w),this},v.getCreationDate=function(w){return N(w)};var W,ee=v.__private__.padd2=function(w){return("0"+parseInt(w)).slice(-2)},se=v.__private__.padd2Hex=function(w){return("00"+(w=w.toString())).substr(w.length)},ue=0,we=[],xe=[],Se=0,We=[],Ge=[],st=!1,it=xe,Ct=function(){ue=0,Se=0,xe=[],we=[],We=[],zt=mt(),un=mt()};v.__private__.setCustomOutputDestination=function(w){st=!0,it=w};var Ve=function(w){st||(it=w)};v.__private__.resetCustomOutputDestination=function(){st=!1,it=xe};var fe=v.__private__.out=function(w){return w=w.toString(),Se+=w.length+1,it.push(w),it},Ft=v.__private__.write=function(w){return fe(arguments.length===1?w.toString():Array.prototype.join.call(arguments," "))},xt=v.__private__.getArrayBuffer=function(w){for(var H=w.length,ce=new ArrayBuffer(H),ge=new Uint8Array(ce);H--;)ge[H]=w.charCodeAt(H);return ce},Qe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];v.__private__.getStandardFonts=function(){return Qe};var ot=n.fontSize||16;v.__private__.setFontSize=v.setFontSize=function(w){return ot=B===V.ADVANCED?w/dt:w,this};var lt,ct=v.__private__.getFontSize=v.getFontSize=function(){return B===V.COMPAT?ot:ot*dt},Tt=n.R2L||!1;v.__private__.setR2L=v.setR2L=function(w){return Tt=w,this},v.__private__.getR2L=v.getR2L=function(){return Tt};var qe,Je=v.__private__.setZoomMode=function(w){var H=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(w))lt=w;else if(isNaN(w)){if(H.indexOf(w)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+w+'" is not recognized.');lt=w}else lt=parseInt(w,10)};v.__private__.getZoomMode=function(){return lt};var ht,_t=v.__private__.setPageMode=function(w){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(w)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+w+'" is not recognized.');qe=w};v.__private__.getPageMode=function(){return qe};var Mt=v.__private__.setLayoutMode=function(w){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(w)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+w+'" is not recognized.');ht=w};v.__private__.getLayoutMode=function(){return ht},v.__private__.setDisplayMode=v.setDisplayMode=function(w,H,ce){return Je(w),Mt(H),_t(ce),this};var Rt={title:"",subject:"",author:"",keywords:"",creator:""};v.__private__.getDocumentProperty=function(w){if(Object.keys(Rt).indexOf(w)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Rt[w]},v.__private__.getDocumentProperties=function(){return Rt},v.__private__.setDocumentProperties=v.setProperties=v.setDocumentProperties=function(w){for(var H in Rt)Rt.hasOwnProperty(H)&&w[H]&&(Rt[H]=w[H]);return this},v.__private__.setDocumentProperty=function(w,H){if(Object.keys(Rt).indexOf(w)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Rt[w]=H};var Nt,dt,jn,nn,ur,fn={},dn={},gr=[],Zt={},ii={},Ln={},nr={},vr=null,En=0,Dt=[],mn=new C2(v),vi=n.hotfixes||[],me={},Ie={},Fe=[],Le=function w(H,ce,ge,Pe,Be,Ye){if(!(this instanceof w))return new w(H,ce,ge,Pe,Be,Ye);isNaN(H)&&(H=1),isNaN(ce)&&(ce=0),isNaN(ge)&&(ge=0),isNaN(Pe)&&(Pe=1),isNaN(Be)&&(Be=0),isNaN(Ye)&&(Ye=0),this._matrix=[H,ce,ge,Pe,Be,Ye]};Object.defineProperty(Le.prototype,"sx",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(Le.prototype,"shy",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(Le.prototype,"shx",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(Le.prototype,"sy",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(Le.prototype,"tx",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(Le.prototype,"ty",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(Le.prototype,"a",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(Le.prototype,"b",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(Le.prototype,"c",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(Le.prototype,"d",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(Le.prototype,"e",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(Le.prototype,"f",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(Le.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Le.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Le.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Le.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Le.prototype.join=function(w){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(D).join(w)},Le.prototype.multiply=function(w){var H=w.sx*this.sx+w.shy*this.shx,ce=w.sx*this.shy+w.shy*this.sy,ge=w.shx*this.sx+w.sy*this.shx,Pe=w.shx*this.shy+w.sy*this.sy,Be=w.tx*this.sx+w.ty*this.shx+this.tx,Ye=w.tx*this.shy+w.ty*this.sy+this.ty;return new Le(H,ce,ge,Pe,Be,Ye)},Le.prototype.decompose=function(){var w=this.sx,H=this.shy,ce=this.shx,ge=this.sy,Pe=this.tx,Be=this.ty,Ye=Math.sqrt(w*w+H*H),gt=(w/=Ye)*ce+(H/=Ye)*ge;ce-=w*gt,ge-=H*gt;var d=Math.sqrt(ce*ce+ge*ge);return gt/=d,w*(ge/=d)<H*(ce/=d)&&(w=-w,H=-H,gt=-gt,Ye=-Ye),{scale:new Le(Ye,0,0,d,0,0),translate:new Le(1,0,0,1,Pe,Be),rotate:new Le(w,H,-H,w,0,0),skew:new Le(1,0,gt,1,0,0)}},Le.prototype.toString=function(w){return this.join(" ")},Le.prototype.inversed=function(){var w=this.sx,H=this.shy,ce=this.shx,ge=this.sy,Pe=this.tx,Be=this.ty,Ye=1/(w*ge-H*ce),gt=ge*Ye,d=-H*Ye,E=-ce*Ye,j=w*Ye;return new Le(gt,d,E,j,-gt*Pe-E*Be,-d*Pe-j*Be)},Le.prototype.applyToPoint=function(w){var H=w.x*this.sx+w.y*this.shx+this.tx,ce=w.x*this.shy+w.y*this.sy+this.ty;return new oo(H,ce)},Le.prototype.applyToRectangle=function(w){var H=this.applyToPoint(w),ce=this.applyToPoint(new oo(w.x+w.w,w.y+w.h));return new Bo(H.x,H.y,ce.x-H.x,ce.y-H.y)},Le.prototype.clone=function(){var w=this.sx,H=this.shy,ce=this.shx,ge=this.sy,Pe=this.tx,Be=this.ty;return new Le(w,H,ce,ge,Pe,Be)},v.Matrix=Le;var pt=v.matrixMult=function(w,H){return H.multiply(w)},wt=new Le(1,0,0,1,0,0);v.unitMatrix=v.identityMatrix=wt;var Et=function(w,H){if(!ii[w]){var ce=(H instanceof cu?"Sh":"P")+(Object.keys(Zt).length+1).toString(10);H.id=ce,ii[w]=ce,Zt[ce]=H,mn.publish("addPattern",H)}};v.ShadingPattern=cu,v.TilingPattern=ec,v.addShadingPattern=function(w,H){return A("addShadingPattern()"),Et(w,H),this},v.beginTilingPattern=function(w){A("beginTilingPattern()"),us(w.boundingBox[0],w.boundingBox[1],w.boundingBox[2]-w.boundingBox[0],w.boundingBox[3]-w.boundingBox[1],w.matrix)},v.endTilingPattern=function(w,H){A("endTilingPattern()"),H.stream=Ge[W].join(`
`),Et(w,H),mn.publish("endTilingPattern",H),Fe.pop().restore()};var ut=v.__private__.newObject=function(){var w=mt();return rt(w,!0),w},mt=v.__private__.newObjectDeferred=function(){return ue++,we[ue]=function(){return Se},ue},rt=function(w,H){return H=typeof H=="boolean"&&H,we[w]=Se,H&&fe(w+" 0 obj"),w},jt=v.__private__.newAdditionalObject=function(){var w={objId:mt(),content:""};return We.push(w),w},zt=mt(),un=mt(),An=v.__private__.decodeColorString=function(w){var H=w.split(" ");if(H.length!==2||H[1]!=="g"&&H[1]!=="G")H.length===5&&(H[4]==="k"||H[4]==="K")&&(H=[(1-H[0])*(1-H[3]),(1-H[1])*(1-H[3]),(1-H[2])*(1-H[3]),"r"]);else{var ce=parseFloat(H[0]);H=[ce,ce,ce,"r"]}for(var ge="#",Pe=0;Pe<3;Pe++)ge+=("0"+Math.floor(255*parseFloat(H[Pe])).toString(16)).slice(-2);return ge},Jt=v.__private__.encodeColorString=function(w){var H;typeof w=="string"&&(w={ch1:w});var ce=w.ch1,ge=w.ch2,Pe=w.ch3,Be=w.ch4,Ye=w.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ce=="string"&&ce.charAt(0)!=="#"){var gt=new sb(ce);if(gt.ok)ce=gt.toHex();else if(!/^\d*\.?\d*$/.test(ce))throw new Error('Invalid color "'+ce+'" passed to jsPDF.encodeColorString.')}if(typeof ce=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ce)&&(ce="#"+ce[1]+ce[1]+ce[2]+ce[2]+ce[3]+ce[3]),typeof ce=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ce)){var d=parseInt(ce.substr(1),16);ce=d>>16&255,ge=d>>8&255,Pe=255&d}if(ge===void 0||Be===void 0&&ce===ge&&ge===Pe)if(typeof ce=="string")H=ce+" "+Ye[0];else switch(w.precision){case 2:H=U(ce/255)+" "+Ye[0];break;case 3:default:H=I(ce/255)+" "+Ye[0]}else if(Be===void 0||Jn(Be)==="object"){if(Be&&!isNaN(Be.a)&&Be.a===0)return H=["1.","1.","1.",Ye[1]].join(" ");if(typeof ce=="string")H=[ce,ge,Pe,Ye[1]].join(" ");else switch(w.precision){case 2:H=[U(ce/255),U(ge/255),U(Pe/255),Ye[1]].join(" ");break;default:case 3:H=[I(ce/255),I(ge/255),I(Pe/255),Ye[1]].join(" ")}}else if(typeof ce=="string")H=[ce,ge,Pe,Be,Ye[2]].join(" ");else switch(w.precision){case 2:H=[U(ce),U(ge),U(Pe),U(Be),Ye[2]].join(" ");break;case 3:default:H=[I(ce),I(ge),I(Pe),I(Be),Ye[2]].join(" ")}return H},on=v.__private__.getFilters=function(){return l},an=v.__private__.putStream=function(w){var H=(w=w||{}).data||"",ce=w.filters||on(),ge=w.alreadyAppliedFilters||[],Pe=w.addLength1||!1,Be=H.length,Ye=w.objectId,gt=function(en){return en};if(y!==null&&Ye===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");y!==null&&(gt=Tn.encryptor(Ye,0));var d={};ce===!0&&(ce=["FlateEncode"]);var E=w.additionalKeyValues||[],j=(d=Wt.API.processDataByFilters!==void 0?Wt.API.processDataByFilters(H,ce):{data:H,reverseChain:[]}).reverseChain+(Array.isArray(ge)?ge.join(" "):ge.toString());if(d.data.length!==0&&(E.push({key:"Length",value:d.data.length}),Pe===!0&&E.push({key:"Length1",value:Be})),j.length!=0)if(j.split("/").length-1==1)E.push({key:"Filter",value:j});else{E.push({key:"Filter",value:"["+j+"]"});for(var J=0;J<E.length;J+=1)if(E[J].key==="DecodeParms"){for(var Ae=[],De=0;De<d.reverseChain.split("/").length-1;De+=1)Ae.push("null");Ae.push(E[J].value),E[J].value="["+Ae.join(" ")+"]"}}fe("<<");for(var Xe=0;Xe<E.length;Xe++)fe("/"+E[Xe].key+" "+E[Xe].value);fe(">>"),d.data.length!==0&&(fe("stream"),fe(gt(d.data)),fe("endstream"))},Sr=v.__private__.putPage=function(w){var H=w.number,ce=w.data,ge=w.objId,Pe=w.contentsObjId;rt(ge,!0),fe("<</Type /Page"),fe("/Parent "+w.rootDictionaryObjId+" 0 R"),fe("/Resources "+w.resourceDictionaryObjId+" 0 R"),fe("/MediaBox ["+parseFloat(D(w.mediaBox.bottomLeftX))+" "+parseFloat(D(w.mediaBox.bottomLeftY))+" "+D(w.mediaBox.topRightX)+" "+D(w.mediaBox.topRightY)+"]"),w.cropBox!==null&&fe("/CropBox ["+D(w.cropBox.bottomLeftX)+" "+D(w.cropBox.bottomLeftY)+" "+D(w.cropBox.topRightX)+" "+D(w.cropBox.topRightY)+"]"),w.bleedBox!==null&&fe("/BleedBox ["+D(w.bleedBox.bottomLeftX)+" "+D(w.bleedBox.bottomLeftY)+" "+D(w.bleedBox.topRightX)+" "+D(w.bleedBox.topRightY)+"]"),w.trimBox!==null&&fe("/TrimBox ["+D(w.trimBox.bottomLeftX)+" "+D(w.trimBox.bottomLeftY)+" "+D(w.trimBox.topRightX)+" "+D(w.trimBox.topRightY)+"]"),w.artBox!==null&&fe("/ArtBox ["+D(w.artBox.bottomLeftX)+" "+D(w.artBox.bottomLeftY)+" "+D(w.artBox.topRightX)+" "+D(w.artBox.topRightY)+"]"),typeof w.userUnit=="number"&&w.userUnit!==1&&fe("/UserUnit "+w.userUnit),mn.publish("putPage",{objId:ge,pageContext:Dt[H],pageNumber:H,page:ce}),fe("/Contents "+Pe+" 0 R"),fe(">>"),fe("endobj");var Be=ce.join(`
`);return B===V.ADVANCED&&(Be+=`
Q`),rt(Pe,!0),an({data:Be,filters:on(),objectId:Pe}),fe("endobj"),ge},zr=v.__private__.putPages=function(){var w,H,ce=[];for(w=1;w<=En;w++)Dt[w].objId=mt(),Dt[w].contentsObjId=mt();for(w=1;w<=En;w++)ce.push(Sr({number:w,data:Ge[w],objId:Dt[w].objId,contentsObjId:Dt[w].contentsObjId,mediaBox:Dt[w].mediaBox,cropBox:Dt[w].cropBox,bleedBox:Dt[w].bleedBox,trimBox:Dt[w].trimBox,artBox:Dt[w].artBox,userUnit:Dt[w].userUnit,rootDictionaryObjId:zt,resourceDictionaryObjId:un}));rt(zt,!0),fe("<</Type /Pages");var ge="/Kids [";for(H=0;H<En;H++)ge+=ce[H]+" 0 R ";fe(ge+"]"),fe("/Count "+En),fe(">>"),fe("endobj"),mn.publish("postPutPages")},yr=function(w){mn.publish("putFont",{font:w,out:fe,newObject:ut,putStream:an}),w.isAlreadyPutted!==!0&&(w.objectNumber=ut(),fe("<<"),fe("/Type /Font"),fe("/BaseFont /"+Kc(w.postScriptName)),fe("/Subtype /Type1"),typeof w.encoding=="string"&&fe("/Encoding /"+w.encoding),fe("/FirstChar 32"),fe("/LastChar 255"),fe(">>"),fe("endobj"))},cr=function(){for(var w in fn)fn.hasOwnProperty(w)&&(_===!1||_===!0&&x.hasOwnProperty(w))&&yr(fn[w])},Di=function(w){w.objectNumber=ut();var H=[];H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Form"}),H.push({key:"BBox",value:"["+[D(w.x),D(w.y),D(w.x+w.width),D(w.y+w.height)].join(" ")+"]"}),H.push({key:"Matrix",value:"["+w.matrix.toString()+"]"});var ce=w.pages[1].join(`
`);an({data:ce,additionalKeyValues:H,objectId:w.objectNumber}),fe("endobj")},yi=function(){for(var w in me)me.hasOwnProperty(w)&&Di(me[w])},Oi=function(w,H){var ce,ge=[],Pe=1/(H-1);for(ce=0;ce<1;ce+=Pe)ge.push(ce);if(ge.push(1),w[0].offset!=0){var Be={offset:0,color:w[0].color};w.unshift(Be)}if(w[w.length-1].offset!=1){var Ye={offset:1,color:w[w.length-1].color};w.push(Ye)}for(var gt="",d=0,E=0;E<ge.length;E++){for(ce=ge[E];ce>w[d+1].offset;)d++;var j=w[d].offset,J=(ce-j)/(w[d+1].offset-j),Ae=w[d].color,De=w[d+1].color;gt+=se(Math.round((1-J)*Ae[0]+J*De[0]).toString(16))+se(Math.round((1-J)*Ae[1]+J*De[1]).toString(16))+se(Math.round((1-J)*Ae[2]+J*De[2]).toString(16))}return gt.trim()},bn=function(w,H){H||(H=21);var ce=ut(),ge=Oi(w.colors,H),Pe=[];Pe.push({key:"FunctionType",value:"0"}),Pe.push({key:"Domain",value:"[0.0 1.0]"}),Pe.push({key:"Size",value:"["+H+"]"}),Pe.push({key:"BitsPerSample",value:"8"}),Pe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Pe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),an({data:ge,additionalKeyValues:Pe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ce}),fe("endobj"),w.objectNumber=ut(),fe("<< /ShadingType "+w.type),fe("/ColorSpace /DeviceRGB");var Be="/Coords ["+D(parseFloat(w.coords[0]))+" "+D(parseFloat(w.coords[1]))+" ";w.type===2?Be+=D(parseFloat(w.coords[2]))+" "+D(parseFloat(w.coords[3])):Be+=D(parseFloat(w.coords[2]))+" "+D(parseFloat(w.coords[3]))+" "+D(parseFloat(w.coords[4]))+" "+D(parseFloat(w.coords[5])),fe(Be+="]"),w.matrix&&fe("/Matrix ["+w.matrix.toString()+"]"),fe("/Function "+ce+" 0 R"),fe("/Extend [true true]"),fe(">>"),fe("endobj")},Do=function(w,H){var ce=mt(),ge=ut();H.push({resourcesOid:ce,objectOid:ge}),w.objectNumber=ge;var Pe=[];Pe.push({key:"Type",value:"/Pattern"}),Pe.push({key:"PatternType",value:"1"}),Pe.push({key:"PaintType",value:"1"}),Pe.push({key:"TilingType",value:"1"}),Pe.push({key:"BBox",value:"["+w.boundingBox.map(D).join(" ")+"]"}),Pe.push({key:"XStep",value:D(w.xStep)}),Pe.push({key:"YStep",value:D(w.yStep)}),Pe.push({key:"Resources",value:ce+" 0 R"}),w.matrix&&Pe.push({key:"Matrix",value:"["+w.matrix.toString()+"]"}),an({data:w.stream,additionalKeyValues:Pe,objectId:w.objectNumber}),fe("endobj")},hn=function(w){var H;for(H in Zt)Zt.hasOwnProperty(H)&&(Zt[H]instanceof cu?bn(Zt[H]):Zt[H]instanceof ec&&Do(Zt[H],w))},Hn=function(w){for(var H in w.objectNumber=ut(),fe("<<"),w)switch(H){case"opacity":fe("/ca "+U(w[H]));break;case"stroke-opacity":fe("/CA "+U(w[H]))}fe(">>"),fe("endobj")},Cr=function(){var w;for(w in Ln)Ln.hasOwnProperty(w)&&Hn(Ln[w])},wi=function(){for(var w in fe("/XObject <<"),me)me.hasOwnProperty(w)&&me[w].objectNumber>=0&&fe("/"+w+" "+me[w].objectNumber+" 0 R");mn.publish("putXobjectDict"),fe(">>")},Kn=function(){Tn.oid=ut(),fe("<<"),fe("/Filter /Standard"),fe("/V "+Tn.v),fe("/R "+Tn.r),fe("/U <"+Tn.toHexString(Tn.U)+">"),fe("/O <"+Tn.toHexString(Tn.O)+">"),fe("/P "+Tn.P),fe(">>"),fe("endobj")},qr=function(){for(var w in fe("/Font <<"),fn)fn.hasOwnProperty(w)&&(_===!1||_===!0&&x.hasOwnProperty(w))&&fe("/"+w+" "+fn[w].objectNumber+" 0 R");fe(">>")},Vr=function(){if(Object.keys(Zt).length>0){for(var w in fe("/Shading <<"),Zt)Zt.hasOwnProperty(w)&&Zt[w]instanceof cu&&Zt[w].objectNumber>=0&&fe("/"+w+" "+Zt[w].objectNumber+" 0 R");mn.publish("putShadingPatternDict"),fe(">>")}},Oo=function(w){if(Object.keys(Zt).length>0){for(var H in fe("/Pattern <<"),Zt)Zt.hasOwnProperty(H)&&Zt[H]instanceof v.TilingPattern&&Zt[H].objectNumber>=0&&Zt[H].objectNumber<w&&fe("/"+H+" "+Zt[H].objectNumber+" 0 R");mn.publish("putTilingPatternDict"),fe(">>")}},Hr=function(){if(Object.keys(Ln).length>0){var w;for(w in fe("/ExtGState <<"),Ln)Ln.hasOwnProperty(w)&&Ln[w].objectNumber>=0&&fe("/"+w+" "+Ln[w].objectNumber+" 0 R");mn.publish("putGStateDict"),fe(">>")}},Xn=function(w){rt(w.resourcesOid,!0),fe("<<"),fe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),qr(),Vr(),Oo(w.objectOid),Hr(),wi(),fe(">>"),fe("endobj")},Os=function(){var w=[];cr(),Cr(),yi(),hn(w),mn.publish("putResources"),w.forEach(Xn),Xn({resourcesOid:un,objectOid:Number.MAX_SAFE_INTEGER}),mn.publish("postPutResources")},Fs=function(){mn.publish("putAdditionalObjects");for(var w=0;w<We.length;w++){var H=We[w];rt(H.objId,!0),fe(H.content),fe("endobj")}mn.publish("postPutAdditionalObjects")},Ea=function(w){dn[w.fontName]=dn[w.fontName]||{},dn[w.fontName][w.fontStyle]=w.id},ea=function(w,H,ce,ge,Pe){var Be={id:"F"+(Object.keys(fn).length+1).toString(10),postScriptName:w,fontName:H,fontStyle:ce,encoding:ge,isStandardFont:Pe||!1,metadata:{}};return mn.publish("addFont",{font:Be,instance:this}),fn[Be.id]=Be,Ea(Be),Be.id},ta=function(w){for(var H=0,ce=Qe.length;H<ce;H++){var ge=ea.call(this,w[H][0],w[H][1],w[H][2],Qe[H][3],!0);_===!1&&(x[ge]=!0);var Pe=w[H][0].split("-");Ea({id:ge,fontName:Pe[0],fontStyle:Pe[1]||""})}mn.publish("addFonts",{fonts:fn,dictionary:dn})},Wr=function(w){return w.foo=function(){try{return w.apply(this,arguments)}catch(ge){var H=ge.stack||"";~H.indexOf(" at ")&&(H=H.split(" at ")[1]);var ce="Error in function "+H.split(`
`)[0].split("<")[0]+": "+ge.message;if(!Gt.console)throw new Error(ce);Gt.console.error(ce,ge),Gt.alert&&alert(ce)}},w.foo.bar=w,w.foo},is=function(w,H){var ce,ge,Pe,Be,Ye,gt,d,E,j;if(Pe=(H=H||{}).sourceEncoding||"Unicode",Ye=H.outputEncoding,(H.autoencode||Ye)&&fn[Nt].metadata&&fn[Nt].metadata[Pe]&&fn[Nt].metadata[Pe].encoding&&(Be=fn[Nt].metadata[Pe].encoding,!Ye&&fn[Nt].encoding&&(Ye=fn[Nt].encoding),!Ye&&Be.codePages&&(Ye=Be.codePages[0]),typeof Ye=="string"&&(Ye=Be[Ye]),Ye)){for(d=!1,gt=[],ce=0,ge=w.length;ce<ge;ce++)(E=Ye[w.charCodeAt(ce)])?gt.push(String.fromCharCode(E)):gt.push(w[ce]),gt[ce].charCodeAt(0)>>8&&(d=!0);w=gt.join("")}for(ce=w.length;d===void 0&&ce!==0;)w.charCodeAt(ce-1)>>8&&(d=!0),ce--;if(!d)return w;for(gt=H.noBOM?[]:[254,255],ce=0,ge=w.length;ce<ge;ce++){if((j=(E=w.charCodeAt(ce))>>8)>>8)throw new Error("Character at position "+ce+" of string '"+w+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");gt.push(j),gt.push(E-(j<<8))}return String.fromCharCode.apply(void 0,gt)},hr=v.__private__.pdfEscape=v.pdfEscape=function(w,H){return is(w,H).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},$r=v.__private__.beginPage=function(w){Ge[++En]=[],Dt[En]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(w[0]),topRightY:Number(w[1])}},Fo(En),Ve(Ge[W])},na=function(w,H){var ce,ge,Pe;switch(t=H||t,typeof w=="string"&&(ce=C(w.toLowerCase()),Array.isArray(ce)&&(ge=ce[0],Pe=ce[1])),Array.isArray(w)&&(ge=w[0]*dt,Pe=w[1]*dt),isNaN(ge)&&(ge=i[0],Pe=i[1]),(ge>14400||Pe>14400)&&(tr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ge=Math.min(14400,ge),Pe=Math.min(14400,Pe)),i=[ge,Pe],t.substr(0,1)){case"l":Pe>ge&&(i=[Pe,ge]);break;case"p":ge>Pe&&(i=[Pe,ge])}$r(i),sa(js),fe(Er),Bs!==0&&fe(Bs+" J"),la!==0&&fe(la+" j"),mn.publish("addPage",{pageNumber:En})},ra=function(w){w>0&&w<=En&&(Ge.splice(w,1),Dt.splice(w,1),En--,W>En&&(W=En),this.setPage(W))},Fo=function(w){w>0&&w<=En&&(W=w)},Vn=v.__private__.getNumberOfPages=v.getNumberOfPages=function(){return Ge.length-1},Mo=function(w,H,ce){var ge,Pe=void 0;return ce=ce||{},w=w!==void 0?w:fn[Nt].fontName,H=H!==void 0?H:fn[Nt].fontStyle,ge=w.toLowerCase(),dn[ge]!==void 0&&dn[ge][H]!==void 0?Pe=dn[ge][H]:dn[w]!==void 0&&dn[w][H]!==void 0?Pe=dn[w][H]:ce.disableWarning===!1&&tr.warn("Unable to look up font label for font '"+w+"', '"+H+"'. Refer to getFontList() for available fonts."),Pe||ce.noFallback||(Pe=dn.times[H])==null&&(Pe=dn.times.normal),Pe},pn=v.__private__.putInfo=function(){var w=ut(),H=function(ge){return ge};for(var ce in y!==null&&(H=Tn.encryptor(w,0)),fe("<<"),fe("/Producer ("+hr(H("jsPDF "+Wt.version))+")"),Rt)Rt.hasOwnProperty(ce)&&Rt[ce]&&fe("/"+ce.substr(0,1).toUpperCase()+ce.substr(1)+" ("+hr(H(Rt[ce]))+")");fe("/CreationDate ("+hr(H(pe))+")"),fe(">>"),fe("endobj")},mo=v.__private__.putCatalog=function(w){var H=(w=w||{}).rootDictionaryObjId||zt;switch(ut(),fe("<<"),fe("/Type /Catalog"),fe("/Pages "+H+" 0 R"),lt||(lt="fullwidth"),lt){case"fullwidth":fe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":fe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":fe("/OpenAction [3 0 R /Fit]");break;case"original":fe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ce=""+lt;ce.substr(ce.length-1)==="%"&&(lt=parseInt(lt)/100),typeof lt=="number"&&fe("/OpenAction [3 0 R /XYZ null null "+U(lt)+"]")}switch(ht||(ht="continuous"),ht){case"continuous":fe("/PageLayout /OneColumn");break;case"single":fe("/PageLayout /SinglePage");break;case"two":case"twoleft":fe("/PageLayout /TwoColumnLeft");break;case"tworight":fe("/PageLayout /TwoColumnRight")}qe&&fe("/PageMode /"+qe),mn.publish("putCatalog"),fe(">>"),fe("endobj")},Sl=v.__private__.putTrailer=function(){fe("trailer"),fe("<<"),fe("/Size "+(ue+1)),fe("/Root "+ue+" 0 R"),fe("/Info "+(ue-1)+" 0 R"),y!==null&&fe("/Encrypt "+Tn.oid+" 0 R"),fe("/ID [ <"+ae+"> <"+ae+"> ]"),fe(">>")},os=v.__private__.putHeader=function(){fe("%PDF-"+T),fe("%")},El=v.__private__.putXRef=function(){var w="0000000000";fe("xref"),fe("0 "+(ue+1)),fe("0000000000 65535 f ");for(var H=1;H<=ue;H++)typeof we[H]=="function"?fe((w+we[H]()).slice(-10)+" 00000 n "):we[H]!==void 0?fe((w+we[H]).slice(-10)+" 00000 n "):fe("0000000000 00000 n ")},go=v.__private__.buildDocument=function(){Ct(),Ve(xe),mn.publish("buildDocument"),os(),zr(),Fs(),Os(),y!==null&&Kn(),pn(),mo();var w=Se;return El(),Sl(),fe("startxref"),fe(""+w),fe("%%EOF"),Ve(Ge[W]),xe.join(`
`)},Aa=v.__private__.getBlob=function(w){return new Blob([xt(w)],{type:"application/pdf"})},ia=v.output=v.__private__.output=Wr(function(w,H){switch(typeof(H=H||{})=="string"?H={filename:H}:H.filename=H.filename||"generated.pdf",w){case void 0:return go();case"save":v.save(H.filename);break;case"arraybuffer":return xt(go());case"blob":return Aa(go());case"bloburi":case"bloburl":if(Gt.URL!==void 0&&typeof Gt.URL.createObjectURL=="function")return Gt.URL&&Gt.URL.createObjectURL(Aa(go()))||void 0;tr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ce="",ge=go();try{ce=Hg(ge)}catch{ce=Hg(unescape(encodeURIComponent(ge)))}return"data:application/pdf;filename="+H.filename+";base64,"+ce;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Gt)==="[object Window]"){var Pe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';H.pdfObjectUrl&&(Pe=H.pdfObjectUrl,Be="");var Ye='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Pe+'"'+Be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(H)+");<\/script></body></html>",gt=Gt.open();return gt!==null&&gt.document.write(Ye),gt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Gt)==="[object Window]"){var d='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(H.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+H.filename+'" width="500px" height="400px" /></body></html>',E=Gt.open();if(E!==null){E.document.write(d);var j=this;E.document.documentElement.querySelector("#pdfViewer").onload=function(){E.document.title=H.filename,E.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(j.output("bloburl"))}}return E}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Gt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var J='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",H)+'"></iframe></body></html>',Ae=Gt.open();if(Ae!==null&&(Ae.document.write(J),Ae.document.title=H.filename),Ae||typeof safari>"u")return Ae;break;case"datauri":case"dataurl":return Gt.document.location.href=this.output("datauristring",H);default:return null}}),to=function(w){return Array.isArray(vi)===!0&&vi.indexOf(w)>-1};switch(r){case"pt":dt=1;break;case"mm":dt=72/25.4;break;case"cm":dt=72/2.54;break;case"in":dt=72;break;case"px":dt=to("px_scaling")==1?.75:96/72;break;case"pc":case"em":dt=12;break;case"ex":dt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);dt=r}var Tn=null;re(),te();var no=function(w){return y!==null?Tn.encryptor(w,0):function(H){return H}},Fi=v.__private__.getPageInfo=v.getPageInfo=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Dt[w].objId,pageNumber:w,pageContext:Dt[w]}},Ut=v.__private__.getPageInfoByObjId=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var H in Dt)if(Dt[H].objId===w)break;return Fi(H)},Mi=v.__private__.getCurrentPageInfo=v.getCurrentPageInfo=function(){return{objId:Dt[W].objId,pageNumber:W,pageContext:Dt[W]}};v.addPage=function(){return na.apply(this,arguments),this},v.setPage=function(){return Fo.apply(this,arguments),Ve.call(this,Ge[W]),this},v.insertPage=function(w){return this.addPage(),this.movePage(W,w),this},v.movePage=function(w,H){var ce,ge;if(w>H){ce=Ge[w],ge=Dt[w];for(var Pe=w;Pe>H;Pe--)Ge[Pe]=Ge[Pe-1],Dt[Pe]=Dt[Pe-1];Ge[H]=ce,Dt[H]=ge,this.setPage(H)}else if(w<H){ce=Ge[w],ge=Dt[w];for(var Be=w;Be<H;Be++)Ge[Be]=Ge[Be+1],Dt[Be]=Dt[Be+1];Ge[H]=ce,Dt[H]=ge,this.setPage(H)}return this},v.deletePage=function(){return ra.apply(this,arguments),this},v.__private__.text=v.text=function(w,H,ce,ge,Pe){var Be,Ye,gt,d,E,j,J,Ae,De,Xe=(ge=ge||{}).scope||this;if(typeof w=="number"&&typeof H=="number"&&(typeof ce=="string"||Array.isArray(ce))){var en=ce;ce=H,H=w,w=en}if(arguments[3]instanceof Le?(A("The transform parameter of text() with a Matrix value"),De=Pe):(gt=arguments[4],d=arguments[5],Jn(J=arguments[3])==="object"&&J!==null||(typeof gt=="string"&&(d=gt,gt=null),typeof J=="string"&&(d=J,J=null),typeof J=="number"&&(gt=J,J=null),ge={flags:J,angle:gt,align:d})),isNaN(H)||isNaN(ce)||w==null)throw new Error("Invalid arguments passed to jsPDF.text");if(w.length===0)return Xe;var gn="",tn=!1,Dn=typeof ge.lineHeightFactor=="number"?ge.lineHeightFactor:Rn,Bn=Xe.internal.scaleFactor;function xi(Qn){return Qn=Qn.split("	").join(Array(ge.TabLen||9).join(" ")),hr(Qn,J)}function Qr(Qn){for(var Un,pr=Qn.concat(),Ar=[],fa=pr.length;fa--;)typeof(Un=pr.shift())=="string"?Ar.push(Un):Array.isArray(Qn)&&(Un.length===1||Un[1]===void 0&&Un[2]===void 0)?Ar.push(Un[0]):Ar.push([Un[0],Un[1],Un[2]]);return Ar}function zo(Qn,Un){var pr;if(typeof Qn=="string")pr=Un(Qn)[0];else if(Array.isArray(Qn)){for(var Ar,fa,Fl=Qn.concat(),Gs=[],Cu=Fl.length;Cu--;)typeof(Ar=Fl.shift())=="string"?Gs.push(Un(Ar)[0]):Array.isArray(Ar)&&typeof Ar[0]=="string"&&(fa=Un(Ar[0],Ar[1],Ar[2]),Gs.push([fa[0],fa[1],fa[2]]));pr=Gs}return pr}var qo=!1,Il=!0;if(typeof w=="string")qo=!0;else if(Array.isArray(w)){var Pl=w.concat();Ye=[];for(var Us,dr=Pl.length;dr--;)(typeof(Us=Pl.shift())!="string"||Array.isArray(Us)&&typeof Us[0]!="string")&&(Il=!1);qo=Il}if(qo===!1)throw new Error('Type of text must be string or Array. "'+w+'" is not recognized.');typeof w=="string"&&(w=w.match(/[\r?\n]/)?w.split(/\r\n|\r|\n/g):[w]);var kl=ot/Xe.internal.scaleFactor,Cl=kl*(Dn-1);switch(ge.baseline){case"bottom":ce-=Cl;break;case"top":ce+=kl-Cl;break;case"hanging":ce+=kl-2*Cl;break;case"middle":ce+=kl/2-Cl}if((j=ge.maxWidth||0)>0&&(typeof w=="string"?w=Xe.splitTextToSize(w,j):Object.prototype.toString.call(w)==="[object Array]"&&(w=w.reduce(function(Qn,Un){return Qn.concat(Xe.splitTextToSize(Un,j))},[]))),Be={text:w,x:H,y:ce,options:ge,mutex:{pdfEscape:hr,activeFontKey:Nt,fonts:fn,activeFontSize:ot}},mn.publish("preProcessText",Be),w=Be.text,gt=(ge=Be.options).angle,!(De instanceof Le)&&gt&&typeof gt=="number"){gt*=Math.PI/180,ge.rotationDirection===0&&(gt=-gt),B===V.ADVANCED&&(gt=-gt);var Nl=Math.cos(gt),Ll=Math.sin(gt);De=new Le(Nl,Ll,-Ll,Nl,0,0)}else gt&&gt instanceof Le&&(De=gt);B!==V.ADVANCED||De||(De=wt),(E=ge.charSpace||Vo)!==void 0&&(gn+=D(P(E))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ae=ge.horizontalScale)!==void 0&&(gn+=D(100*Ae)+` Tz
`),ge.lang;var Si=-1,zs=ge.renderingMode!==void 0?ge.renderingMode:ge.stroke,ka=Xe.internal.getCurrentPageInfo().pageContext;switch(zs){case 0:case!1:case"fill":Si=0;break;case 1:case!0:case"stroke":Si=1;break;case 2:case"fillThenStroke":Si=2;break;case 3:case"invisible":Si=3;break;case 4:case"fillAndAddForClipping":Si=4;break;case 5:case"strokeAndAddPathForClipping":Si=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Si=6;break;case 7:case"addToPathForClipping":Si=7}var wc=ka.usedRenderingMode!==void 0?ka.usedRenderingMode:-1;Si!==-1?gn+=Si+` Tr
`:wc!==-1&&(gn+=`0 Tr
`),Si!==-1&&(ka.usedRenderingMode=Si),d=ge.align||"left";var Ei,Rl=ot*Dn,Pu=Xe.internal.pageSize.getWidth(),Dl=fn[Nt];E=ge.charSpace||Vo,j=ge.maxWidth||0,J=Object.assign({autoencode:!0,noBOM:!0},ge.flags);var ca=[],fs=function(Qn){return Xe.getStringUnitWidth(Qn,{font:Dl,charSpace:E,fontSize:ot,doKerning:!1})*ot/Bn};if(Object.prototype.toString.call(w)==="[object Array]"){var Ai;Ye=Qr(w),d!=="left"&&(Ei=Ye.map(fs));var li,ds=0;if(d==="right"){H-=Ei[0],w=[],dr=Ye.length;for(var Ca=0;Ca<dr;Ca++)Ca===0?(li=bi(H),Ai=fr(ce)):(li=P(ds-Ei[Ca]),Ai=-Rl),w.push([Ye[Ca],li,Ai]),ds=Ei[Ca]}else if(d==="center"){H-=Ei[0]/2,w=[],dr=Ye.length;for(var Na=0;Na<dr;Na++)Na===0?(li=bi(H),Ai=fr(ce)):(li=P((ds-Ei[Na])/2),Ai=-Rl),w.push([Ye[Na],li,Ai]),ds=Ei[Na]}else if(d==="left"){w=[],dr=Ye.length;for(var Ol=0;Ol<dr;Ol++)w.push(Ye[Ol])}else if(d==="justify"&&Dl.encoding==="Identity-H"){w=[],dr=Ye.length,j=j!==0?j:Pu;for(var La=0,Cn=0;Cn<dr;Cn++)if(Ai=Cn===0?fr(ce):-Rl,li=Cn===0?bi(H):La,Cn<dr-1){var Ra=P((j-Ei[Cn])/(Ye[Cn].split(" ").length-1)),ui=Ye[Cn].split(" ");w.push([ui[0]+" ",li,Ai]),La=0;for(var ao=1;ao<ui.length;ao++){var qs=(fs(ui[ao-1]+" "+ui[ao])-fs(ui[ao]))*Bn+Ra;ao==ui.length-1?w.push([ui[ao],qs,0]):w.push([ui[ao]+" ",qs,0]),La-=qs}}else w.push([Ye[Cn],li,Ai]);w.push(["",La,0])}else{if(d!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(w=[],dr=Ye.length,j=j!==0?j:Pu,Cn=0;Cn<dr;Cn++)Ai=Cn===0?fr(ce):-Rl,li=Cn===0?bi(H):0,Cn<dr-1?ca.push(D(P((j-Ei[Cn])/(Ye[Cn].split(" ").length-1)))):ca.push(0),w.push([Ye[Cn],li,Ai])}}var ku=typeof ge.R2L=="boolean"?ge.R2L:Tt;ku===!0&&(w=zo(w,function(Qn,Un,pr){return[Qn.split("").reverse().join(""),Un,pr]})),Be={text:w,x:H,y:ce,options:ge,mutex:{pdfEscape:hr,activeFontKey:Nt,fonts:fn,activeFontSize:ot}},mn.publish("postProcessText",Be),w=Be.text,tn=Be.mutex.isHex||!1;var Hs=fn[Nt].encoding;Hs!=="WinAnsiEncoding"&&Hs!=="StandardEncoding"||(w=zo(w,function(Qn,Un,pr){return[xi(Qn),Un,pr]})),Ye=Qr(w),w=[];for(var Ws,$s,so,Da=0,ha=1,Oa=Array.isArray(Ye[0])?ha:Da,Fa="",ps=function(Qn,Un,pr){var Ar="";return pr instanceof Le?(pr=typeof ge.angle=="number"?pt(pr,new Le(1,0,0,1,Qn,Un)):pt(new Le(1,0,0,1,Qn,Un),pr),B===V.ADVANCED&&(pr=pt(new Le(1,0,0,-1,0,0),pr)),Ar=pr.join(" ")+` Tm
`):Ar=D(Qn)+" "+D(Un)+` Td
`,Ar},Yr=0;Yr<Ye.length;Yr++){switch(Fa="",Oa){case ha:so=(tn?"<":"(")+Ye[Yr][0]+(tn?">":")"),Ws=parseFloat(Ye[Yr][1]),$s=parseFloat(Ye[Yr][2]);break;case Da:so=(tn?"<":"(")+Ye[Yr]+(tn?">":")"),Ws=bi(H),$s=fr(ce)}ca!==void 0&&ca[Yr]!==void 0&&(Fa=ca[Yr]+` Tw
`),Yr===0?w.push(Fa+ps(Ws,$s,De)+so):Oa===Da?w.push(Fa+so):Oa===ha&&w.push(Fa+ps(Ws,$s,De)+so)}w=Oa===Da?w.join(` Tj
T* `):w.join(` Tj
`),w+=` Tj
`;var ji=`BT
/`;return ji+=Nt+" "+ot+` Tf
`,ji+=D(ot*Dn)+` TL
`,ji+=ir+`
`,ji+=gn,ji+=w,fe(ji+="ET"),x[Nt]=!0,Xe};var vo=v.__private__.clip=v.clip=function(w){return fe(w==="evenodd"?"W*":"W"),this};v.clipEvenOdd=function(){return vo("evenodd")},v.__private__.discardPath=v.discardPath=function(){return fe("n"),this};var yo=v.__private__.isValidStyle=function(w){var H=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(w)!==-1&&(H=!0),H};v.__private__.setDefaultPathOperation=v.setDefaultPathOperation=function(w){return yo(w)&&(p=w),this};var Ms=v.__private__.getStyle=v.getStyle=function(w){var H=p;switch(w){case"D":case"S":H="S";break;case"F":H="f";break;case"FD":case"DF":H="B";break;case"f":case"f*":case"B":case"B*":H=w}return H},Gr=v.close=function(){return fe("h"),this};v.stroke=function(){return fe("S"),this},v.fill=function(w){return as("f",w),this},v.fillEvenOdd=function(w){return as("f*",w),this},v.fillStroke=function(w){return as("B",w),this},v.fillStrokeEvenOdd=function(w){return as("B*",w),this};var as=function(w,H){Jn(H)==="object"?Ta(H,w):fe(w)},ss=function(w){w===null||B===V.ADVANCED&&w===void 0||(w=Ms(w),fe(w))};function jo(w,H,ce,ge,Pe){var Be=new ec(H||this.boundingBox,ce||this.xStep,ge||this.yStep,this.gState,Pe||this.matrix);Be.stream=this.stream;var Ye=w+"$$"+this.cloneIndex+++"$$";return Et(Ye,Be),Be}var Ta=function(w,H){var ce=ii[w.key],ge=Zt[ce];if(ge instanceof cu)fe("q"),fe(Al(H)),ge.gState&&v.setGState(ge.gState),fe(w.matrix.toString()+" cm"),fe("/"+ce+" sh"),fe("Q");else if(ge instanceof ec){var Pe=new Le(1,0,0,-1,0,si());w.matrix&&(Pe=Pe.multiply(w.matrix||wt),ce=jo.call(ge,w.key,w.boundingBox,w.xStep,w.yStep,Pe).id),fe("q"),fe("/Pattern cs"),fe("/"+ce+" scn"),ge.gState&&v.setGState(ge.gState),fe(H),fe("Q")}},Al=function(w){switch(w){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},_i=v.moveTo=function(w,H){return fe(D(P(w))+" "+D(X(H))+" m"),this},Kr=v.lineTo=function(w,H){return fe(D(P(w))+" "+D(X(H))+" l"),this},oi=v.curveTo=function(w,H,ce,ge,Pe,Be){return fe([D(P(w)),D(X(H)),D(P(ce)),D(X(ge)),D(P(Pe)),D(X(Be)),"c"].join(" ")),this};v.__private__.line=v.line=function(w,H,ce,ge,Pe){if(isNaN(w)||isNaN(H)||isNaN(ce)||isNaN(ge)||!yo(Pe))throw new Error("Invalid arguments passed to jsPDF.line");return B===V.COMPAT?this.lines([[ce-w,ge-H]],w,H,[1,1],Pe||"S"):this.lines([[ce-w,ge-H]],w,H,[1,1]).stroke()},v.__private__.lines=v.lines=function(w,H,ce,ge,Pe,Be){var Ye,gt,d,E,j,J,Ae,De,Xe,en,gn,tn;if(typeof w=="number"&&(tn=ce,ce=H,H=w,w=tn),ge=ge||[1,1],Be=Be||!1,isNaN(H)||isNaN(ce)||!Array.isArray(w)||!Array.isArray(ge)||!yo(Pe)||typeof Be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(_i(H,ce),Ye=ge[0],gt=ge[1],E=w.length,en=H,gn=ce,d=0;d<E;d++)(j=w[d]).length===2?(en=j[0]*Ye+en,gn=j[1]*gt+gn,Kr(en,gn)):(J=j[0]*Ye+en,Ae=j[1]*gt+gn,De=j[2]*Ye+en,Xe=j[3]*gt+gn,en=j[4]*Ye+en,gn=j[5]*gt+gn,oi(J,Ae,De,Xe,en,gn));return Be&&Gr(),ss(Pe),this},v.path=function(w){for(var H=0;H<w.length;H++){var ce=w[H],ge=ce.c;switch(ce.op){case"m":_i(ge[0],ge[1]);break;case"l":Kr(ge[0],ge[1]);break;case"c":oi.apply(this,ge);break;case"h":Gr()}}return this},v.__private__.rect=v.rect=function(w,H,ce,ge,Pe){if(isNaN(w)||isNaN(H)||isNaN(ce)||isNaN(ge)||!yo(Pe))throw new Error("Invalid arguments passed to jsPDF.rect");return B===V.COMPAT&&(ge=-ge),fe([D(P(w)),D(X(H)),D(P(ce)),D(P(ge)),"re"].join(" ")),ss(Pe),this},v.__private__.triangle=v.triangle=function(w,H,ce,ge,Pe,Be,Ye){if(isNaN(w)||isNaN(H)||isNaN(ce)||isNaN(ge)||isNaN(Pe)||isNaN(Be)||!yo(Ye))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ce-w,ge-H],[Pe-ce,Be-ge],[w-Pe,H-Be]],w,H,[1,1],Ye,!0),this},v.__private__.roundedRect=v.roundedRect=function(w,H,ce,ge,Pe,Be,Ye){if(isNaN(w)||isNaN(H)||isNaN(ce)||isNaN(ge)||isNaN(Pe)||isNaN(Be)||!yo(Ye))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var gt=4/3*(Math.SQRT2-1);return Pe=Math.min(Pe,.5*ce),Be=Math.min(Be,.5*ge),this.lines([[ce-2*Pe,0],[Pe*gt,0,Pe,Be-Be*gt,Pe,Be],[0,ge-2*Be],[0,Be*gt,-Pe*gt,Be,-Pe,Be],[2*Pe-ce,0],[-Pe*gt,0,-Pe,-Be*gt,-Pe,-Be],[0,2*Be-ge],[0,-Be*gt,Pe*gt,-Be,Pe,-Be]],w+Pe,H,[1,1],Ye,!0),this},v.__private__.ellipse=v.ellipse=function(w,H,ce,ge,Pe){if(isNaN(w)||isNaN(H)||isNaN(ce)||isNaN(ge)||!yo(Pe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Be=4/3*(Math.SQRT2-1)*ce,Ye=4/3*(Math.SQRT2-1)*ge;return _i(w+ce,H),oi(w+ce,H-Ye,w+Be,H-ge,w,H-ge),oi(w-Be,H-ge,w-ce,H-Ye,w-ce,H),oi(w-ce,H+Ye,w-Be,H+ge,w,H+ge),oi(w+Be,H+ge,w+ce,H+Ye,w+ce,H),ss(Pe),this},v.__private__.circle=v.circle=function(w,H,ce,ge){if(isNaN(w)||isNaN(H)||isNaN(ce)||!yo(ge))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(w,H,ce,ce,ge)},v.setFont=function(w,H,ce){return ce&&(H=ie(H,ce)),Nt=Mo(w,H,{disableWarning:!1}),this};var oa=v.__private__.getFont=v.getFont=function(){return fn[Mo.apply(v,arguments)]};v.__private__.getFontList=v.getFontList=function(){var w,H,ce={};for(w in dn)if(dn.hasOwnProperty(w))for(H in ce[w]=[],dn[w])dn[w].hasOwnProperty(H)&&ce[w].push(H);return ce},v.addFont=function(w,H,ce,ge,Pe){var Be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Be.indexOf(arguments[3])!==-1?Pe=arguments[3]:arguments[3]&&Be.indexOf(arguments[3])==-1&&(ce=ie(ce,ge)),Pe=Pe||"Identity-H",ea.call(this,w,H,ce,Pe)};var Rn,js=n.lineWidth||.200025,aa=v.__private__.getLineWidth=v.getLineWidth=function(){return js},sa=v.__private__.setLineWidth=v.setLineWidth=function(w){return js=w,fe(D(P(w))+" w"),this};v.__private__.setLineDash=Wt.API.setLineDash=Wt.API.setLineDashPattern=function(w,H){if(w=w||[],H=H||0,isNaN(H)||!Array.isArray(w))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return w=w.map(function(ce){return D(P(ce))}).join(" "),H=D(P(H)),fe("["+w+"] "+H+" d"),this};var Ia=v.__private__.getLineHeight=v.getLineHeight=function(){return ot*Rn};v.__private__.getLineHeight=v.getLineHeight=function(){return ot*Rn};var ls=v.__private__.setLineHeightFactor=v.setLineHeightFactor=function(w){return typeof(w=w||1.15)=="number"&&(Rn=w),this},ai=v.__private__.getLineHeightFactor=v.getLineHeightFactor=function(){return Rn};ls(n.lineHeight);var bi=v.__private__.getHorizontalCoordinate=function(w){return P(w)},fr=v.__private__.getVerticalCoordinate=function(w){return B===V.ADVANCED?w:Dt[W].mediaBox.topRightY-Dt[W].mediaBox.bottomLeftY-P(w)},Vs=v.__private__.getHorizontalCoordinateString=v.getHorizontalCoordinateString=function(w){return D(bi(w))},ro=v.__private__.getVerticalCoordinateString=v.getVerticalCoordinateString=function(w){return D(fr(w))},Er=n.strokeColor||"0 G";v.__private__.getStrokeColor=v.getDrawColor=function(){return An(Er)},v.__private__.setStrokeColor=v.setDrawColor=function(w,H,ce,ge){return Er=Jt({ch1:w,ch2:H,ch3:ce,ch4:ge,pdfColorType:"draw",precision:2}),fe(Er),this};var Pa=n.fillColor||"0 g";v.__private__.getFillColor=v.getFillColor=function(){return An(Pa)},v.__private__.setFillColor=v.setFillColor=function(w,H,ce,ge){return Pa=Jt({ch1:w,ch2:H,ch3:ce,ch4:ge,pdfColorType:"fill",precision:2}),fe(Pa),this};var ir=n.textColor||"0 g",io=v.__private__.getTextColor=v.getTextColor=function(){return An(ir)};v.__private__.setTextColor=v.setTextColor=function(w,H,ce,ge){return ir=Jt({ch1:w,ch2:H,ch3:ce,ch4:ge,pdfColorType:"text",precision:3}),this};var Vo=n.charSpace,wo=v.__private__.getCharSpace=v.getCharSpace=function(){return parseFloat(Vo||0)};v.__private__.setCharSpace=v.setCharSpace=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Vo=w,this};var Bs=0;v.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},v.__private__.setLineCap=v.setLineCap=function(w){var H=v.CapJoinStyles[w];if(H===void 0)throw new Error("Line cap style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Bs=H,fe(H+" J"),this};var la=0;v.__private__.setLineJoin=v.setLineJoin=function(w){var H=v.CapJoinStyles[w];if(H===void 0)throw new Error("Line join style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return la=H,fe(H+" j"),this},v.__private__.setLineMiterLimit=v.__private__.setMiterLimit=v.setLineMiterLimit=v.setMiterLimit=function(w){if(w=w||0,isNaN(w))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return fe(D(P(w))+" M"),this},v.GState=gf,v.setGState=function(w){(w=typeof w=="string"?Ln[nr[w]]:_o(null,w)).equals(vr)||(fe("/"+w.id+" gs"),vr=w)};var _o=function(w,H){if(!w||!nr[w]){var ce=!1;for(var ge in Ln)if(Ln.hasOwnProperty(ge)&&Ln[ge].equals(H)){ce=!0;break}if(ce)H=Ln[ge];else{var Pe="GS"+(Object.keys(Ln).length+1).toString(10);Ln[Pe]=H,H.id=Pe}return w&&(nr[w]=H.id),mn.publish("addGState",H),H}};v.addGState=function(w,H){return _o(w,H),this},v.saveGraphicsState=function(){return fe("q"),gr.push({key:Nt,size:ot,color:ir}),this},v.restoreGraphicsState=function(){fe("Q");var w=gr.pop();return Nt=w.key,ot=w.size,ir=w.color,vr=null,this},v.setCurrentTransformationMatrix=function(w){return fe(w.toString()+" cm"),this},v.comment=function(w){return fe("#"+w),this};var oo=function(w,H){var ce=w||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ce},set:function(Be){isNaN(Be)||(ce=parseFloat(Be))}});var ge=H||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ge},set:function(Be){isNaN(Be)||(ge=parseFloat(Be))}});var Pe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Pe},set:function(Be){Pe=Be.toString()}}),this},Bo=function(w,H,ce,ge){oo.call(this,w,H),this.type="rect";var Pe=ce||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Pe},set:function(Ye){isNaN(Ye)||(Pe=parseFloat(Ye))}});var Be=ge||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Be},set:function(Ye){isNaN(Ye)||(Be=parseFloat(Ye))}}),this},ua=function(){this.page=En,this.currentPage=W,this.pages=Ge.slice(0),this.pagesContext=Dt.slice(0),this.x=jn,this.y=nn,this.matrix=ur,this.width=bo(W),this.height=si(W),this.outputDestination=it,this.id="",this.objectNumber=-1};ua.prototype.restore=function(){En=this.page,W=this.currentPage,Dt=this.pagesContext,Ge=this.pages,jn=this.x,nn=this.y,ur=this.matrix,cs(W,this.width),hs(W,this.height),it=this.outputDestination};var us=function(w,H,ce,ge,Pe){Fe.push(new ua),En=W=0,Ge=[],jn=w,nn=H,ur=Pe,$r([ce,ge])},Tl=function(w){if(Ie[w])Fe.pop().restore();else{var H=new ua,ce="Xo"+(Object.keys(me).length+1).toString(10);H.id=ce,Ie[w]=ce,me[ce]=H,mn.publish("addFormObject",H),Fe.pop().restore()}};for(var Uo in v.beginFormObject=function(w,H,ce,ge,Pe){return us(w,H,ce,ge,Pe),this},v.endFormObject=function(w){return Tl(w),this},v.doFormObject=function(w,H){var ce=me[Ie[w]];return fe("q"),fe(H.toString()+" cm"),fe("/"+ce.id+" Do"),fe("Q"),this},v.getFormObject=function(w){var H=me[Ie[w]];return{x:H.x,y:H.y,width:H.width,height:H.height,matrix:H.matrix}},v.save=function(w,H){return w=w||"generated.pdf",(H=H||{}).returnPromise=H.returnPromise||!1,H.returnPromise===!1?(Ku(Aa(go()),w),typeof Ku.unload=="function"&&Gt.setTimeout&&setTimeout(Ku.unload,911),this):new Promise(function(ce,ge){try{var Pe=Ku(Aa(go()),w);typeof Ku.unload=="function"&&Gt.setTimeout&&setTimeout(Ku.unload,911),ce(Pe)}catch(Be){ge(Be.message)}})},Wt.API)Wt.API.hasOwnProperty(Uo)&&(Uo==="events"&&Wt.API.events.length?function(w,H){var ce,ge,Pe;for(Pe=H.length-1;Pe!==-1;Pe--)ce=H[Pe][0],ge=H[Pe][1],w.subscribe.apply(w,[ce].concat(typeof ge=="function"?[ge]:ge))}(mn,Wt.API.events):v[Uo]=Wt.API[Uo]);var bo=v.getPageWidth=function(w){return(Dt[w=w||W].mediaBox.topRightX-Dt[w].mediaBox.bottomLeftX)/dt},cs=v.setPageWidth=function(w,H){Dt[w].mediaBox.topRightX=H*dt+Dt[w].mediaBox.bottomLeftX},si=v.getPageHeight=function(w){return(Dt[w=w||W].mediaBox.topRightY-Dt[w].mediaBox.bottomLeftY)/dt},hs=v.setPageHeight=function(w,H){Dt[w].mediaBox.topRightY=H*dt+Dt[w].mediaBox.bottomLeftY};return v.internal={pdfEscape:hr,getStyle:Ms,getFont:oa,getFontSize:ct,getCharSpace:wo,getTextColor:io,getLineHeight:Ia,getLineHeightFactor:ai,getLineWidth:aa,write:Ft,getHorizontalCoordinate:bi,getVerticalCoordinate:fr,getCoordinateString:Vs,getVerticalCoordinateString:ro,collections:{},newObject:ut,newAdditionalObject:jt,newObjectDeferred:mt,newObjectDeferredBegin:rt,getFilters:on,putStream:an,events:mn,scaleFactor:dt,pageSize:{getWidth:function(){return bo(W)},setWidth:function(w){cs(W,w)},getHeight:function(){return si(W)},setHeight:function(w){hs(W,w)}},encryptionOptions:y,encryption:Tn,getEncryptor:no,output:ia,getNumberOfPages:Vn,pages:Ge,out:fe,f2:U,f3:I,getPageInfo:Fi,getPageInfoByObjId:Ut,getCurrentPageInfo:Mi,getPDFVersion:R,Point:oo,Rectangle:Bo,Matrix:Le,hasHotfix:to},Object.defineProperty(v.internal.pageSize,"width",{get:function(){return bo(W)},set:function(w){cs(W,w)},enumerable:!0,configurable:!0}),Object.defineProperty(v.internal.pageSize,"height",{get:function(){return si(W)},set:function(w){hs(W,w)},enumerable:!0,configurable:!0}),ta.call(v,Qe),Nt="F1",na(i,t),mn.publish("initialized"),v}Gc.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},Gc.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Gc.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},Gc.prototype.processOwnerPassword=function(n,e){return $g(Wg(e).substr(0,5),n)},Gc.prototype.encryptor=function(n,e){var t=Wg(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return $g(t,r)}},gf.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||Jn(n)!==Jn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},Wt.API={events:[]},Wt.version="2.5.2";var kr=Wt.API,r1=1,yc=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Uc=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},sn=function(n){return n.toFixed(2)},iu=function(n){return n.toFixed(5)};kr.__acroform__={};var Ro=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},N2=function(n){return n*r1},Ss=function(n){var e=new hb,t=Pt.internal.getHeight(n)||0,r=Pt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(sn(r)),Number(sn(t))],e},HC=kr.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},WC=kr.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},$C=kr.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return n&1<<e?1:0},Fr=kr.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return $C(n,e-1)},Mr=kr.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return HC(n,e-1)},jr=kr.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return WC(n,e-1)},GC=kr.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],a=n[1],l=n[2],u=n[3],h={};return h.lowerLeft_X=t(i)||0,h.lowerLeft_Y=r(a+u)||0,h.upperRight_X=t(i+l)||0,h.upperRight_Y=r(a)||0,[Number(sn(h.lowerLeft_X)),Number(sn(h.lowerLeft_Y)),Number(sn(h.upperRight_X)),Number(sn(h.upperRight_Y))]},KC=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=Gg(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+sn(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var a=Ss(n);return a.scope=n.scope,a.stream=e.join(`
`),a}},Gg=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(I){return I.split(`
`)}):i.map(function(I){return[I]});var a=t,l=Pt.internal.getHeight(n)||0;l=l<0?-l:l;var u=Pt.internal.getWidth(n)||0;u=u<0?-u:u;var h=function(I,P,F){if(I+1<i.length){var X=P+" "+i[I+1][0];return Ed(X,n,F).width<=u-4}return!1};a++;e:for(;a>0;){e="",a--;var p,y,_=Ed("3",n,a).height,x=n.multiline?l-a:(l-_)/2,v=x+=2,T=0,R=0,O=0;if(a<=0){e=`(...) Tj
`,e+="% Width of Text: "+Ed(e,n,a=12).width+", FieldWidth:"+u+`
`;break}for(var C="",V=0,B=0;B<i.length;B++)if(i.hasOwnProperty(B)){var $=!1;if(i[B].length!==1&&O!==i[B].length-1){if((_+2)*(V+2)+2>l)continue e;C+=i[B][O],$=!0,R=B,B--}else{C=(C+=i[B][O]+" ").substr(C.length-1)==" "?C.substr(0,C.length-1):C;var z=parseInt(B),ie=h(z,C,a),D=B>=i.length-1;if(ie&&!D){C+=" ",O=0;continue}if(ie||D){if(D)R=z;else if(n.multiline&&(_+2)*(V+2)+2>l)continue e}else{if(!n.multiline||(_+2)*(V+2)+2>l)continue e;R=z}}for(var A="",M=T;M<=R;M++){var U=i[M];if(n.multiline){if(M===R){A+=U[O]+" ",O=(O+1)%U.length;continue}if(M===T){A+=U[U.length-1]+" ";continue}}A+=U[0]+" "}switch(A=A.substr(A.length-1)==" "?A.substr(0,A.length-1):A,y=Ed(A,n,a).width,n.textAlign){case"right":p=u-y-2;break;case"center":p=(u-y)/2;break;case"left":default:p=2}e+=sn(p)+" "+sn(v)+` Td
`,e+="("+yc(A)+`) Tj
`,e+=-sn(p)+` 0 Td
`,v=-(a+2),y=0,T=$?R:R+1,V++,C=""}break}return r.text=e,r.fontSize=a,r},Ed=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},QC={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},YC=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},JC=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,i=n[t];e.internal.newObjectDeferredBegin(i.objId,!0),Jn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete n[r]}},XC=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(ns.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(QC)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");r1=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new fb,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var a=r[i];a.objId=void 0,a.hasAnnotation&&YC(a,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var a=!r;for(var l in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(l)){var u=r[l],h=[],p=u.Rect;if(u.Rect&&(u.Rect=GC(u.Rect,i)),i.internal.newObjectDeferredBegin(u.objId,!0),u.DA=Pt.createDefaultAppearanceStream(u),Jn(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(h=u.getKeyValueListForStream()),u.Rect=p,u.hasAppearanceStream&&!u.appearanceStreamContent){var y=KC(u);h.push({key:"AP",value:"<</N "+y+">>"}),i.internal.acroformPlugin.xForms.push(y)}if(u.appearanceStreamContent){var _="";for(var x in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(x)){var v=u.appearanceStreamContent[x];if(_+="/"+x+" ",_+="<<",Object.keys(v).length>=1||Array.isArray(v)){for(var l in v)if(v.hasOwnProperty(l)){var T=v[l];typeof T=="function"&&(T=T.call(i,u)),_+="/"+l+" "+T+" ",i.internal.acroformPlugin.xForms.indexOf(T)>=0||i.internal.acroformPlugin.xForms.push(T)}}else typeof(T=v)=="function"&&(T=T.call(i,u)),_+="/"+l+" "+T,i.internal.acroformPlugin.xForms.indexOf(T)>=0||i.internal.acroformPlugin.xForms.push(T);_+=">>"}h.push({key:"AP",value:`<<
`+_+">>"})}i.internal.putStream({additionalKeyValues:h,objectId:u.objId}),i.internal.out("endobj")}a&&JC(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},cb=kr.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(l){return l};if(Array.isArray(n)){for(var i="[",a=0;a<n.length;a++)switch(a!==0&&(i+=" "),Jn(n[a])){case"boolean":case"number":case"object":i+=n[a].toString();break;case"string":n[a].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+yc(r(n[a].toString()))+")"):i+=n[a].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},rg=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+yc(r(n))+")"},As=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};As.prototype.toString=function(){return this.objId+" 0 R"},As.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},As.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(a){return a!="content"&&a!="appearanceStreamContent"&&a!="scope"&&a!="objId"&&a.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:cb(i,this.objId,this.scope)}):i instanceof As?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var hb=function(){As.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};Ro(hb,As);var fb=function(){As.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+yc(t(n))+")"}},set:function(t){n=t}})};Ro(fb,As);var ns=function n(){As.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute F supplied.');e=C}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Fr(e,3)},set:function(C){C?this.F=Mr(e,3):this.F=jr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(C){if(isNaN(C))throw new Error('Invalid value "'+C+'" for attribute Ff supplied.');t=C}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(C){r=C!==void 0?C:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(C){r[0]=C}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(C){r[1]=C}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(C){r[2]=C}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(C){r[3]=C}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(C){switch(C){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=C;break;default:throw new Error('Invalid value "'+C+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof pp)return;a="FieldObject"+n.FieldNum++}var C=function(V){return V};return this.scope&&(C=this.scope.internal.getEncryptor(this.objId)),"("+yc(C(a))+")"},set:function(C){a=C.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(C){a=C}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(C){l=C}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(C){u=C}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(C){h=C}});var p=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return p===void 0?50/r1:p},set:function(C){p=C}});var y="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return y},set:function(C){y=C}});var _="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!_||this instanceof pp||this instanceof yu))return rg(_,this.objId,this.scope)},set:function(C){C=C.toString(),_=C}});var x=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(x)return this instanceof ei?x:rg(x,this.objId,this.scope)},set:function(C){C=C.toString(),x=this instanceof ei?C:C.substr(0,1)==="("?Uc(C.substr(1,C.length-2)):Uc(C)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ei?Uc(x.substr(1,x.length-1)):x},set:function(C){C=C.toString(),x=this instanceof ei?"/"+C:C}});var v=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(v)return v},set:function(C){this.V=C}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof ei?v:rg(v,this.objId,this.scope)},set:function(C){C=C.toString(),v=this instanceof ei?C:C.substr(0,1)==="("?Uc(C.substr(1,C.length-2)):Uc(C)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ei?Uc(v.substr(1,v.length-1)):v},set:function(C){C=C.toString(),v=this instanceof ei?"/"+C:C}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var T,R=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return R},set:function(C){C=!!C,R=C}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(T)return T},set:function(C){T=C}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,1)},set:function(C){C?this.Ff=Mr(this.Ff,1):this.Ff=jr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,2)},set:function(C){C?this.Ff=Mr(this.Ff,2):this.Ff=jr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,3)},set:function(C){C?this.Ff=Mr(this.Ff,3):this.Ff=jr(this.Ff,3)}});var O=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(O!==null)return O},set:function(C){if([0,1,2].indexOf(C)===-1)throw new Error('Invalid value "'+C+'" for attribute Q supplied.');O=C}}),Object.defineProperty(this,"textAlign",{get:function(){var C;switch(O){case 0:default:C="left";break;case 1:C="center";break;case 2:C="right"}return C},configurable:!0,enumerable:!0,set:function(C){switch(C){case"right":case 2:O=2;break;case"center":case 1:O=1;break;case"left":case 0:default:O=0}}})};Ro(ns,As);var nc=function(){ns.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return cb(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=function(a,l,u){u||(u=1);for(var h,p=[];h=l.exec(a);)p.push(h[u]);return p}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,18)},set:function(t){t?this.Ff=Mr(this.Ff,18):this.Ff=jr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=Mr(this.Ff,19):this.Ff=jr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,20)},set:function(t){t?(this.Ff=Mr(this.Ff,20),e.sort()):this.Ff=jr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,22)},set:function(t){t?this.Ff=Mr(this.Ff,22):this.Ff=jr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,23)},set:function(t){t?this.Ff=Mr(this.Ff,23):this.Ff=jr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,27)},set:function(t){t?this.Ff=Mr(this.Ff,27):this.Ff=jr(this.Ff,27)}}),this.hasAppearanceStream=!1};Ro(nc,ns);var rc=function(){nc.call(this),this.fontName="helvetica",this.combo=!1};Ro(rc,nc);var ic=function(){rc.call(this),this.combo=!0};Ro(ic,rc);var Zh=function(){ic.call(this),this.edit=!0};Ro(Zh,ic);var ei=function(){ns.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,15)},set:function(t){t?this.Ff=Mr(this.Ff,15):this.Ff=jr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,16)},set:function(t){t?this.Ff=Mr(this.Ff,16):this.Ff=jr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,17)},set:function(t){t?this.Ff=Mr(this.Ff,17):this.Ff=jr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,26)},set:function(t){t?this.Ff=Mr(this.Ff,26):this.Ff=jr(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(a){return a};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+yc(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){Jn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};Ro(ei,ns);var ef=function(){ei.call(this),this.pushButton=!0};Ro(ef,ei);var oc=function(){ei.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};Ro(oc,ei);var pp=function(){var n,e;ns.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(u){return u};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var a,l=[];for(a in l.push("<<"),r)l.push("/"+a+" ("+yc(i(r[a]))+")");return l.push(">>"),l.join(`
`)},set:function(i){Jn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Pt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ro(pp,ns),oc.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},oc.prototype.createOption=function(n){var e=new pp;return e.Parent=this,e.optionName=n,this.Kids.push(e),ZC.call(this.scope,e),e};var tf=function(){ei.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Pt.CheckBox.createAppearanceStream()};Ro(tf,ei);var yu=function(){ns.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,13)},set:function(e){e?this.Ff=Mr(this.Ff,13):this.Ff=jr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,21)},set:function(e){e?this.Ff=Mr(this.Ff,21):this.Ff=jr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,23)},set:function(e){e?this.Ff=Mr(this.Ff,23):this.Ff=jr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,24)},set:function(e){e?this.Ff=Mr(this.Ff,24):this.Ff=jr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,25)},set:function(e){e?this.Ff=Mr(this.Ff,25):this.Ff=jr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,26)},set:function(e){e?this.Ff=Mr(this.Ff,26):this.Ff=jr(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ro(yu,ns);var nf=function(){yu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Fr(this.Ff,14)},set:function(n){n?this.Ff=Mr(this.Ff,14):this.Ff=jr(this.Ff,14)}}),this.password=!0};Ro(nf,yu);var Pt={CheckBox:{createAppearanceStream:function(){return{N:{On:Pt.CheckBox.YesNormal},D:{On:Pt.CheckBox.YesPushDown,Off:Pt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=Ss(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),a=Gg(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+sn(Pt.internal.getWidth(n))+" "+sn(Pt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+sn(a.fontSize)+" Tf "+i),t.push("BT"),t.push(a.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=Ss(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],a=Pt.internal.getHeight(n),l=Pt.internal.getWidth(n),u=Gg(n,n.caption);return i.push("1 g"),i.push("0 0 "+sn(l)+" "+sn(a)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+sn(l-1)+" "+sn(a-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+sn(u.fontSize)+" Tf "+r),i.push(u.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=Ss(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+sn(Pt.internal.getWidth(n))+" "+sn(Pt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:Pt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=Pt.RadioButton.Circle.YesNormal,e.D[n]=Pt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=Ss(n);e.scope=n.scope;var t=[],r=Pt.internal.getWidth(n)<=Pt.internal.getHeight(n)?Pt.internal.getWidth(n)/4:Pt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Pt.internal.Bezier_C,a=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+iu(Pt.internal.getWidth(n)/2)+" "+iu(Pt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),t.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),t.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),t.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Ss(n);e.scope=n.scope;var t=[],r=Pt.internal.getWidth(n)<=Pt.internal.getHeight(n)?Pt.internal.getWidth(n)/4:Pt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Pt.internal.Bezier_C).toFixed(5)),l=Number((r*Pt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+iu(Pt.internal.getWidth(n)/2)+" "+iu(Pt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+iu(Pt.internal.getWidth(n)/2)+" "+iu(Pt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+l+" "+l+" "+r+" 0 "+r+" c"),t.push("-"+l+" "+r+" -"+r+" "+l+" -"+r+" 0 c"),t.push("-"+r+" -"+l+" -"+l+" -"+r+" 0 -"+r+" c"),t.push(l+" -"+r+" "+r+" -"+l+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=Ss(n);e.scope=n.scope;var t=[],r=Pt.internal.getWidth(n)<=Pt.internal.getHeight(n)?Pt.internal.getWidth(n)/4:Pt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),a=Number((i*Pt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+iu(Pt.internal.getWidth(n)/2)+" "+iu(Pt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+a+" "+a+" "+i+" 0 "+i+" c"),t.push("-"+a+" "+i+" -"+i+" "+a+" -"+i+" 0 c"),t.push("-"+i+" -"+a+" -"+a+" -"+i+" 0 -"+i+" c"),t.push(a+" -"+i+" "+i+" -"+a+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:Pt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=Pt.RadioButton.Cross.YesNormal,e.D[n]=Pt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=Ss(n);e.scope=n.scope;var t=[],r=Pt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+sn(Pt.internal.getWidth(n)-2)+" "+sn(Pt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(sn(r.x1.x)+" "+sn(r.x1.y)+" m"),t.push(sn(r.x2.x)+" "+sn(r.x2.y)+" l"),t.push(sn(r.x4.x)+" "+sn(r.x4.y)+" m"),t.push(sn(r.x3.x)+" "+sn(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=Ss(n);e.scope=n.scope;var t=Pt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+sn(Pt.internal.getWidth(n))+" "+sn(Pt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+sn(Pt.internal.getWidth(n)-2)+" "+sn(Pt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(sn(t.x1.x)+" "+sn(t.x1.y)+" m"),r.push(sn(t.x2.x)+" "+sn(t.x2.y)+" l"),r.push(sn(t.x4.x)+" "+sn(t.x4.y)+" m"),r.push(sn(t.x3.x)+" "+sn(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=Ss(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+sn(Pt.internal.getWidth(n))+" "+sn(Pt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};Pt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=Pt.internal.getWidth(n),t=Pt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},Pt.internal.getWidth=function(n){var e=0;return Jn(n)==="object"&&(e=N2(n.Rect[2])),e},Pt.internal.getHeight=function(n){var e=0;return Jn(n)==="object"&&(e=N2(n.Rect[3])),e};var ZC=kr.addField=function(n){if(XC(this,n),!(n instanceof ns))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};kr.AcroFormChoiceField=nc,kr.AcroFormListBox=rc,kr.AcroFormComboBox=ic,kr.AcroFormEditBox=Zh,kr.AcroFormButton=ei,kr.AcroFormPushButton=ef,kr.AcroFormRadioButton=oc,kr.AcroFormCheckBox=tf,kr.AcroFormTextField=yu,kr.AcroFormPasswordField=nf,kr.AcroFormAppearance=Pt,kr.AcroForm={ChoiceField:nc,ListBox:rc,ComboBox:ic,EditBox:Zh,Button:ei,PushButton:ef,RadioButton:oc,CheckBox:tf,TextField:yu,PasswordField:nf,Appearance:Pt},Wt.AcroForm={ChoiceField:nc,ListBox:rc,ComboBox:ic,EditBox:Zh,Button:ei,PushButton:ef,RadioButton:oc,CheckBox:tf,TextField:yu,PasswordField:nf,Appearance:Pt};var eN=Wt.AcroForm;function db(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(I,P){var F,X,pe,ae,oe,te=e;if((P=P||e)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(ie(I))for(oe in t)for(pe=t[oe],F=0;F<pe.length;F+=1){for(ae=!0,X=0;X<pe[F].length;X+=1)if(pe[F][X]!==void 0&&pe[F][X]!==I[X]){ae=!1;break}if(ae===!0){te=oe;break}}else for(oe in t)for(pe=t[oe],F=0;F<pe.length;F+=1){for(ae=!0,X=0;X<pe[F].length;X+=1)if(pe[F][X]!==void 0&&pe[F][X]!==I.charCodeAt(X)){ae=!1;break}if(ae===!0){te=oe;break}}return te===e&&P!==e&&(te=P),te},i=function I(P){for(var F=this.internal.write,X=this.internal.putStream,pe=(0,this.internal.getFilters)();pe.indexOf("FlateEncode")!==-1;)pe.splice(pe.indexOf("FlateEncode"),1);P.objectId=this.internal.newObject();var ae=[];if(ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Image"}),ae.push({key:"Width",value:P.width}),ae.push({key:"Height",value:P.height}),P.colorSpace===O.INDEXED?ae.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(P.palette.length/3-1)+" "+("sMask"in P&&P.sMask!==void 0?P.objectId+2:P.objectId+1)+" 0 R]"}):(ae.push({key:"ColorSpace",value:"/"+P.colorSpace}),P.colorSpace===O.DEVICE_CMYK&&ae.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ae.push({key:"BitsPerComponent",value:P.bitsPerComponent}),"decodeParameters"in P&&P.decodeParameters!==void 0&&ae.push({key:"DecodeParms",value:"<<"+P.decodeParameters+">>"}),"transparency"in P&&Array.isArray(P.transparency)){for(var oe="",te=0,ne=P.transparency.length;te<ne;te++)oe+=P.transparency[te]+" "+P.transparency[te]+" ";ae.push({key:"Mask",value:"["+oe+"]"})}P.sMask!==void 0&&ae.push({key:"SMask",value:P.objectId+1+" 0 R"});var he=P.filter!==void 0?["/"+P.filter]:void 0;if(X({data:P.data,additionalKeyValues:ae,alreadyAppliedFilters:he,objectId:P.objectId}),F("endobj"),"sMask"in P&&P.sMask!==void 0){var re="/Predictor "+P.predictor+" /Colors 1 /BitsPerComponent "+P.bitsPerComponent+" /Columns "+P.width,N={width:P.width,height:P.height,colorSpace:"DeviceGray",bitsPerComponent:P.bitsPerComponent,decodeParameters:re,data:P.sMask};"filter"in P&&(N.filter=P.filter),I.call(this,N)}if(P.colorSpace===O.INDEXED){var W=this.internal.newObject();X({data:A(new Uint8Array(P.palette)),objectId:W}),F("endobj")}},a=function(){var I=this.internal.collections.addImage_images;for(var P in I)i.call(this,I[P])},l=function(){var I,P=this.internal.collections.addImage_images,F=this.internal.write;for(var X in P)F("/I"+(I=P[X]).index,I.objectId,"0","R")},u=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",a),this.internal.events.subscribe("putXobjectDict",l))},h=function(){var I=this.internal.collections.addImage_images;return u.call(this),I},p=function(){return Object.keys(this.internal.collections.addImage_images).length},y=function(I){return typeof n["process"+I.toUpperCase()]=="function"},_=function(I){return Jn(I)==="object"&&I.nodeType===1},x=function(I,P){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var F=""+I.getAttribute("src");if(F.indexOf("data:image/")===0)return Xh(unescape(F).split("base64,").pop());var X=n.loadFile(F,!0);if(X!==void 0)return X}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var pe;switch(P){case"PNG":pe="image/png";break;case"WEBP":pe="image/webp";break;case"JPEG":case"JPG":default:pe="image/jpeg"}return Xh(I.toDataURL(pe,1).split("base64,").pop())}},v=function(I){var P=this.internal.collections.addImage_images;if(P){for(var F in P)if(I===P[F].alias)return P[F]}},T=function(I,P,F){return I||P||(I=-96,P=-96),I<0&&(I=-1*F.width*72/I/this.internal.scaleFactor),P<0&&(P=-1*F.height*72/P/this.internal.scaleFactor),I===0&&(I=P*F.width/F.height),P===0&&(P=I*F.height/F.width),[I,P]},R=function(I,P,F,X,pe,ae){var oe=T.call(this,F,X,pe),te=this.internal.getCoordinateString,ne=this.internal.getVerticalCoordinateString,he=h.call(this);if(F=oe[0],X=oe[1],he[pe.index]=pe,ae){ae*=Math.PI/180;var re=Math.cos(ae),N=Math.sin(ae),W=function(se){return se.toFixed(4)},ee=[W(re),W(N),W(-1*N),W(re),0,0,"cm"]}this.internal.write("q"),ae?(this.internal.write([1,"0","0",1,te(I),ne(P+X),"cm"].join(" ")),this.internal.write(ee.join(" ")),this.internal.write([te(F),"0","0",te(X),"0","0","cm"].join(" "))):this.internal.write([te(F),"0","0",te(X),te(I),ne(P+X),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+pe.index+" Do"),this.internal.write("Q")},O=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var C=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},V=n.__addimage__.sHashCode=function(I){var P,F,X=0;if(typeof I=="string")for(F=I.length,P=0;P<F;P++)X=(X<<5)-X+I.charCodeAt(P),X|=0;else if(ie(I))for(F=I.byteLength/2,P=0;P<F;P++)X=(X<<5)-X+I[P],X|=0;return X},B=n.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var P=!0;return I.length===0&&(P=!1),I.length%4!=0&&(P=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(P=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(P=!1),P},$=n.__addimage__.extractImageFromDataUrl=function(I){var P=(I=I||"").split("base64,"),F=null;if(P.length===2){var X=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(P[0]);Array.isArray(X)&&(F={mimeType:X[1],charset:X[2],data:P[1]})}return F},z=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(I){return z()&&I instanceof ArrayBuffer};var ie=n.__addimage__.isArrayBufferView=function(I){return z()&&typeof Uint32Array<"u"&&(I instanceof Int8Array||I instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array)},D=n.__addimage__.binaryStringToUint8Array=function(I){for(var P=I.length,F=new Uint8Array(P),X=0;X<P;X++)F[X]=I.charCodeAt(X);return F},A=n.__addimage__.arrayBufferToBinaryString=function(I){for(var P="",F=ie(I)?I:new Uint8Array(I),X=0;X<F.length;X+=8192)P+=String.fromCharCode.apply(null,F.subarray(X,X+8192));return P};n.addImage=function(){var I,P,F,X,pe,ae,oe,te,ne;if(typeof arguments[1]=="number"?(P=e,F=arguments[1],X=arguments[2],pe=arguments[3],ae=arguments[4],oe=arguments[5],te=arguments[6],ne=arguments[7]):(P=arguments[1],F=arguments[2],X=arguments[3],pe=arguments[4],ae=arguments[5],oe=arguments[6],te=arguments[7],ne=arguments[8]),Jn(I=arguments[0])==="object"&&!_(I)&&"imageData"in I){var he=I;I=he.imageData,P=he.format||P||e,F=he.x||F||0,X=he.y||X||0,pe=he.w||he.width||pe,ae=he.h||he.height||ae,oe=he.alias||oe,te=he.compression||te,ne=he.rotation||he.angle||ne}var re=this.internal.getFilters();if(te===void 0&&re.indexOf("FlateEncode")!==-1&&(te="SLOW"),isNaN(F)||isNaN(X))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var N=M.call(this,I,P,oe,te);return R.call(this,F,X,pe,ae,N,ne),this};var M=function(I,P,F,X){var pe,ae,oe;if(typeof I=="string"&&r(I)===e){I=unescape(I);var te=U(I,!1);(te!==""||(te=n.loadFile(I,!0))!==void 0)&&(I=te)}if(_(I)&&(I=x(I,P)),P=r(I,P),!y(P))throw new Error("addImage does not support files of type '"+P+"', please ensure that a plugin for '"+P+"' support is added.");if(((oe=F)==null||oe.length===0)&&(F=function(ne){return typeof ne=="string"||ie(ne)?V(ne):ie(ne.data)?V(ne.data):null}(I)),(pe=v.call(this,F))||(z()&&(I instanceof Uint8Array||P==="RGBA"||(ae=I,I=D(I))),pe=this["process"+P.toUpperCase()](I,p.call(this),F,function(ne){return ne&&typeof ne=="string"&&(ne=ne.toUpperCase()),ne in n.image_compression?ne:C.NONE}(X),ae)),!pe)throw new Error("An unknown error occurred whilst processing the image.");return pe},U=n.__addimage__.convertBase64ToBinaryString=function(I,P){var F;P=typeof P!="boolean"||P;var X,pe="";if(typeof I=="string"){X=(F=$(I))!==null?F.data:I;try{pe=Xh(X)}catch(ae){if(P)throw B(X)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ae.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return pe};n.getImageProperties=function(I){var P,F,X="";if(_(I)&&(I=x(I)),typeof I=="string"&&r(I)===e&&((X=U(I,!1))===""&&(X=n.loadFile(I)||""),I=X),F=r(I),!y(F))throw new Error("addImage does not support files of type '"+F+"', please ensure that a plugin for '"+F+"' support is added.");if(!z()||I instanceof Uint8Array||(I=D(I)),!(P=this["process"+F.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return P.fileType=F,P}})(Wt.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Wt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,a,l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(t.objId),p=t.pageContext.annotations,y=!1,_=0;_<p.length&&!y;_++)switch((r=p[_]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(y=!0);break;case"reference":case"text":case"freetext":y=!0}if(y!=0){this.internal.write("/Annots [");for(var x=0;x<p.length;x++){r=p[x];var v=this.internal.pdfEscape,T=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var R=this.internal.newAdditionalObject(),O=this.internal.newAdditionalObject(),C=this.internal.getEncryptor(R.objId),V=r.title||"Note";a="<</Type /Annot /Subtype /Text "+(i="/Rect ["+l(r.bounds.x)+" "+u(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y)+"] ")+"/Contents ("+v(C(r.contents))+")",a+=" /Popup "+O.objId+" 0 R",a+=" /P "+h.objId+" 0 R",a+=" /T ("+v(C(V))+") >>",R.content=a;var B=R.objId+" 0 R";a="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+l(r.bounds.x+30)+" "+u(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w+30)+" "+u(r.bounds.y)+"] ")+" /Parent "+B,r.open&&(a+=" /Open true"),a+=" >>",O.content=a,this.internal.write(R.objId,"0 R",O.objId,"0 R");break;case"freetext":i="/Rect ["+l(r.bounds.x)+" "+u(r.bounds.y)+" "+l(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y+r.bounds.h)+"] ";var $=r.color||"#000000";a="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+v(T(r.contents))+")",a+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+$+")",a+=" /Border [0 0 0]",a+=" >>",this.internal.write(a);break;case"link":if(r.options.name){var z=this.annotations._nameMap[r.options.name];r.options.pageNumber=z.page,r.options.top=z.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",a="",r.options.url)a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+v(T(r.options.url))+") >>";else if(r.options.pageNumber)switch(a="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":a+=" /Fit]";break;case"FitH":a+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,a+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var ie=u(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),a+=" /XYZ "+r.options.left+" "+ie+" "+r.options.zoom+"]"}a!=""&&(a+=" >>",this.internal.write(a))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,a,l){var u=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:h(t),y:p(r),w:h(t+i),h:p(r+a)},options:l,type:"link"})},n.textWithLink=function(t,r,i,a){var l,u,h=this.getTextWidth(t),p=this.internal.getLineHeight()/this.internal.scaleFactor;if(a.maxWidth!==void 0){u=a.maxWidth;var y=this.splitTextToSize(t,u).length;l=Math.ceil(p*y)}else u=h,l=p;return this.text(t,r,i,a),i+=.2*p,a.align==="center"&&(r-=h/2),a.align==="right"&&(r-=h),this.link(r,i-p,u,l,a),h},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(Wt.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var a=n.__arabicParser__.isInArabicSubstitutionA=function(R){return e[R.charCodeAt(0)]!==void 0},l=n.__arabicParser__.isArabicLetter=function(R){return typeof R=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(R)},u=n.__arabicParser__.isArabicEndLetter=function(R){return l(R)&&a(R)&&e[R.charCodeAt(0)].length<=2},h=n.__arabicParser__.isArabicAlfLetter=function(R){return l(R)&&i.indexOf(R.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(R){return l(R)&&a(R)&&e[R.charCodeAt(0)].length>=1};var p=n.__arabicParser__.arabicLetterHasFinalForm=function(R){return l(R)&&a(R)&&e[R.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(R){return l(R)&&a(R)&&e[R.charCodeAt(0)].length>=3};var y=n.__arabicParser__.arabicLetterHasMedialForm=function(R){return l(R)&&a(R)&&e[R.charCodeAt(0)].length==4},_=n.__arabicParser__.resolveLigatures=function(R){var O=0,C=t,V="",B=0;for(O=0;O<R.length;O+=1)C[R.charCodeAt(O)]!==void 0?(B++,typeof(C=C[R.charCodeAt(O)])=="number"&&(V+=String.fromCharCode(C),C=t,B=0),O===R.length-1&&(C=t,V+=R.charAt(O-(B-1)),O-=B-1,B=0)):(C=t,V+=R.charAt(O-B),O-=B,B=0);return V};n.__arabicParser__.isArabicDiacritic=function(R){return R!==void 0&&r[R.charCodeAt(0)]!==void 0};var x=n.__arabicParser__.getCorrectForm=function(R,O,C){return l(R)?a(R)===!1?-1:!p(R)||!l(O)&&!l(C)||!l(C)&&u(O)||u(R)&&!l(O)||u(R)&&h(O)||u(R)&&u(O)?0:y(R)&&l(O)&&!u(O)&&l(C)&&p(C)?3:u(R)||!l(C)?1:2:-1},v=function(R){var O=0,C=0,V=0,B="",$="",z="",ie=(R=R||"").split("\\s+"),D=[];for(O=0;O<ie.length;O+=1){for(D.push(""),C=0;C<ie[O].length;C+=1)B=ie[O][C],$=ie[O][C-1],z=ie[O][C+1],l(B)?(V=x(B,$,z),D[O]+=V!==-1?String.fromCharCode(e[B.charCodeAt(0)][V]):B):D[O]+=B;D[O]=_(D[O])}return D.join(" ")},T=n.__arabicParser__.processArabic=n.processArabic=function(){var R,O=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,C=[];if(Array.isArray(O)){var V=0;for(C=[],V=0;V<O.length;V+=1)Array.isArray(O[V])?C.push([v(O[V][0]),O[V][1],O[V][2]]):C.push([v(O[V])]);R=C}else R=v(O);return typeof arguments[0]=="string"?R:(arguments[0].text=R,arguments[0])};n.events.push(["preProcessText",T])}(Wt.API),Wt.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(u){t=u}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(u){r=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(u){i=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var a=[];Object.defineProperty(this,"childNodes",{get:function(){return a},set:function(u){a=u}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(u){l=u}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Wt.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new a,this.internal.__cell__.pages=1},a=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(R){h=R}});var p=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return p},set:function(R){p=R}});var y=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return y},set:function(R){y=R}});var _=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return _},set:function(R){_=R}});var x=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return x},set:function(R){x=R}});var v=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return v},set:function(R){v=R}});var T=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return T},set:function(R){T=R}}),this};a.prototype.clone=function(){return new a(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},a.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(h){return r.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},n.getTextDimensions=function(h,p){r.call(this);var y=(p=p||{}).fontSize||this.getFontSize(),_=p.font||this.getFont(),x=p.scaleFactor||this.internal.scaleFactor,v=0,T=0,R=0,O=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var C=p.maxWidth;C>0?typeof h=="string"?h=this.splitTextToSize(h,C):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(B,$){return B.concat(O.splitTextToSize($,C))},[])):h=Array.isArray(h)?h:[h];for(var V=0;V<h.length;V++)v<(R=this.getStringUnitWidth(h[V],{font:_})*y)&&(v=R);return v!==0&&(T=h.length),{w:v/=x,h:Math.max((T*y*this.getLineHeightFactor()-y*(this.getLineHeightFactor()-1))/x,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var h=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new a(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=n.cell=function(){var h;h=arguments[0]instanceof a?arguments[0]:new a(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var p=this.internal.__cell__.lastCell,y=this.internal.__cell__.padding,_=this.internal.__cell__.margins||e,x=this.internal.__cell__.tableHeaderRow,v=this.internal.__cell__.printHeaders;return p.lineNumber!==void 0&&(p.lineNumber===h.lineNumber?(h.x=(p.x||0)+(p.width||0),h.y=p.y||0):p.y+p.height+h.height+_.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=_.top,v&&x&&(this.printHeaderRow(h.lineNumber,!0),h.y+=x[0].height)):h.y=p.y+p.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,t===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-y,h.y+y,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+y,{align:"center",baseline:"top",maxWidth:h.width-y-y}):this.text(h.text,h.x+y,h.y+y,{align:"left",baseline:"top",maxWidth:h.width-y-y})),this.internal.__cell__.lastCell=h,this};n.table=function(h,p,y,_,x){if(r.call(this),!y)throw new Error("No data for PDF table.");var v,T,R,O,C=[],V=[],B=[],$={},z={},ie=[],D=[],A=(x=x||{}).autoSize||!1,M=x.printHeaders!==!1,U=x.css&&x.css["font-size"]!==void 0?16*x.css["font-size"]:x.fontSize||12,I=x.margins||Object.assign({width:this.getPageWidth()},e),P=typeof x.padding=="number"?x.padding:3,F=x.headerBackgroundColor||"#c8c8c8",X=x.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=M,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=U,this.internal.__cell__.padding=P,this.internal.__cell__.headerBackgroundColor=F,this.internal.__cell__.headerTextColor=X,this.setFontSize(U),_==null)V=C=Object.keys(y[0]),B=C.map(function(){return"left"});else if(Array.isArray(_)&&Jn(_[0])==="object")for(C=_.map(function(he){return he.name}),V=_.map(function(he){return he.prompt||he.name||""}),B=_.map(function(he){return he.align||"left"}),v=0;v<_.length;v+=1)z[_[v].name]=_[v].width*(19.049976/25.4);else Array.isArray(_)&&typeof _[0]=="string"&&(V=C=_,B=C.map(function(){return"left"}));if(A||Array.isArray(_)&&typeof _[0]=="string")for(v=0;v<C.length;v+=1){for($[O=C[v]]=y.map(function(he){return he[O]}),this.setFont(void 0,"bold"),ie.push(this.getTextDimensions(V[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),T=$[O],this.setFont(void 0,"normal"),R=0;R<T.length;R+=1)ie.push(this.getTextDimensions(T[R],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);z[O]=Math.max.apply(null,ie)+P+P,ie=[]}if(M){var pe={};for(v=0;v<C.length;v+=1)pe[C[v]]={},pe[C[v]].text=V[v],pe[C[v]].align=B[v];var ae=u.call(this,pe,z);D=C.map(function(he){return new a(h,p,z[he],ae,pe[he].text,void 0,pe[he].align)}),this.setTableHeaderRow(D),this.printHeaderRow(1,!1)}var oe=_.reduce(function(he,re){return he[re.name]=re.align,he},{});for(v=0;v<y.length;v+=1){"rowStart"in x&&x.rowStart instanceof Function&&x.rowStart({row:v,data:y[v]},this);var te=u.call(this,y[v],z);for(R=0;R<C.length;R+=1){var ne=y[v][C[R]];"cellStart"in x&&x.cellStart instanceof Function&&x.cellStart({row:v,col:R,data:ne},this),l.call(this,new a(h,p,z[C[R]],te,ne,v+2,oe[C[R]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=p,this};var u=function(h,p){var y=this.internal.__cell__.padding,_=this.internal.__cell__.table_font_size,x=this.internal.scaleFactor;return Object.keys(h).map(function(v){var T=h[v];return this.splitTextToSize(T.hasOwnProperty("text")?T.text:T,p[v]-y-y)},this).map(function(v){return this.getLineHeightFactor()*v.length*_/x+y+y},this).reduce(function(v,T){return Math.max(v,T)},0)};n.setTableHeaderRow=function(h){r.call(this),this.internal.__cell__.tableHeaderRow=h},n.printHeaderRow=function(h,p){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var y;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var _=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new a(_[0],_[1],_[2],_[3],void 0,-1)}this.setFont(void 0,"bold");for(var x=[],v=0;v<this.internal.__cell__.tableHeaderRow.length;v+=1){y=this.internal.__cell__.tableHeaderRow[v].clone(),p&&(y.y=this.internal.__cell__.margins.top||0,x.push(y)),y.lineNumber=h;var T=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,y),this.setTextColor(T)}x.length>0&&this.setTableHeaderRow(x),this.setFont(void 0,"normal"),t=!1}}(Wt.API);var pb={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},mb=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Kg=db(mb),gb=[100,200,300,400,500,600,700,800,900],tN=db(gb);function Qg(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(a){return pb[a=a||"normal"]?a:"normal"}(n.style),r=function(a){if(!a)return 400;if(typeof a=="number")return a>=100&&a<=900&&a%100==0?a:400;if(/^\d00$/.test(a))return parseInt(a);switch(a){case"bold":return 700;case"normal":default:return 400}}(n.weight),i=function(a){return typeof Kg[a=a||"normal"]=="number"?a:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function L2(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var nN={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},R2={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function D2(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function rN(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},nN,t.genericFontFamilies||{}),a=null,l=null,u=0;u<e.length;++u)if(i[(a=Qg(e[u])).family]&&(a.family=i[a.family]),n.hasOwnProperty(a.family)){l=n[a.family];break}if(!(l=l||n[r]))throw new Error("Could not find a font-family for the rule '"+D2(a)+"' and default family '"+r+"'.");if(l=function(h,p){if(p[h])return p[h];var y=Kg[h],_=y<=Kg.normal?-1:1,x=L2(p,mb,y,_);if(!x)throw new Error("Could not find a matching font-stretch value for "+h);return x}(a.stretch,l),l=function(h,p){if(p[h])return p[h];for(var y=pb[h],_=0;_<y.length;++_)if(p[y[_]])return p[y[_]];throw new Error("Could not find a matching font-style for "+h)}(a.style,l),!(l=function(h,p){if(p[h])return p[h];if(h===400&&p[500])return p[500];if(h===500&&p[400])return p[400];var y=tN[h],_=L2(p,gb,y,h<400?-1:1);if(!_)throw new Error("Could not find a matching font-weight for value "+h);return _}(a.weight,l)))throw new Error("Failed to resolve a font for the rule '"+D2(a)+"'.");return l}function O2(n){return n.trimLeft()}function iN(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function oN(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var Ad,F2,M2,ig=["times"];(function(n){var e,t,r,i,a,l,u,h,p,y=function(N){return N=N||{},this.isStrokeTransparent=N.isStrokeTransparent||!1,this.strokeOpacity=N.strokeOpacity||1,this.strokeStyle=N.strokeStyle||"#000000",this.fillStyle=N.fillStyle||"#000000",this.isFillTransparent=N.isFillTransparent||!1,this.fillOpacity=N.fillOpacity||1,this.font=N.font||"10px sans-serif",this.textBaseline=N.textBaseline||"alphabetic",this.textAlign=N.textAlign||"left",this.lineWidth=N.lineWidth||1,this.lineJoin=N.lineJoin||"miter",this.lineCap=N.lineCap||"butt",this.path=N.path||[],this.transform=N.transform!==void 0?N.transform.clone():new h,this.globalCompositeOperation=N.globalCompositeOperation||"normal",this.globalAlpha=N.globalAlpha||1,this.clip_path=N.clip_path||[],this.currentPoint=N.currentPoint||new l,this.miterLimit=N.miterLimit||10,this.lastPoint=N.lastPoint||new l,this.lineDashOffset=N.lineDashOffset||0,this.lineDash=N.lineDash||[],this.margin=N.margin||[0,0,0,0],this.prevPageLastElemOffset=N.prevPageLastElemOffset||0,this.ignoreClearRect=typeof N.ignoreClearRect!="boolean"||N.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new _(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,a=this.internal.getVerticalCoordinate,l=this.internal.Point,u=this.internal.Rectangle,h=this.internal.Matrix,p=new y}]);var _=function(N){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=N;Object.defineProperty(this,"pdf",{get:function(){return W}});var ee=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ee},set:function(Ve){ee=!!Ve}});var se=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return se},set:function(Ve){se=!!Ve}});var ue=0;Object.defineProperty(this,"posX",{get:function(){return ue},set:function(Ve){isNaN(Ve)||(ue=Ve)}});var we=0;Object.defineProperty(this,"posY",{get:function(){return we},set:function(Ve){isNaN(Ve)||(we=Ve)}}),Object.defineProperty(this,"margin",{get:function(){return p.margin},set:function(Ve){var fe;typeof Ve=="number"?fe=[Ve,Ve,Ve,Ve]:((fe=new Array(4))[0]=Ve[0],fe[1]=Ve.length>=2?Ve[1]:fe[0],fe[2]=Ve.length>=3?Ve[2]:fe[0],fe[3]=Ve.length>=4?Ve[3]:fe[1]),p.margin=fe}});var xe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return xe},set:function(Ve){xe=Ve}});var Se=0;Object.defineProperty(this,"lastBreak",{get:function(){return Se},set:function(Ve){Se=Ve}});var We=[];Object.defineProperty(this,"pageBreaks",{get:function(){return We},set:function(Ve){We=Ve}}),Object.defineProperty(this,"ctx",{get:function(){return p},set:function(Ve){Ve instanceof y&&(p=Ve)}}),Object.defineProperty(this,"path",{get:function(){return p.path},set:function(Ve){p.path=Ve}});var Ge=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ge},set:function(Ve){Ge=Ve}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ve){var fe;fe=x(Ve),this.ctx.fillStyle=fe.style,this.ctx.isFillTransparent=fe.a===0,this.ctx.fillOpacity=fe.a,this.pdf.setFillColor(fe.r,fe.g,fe.b,{a:fe.a}),this.pdf.setTextColor(fe.r,fe.g,fe.b,{a:fe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ve){var fe=x(Ve);this.ctx.strokeStyle=fe.style,this.ctx.isStrokeTransparent=fe.a===0,this.ctx.strokeOpacity=fe.a,fe.a===0?this.pdf.setDrawColor(255,255,255):(fe.a,this.pdf.setDrawColor(fe.r,fe.g,fe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ve){["butt","round","square"].indexOf(Ve)!==-1&&(this.ctx.lineCap=Ve,this.pdf.setLineCap(Ve))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ve){isNaN(Ve)||(this.ctx.lineWidth=Ve,this.pdf.setLineWidth(Ve))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ve){["bevel","round","miter"].indexOf(Ve)!==-1&&(this.ctx.lineJoin=Ve,this.pdf.setLineJoin(Ve))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ve){isNaN(Ve)||(this.ctx.miterLimit=Ve,this.pdf.setMiterLimit(Ve))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ve){this.ctx.textBaseline=Ve}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ve){["right","end","center","left","start"].indexOf(Ve)!==-1&&(this.ctx.textAlign=Ve)}});var st=null;function it(Ve,fe){if(st===null){var Ft=function(xt){var Qe=[];return Object.keys(xt).forEach(function(ot){xt[ot].forEach(function(lt){var ct=null;switch(lt){case"bold":ct={family:ot,weight:"bold"};break;case"italic":ct={family:ot,style:"italic"};break;case"bolditalic":ct={family:ot,weight:"bold",style:"italic"};break;case"":case"normal":ct={family:ot}}ct!==null&&(ct.ref={name:ot,style:lt},Qe.push(ct))})}),Qe}(Ve.getFontList());st=function(xt){for(var Qe={},ot=0;ot<xt.length;++ot){var lt=Qg(xt[ot]),ct=lt.family,Tt=lt.stretch,qe=lt.style,Je=lt.weight;Qe[ct]=Qe[ct]||{},Qe[ct][Tt]=Qe[ct][Tt]||{},Qe[ct][Tt][qe]=Qe[ct][Tt][qe]||{},Qe[ct][Tt][qe][Je]=lt}return Qe}(Ft.concat(fe))}return st}var Ct=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ct},set:function(Ve){st=null,Ct=Ve}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ve){var fe;if(this.ctx.font=Ve,(fe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ve))!==null){var Ft=fe[1],xt=(fe[2],fe[3]),Qe=fe[4],ot=(fe[5],fe[6]),lt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Qe)[2];Qe=Math.floor(lt==="px"?parseFloat(Qe)*this.pdf.internal.scaleFactor:lt==="em"?parseFloat(Qe)*this.pdf.getFontSize():parseFloat(Qe)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Qe);var ct=function(Rt){var Nt,dt,jn=[],nn=Rt.trim();if(nn==="")return ig;if(nn in R2)return[R2[nn]];for(;nn!=="";){switch(dt=null,Nt=(nn=O2(nn)).charAt(0)){case'"':case"'":dt=iN(nn.substring(1),Nt);break;default:dt=oN(nn)}if(dt===null||(jn.push(dt[0]),(nn=O2(dt[1]))!==""&&nn.charAt(0)!==","))return ig;nn=nn.replace(/^,/,"")}return jn}(ot);if(this.fontFaces){var Tt=rN(it(this.pdf,this.fontFaces),ct.map(function(Rt){return{family:Rt,stretch:"normal",weight:xt,style:Ft}}));this.pdf.setFont(Tt.ref.name,Tt.ref.style)}else{var qe="";(xt==="bold"||parseInt(xt,10)>=700||Ft==="bold")&&(qe="bold"),Ft==="italic"&&(qe+="italic"),qe.length===0&&(qe="normal");for(var Je="",ht={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},_t=0;_t<ct.length;_t++){if(this.pdf.internal.getFont(ct[_t],qe,{noFallback:!0,disableWarning:!0})!==void 0){Je=ct[_t];break}if(qe==="bolditalic"&&this.pdf.internal.getFont(ct[_t],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Je=ct[_t],qe="bold";else if(this.pdf.internal.getFont(ct[_t],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Je=ct[_t],qe="normal";break}}if(Je===""){for(var Mt=0;Mt<ct.length;Mt++)if(ht[ct[Mt]]){Je=ht[ct[Mt]];break}}Je=Je===""?"Times":Je,this.pdf.setFont(Je,qe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ve){this.ctx.globalCompositeOperation=Ve}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ve){this.ctx.globalAlpha=Ve}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ve){this.ctx.lineDashOffset=Ve,re.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ve){this.ctx.lineDash=Ve,re.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ve){this.ctx.ignoreClearRect=!!Ve}})};_.prototype.setLineDash=function(N){this.lineDash=N},_.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},_.prototype.fill=function(){$.call(this,"fill",!1)},_.prototype.stroke=function(){$.call(this,"stroke",!1)},_.prototype.beginPath=function(){this.path=[{type:"begin"}]},_.prototype.moveTo=function(N,W){if(isNaN(N)||isNaN(W))throw tr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ee=this.ctx.transform.applyToPoint(new l(N,W));this.path.push({type:"mt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new l(N,W)},_.prototype.closePath=function(){var N=new l(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&Jn(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){N=new l(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(N.x,N.y)},_.prototype.lineTo=function(N,W){if(isNaN(N)||isNaN(W))throw tr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ee=this.ctx.transform.applyToPoint(new l(N,W));this.path.push({type:"lt",x:ee.x,y:ee.y}),this.ctx.lastPoint=new l(ee.x,ee.y)},_.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),$.call(this,null,!0)},_.prototype.quadraticCurveTo=function(N,W,ee,se){if(isNaN(ee)||isNaN(se)||isNaN(N)||isNaN(W))throw tr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ue=this.ctx.transform.applyToPoint(new l(ee,se)),we=this.ctx.transform.applyToPoint(new l(N,W));this.path.push({type:"qct",x1:we.x,y1:we.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new l(ue.x,ue.y)},_.prototype.bezierCurveTo=function(N,W,ee,se,ue,we){if(isNaN(ue)||isNaN(we)||isNaN(N)||isNaN(W)||isNaN(ee)||isNaN(se))throw tr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var xe=this.ctx.transform.applyToPoint(new l(ue,we)),Se=this.ctx.transform.applyToPoint(new l(N,W)),We=this.ctx.transform.applyToPoint(new l(ee,se));this.path.push({type:"bct",x1:Se.x,y1:Se.y,x2:We.x,y2:We.y,x:xe.x,y:xe.y}),this.ctx.lastPoint=new l(xe.x,xe.y)},_.prototype.arc=function(N,W,ee,se,ue,we){if(isNaN(N)||isNaN(W)||isNaN(ee)||isNaN(se)||isNaN(ue))throw tr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(we=!!we,!this.ctx.transform.isIdentity){var xe=this.ctx.transform.applyToPoint(new l(N,W));N=xe.x,W=xe.y;var Se=this.ctx.transform.applyToPoint(new l(0,ee)),We=this.ctx.transform.applyToPoint(new l(0,0));ee=Math.sqrt(Math.pow(Se.x-We.x,2)+Math.pow(Se.y-We.y,2))}Math.abs(ue-se)>=2*Math.PI&&(se=0,ue=2*Math.PI),this.path.push({type:"arc",x:N,y:W,radius:ee,startAngle:se,endAngle:ue,counterclockwise:we})},_.prototype.arcTo=function(N,W,ee,se,ue){throw new Error("arcTo not implemented.")},_.prototype.rect=function(N,W,ee,se){if(isNaN(N)||isNaN(W)||isNaN(ee)||isNaN(se))throw tr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(N,W),this.lineTo(N+ee,W),this.lineTo(N+ee,W+se),this.lineTo(N,W+se),this.lineTo(N,W),this.lineTo(N+ee,W),this.lineTo(N,W)},_.prototype.fillRect=function(N,W,ee,se){if(isNaN(N)||isNaN(W)||isNaN(ee)||isNaN(se))throw tr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!v.call(this)){var ue={};this.lineCap!=="butt"&&(ue.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ue.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(N,W,ee,se),this.fill(),ue.hasOwnProperty("lineCap")&&(this.lineCap=ue.lineCap),ue.hasOwnProperty("lineJoin")&&(this.lineJoin=ue.lineJoin)}},_.prototype.strokeRect=function(N,W,ee,se){if(isNaN(N)||isNaN(W)||isNaN(ee)||isNaN(se))throw tr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");T.call(this)||(this.beginPath(),this.rect(N,W,ee,se),this.stroke())},_.prototype.clearRect=function(N,W,ee,se){if(isNaN(N)||isNaN(W)||isNaN(ee)||isNaN(se))throw tr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(N,W,ee,se))},_.prototype.save=function(N){N=typeof N!="boolean"||N;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),N){this.ctx.fontSize=this.pdf.internal.getFontSize();var se=new y(this.ctx);this.ctxStack.push(this.ctx),this.ctx=se}},_.prototype.restore=function(N){N=typeof N!="boolean"||N;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,ee=0;ee<this.pdf.internal.getNumberOfPages();ee++)this.pdf.setPage(ee+1),this.pdf.internal.out("Q");this.pdf.setPage(W),N&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},_.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var x=function(N){var W,ee,se,ue;if(N.isCanvasGradient===!0&&(N=N.getColor()),!N)return{r:0,g:0,b:0,a:0,style:N};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(N))W=0,ee=0,se=0,ue=0;else{var we=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(N);if(we!==null)W=parseInt(we[1]),ee=parseInt(we[2]),se=parseInt(we[3]),ue=1;else if((we=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(N))!==null)W=parseInt(we[1]),ee=parseInt(we[2]),se=parseInt(we[3]),ue=parseFloat(we[4]);else{if(ue=1,typeof N=="string"&&N.charAt(0)!=="#"){var xe=new sb(N);N=xe.ok?xe.toHex():"#000000"}N.length===4?(W=N.substring(1,2),W+=W,ee=N.substring(2,3),ee+=ee,se=N.substring(3,4),se+=se):(W=N.substring(1,3),ee=N.substring(3,5),se=N.substring(5,7)),W=parseInt(W,16),ee=parseInt(ee,16),se=parseInt(se,16)}}return{r:W,g:ee,b:se,a:ue,style:N}},v=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},T=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};_.prototype.fillText=function(N,W,ee,se){if(isNaN(W)||isNaN(ee)||typeof N!="string")throw tr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(se=isNaN(se)?void 0:se,!v.call(this)){var ue=te(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;P.call(this,{text:N,x:W,y:ee,scale:we,angle:ue,align:this.textAlign,maxWidth:se})}},_.prototype.strokeText=function(N,W,ee,se){if(isNaN(W)||isNaN(ee)||typeof N!="string")throw tr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!T.call(this)){se=isNaN(se)?void 0:se;var ue=te(this.ctx.transform.rotation),we=this.ctx.transform.scaleX;P.call(this,{text:N,x:W,y:ee,scale:we,renderingMode:"stroke",angle:ue,align:this.textAlign,maxWidth:se})}},_.prototype.measureText=function(N){if(typeof N!="string")throw tr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,ee=this.pdf.internal.scaleFactor,se=W.internal.getFontSize(),ue=W.getStringUnitWidth(N)*se/W.internal.scaleFactor,we=function(xe){var Se=(xe=xe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Se}}),this};return new we({width:ue*=Math.round(96*ee/72*1e4)/1e4})},_.prototype.scale=function(N,W){if(isNaN(N)||isNaN(W))throw tr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ee=new h(N,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(ee)},_.prototype.rotate=function(N){if(isNaN(N))throw tr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new h(Math.cos(N),Math.sin(N),-Math.sin(N),Math.cos(N),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},_.prototype.translate=function(N,W){if(isNaN(N)||isNaN(W))throw tr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ee=new h(1,0,0,1,N,W);this.ctx.transform=this.ctx.transform.multiply(ee)},_.prototype.transform=function(N,W,ee,se,ue,we){if(isNaN(N)||isNaN(W)||isNaN(ee)||isNaN(se)||isNaN(ue)||isNaN(we))throw tr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var xe=new h(N,W,ee,se,ue,we);this.ctx.transform=this.ctx.transform.multiply(xe)},_.prototype.setTransform=function(N,W,ee,se,ue,we){N=isNaN(N)?1:N,W=isNaN(W)?0:W,ee=isNaN(ee)?0:ee,se=isNaN(se)?1:se,ue=isNaN(ue)?0:ue,we=isNaN(we)?0:we,this.ctx.transform=new h(N,W,ee,se,ue,we)};var R=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};_.prototype.drawImage=function(N,W,ee,se,ue,we,xe,Se,We){var Ge=this.pdf.getImageProperties(N),st=1,it=1,Ct=1,Ve=1;se!==void 0&&Se!==void 0&&(Ct=Se/se,Ve=We/ue,st=Ge.width/se*Se/se,it=Ge.height/ue*We/ue),we===void 0&&(we=W,xe=ee,W=0,ee=0),se!==void 0&&Se===void 0&&(Se=se,We=ue),se===void 0&&Se===void 0&&(Se=Ge.width,We=Ge.height);for(var fe,Ft=this.ctx.transform.decompose(),xt=te(Ft.rotate.shx),Qe=new h,ot=(Qe=(Qe=(Qe=Qe.multiply(Ft.translate)).multiply(Ft.skew)).multiply(Ft.scale)).applyToRectangle(new u(we-W*Ct,xe-ee*Ve,se*st,ue*it)),lt=O.call(this,ot),ct=[],Tt=0;Tt<lt.length;Tt+=1)ct.indexOf(lt[Tt])===-1&&ct.push(lt[Tt]);if(B(ct),this.autoPaging)for(var qe=ct[0],Je=ct[ct.length-1],ht=qe;ht<Je+1;ht++){this.pdf.setPage(ht);var _t=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Mt=ht===1?this.posY+this.margin[0]:this.margin[0],Rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Nt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],dt=ht===1?0:Rt+(ht-2)*Nt;if(this.ctx.clip_path.length!==0){var jn=this.path;fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=V(fe,this.posX+this.margin[3],-dt+Mt+this.ctx.prevPageLastElemOffset),z.call(this,"fill",!0),this.path=jn}var nn=JSON.parse(JSON.stringify(ot));nn=V([nn],this.posX+this.margin[3],-dt+Mt+this.ctx.prevPageLastElemOffset)[0];var ur=(ht>qe||ht<Je)&&R.call(this);ur&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_t,Nt,null).clip().discardPath()),this.pdf.addImage(N,"JPEG",nn.x,nn.y,nn.w,nn.h,null,null,xt),ur&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(N,"JPEG",ot.x,ot.y,ot.w,ot.h,null,null,xt)};var O=function(N,W,ee){var se=[];W=W||this.pdf.internal.pageSize.width,ee=ee||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ue=this.posY+this.ctx.prevPageLastElemOffset;switch(N.type){default:case"mt":case"lt":se.push(Math.floor((N.y+ue)/ee)+1);break;case"arc":se.push(Math.floor((N.y+ue-N.radius)/ee)+1),se.push(Math.floor((N.y+ue+N.radius)/ee)+1);break;case"qct":var we=ne(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x,N.y);se.push(Math.floor((we.y+ue)/ee)+1),se.push(Math.floor((we.y+we.h+ue)/ee)+1);break;case"bct":var xe=he(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x2,N.y2,N.x,N.y);se.push(Math.floor((xe.y+ue)/ee)+1),se.push(Math.floor((xe.y+xe.h+ue)/ee)+1);break;case"rect":se.push(Math.floor((N.y+ue)/ee)+1),se.push(Math.floor((N.y+N.h+ue)/ee)+1)}for(var Se=0;Se<se.length;Se+=1)for(;this.pdf.internal.getNumberOfPages()<se[Se];)C.call(this);return se},C=function(){var N=this.fillStyle,W=this.strokeStyle,ee=this.font,se=this.lineCap,ue=this.lineWidth,we=this.lineJoin;this.pdf.addPage(),this.fillStyle=N,this.strokeStyle=W,this.font=ee,this.lineCap=se,this.lineWidth=ue,this.lineJoin=we},V=function(N,W,ee){for(var se=0;se<N.length;se++)switch(N[se].type){case"bct":N[se].x2+=W,N[se].y2+=ee;case"qct":N[se].x1+=W,N[se].y1+=ee;case"mt":case"lt":case"arc":default:N[se].x+=W,N[se].y+=ee}return N},B=function(N){return N.sort(function(W,ee){return W-ee})},$=function(N,W){for(var ee,se,ue=this.fillStyle,we=this.strokeStyle,xe=this.lineCap,Se=this.lineWidth,We=Math.abs(Se*this.ctx.transform.scaleX),Ge=this.lineJoin,st=JSON.parse(JSON.stringify(this.path)),it=JSON.parse(JSON.stringify(this.path)),Ct=[],Ve=0;Ve<it.length;Ve++)if(it[Ve].x!==void 0)for(var fe=O.call(this,it[Ve]),Ft=0;Ft<fe.length;Ft+=1)Ct.indexOf(fe[Ft])===-1&&Ct.push(fe[Ft]);for(var xt=0;xt<Ct.length;xt++)for(;this.pdf.internal.getNumberOfPages()<Ct[xt];)C.call(this);if(B(Ct),this.autoPaging)for(var Qe=Ct[0],ot=Ct[Ct.length-1],lt=Qe;lt<ot+1;lt++){this.pdf.setPage(lt),this.fillStyle=ue,this.strokeStyle=we,this.lineCap=xe,this.lineWidth=We,this.lineJoin=Ge;var ct=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Tt=lt===1?this.posY+this.margin[0]:this.margin[0],qe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Je=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ht=lt===1?0:qe+(lt-2)*Je;if(this.ctx.clip_path.length!==0){var _t=this.path;ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=V(ee,this.posX+this.margin[3],-ht+Tt+this.ctx.prevPageLastElemOffset),z.call(this,N,!0),this.path=_t}if(se=JSON.parse(JSON.stringify(st)),this.path=V(se,this.posX+this.margin[3],-ht+Tt+this.ctx.prevPageLastElemOffset),W===!1||lt===0){var Mt=(lt>Qe||lt<ot)&&R.call(this);Mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ct,Je,null).clip().discardPath()),z.call(this,N,W),Mt&&this.pdf.restoreGraphicsState()}this.lineWidth=Se}else this.lineWidth=We,z.call(this,N,W),this.lineWidth=Se;this.path=st},z=function(N,W){if((N!=="stroke"||W||!T.call(this))&&(N==="stroke"||W||!v.call(this))){for(var ee,se,ue=[],we=this.path,xe=0;xe<we.length;xe++){var Se=we[xe];switch(Se.type){case"begin":ue.push({begin:!0});break;case"close":ue.push({close:!0});break;case"mt":ue.push({start:Se,deltas:[],abs:[]});break;case"lt":var We=ue.length;if(we[xe-1]&&!isNaN(we[xe-1].x)&&(ee=[Se.x-we[xe-1].x,Se.y-we[xe-1].y],We>0)){for(;We>=0;We--)if(ue[We-1].close!==!0&&ue[We-1].begin!==!0){ue[We-1].deltas.push(ee),ue[We-1].abs.push(Se);break}}break;case"bct":ee=[Se.x1-we[xe-1].x,Se.y1-we[xe-1].y,Se.x2-we[xe-1].x,Se.y2-we[xe-1].y,Se.x-we[xe-1].x,Se.y-we[xe-1].y],ue[ue.length-1].deltas.push(ee);break;case"qct":var Ge=we[xe-1].x+2/3*(Se.x1-we[xe-1].x),st=we[xe-1].y+2/3*(Se.y1-we[xe-1].y),it=Se.x+2/3*(Se.x1-Se.x),Ct=Se.y+2/3*(Se.y1-Se.y),Ve=Se.x,fe=Se.y;ee=[Ge-we[xe-1].x,st-we[xe-1].y,it-we[xe-1].x,Ct-we[xe-1].y,Ve-we[xe-1].x,fe-we[xe-1].y],ue[ue.length-1].deltas.push(ee);break;case"arc":ue.push({deltas:[],abs:[],arc:!0}),Array.isArray(ue[ue.length-1].abs)&&ue[ue.length-1].abs.push(Se)}}se=W?null:N==="stroke"?"stroke":"fill";for(var Ft=!1,xt=0;xt<ue.length;xt++)if(ue[xt].arc)for(var Qe=ue[xt].abs,ot=0;ot<Qe.length;ot++){var lt=Qe[ot];lt.type==="arc"?A.call(this,lt.x,lt.y,lt.radius,lt.startAngle,lt.endAngle,lt.counterclockwise,void 0,W,!Ft):F.call(this,lt.x,lt.y),Ft=!0}else if(ue[xt].close===!0)this.pdf.internal.out("h"),Ft=!1;else if(ue[xt].begin!==!0){var ct=ue[xt].start.x,Tt=ue[xt].start.y;X.call(this,ue[xt].deltas,ct,Tt),Ft=!0}se&&M.call(this,se),W&&U.call(this)}},ie=function(N){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ee=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return N-ee;case"top":return N+W-ee;case"hanging":return N+W-2*ee;case"middle":return N+W/2-ee;case"ideographic":return N;case"alphabetic":default:return N}},D=function(N){return N+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};_.prototype.createLinearGradient=function(){var N=function(){};return N.colorStops=[],N.addColorStop=function(W,ee){this.colorStops.push([W,ee])},N.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},N.isCanvasGradient=!0,N},_.prototype.createPattern=function(){return this.createLinearGradient()},_.prototype.createRadialGradient=function(){return this.createLinearGradient()};var A=function(N,W,ee,se,ue,we,xe,Se,We){for(var Ge=ae.call(this,ee,se,ue,we),st=0;st<Ge.length;st++){var it=Ge[st];st===0&&(We?I.call(this,it.x1+N,it.y1+W):F.call(this,it.x1+N,it.y1+W)),pe.call(this,N,W,it.x2,it.y2,it.x3,it.y3,it.x4,it.y4)}Se?U.call(this):M.call(this,xe)},M=function(N){switch(N){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},U=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(N,W){this.pdf.internal.out(t(N)+" "+r(W)+" m")},P=function(N){var W;switch(N.align){case"right":case"end":W="right";break;case"center":W="center";break;case"left":case"start":default:W="left"}var ee=this.pdf.getTextDimensions(N.text),se=ie.call(this,N.y),ue=D.call(this,se)-ee.h,we=this.ctx.transform.applyToPoint(new l(N.x,se)),xe=this.ctx.transform.decompose(),Se=new h;Se=(Se=(Se=Se.multiply(xe.translate)).multiply(xe.skew)).multiply(xe.scale);for(var We,Ge,st,it=this.ctx.transform.applyToRectangle(new u(N.x,se,ee.w,ee.h)),Ct=Se.applyToRectangle(new u(N.x,ue,ee.w,ee.h)),Ve=O.call(this,Ct),fe=[],Ft=0;Ft<Ve.length;Ft+=1)fe.indexOf(Ve[Ft])===-1&&fe.push(Ve[Ft]);if(B(fe),this.autoPaging)for(var xt=fe[0],Qe=fe[fe.length-1],ot=xt;ot<Qe+1;ot++){this.pdf.setPage(ot);var lt=ot===1?this.posY+this.margin[0]:this.margin[0],ct=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Tt=this.pdf.internal.pageSize.height-this.margin[2],qe=Tt-this.margin[0],Je=this.pdf.internal.pageSize.width-this.margin[1],ht=Je-this.margin[3],_t=ot===1?0:ct+(ot-2)*qe;if(this.ctx.clip_path.length!==0){var Mt=this.path;We=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=V(We,this.posX+this.margin[3],-1*_t+lt),z.call(this,"fill",!0),this.path=Mt}var Rt=V([JSON.parse(JSON.stringify(Ct))],this.posX+this.margin[3],-_t+lt+this.ctx.prevPageLastElemOffset)[0];N.scale>=.01&&(Ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ge*N.scale),st=this.lineWidth,this.lineWidth=st*N.scale);var Nt=this.autoPaging!=="text";if(Nt||Rt.y+Rt.h<=Tt){if(Nt||Rt.y>=lt&&Rt.x<=Je){var dt=Nt?N.text:this.pdf.splitTextToSize(N.text,N.maxWidth||Je-Rt.x)[0],jn=V([JSON.parse(JSON.stringify(it))],this.posX+this.margin[3],-_t+lt+this.ctx.prevPageLastElemOffset)[0],nn=Nt&&(ot>xt||ot<Qe)&&R.call(this);nn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ht,qe,null).clip().discardPath()),this.pdf.text(dt,jn.x,jn.y,{angle:N.angle,align:W,renderingMode:N.renderingMode}),nn&&this.pdf.restoreGraphicsState()}}else Rt.y<Tt&&(this.ctx.prevPageLastElemOffset+=Tt-Rt.y);N.scale>=.01&&(this.pdf.setFontSize(Ge),this.lineWidth=st)}else N.scale>=.01&&(Ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ge*N.scale),st=this.lineWidth,this.lineWidth=st*N.scale),this.pdf.text(N.text,we.x+this.posX,we.y+this.posY,{angle:N.angle,align:W,renderingMode:N.renderingMode,maxWidth:N.maxWidth}),N.scale>=.01&&(this.pdf.setFontSize(Ge),this.lineWidth=st)},F=function(N,W,ee,se){ee=ee||0,se=se||0,this.pdf.internal.out(t(N+ee)+" "+r(W+se)+" l")},X=function(N,W,ee){return this.pdf.lines(N,W,ee,null,null)},pe=function(N,W,ee,se,ue,we,xe,Se){this.pdf.internal.out([e(i(ee+N)),e(a(se+W)),e(i(ue+N)),e(a(we+W)),e(i(xe+N)),e(a(Se+W)),"c"].join(" "))},ae=function(N,W,ee,se){for(var ue=2*Math.PI,we=Math.PI/2;W>ee;)W-=ue;var xe=Math.abs(ee-W);xe<ue&&se&&(xe=ue-xe);for(var Se=[],We=se?-1:1,Ge=W;xe>1e-5;){var st=Ge+We*Math.min(xe,we);Se.push(oe.call(this,N,Ge,st)),xe-=Math.abs(st-Ge),Ge=st}return Se},oe=function(N,W,ee){var se=(ee-W)/2,ue=N*Math.cos(se),we=N*Math.sin(se),xe=ue,Se=-we,We=xe*xe+Se*Se,Ge=We+xe*ue+Se*we,st=4/3*(Math.sqrt(2*We*Ge)-Ge)/(xe*we-Se*ue),it=xe-st*Se,Ct=Se+st*xe,Ve=it,fe=-Ct,Ft=se+W,xt=Math.cos(Ft),Qe=Math.sin(Ft);return{x1:N*Math.cos(W),y1:N*Math.sin(W),x2:it*xt-Ct*Qe,y2:it*Qe+Ct*xt,x3:Ve*xt-fe*Qe,y3:Ve*Qe+fe*xt,x4:N*Math.cos(ee),y4:N*Math.sin(ee)}},te=function(N){return 180*N/Math.PI},ne=function(N,W,ee,se,ue,we){var xe=N+.5*(ee-N),Se=W+.5*(se-W),We=ue+.5*(ee-ue),Ge=we+.5*(se-we),st=Math.min(N,ue,xe,We),it=Math.max(N,ue,xe,We),Ct=Math.min(W,we,Se,Ge),Ve=Math.max(W,we,Se,Ge);return new u(st,Ct,it-st,Ve-Ct)},he=function(N,W,ee,se,ue,we,xe,Se){var We,Ge,st,it,Ct,Ve,fe,Ft,xt,Qe,ot,lt,ct,Tt,qe=ee-N,Je=se-W,ht=ue-ee,_t=we-se,Mt=xe-ue,Rt=Se-we;for(Ge=0;Ge<41;Ge++)xt=(fe=(st=N+(We=Ge/40)*qe)+We*((Ct=ee+We*ht)-st))+We*(Ct+We*(ue+We*Mt-Ct)-fe),Qe=(Ft=(it=W+We*Je)+We*((Ve=se+We*_t)-it))+We*(Ve+We*(we+We*Rt-Ve)-Ft),Ge==0?(ot=xt,lt=Qe,ct=xt,Tt=Qe):(ot=Math.min(ot,xt),lt=Math.min(lt,Qe),ct=Math.max(ct,xt),Tt=Math.max(Tt,Qe));return new u(Math.round(ot),Math.round(lt),Math.round(ct-ot),Math.round(Tt-lt))},re=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var N,W,ee=(N=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:N,lineDashOffset:W}));this.prevLineDash!==ee&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ee)}}})(Wt.API),function(n){var e=function(a){var l,u,h,p,y,_,x,v,T,R;for(u=[],h=0,p=(a+=l="\0\0\0\0".slice(a.length%4||4)).length;p>h;h+=4)(y=(a.charCodeAt(h)<<24)+(a.charCodeAt(h+1)<<16)+(a.charCodeAt(h+2)<<8)+a.charCodeAt(h+3))!==0?(_=(y=((y=((y=((y=(y-(R=y%85))/85)-(T=y%85))/85)-(v=y%85))/85)-(x=y%85))/85)%85,u.push(_+33,x+33,v+33,T+33,R+33)):u.push(122);return function(O,C){for(var V=C;V>0;V--)O.pop()}(u,l.length),String.fromCharCode.apply(String,u)+"~>"},t=function(a){var l,u,h,p,y,_=String,x="length",v=255,T="charCodeAt",R="slice",O="replace";for(a[R](-2),a=a[R](0,-2)[O](/\s/g,"")[O]("z","!!!!!"),h=[],p=0,y=(a+=l="uuuuu"[R](a[x]%5||5))[x];y>p;p+=5)u=52200625*(a[T](p)-33)+614125*(a[T](p+1)-33)+7225*(a[T](p+2)-33)+85*(a[T](p+3)-33)+(a[T](p+4)-33),h.push(v&u>>24,v&u>>16,v&u>>8,v&u);return function(C,V){for(var B=V;B>0;B--)C.pop()}(h,l[x]),_.fromCharCode.apply(_,h)},r=function(a){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((a=a.replace(/\s/g,"")).indexOf(">")!==-1&&(a=a.substr(0,a.indexOf(">"))),a.length%2&&(a+="0"),l.test(a)===!1)return"";for(var u="",h=0;h<a.length;h+=2)u+=String.fromCharCode("0x"+(a[h]+a[h+1]));return u},i=function(a){for(var l=new Uint8Array(a.length),u=a.length;u--;)l[u]=a.charCodeAt(u);return a=(l=qg(l)).reduce(function(h,p){return h+String.fromCharCode(p)},"")};n.processDataByFilters=function(a,l){var u=0,h=a||"",p=[];for(typeof(l=l||[])=="string"&&(l=[l]),u=0;u<l.length;u+=1)switch(l[u]){case"ASCII85Decode":case"/ASCII85Decode":h=t(h),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=e(h),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=r(h),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=h.split("").map(function(y){return("0"+y.charCodeAt().toString(16)).slice(-2)}).join("")+">",p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=i(h),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[u]+'" is not implemented')}return{data:h,reverseChain:p.reverse().join(" ")}}}(Wt.API),function(n){n.loadFile=function(e,t,r){return function(i,a,l){a=a!==!1,l=typeof l=="function"?l:function(){};var u=void 0;try{u=function(h,p,y){var _=new XMLHttpRequest,x=0,v=function(T){var R=T.length,O=[],C=String.fromCharCode;for(x=0;x<R;x+=1)O.push(C(255&T.charCodeAt(x)));return O.join("")};if(_.open("GET",h,!p),_.overrideMimeType("text/plain; charset=x-user-defined"),p===!1&&(_.onload=function(){_.status===200?y(v(this.responseText)):y(void 0)}),_.send(null),p&&_.status===200)return v(_.responseText)}(i,a,l)}catch{}return u}(e,t,r)},n.loadImageFile=n.loadFile}(Wt.API),function(n){function e(){return(Gt.html2canvas?Promise.resolve(Gt.html2canvas):jg(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function t(){return(Gt.DOMPurify?Promise.resolve(Gt.DOMPurify):jg(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var r=function(l){var u=Jn(l);return u==="undefined"?"undefined":u==="string"||l instanceof String?"string":u==="number"||l instanceof Number?"number":u==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":u==="object"?"object":"unknown"},i=function(l,u){var h=document.createElement(l);for(var p in u.className&&(h.className=u.className),u.innerHTML&&u.dompurify&&(h.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)h.style[p]=u.style[p];return h},a=function l(u){var h=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),p=l.convert(Promise.resolve(),h);return p=(p=p.setProgress(1,l,1,[l])).set(u)};(a.prototype=Object.create(Promise.prototype)).constructor=a,a.convert=function(l,u){return l.__proto__=u||a.prototype,l},a.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},a.prototype.from=function(l,u){return this.then(function(){switch(u=u||function(h){switch(r(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l)){case"string":return this.then(t).then(function(h){return this.set({src:i("div",{innerHTML:l,dompurify:h})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},a.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},a.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=function h(p,y){for(var _=p.nodeType===3?document.createTextNode(p.nodeValue):p.cloneNode(!1),x=p.firstChild;x;x=x.nextSibling)y!==!0&&x.nodeType===1&&x.nodeName==="SCRIPT"||_.appendChild(h(x,y));return p.nodeType===1&&(p.nodeName==="CANVAS"?(_.width=p.width,_.height=p.height,_.getContext("2d").drawImage(p,0,0)):p.nodeName!=="TEXTAREA"&&p.nodeName!=="SELECT"||(_.value=p.value),_.addEventListener("load",function(){_.scrollTop=p.scrollTop,_.scrollLeft=p.scrollLeft},!0)),_}(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},a.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(u){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,u(this.prop.container,h)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},a.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(u){var h=this.opt.jsPDF,p=this.opt.fontFaces,y=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,_=Object.assign({async:!0,allowTaint:!0,scale:y,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete _.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=p,p)for(var x=0;x<p.length;++x){var v=p[x],T=v.src.find(function(R){return R.format==="truetype"});T&&h.addFont(T.url,v.ref.name,v.ref.style)}return _.windowHeight=_.windowHeight||0,_.windowHeight=_.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):_.windowHeight,h.context2d.save(!0),u(this.prop.container,_)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},a.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},a.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},a.prototype.output=function(l,u,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(l,u):this.outputPdf(l,u)},a.prototype.outputPdf=function(l,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,u)})},a.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},a.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},a.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},a.prototype.set=function(l){if(r(l)!=="object")return this;var u=Object.keys(l||{}).map(function(h){if(h in a.template.prop)return function(){this.prop[h]=l[h]};switch(h){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[h]=l[h]}}},this);return this.then(function(){return this.thenList(u)})},a.prototype.get=function(l,u){return this.then(function(){var h=l in a.template.prop?this.prop[l]:this.opt[l];return u?u(h):h})},a.prototype.setMargin=function(l){return this.then(function(){switch(r(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},a.prototype.setPageSize=function(l){function u(h,p){return Math.floor(h*p/72*96)}return this.then(function(){(l=l||Wt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:u(l.inner.width,l.k),height:u(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},a.prototype.setProgress=function(l,u,h,p){return l!=null&&(this.progress.val=l),u!=null&&(this.progress.state=u),h!=null&&(this.progress.n=h),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},a.prototype.updateProgress=function(l,u,h,p){return this.setProgress(l?this.progress.val+l:null,u||null,h?this.progress.n+h:null,p?this.progress.stack.concat(p):null)},a.prototype.then=function(l,u){var h=this;return this.thenCore(l,u,function(p,y){return h.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(_){return h.updateProgress(null,p),_}).then(p,y).then(function(_){return h.updateProgress(1),_})})},a.prototype.thenCore=function(l,u,h){h=h||Promise.prototype.then,l&&(l=l.bind(this)),u&&(u=u.bind(this));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:a.convert(Object.assign({},this),Promise.prototype),y=h.call(p,l,u);return a.convert(y,this.__proto__)},a.prototype.thenExternal=function(l,u){return Promise.prototype.then.call(this,l,u)},a.prototype.thenList=function(l){var u=this;return l.forEach(function(h){u=u.thenCore(h)}),u},a.prototype.catch=function(l){l&&(l=l.bind(this));var u=Promise.prototype.catch.call(this,l);return a.convert(u,this)},a.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},a.prototype.error=function(l){return this.then(function(){throw new Error(l)})},a.prototype.using=a.prototype.set,a.prototype.saveAs=a.prototype.save,a.prototype.export=a.prototype.output,a.prototype.run=a.prototype.then,Wt.getPageSize=function(l,u,h){if(Jn(l)==="object"){var p=l;l=p.orientation,u=p.unit||u,h=p.format||h}u=u||"mm",h=h||"a4",l=(""+(l||"P")).toLowerCase();var y,_=(""+h).toLowerCase(),x={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":y=1;break;case"mm":y=72/25.4;break;case"cm":y=72/2.54;break;case"in":y=72;break;case"px":y=.75;break;case"pc":case"em":y=12;break;case"ex":y=6;break;default:throw"Invalid unit: "+u}var v,T=0,R=0;if(x.hasOwnProperty(_))T=x[_][1]/y,R=x[_][0]/y;else try{T=h[1],R=h[0]}catch{throw new Error("Invalid format: "+h)}if(l==="p"||l==="portrait")l="p",R>T&&(v=R,R=T,T=v);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",T>R&&(v=R,R=T,T=v)}return{width:R,height:T,unit:u,k:y,orientation:l}},n.html=function(l,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(Qg):null;var h=new a(u);return u.worker?h:h.from(l).doCallback()}}(Wt.API),Wt.API.addJS=function(n){return M2=n,this.internal.events.subscribe("postPutResources",function(){Ad=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ad+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),F2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+M2+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ad!==void 0&&F2!==void 0&&this.internal.out("/Names <</JavaScript "+Ad+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),a=0;a<i.length;a++){var l=i[a],u=r.exec(l);if(u!=null){var h=u[1];t.internal.newObjectDeferredBegin(h,!1)}t.internal.write(l)}if(this.outline.createNamedDestinations){var p=this.internal.pages.length,y=[];for(a=0;a<p;a++){var _=t.internal.newObject();y.push(_);var x=t.internal.getPageInfo(a+1);t.internal.write("<< /D["+x.objId+" 0 R /XYZ null null null]>> endobj")}var v=t.internal.newObject();for(t.internal.write("<< /Names [ "),a=0;a<y.length;a++)t.internal.write("(page_"+(a+1)+")"+y[a]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+v+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,a){var l={title:i,options:a,children:[]};return r==null&&(r=this.root),r.children.push(l),l},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,a=0;a<r.children.length;a++){var l=r.children[a];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(r)),a>0&&this.line("/Prev "+this.makeRef(r.children[a-1])),a<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[a+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var u=this.count=this.count_r({count:0},l);if(u>0&&this.line("/Count "+u),l.options&&l.options.pageNumber){var h=t.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var p=0;p<r.children.length;p++)this.renderItems(r.children[p])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var a=0;a<i.children.length;a++)r.count++,this.count_r(r,i.children[a]);return r.count}}])}(Wt.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,a,l,u){var h,p=this.decode.DCT_DECODE,y=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=l||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(h=function(_){for(var x,v=256*_.charCodeAt(4)+_.charCodeAt(5),T=_.length,R={width:0,height:0,numcomponents:1},O=4;O<T;O+=2){if(O+=v,e.indexOf(_.charCodeAt(O+1))!==-1){x=256*_.charCodeAt(O+5)+_.charCodeAt(O+6),R={width:256*_.charCodeAt(O+7)+_.charCodeAt(O+8),height:x,numcomponents:_.charCodeAt(O+9)};break}v=256*_.charCodeAt(O+2)+_.charCodeAt(O+3)}return R}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}y={data:t,width:h.width,height:h.height,colorSpace:u,bitsPerComponent:8,filter:p,index:r,alias:i}}return y}}(Wt.API);var zc,Td,j2,V2,B2,aN=function(){var n,e,t;function r(a){var l,u,h,p,y,_,x,v,T,R,O,C,V,B;for(this.data=a,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},_=null;;){switch(l=this.readUInt32(),T=(function(){var $,z;for(z=[],$=0;$<4;++$)z.push(String.fromCharCode(this.data[this.pos++]));return z}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(l);break;case"fcTL":_&&this.animation.frames.push(_),this.pos+=4,_={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},y=this.readUInt16(),p=this.readUInt16()||100,_.delay=1e3*y/p,_.disposeOp=this.data[this.pos++],_.blendOp=this.data[this.pos++],_.data=[];break;case"IDAT":case"fdAT":for(T==="fdAT"&&(this.pos+=4,l-=4),a=(_!=null?_.data:void 0)||this.imgData,C=0;0<=l?C<l:C>l;0<=l?++C:--C)a.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(h=this.palette.length/3,this.transparency.indexed=this.read(l),this.transparency.indexed.length>h)throw new Error("More transparent colors than palette size");if((R=h-this.transparency.indexed.length)>0)for(V=0;0<=R?V<R:V>R;0<=R?++V:--V)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(l)[0];break;case 2:this.transparency.rgb=this.read(l)}break;case"tEXt":x=(O=this.read(l)).indexOf(0),v=String.fromCharCode.apply(String,O.slice(0,x)),this.text[v]=String.fromCharCode.apply(String,O.slice(x+1));break;case"IEND":return _&&this.animation.frames.push(_),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(B=this.colorType)===4||B===6,u=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*u,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=l}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(a){var l,u;for(u=[],l=0;0<=a?l<a:l>a;0<=a?++l:--l)u.push(this.data[this.pos++]);return u},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(a){var l=this.pixelBitlength/8,u=new Uint8Array(this.width*this.height*l),h=0,p=this;if(a==null&&(a=this.imgData),a.length===0)return new Uint8Array(0);function y(_,x,v,T){var R,O,C,V,B,$,z,ie,D,A,M,U,I,P,F,X,pe,ae,oe,te,ne,he=Math.ceil((p.width-_)/v),re=Math.ceil((p.height-x)/T),N=p.width==he&&p.height==re;for(P=l*he,U=N?u:new Uint8Array(P*re),$=a.length,I=0,O=0;I<re&&h<$;){switch(a[h++]){case 0:for(V=pe=0;pe<P;V=pe+=1)U[O++]=a[h++];break;case 1:for(V=ae=0;ae<P;V=ae+=1)R=a[h++],B=V<l?0:U[O-l],U[O++]=(R+B)%256;break;case 2:for(V=oe=0;oe<P;V=oe+=1)R=a[h++],C=(V-V%l)/l,F=I&&U[(I-1)*P+C*l+V%l],U[O++]=(F+R)%256;break;case 3:for(V=te=0;te<P;V=te+=1)R=a[h++],C=(V-V%l)/l,B=V<l?0:U[O-l],F=I&&U[(I-1)*P+C*l+V%l],U[O++]=(R+Math.floor((B+F)/2))%256;break;case 4:for(V=ne=0;ne<P;V=ne+=1)R=a[h++],C=(V-V%l)/l,B=V<l?0:U[O-l],I===0?F=X=0:(F=U[(I-1)*P+C*l+V%l],X=C&&U[(I-1)*P+(C-1)*l+V%l]),z=B+F-X,ie=Math.abs(z-B),A=Math.abs(z-F),M=Math.abs(z-X),D=ie<=A&&ie<=M?B:A<=M?F:X,U[O++]=(R+D)%256;break;default:throw new Error("Invalid filter algorithm: "+a[h-1])}if(!N){var W=((x+I*T)*p.width+_)*l,ee=I*P;for(V=0;V<he;V+=1){for(var se=0;se<l;se+=1)u[W++]=U[ee++];W+=(v-1)*l}}I++}}return a=MC(a),p.interlaceMethod==1?(y(0,0,8,8),y(4,0,8,8),y(0,4,4,8),y(2,0,4,4),y(0,2,2,4),y(1,0,2,2),y(0,1,1,2)):y(0,0,1,1),u},r.prototype.decodePalette=function(){var a,l,u,h,p,y,_,x,v;for(u=this.palette,y=this.transparency.indexed||[],p=new Uint8Array((y.length||0)+u.length),h=0,a=0,l=_=0,x=u.length;_<x;l=_+=3)p[h++]=u[l],p[h++]=u[l+1],p[h++]=u[l+2],p[h++]=(v=y[a++])!=null?v:255;return p},r.prototype.copyToImageData=function(a,l){var u,h,p,y,_,x,v,T,R,O,C;if(h=this.colors,R=null,u=this.hasAlphaChannel,this.palette.length&&(R=(C=this._decodedPalette)!=null?C:this._decodedPalette=this.decodePalette(),h=4,u=!0),T=(p=a.data||a).length,_=R||l,y=x=0,h===1)for(;y<T;)v=R?4*l[y/4]:x,O=_[v++],p[y++]=O,p[y++]=O,p[y++]=O,p[y++]=u?_[v++]:255,x=v;else for(;y<T;)v=R?4*l[y/4]:x,p[y++]=_[v++],p[y++]=_[v++],p[y++]=_[v++],p[y++]=u?_[v++]:255,x=v},r.prototype.decode=function(){var a;return a=new Uint8Array(this.width*this.height*4),this.copyToImageData(a,this.decodePixels()),a};var i=function(){if(Object.prototype.toString.call(Gt)==="[object Window]"){try{e=Gt.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),n=function(a){var l;if(i()===!0)return t.width=a.width,t.height=a.height,t.clearRect(0,0,a.width,a.height),t.putImageData(a,0,0),(l=new Image).src=e.toDataURL(),l;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(a){var l,u,h,p,y,_,x,v;if(this.animation){for(v=[],u=y=0,_=(x=this.animation.frames).length;y<_;u=++y)l=x[u],h=a.createImageData(l.width,l.height),p=this.decodePixels(new Uint8Array(l.data)),this.copyToImageData(h,p),l.imageData=h,v.push(l.image=n(h));return v}},r.prototype.renderFrame=function(a,l){var u,h,p;return u=(h=this.animation.frames)[l],p=h[l-1],l===0&&a.clearRect(0,0,this.width,this.height),(p!=null?p.disposeOp:void 0)===1?a.clearRect(p.xOffset,p.yOffset,p.width,p.height):(p!=null?p.disposeOp:void 0)===2&&a.putImageData(p.imageData,p.xOffset,p.yOffset),u.blendOp===0&&a.clearRect(u.xOffset,u.yOffset,u.width,u.height),a.drawImage(u.image,u.xOffset,u.yOffset)},r.prototype.animate=function(a){var l,u,h,p,y,_,x=this;return u=0,_=this.animation,p=_.numFrames,h=_.frames,y=_.numPlays,(l=function(){var v,T;if(v=u++%p,T=h[v],x.renderFrame(a,v),p>1&&u/p<y)return x.animation._timeout=setTimeout(l,T.delay)})()},r.prototype.stopAnimation=function(){var a;return clearTimeout((a=this.animation)!=null?a._timeout:void 0)},r.prototype.render=function(a){var l,u;return a._png&&a._png.stopAnimation(),a._png=this,a.width=this.width,a.height=this.height,l=a.getContext("2d"),this.animation?(this.decodeFrames(l),this.animate(l)):(u=l.createImageData(this.width,this.height),this.copyToImageData(u,this.decodePixels()),l.putImageData(u,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function sN(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],a=i>>7,l=1<<(7&i)+1;n[e++],n[e++];var u=null,h=null;a&&(u=e,h=l,e+=3*l);var p=!0,y=[],_=0,x=null,v=0,T=null;for(this.width=t,this.height=r;p&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,T=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((I=n[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var R=n[e++];_=n[e++]|n[e++]<<8,x=n[e++],!(1&R)&&(x=null),v=R>>2&7,e++;break;case 254:for(;;){if(!((I=n[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var O=n[e++]|n[e++]<<8,C=n[e++]|n[e++]<<8,V=n[e++]|n[e++]<<8,B=n[e++]|n[e++]<<8,$=n[e++],z=$>>6&1,ie=1<<(7&$)+1,D=u,A=h,M=!1;$>>7&&(M=!0,D=e,A=ie,e+=3*ie);var U=e;for(e++;;){var I;if(!((I=n[e++])>=0))throw Error("Invalid block size");if(I===0)break;e+=I}y.push({x:O,y:C,width:V,height:B,has_local_palette:M,palette_offset:D,palette_size:A,data_offset:U,data_length:e-U,transparent_index:x,interlaced:!!z,delay:_,disposal:v});break;case 59:p=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return y.length},this.loopCount=function(){return T},this.frameInfo=function(P){if(P<0||P>=y.length)throw new Error("Frame index out of range.");return y[P]},this.decodeAndBlitFrameBGRA=function(P,F){var X=this.frameInfo(P),pe=X.width*X.height,ae=new Uint8Array(pe);U2(n,X.data_offset,ae,pe);var oe=X.palette_offset,te=X.transparent_index;te===null&&(te=256);var ne=X.width,he=t-ne,re=ne,N=4*(X.y*t+X.x),W=4*((X.y+X.height)*t+X.x),ee=N,se=4*he;X.interlaced===!0&&(se+=4*t*7);for(var ue=8,we=0,xe=ae.length;we<xe;++we){var Se=ae[we];if(re===0&&(re=ne,(ee+=se)>=W&&(se=4*he+4*t*(ue-1),ee=N+(ne+he)*(ue<<1),ue>>=1)),Se===te)ee+=4;else{var We=n[oe+3*Se],Ge=n[oe+3*Se+1],st=n[oe+3*Se+2];F[ee++]=st,F[ee++]=Ge,F[ee++]=We,F[ee++]=255}--re}},this.decodeAndBlitFrameRGBA=function(P,F){var X=this.frameInfo(P),pe=X.width*X.height,ae=new Uint8Array(pe);U2(n,X.data_offset,ae,pe);var oe=X.palette_offset,te=X.transparent_index;te===null&&(te=256);var ne=X.width,he=t-ne,re=ne,N=4*(X.y*t+X.x),W=4*((X.y+X.height)*t+X.x),ee=N,se=4*he;X.interlaced===!0&&(se+=4*t*7);for(var ue=8,we=0,xe=ae.length;we<xe;++we){var Se=ae[we];if(re===0&&(re=ne,(ee+=se)>=W&&(se=4*he+4*t*(ue-1),ee=N+(ne+he)*(ue<<1),ue>>=1)),Se===te)ee+=4;else{var We=n[oe+3*Se],Ge=n[oe+3*Se+1],st=n[oe+3*Se+2];F[ee++]=We,F[ee++]=Ge,F[ee++]=st,F[ee++]=255}--re}}}function U2(n,e,t,r){for(var i=n[e++],a=1<<i,l=a+1,u=l+1,h=i+1,p=(1<<h)-1,y=0,_=0,x=0,v=n[e++],T=new Int32Array(4096),R=null;;){for(;y<16&&v!==0;)_|=n[e++]<<y,y+=8,v===1?v=n[e++]:--v;if(y<h)break;var O=_&p;if(_>>=h,y-=h,O!==a){if(O===l)break;for(var C=O<u?O:R,V=0,B=C;B>a;)B=T[B]>>8,++V;var $=B;if(x+V+(C!==O?1:0)>r)return void tr.log("Warning, gif stream longer than expected.");t[x++]=$;var z=x+=V;for(C!==O&&(t[x++]=$),B=C;V--;)B=T[B],t[--z]=255&B,B>>=8;R!==null&&u<4096&&(T[u++]=R<<8|$,u>=p+1&&h<12&&(++h,p=p<<1|1)),R=O}else u=l+1,p=(1<<(h=i+1))-1,R=null}return x!==r&&tr.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function og(n){var e,t,r,i,a,l=Math.floor,u=new Array(64),h=new Array(64),p=new Array(64),y=new Array(64),_=new Array(65535),x=new Array(65535),v=new Array(64),T=new Array(64),R=[],O=0,C=7,V=new Array(64),B=new Array(64),$=new Array(64),z=new Array(256),ie=new Array(2048),D=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],A=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],U=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],P=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],F=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],pe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ae(N,W){for(var ee=0,se=0,ue=new Array,we=1;we<=16;we++){for(var xe=1;xe<=N[we];xe++)ue[W[se]]=[],ue[W[se]][0]=ee,ue[W[se]][1]=we,se++,ee++;ee*=2}return ue}function oe(N){for(var W=N[0],ee=N[1]-1;ee>=0;)W&1<<ee&&(O|=1<<C),ee--,--C<0&&(O==255?(te(255),te(0)):te(O),C=7,O=0)}function te(N){R.push(N)}function ne(N){te(N>>8&255),te(255&N)}function he(N,W,ee,se,ue){for(var we,xe=ue[0],Se=ue[240],We=function(Qe,ot){var lt,ct,Tt,qe,Je,ht,_t,Mt,Rt,Nt,dt=0;for(Rt=0;Rt<8;++Rt){lt=Qe[dt],ct=Qe[dt+1],Tt=Qe[dt+2],qe=Qe[dt+3],Je=Qe[dt+4],ht=Qe[dt+5],_t=Qe[dt+6];var jn=lt+(Mt=Qe[dt+7]),nn=lt-Mt,ur=ct+_t,fn=ct-_t,dn=Tt+ht,gr=Tt-ht,Zt=qe+Je,ii=qe-Je,Ln=jn+Zt,nr=jn-Zt,vr=ur+dn,En=ur-dn;Qe[dt]=Ln+vr,Qe[dt+4]=Ln-vr;var Dt=.707106781*(En+nr);Qe[dt+2]=nr+Dt,Qe[dt+6]=nr-Dt;var mn=.382683433*((Ln=ii+gr)-(En=fn+nn)),vi=.5411961*Ln+mn,me=1.306562965*En+mn,Ie=.707106781*(vr=gr+fn),Fe=nn+Ie,Le=nn-Ie;Qe[dt+5]=Le+vi,Qe[dt+3]=Le-vi,Qe[dt+1]=Fe+me,Qe[dt+7]=Fe-me,dt+=8}for(dt=0,Rt=0;Rt<8;++Rt){lt=Qe[dt],ct=Qe[dt+8],Tt=Qe[dt+16],qe=Qe[dt+24],Je=Qe[dt+32],ht=Qe[dt+40],_t=Qe[dt+48];var pt=lt+(Mt=Qe[dt+56]),wt=lt-Mt,Et=ct+_t,ut=ct-_t,mt=Tt+ht,rt=Tt-ht,jt=qe+Je,zt=qe-Je,un=pt+jt,An=pt-jt,Jt=Et+mt,on=Et-mt;Qe[dt]=un+Jt,Qe[dt+32]=un-Jt;var an=.707106781*(on+An);Qe[dt+16]=An+an,Qe[dt+48]=An-an;var Sr=.382683433*((un=zt+rt)-(on=ut+wt)),zr=.5411961*un+Sr,yr=1.306562965*on+Sr,cr=.707106781*(Jt=rt+ut),Di=wt+cr,yi=wt-cr;Qe[dt+40]=yi+zr,Qe[dt+24]=yi-zr,Qe[dt+8]=Di+yr,Qe[dt+56]=Di-yr,dt++}for(Rt=0;Rt<64;++Rt)Nt=Qe[Rt]*ot[Rt],v[Rt]=Nt>0?Nt+.5|0:Nt-.5|0;return v}(N,W),Ge=0;Ge<64;++Ge)T[D[Ge]]=We[Ge];var st=T[0]-ee;ee=T[0],st==0?oe(se[0]):(oe(se[x[we=32767+st]]),oe(_[we]));for(var it=63;it>0&&T[it]==0;)it--;if(it==0)return oe(xe),ee;for(var Ct,Ve=1;Ve<=it;){for(var fe=Ve;T[Ve]==0&&Ve<=it;)++Ve;var Ft=Ve-fe;if(Ft>=16){Ct=Ft>>4;for(var xt=1;xt<=Ct;++xt)oe(Se);Ft&=15}we=32767+T[Ve],oe(ue[(Ft<<4)+x[we]]),oe(_[we]),Ve++}return it!=63&&oe(xe),ee}function re(N){N=Math.min(Math.max(N,1),100),a!=N&&(function(W){for(var ee=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],se=0;se<64;se++){var ue=l((ee[se]*W+50)/100);ue=Math.min(Math.max(ue,1),255),u[D[se]]=ue}for(var we=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],xe=0;xe<64;xe++){var Se=l((we[xe]*W+50)/100);Se=Math.min(Math.max(Se,1),255),h[D[xe]]=Se}for(var We=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ge=0,st=0;st<8;st++)for(var it=0;it<8;it++)p[Ge]=1/(u[D[Ge]]*We[st]*We[it]*8),y[Ge]=1/(h[D[Ge]]*We[st]*We[it]*8),Ge++}(N<50?Math.floor(5e3/N):Math.floor(200-2*N)),a=N)}this.encode=function(N,W){W&&re(W),R=new Array,O=0,C=7,ne(65496),ne(65504),ne(16),te(74),te(70),te(73),te(70),te(0),te(1),te(1),te(0),ne(1),ne(1),te(0),te(0),function(){ne(65499),ne(132),te(0);for(var ct=0;ct<64;ct++)te(u[ct]);te(1);for(var Tt=0;Tt<64;Tt++)te(h[Tt])}(),function(ct,Tt){ne(65472),ne(17),te(8),ne(Tt),ne(ct),te(3),te(1),te(17),te(0),te(2),te(17),te(1),te(3),te(17),te(1)}(N.width,N.height),function(){ne(65476),ne(418),te(0);for(var ct=0;ct<16;ct++)te(A[ct+1]);for(var Tt=0;Tt<=11;Tt++)te(M[Tt]);te(16);for(var qe=0;qe<16;qe++)te(U[qe+1]);for(var Je=0;Je<=161;Je++)te(I[Je]);te(1);for(var ht=0;ht<16;ht++)te(P[ht+1]);for(var _t=0;_t<=11;_t++)te(F[_t]);te(17);for(var Mt=0;Mt<16;Mt++)te(X[Mt+1]);for(var Rt=0;Rt<=161;Rt++)te(pe[Rt])}(),ne(65498),ne(12),te(3),te(1),te(0),te(2),te(17),te(3),te(17),te(0),te(63),te(0);var ee=0,se=0,ue=0;O=0,C=7,this.encode.displayName="_encode_";for(var we,xe,Se,We,Ge,st,it,Ct,Ve,fe=N.data,Ft=N.width,xt=N.height,Qe=4*Ft,ot=0;ot<xt;){for(we=0;we<Qe;){for(Ge=Qe*ot+we,it=-1,Ct=0,Ve=0;Ve<64;Ve++)st=Ge+(Ct=Ve>>3)*Qe+(it=4*(7&Ve)),ot+Ct>=xt&&(st-=Qe*(ot+1+Ct-xt)),we+it>=Qe&&(st-=we+it-Qe+4),xe=fe[st++],Se=fe[st++],We=fe[st++],V[Ve]=(ie[xe]+ie[Se+256>>0]+ie[We+512>>0]>>16)-128,B[Ve]=(ie[xe+768>>0]+ie[Se+1024>>0]+ie[We+1280>>0]>>16)-128,$[Ve]=(ie[xe+1280>>0]+ie[Se+1536>>0]+ie[We+1792>>0]>>16)-128;ee=he(V,p,ee,e,r),se=he(B,y,se,t,i),ue=he($,y,ue,t,i),we+=32}ot+=8}if(C>=0){var lt=[];lt[1]=C+1,lt[0]=(1<<C+1)-1,oe(lt)}return ne(65497),new Uint8Array(R)},n=n||50,function(){for(var N=String.fromCharCode,W=0;W<256;W++)z[W]=N(W)}(),e=ae(A,M),t=ae(P,F),r=ae(U,I),i=ae(X,pe),function(){for(var N=1,W=2,ee=1;ee<=15;ee++){for(var se=N;se<W;se++)x[32767+se]=ee,_[32767+se]=[],_[32767+se][1]=ee,_[32767+se][0]=se;for(var ue=-(W-1);ue<=-N;ue++)x[32767+ue]=ee,_[32767+ue]=[],_[32767+ue][1]=ee,_[32767+ue][0]=W-1+ue;N<<=1,W<<=1}}(),function(){for(var N=0;N<256;N++)ie[N]=19595*N,ie[N+256>>0]=38470*N,ie[N+512>>0]=7471*N+32768,ie[N+768>>0]=-11059*N,ie[N+1024>>0]=-21709*N,ie[N+1280>>0]=32768*N+8421375,ie[N+1536>>0]=-27439*N,ie[N+1792>>0]=-5329*N}(),re(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Qa(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function z2(n){function e(A){if(!A)throw Error("assert :P")}function t(A,M,U){for(var I=0;4>I;I++)if(A[M+I]!=U.charCodeAt(I))return!0;return!1}function r(A,M,U,I,P){for(var F=0;F<P;F++)A[M+F]=U[I+F]}function i(A,M,U,I){for(var P=0;P<I;P++)A[M+P]=U}function a(A){return new Int32Array(A)}function l(A,M){for(var U=[],I=0;I<A;I++)U.push(new M);return U}function u(A,M){var U=[];return function I(P,F,X){for(var pe=X[F],ae=0;ae<pe&&(P.push(X.length>F+1?[]:new M),!(X.length<F+1));ae++)I(P[ae],F+1,X)}(U,0,A),U}var h=function(){var A=this;function M(f,g){for(var S=1<<g-1>>>0;f&S;)S>>>=1;return S?(f&S-1)+S:f}function U(f,g,S,L,q){e(!(L%S));do f[g+(L-=S)]=q;while(0<L)}function I(f,g,S,L,q){if(e(2328>=q),512>=q)var G=a(512);else if((G=a(q))==null)return 0;return function(Q,Y,Z,le,ve,Ce){var Ne,Te,$e=Y,je=1<<Z,_e=a(16),be=a(16);for(e(ve!=0),e(le!=null),e(Q!=null),e(0<Z),Te=0;Te<ve;++Te){if(15<le[Te])return 0;++_e[le[Te]]}if(_e[0]==ve)return 0;for(be[1]=0,Ne=1;15>Ne;++Ne){if(_e[Ne]>1<<Ne)return 0;be[Ne+1]=be[Ne]+_e[Ne]}for(Te=0;Te<ve;++Te)Ne=le[Te],0<le[Te]&&(Ce[be[Ne]++]=Te);if(be[15]==1)return(le=new P).g=0,le.value=Ce[0],U(Q,$e,1,je,le),je;var ze,Ue=-1,He=je-1,bt=0,vt=1,Vt=1,yt=1<<Z;for(Te=0,Ne=1,ve=2;Ne<=Z;++Ne,ve<<=1){if(vt+=Vt<<=1,0>(Vt-=_e[Ne]))return 0;for(;0<_e[Ne];--_e[Ne])(le=new P).g=Ne,le.value=Ce[Te++],U(Q,$e+bt,ve,yt,le),bt=M(bt,Ne)}for(Ne=Z+1,ve=2;15>=Ne;++Ne,ve<<=1){if(vt+=Vt<<=1,0>(Vt-=_e[Ne]))return 0;for(;0<_e[Ne];--_e[Ne]){if(le=new P,(bt&He)!=Ue){for($e+=yt,ze=1<<(Ue=Ne)-Z;15>Ue&&!(0>=(ze-=_e[Ue]));)++Ue,ze<<=1;je+=yt=1<<(ze=Ue-Z),Q[Y+(Ue=bt&He)].g=ze+Z,Q[Y+Ue].value=$e-Y-Ue}le.g=Ne-Z,le.value=Ce[Te++],U(Q,$e+(bt>>Z),ve,yt,le),bt=M(bt,Ne)}}return vt!=2*be[15]-1?0:je}(f,g,S,L,q,G)}function P(){this.value=this.g=0}function F(){this.value=this.g=0}function X(){this.G=l(5,P),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(dr,F)}function pe(f,g,S,L){e(f!=null),e(g!=null),e(2147483648>L),f.Ca=254,f.I=0,f.b=-8,f.Ka=0,f.oa=g,f.pa=S,f.Jd=g,f.Yc=S+L,f.Zc=4<=L?S+L-4+1:S,we(f)}function ae(f,g){for(var S=0;0<g--;)S|=Se(f,128)<<g;return S}function oe(f,g){var S=ae(f,g);return xe(f)?-S:S}function te(f,g,S,L){var q,G=0;for(e(f!=null),e(g!=null),e(4294967288>L),f.Sb=L,f.Ra=0,f.u=0,f.h=0,4<L&&(L=4),q=0;q<L;++q)G+=g[S+q]<<8*q;f.Ra=G,f.bb=L,f.oa=g,f.pa=S}function ne(f){for(;8<=f.u&&f.bb<f.Sb;)f.Ra>>>=8,f.Ra+=f.oa[f.pa+f.bb]<<Nl-8>>>0,++f.bb,f.u-=8;ee(f)&&(f.h=1,f.u=0)}function he(f,g){if(e(0<=g),!f.h&&g<=Cl){var S=W(f)&kl[g];return f.u+=g,ne(f),S}return f.h=1,f.u=0}function re(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function N(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(f){return f.Ra>>>(f.u&Nl-1)>>>0}function ee(f){return e(f.bb<=f.Sb),f.h||f.bb==f.Sb&&f.u>Nl}function se(f,g){f.u=g,f.h=ee(f)}function ue(f){f.u>=Ll&&(e(f.u>=Ll),ne(f))}function we(f){e(f!=null&&f.oa!=null),f.pa<f.Zc?(f.I=(f.oa[f.pa++]|f.I<<8)>>>0,f.b+=8):(e(f!=null&&f.oa!=null),f.pa<f.Yc?(f.b+=8,f.I=f.oa[f.pa++]|f.I<<8):f.Ka?f.b=0:(f.I<<=8,f.b+=8,f.Ka=1))}function xe(f){return ae(f,1)}function Se(f,g){var S=f.Ca;0>f.b&&we(f);var L=f.b,q=S*g>>>8,G=(f.I>>>L>q)+0;for(G?(S-=q,f.I-=q+1<<L>>>0):S=q+1,L=S,q=0;256<=L;)q+=8,L>>=8;return L=7^q+Si[L],f.b-=L,f.Ca=(S<<L)-1,G}function We(f,g,S){f[g+0]=S>>24&255,f[g+1]=S>>16&255,f[g+2]=S>>8&255,f[g+3]=S>>0&255}function Ge(f,g){return f[g+0]<<0|f[g+1]<<8}function st(f,g){return Ge(f,g)|f[g+2]<<16}function it(f,g){return Ge(f,g)|Ge(f,g+2)<<16}function Ct(f,g){var S=1<<g;return e(f!=null),e(0<g),f.X=a(S),f.X==null?0:(f.Mb=32-g,f.Xa=g,1)}function Ve(f,g){e(f!=null),e(g!=null),e(f.Xa==g.Xa),r(g.X,0,f.X,0,1<<g.Xa)}function fe(){this.X=[],this.Xa=this.Mb=0}function Ft(f,g,S,L){e(S!=null),e(L!=null);var q=S[0],G=L[0];return q==0&&(q=(f*G+g/2)/g),G==0&&(G=(g*q+f/2)/f),0>=q||0>=G?0:(S[0]=q,L[0]=G,1)}function xt(f,g){return f+(1<<g)-1>>>g}function Qe(f,g){return((4278255360&f)+(4278255360&g)>>>0&4278255360)+((16711935&f)+(16711935&g)>>>0&16711935)>>>0}function ot(f,g){A[g]=function(S,L,q,G,Q,Y,Z){var le;for(le=0;le<Q;++le){var ve=A[f](Y[Z+le-1],q,G+le);Y[Z+le]=Qe(S[L+le],ve)}}}function lt(){this.ud=this.hd=this.jd=0}function ct(f,g){return((4278124286&(f^g))>>>1)+(f&g)>>>0}function Tt(f){return 0<=f&&256>f?f:0>f?0:255<f?255:void 0}function qe(f,g){return Tt(f+(f-g+.5>>1))}function Je(f,g,S){return Math.abs(g-S)-Math.abs(f-S)}function ht(f,g,S,L,q,G,Q){for(L=G[Q-1],S=0;S<q;++S)G[Q+S]=L=Qe(f[g+S],L)}function _t(f,g,S,L,q){var G;for(G=0;G<S;++G){var Q=f[g+G],Y=Q>>8&255,Z=16711935&(Z=(Z=16711935&Q)+((Y<<16)+Y));L[q+G]=(4278255360&Q)+Z>>>0}}function Mt(f,g){g.jd=f>>0&255,g.hd=f>>8&255,g.ud=f>>16&255}function Rt(f,g,S,L,q,G){var Q;for(Q=0;Q<L;++Q){var Y=g[S+Q],Z=Y>>>8,le=Y,ve=255&(ve=(ve=Y>>>16)+((f.jd<<24>>24)*(Z<<24>>24)>>>5));le=255&(le=(le=le+((f.hd<<24>>24)*(Z<<24>>24)>>>5))+((f.ud<<24>>24)*(ve<<24>>24)>>>5)),q[G+Q]=(4278255360&Y)+(ve<<16)+le}}function Nt(f,g,S,L,q){A[g]=function(G,Q,Y,Z,le,ve,Ce,Ne,Te){for(Z=Ce;Z<Ne;++Z)for(Ce=0;Ce<Te;++Ce)le[ve++]=q(Y[L(G[Q++])])},A[f]=function(G,Q,Y,Z,le,ve,Ce){var Ne=8>>G.b,Te=G.Ea,$e=G.K[0],je=G.w;if(8>Ne)for(G=(1<<G.b)-1,je=(1<<Ne)-1;Q<Y;++Q){var _e,be=0;for(_e=0;_e<Te;++_e)_e&G||(be=L(Z[le++])),ve[Ce++]=q($e[be&je]),be>>=Ne}else A["VP8LMapColor"+S](Z,le,$e,je,ve,Ce,Q,Y,Te)}}function dt(f,g,S,L,q){for(S=g+S;g<S;){var G=f[g++];L[q++]=G>>16&255,L[q++]=G>>8&255,L[q++]=G>>0&255}}function jn(f,g,S,L,q){for(S=g+S;g<S;){var G=f[g++];L[q++]=G>>16&255,L[q++]=G>>8&255,L[q++]=G>>0&255,L[q++]=G>>24&255}}function nn(f,g,S,L,q){for(S=g+S;g<S;){var G=(Q=f[g++])>>16&240|Q>>12&15,Q=Q>>0&240|Q>>28&15;L[q++]=G,L[q++]=Q}}function ur(f,g,S,L,q){for(S=g+S;g<S;){var G=(Q=f[g++])>>16&248|Q>>13&7,Q=Q>>5&224|Q>>3&31;L[q++]=G,L[q++]=Q}}function fn(f,g,S,L,q){for(S=g+S;g<S;){var G=f[g++];L[q++]=G>>0&255,L[q++]=G>>8&255,L[q++]=G>>16&255}}function dn(f,g,S,L,q,G){if(G==0)for(S=g+S;g<S;)We(L,((G=f[g++])[0]>>24|G[1]>>8&65280|G[2]<<8&16711680|G[3]<<24)>>>0),q+=32;else r(L,q,f,g,S)}function gr(f,g){A[g][0]=A[f+"0"],A[g][1]=A[f+"1"],A[g][2]=A[f+"2"],A[g][3]=A[f+"3"],A[g][4]=A[f+"4"],A[g][5]=A[f+"5"],A[g][6]=A[f+"6"],A[g][7]=A[f+"7"],A[g][8]=A[f+"8"],A[g][9]=A[f+"9"],A[g][10]=A[f+"10"],A[g][11]=A[f+"11"],A[g][12]=A[f+"12"],A[g][13]=A[f+"13"],A[g][14]=A[f+"0"],A[g][15]=A[f+"0"]}function Zt(f){return f==jl||f==Ks||f==Ru||f==Du}function ii(){this.eb=[],this.size=this.A=this.fb=0}function Ln(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function nr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ii,this.f.kb=new Ln,this.sd=null}function vr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function En(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Dt(f){return alert("todo:WebPSamplerProcessPlane"),f.T}function mn(f,g){var S=f.T,L=g.ba.f.RGBA,q=L.eb,G=L.fb+f.ka*L.A,Q=Bi[g.ba.S],Y=f.y,Z=f.O,le=f.f,ve=f.N,Ce=f.ea,Ne=f.W,Te=g.cc,$e=g.dc,je=g.Mc,_e=g.Nc,be=f.ka,ze=f.ka+f.T,Ue=f.U,He=Ue+1>>1;for(be==0?Q(Y,Z,null,null,le,ve,Ce,Ne,le,ve,Ce,Ne,q,G,null,null,Ue):(Q(g.ec,g.fc,Y,Z,Te,$e,je,_e,le,ve,Ce,Ne,q,G-L.A,q,G,Ue),++S);be+2<ze;be+=2)Te=le,$e=ve,je=Ce,_e=Ne,ve+=f.Rc,Ne+=f.Rc,G+=2*L.A,Q(Y,(Z+=2*f.fa)-f.fa,Y,Z,Te,$e,je,_e,le,ve,Ce,Ne,q,G-L.A,q,G,Ue);return Z+=f.fa,f.j+ze<f.o?(r(g.ec,g.fc,Y,Z,Ue),r(g.cc,g.dc,le,ve,He),r(g.Mc,g.Nc,Ce,Ne,He),S--):1&ze||Q(Y,Z,null,null,le,ve,Ce,Ne,le,ve,Ce,Ne,q,G+L.A,null,null,Ue),S}function vi(f,g,S){var L=f.F,q=[f.J];if(L!=null){var G=f.U,Q=g.ba.S,Y=Q==Lu||Q==Ru;g=g.ba.f.RGBA;var Z=[0],le=f.ka;Z[0]=f.T,f.Kb&&(le==0?--Z[0]:(--le,q[0]-=f.width),f.j+f.ka+f.T==f.o&&(Z[0]=f.o-f.j-le));var ve=g.eb;le=g.fb+le*g.A,f=Un(L,q[0],f.width,G,Z,ve,le+(Y?0:3),g.A),e(S==Z),f&&Zt(Q)&&ji(ve,le,Y,G,Z,g.A)}return 0}function me(f){var g=f.ma,S=g.ba.S,L=11>S,q=S==ms||S==Nu||S==Lu||S==Yn||S==12||Zt(S);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!Il(g.Oa,f,q?11:12))return 0;if(q&&Zt(S)&&Ye(),f.da)alert("todo:use_scaling");else{if(L){if(g.Ib=Dt,f.Kb){if(S=f.U+1>>1,g.memory=a(f.U+2*S),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+f.U,g.Mc=g.cc,g.Nc=g.dc+S,g.Ib=mn,Ye()}}else alert("todo:EmitYUV");q&&(g.Jb=vi,L&&Pe())}if(L&&!Jr){for(f=0;256>f;++f)Ui[f]=89858*(f-128)+Ho>>Ma,zi[f]=-22014*(f-128)+Ho,zl[f]=-45773*(f-128),Xs[f]=113618*(f-128)+Ho>>Ma;for(f=zn;f<Wn;++f)g=76283*(f-16)+Ho>>Ma,Ec[f-zn]=Dn(g,255),Ff[f-zn]=Dn(g+8>>4,15);Jr=1}return 1}function Ie(f){var g=f.ma,S=f.U,L=f.T;return e(!(1&f.ka)),0>=S||0>=L?0:(S=g.Ib(f,g),g.Jb!=null&&g.Jb(f,g,S),g.Dc+=S,1)}function Fe(f){f.ma.memory=null}function Le(f,g,S,L){return he(f,8)!=47?0:(g[0]=he(f,14)+1,S[0]=he(f,14)+1,L[0]=he(f,1),he(f,3)!=0?0:!f.h)}function pt(f,g){if(4>f)return f+1;var S=f-2>>1;return(2+(1&f)<<S)+he(g,S)+1}function wt(f,g){return 120<g?g-120:1<=(S=((S=Up[g-1])>>4)*f+(8-(15&S)))?S:1;var S}function Et(f,g,S){var L=W(S),q=f[g+=255&L].g-8;return 0<q&&(se(S,S.u+8),L=W(S),g+=f[g].value,g+=L&(1<<q)-1),se(S,S.u+f[g].g),f[g].value}function ut(f,g,S){return S.g+=f.g,S.value+=f.value<<g>>>0,e(8>=S.g),f.g}function mt(f,g,S){var L=f.xc;return e((g=L==0?0:f.vc[f.md*(S>>L)+(g>>L)])<f.Wb),f.Ya[g]}function rt(f,g,S,L){var q=f.ab,G=f.c*g,Q=f.C;g=Q+g;var Y=S,Z=L;for(L=f.Ta,S=f.Ua;0<q--;){var le=f.gc[q],ve=Q,Ce=g,Ne=Y,Te=Z,$e=(Z=L,Y=S,le.Ea);switch(e(ve<Ce),e(Ce<=le.nc),le.hc){case 2:wc(Ne,Te,(Ce-ve)*$e,Z,Y);break;case 0:var je=ve,_e=Ce,be=Z,ze=Y,Ue=(yt=le).Ea;je==0&&(zs(Ne,Te,null,null,1,be,ze),ht(Ne,Te+1,0,0,Ue-1,be,ze+1),Te+=Ue,ze+=Ue,++je);for(var He=1<<yt.b,bt=He-1,vt=xt(Ue,yt.b),Vt=yt.K,yt=yt.w+(je>>yt.b)*vt;je<_e;){var In=Vt,Pn=yt,yn=1;for(ka(Ne,Te,be,ze-Ue,1,be,ze);yn<Ue;){var cn=(yn&~bt)+He;cn>Ue&&(cn=Ue),(0,ca[In[Pn++]>>8&15])(Ne,Te+ +yn,be,ze+yn-Ue,cn-yn,be,ze+yn),yn=cn}Te+=Ue,ze+=Ue,++je&bt||(yt+=vt)}Ce!=le.nc&&r(Z,Y-$e,Z,Y+(Ce-ve-1)*$e,$e);break;case 1:for($e=Ne,_e=Te,Ue=(Ne=le.Ea)-(ze=Ne&~(be=(Te=1<<le.b)-1)),je=xt(Ne,le.b),He=le.K,le=le.w+(ve>>le.b)*je;ve<Ce;){for(bt=He,vt=le,Vt=new lt,yt=_e+ze,In=_e+Ne;_e<yt;)Mt(bt[vt++],Vt),fs(Vt,$e,_e,Te,Z,Y),_e+=Te,Y+=Te;_e<In&&(Mt(bt[vt++],Vt),fs(Vt,$e,_e,Ue,Z,Y),_e+=Ue,Y+=Ue),++ve&be||(le+=je)}break;case 3:if(Ne==Z&&Te==Y&&0<le.b){for(_e=Z,Ne=$e=Y+(Ce-ve)*$e-(ze=(Ce-ve)*xt(le.Ea,le.b)),Te=Z,be=Y,je=[],ze=(Ue=ze)-1;0<=ze;--ze)je[ze]=Te[be+ze];for(ze=Ue-1;0<=ze;--ze)_e[Ne+ze]=je[ze];Ei(le,ve,Ce,Z,$e,Z,Y)}else Ei(le,ve,Ce,Ne,Te,Z,Y)}Y=L,Z=S}Z!=S&&r(L,S,Y,Z,G)}function jt(f,g){var S=f.V,L=f.Ba+f.c*f.C,q=g-f.C;if(e(g<=f.l.o),e(16>=q),0<q){var G=f.l,Q=f.Ta,Y=f.Ua,Z=G.width;if(rt(f,q,S,L),q=Y=[Y],e((S=f.C)<(L=g)),e(G.v<G.va),L>G.o&&(L=G.o),S<G.j){var le=G.j-S;S=G.j,q[0]+=le*Z}if(S>=L?S=0:(q[0]+=4*G.v,G.ka=S-G.j,G.U=G.va-G.v,G.T=L-S,S=1),S){if(Y=Y[0],11>(S=f.ca).S){var ve=S.f.RGBA,Ce=(L=S.S,q=G.U,G=G.T,le=ve.eb,ve.A),Ne=G;for(ve=ve.fb+f.Ma*ve.A;0<Ne--;){var Te=Q,$e=Y,je=q,_e=le,be=ve;switch(L){case _c:Ai(Te,$e,je,_e,be);break;case ms:li(Te,$e,je,_e,be);break;case jl:li(Te,$e,je,_e,be),ji(_e,be,0,je,1,0);break;case Nf:Na(Te,$e,je,_e,be);break;case Nu:dn(Te,$e,je,_e,be,1);break;case Ks:dn(Te,$e,je,_e,be,1),ji(_e,be,0,je,1,0);break;case Lu:dn(Te,$e,je,_e,be,0);break;case Ru:dn(Te,$e,je,_e,be,0),ji(_e,be,1,je,1,0);break;case Yn:ds(Te,$e,je,_e,be);break;case Du:ds(Te,$e,je,_e,be),Qn(_e,be,je,1,0);break;case bc:Ca(Te,$e,je,_e,be);break;default:e(0)}Y+=Z,ve+=Ce}f.Ma+=G}else alert("todo:EmitRescaledRowsYUVA");e(f.Ma<=S.height)}}f.C=g,e(f.C<=f.i)}function zt(f){var g;if(0<f.ua)return 0;for(g=0;g<f.Wb;++g){var S=f.Ya[g].G,L=f.Ya[g].H;if(0<S[1][L[1]+0].g||0<S[2][L[2]+0].g||0<S[3][L[3]+0].g)return 0}return 1}function un(f,g,S,L,q,G){if(f.Z!=0){var Q=f.qd,Y=f.rd;for(e(ci[f.Z]!=null);g<S;++g)ci[f.Z](Q,Y,L,q,L,q,G),Q=L,Y=q,q+=G;f.qd=Q,f.rd=Y}}function An(f,g){var S=f.l.ma,L=S.Z==0||S.Z==1?f.l.j:f.C;if(L=f.C<L?L:f.C,e(g<=f.l.o),g>L){var q=f.l.width,G=S.ca,Q=S.tb+q*L,Y=f.V,Z=f.Ba+f.c*L,le=f.gc;e(f.ab==1),e(le[0].hc==3),Pu(le[0],L,g,Y,Z,G,Q),un(S,L,g,G,Q,q)}f.C=f.Ma=g}function Jt(f,g,S,L,q,G,Q){var Y=f.$/L,Z=f.$%L,le=f.m,ve=f.s,Ce=S+f.$,Ne=Ce;q=S+L*q;var Te=S+L*G,$e=280+ve.ua,je=f.Pb?Y:16777216,_e=0<ve.ua?ve.Wa:null,be=ve.wc,ze=Ce<Te?mt(ve,Z,Y):null;e(f.C<G),e(Te<=q);var Ue=!1;e:for(;;){for(;Ue||Ce<Te;){var He=0;if(Y>=je){var bt=Ce-S;e((je=f).Pb),je.wd=je.m,je.xd=bt,0<je.s.ua&&Ve(je.s.Wa,je.s.vb),je=Y+Sc}if(Z&be||(ze=mt(ve,Z,Y)),e(ze!=null),ze.Qb&&(g[Ce]=ze.qb,Ue=!0),!Ue)if(ue(le),ze.jc){He=le,bt=g;var vt=Ce,Vt=ze.pd[W(He)&dr-1];e(ze.jc),256>Vt.g?(se(He,He.u+Vt.g),bt[vt]=Vt.value,He=0):(se(He,He.u+Vt.g-256),e(256<=Vt.value),He=Vt.value),He==0&&(Ue=!0)}else He=Et(ze.G[0],ze.H[0],le);if(le.h)break;if(Ue||256>He){if(!Ue)if(ze.nd)g[Ce]=(ze.qb|He<<8)>>>0;else{if(ue(le),Ue=Et(ze.G[1],ze.H[1],le),ue(le),bt=Et(ze.G[2],ze.H[2],le),vt=Et(ze.G[3],ze.H[3],le),le.h)break;g[Ce]=(vt<<24|Ue<<16|He<<8|bt)>>>0}if(Ue=!1,++Ce,++Z>=L&&(Z=0,++Y,Q!=null&&Y<=G&&!(Y%16)&&Q(f,Y),_e!=null))for(;Ne<Ce;)He=g[Ne++],_e.X[(506832829*He&4294967295)>>>_e.Mb]=He}else if(280>He){if(He=pt(He-256,le),bt=Et(ze.G[4],ze.H[4],le),ue(le),bt=wt(L,bt=pt(bt,le)),le.h)break;if(Ce-S<bt||q-Ce<He)break e;for(vt=0;vt<He;++vt)g[Ce+vt]=g[Ce+vt-bt];for(Ce+=He,Z+=He;Z>=L;)Z-=L,++Y,Q!=null&&Y<=G&&!(Y%16)&&Q(f,Y);if(e(Ce<=q),Z&be&&(ze=mt(ve,Z,Y)),_e!=null)for(;Ne<Ce;)He=g[Ne++],_e.X[(506832829*He&4294967295)>>>_e.Mb]=He}else{if(!(He<$e))break e;for(Ue=He-280,e(_e!=null);Ne<Ce;)He=g[Ne++],_e.X[(506832829*He&4294967295)>>>_e.Mb]=He;He=Ce,e(!(Ue>>>(bt=_e).Xa)),g[He]=bt.X[Ue],Ue=!0}Ue||e(le.h==ee(le))}if(f.Pb&&le.h&&Ce<q)e(f.m.h),f.a=5,f.m=f.wd,f.$=f.xd,0<f.s.ua&&Ve(f.s.vb,f.s.Wa);else{if(le.h)break e;Q!=null&&Q(f,Y>G?G:Y),f.a=0,f.$=Ce-S}return 1}return f.a=3,0}function on(f){e(f!=null),f.vc=null,f.yc=null,f.Ya=null;var g=f.Wa;g!=null&&(g.X=null),f.vb=null,e(f!=null)}function an(){var f=new Tl;return f==null?null:(f.a=0,f.xb=Bl,gr("Predictor","VP8LPredictors"),gr("Predictor","VP8LPredictors_C"),gr("PredictorAdd","VP8LPredictorsAdd"),gr("PredictorAdd","VP8LPredictorsAdd_C"),wc=_t,fs=Rt,Ai=dt,li=jn,ds=nn,Ca=ur,Na=fn,A.VP8LMapColor32b=Rl,A.VP8LMapColor8b=Dl,f)}function Sr(f,g,S,L,q){var G=1,Q=[f],Y=[g],Z=L.m,le=L.s,ve=null,Ce=0;e:for(;;){if(S)for(;G&&he(Z,1);){var Ne=Q,Te=Y,$e=L,je=1,_e=$e.m,be=$e.gc[$e.ab],ze=he(_e,2);if($e.Oc&1<<ze)G=0;else{switch($e.Oc|=1<<ze,be.hc=ze,be.Ea=Ne[0],be.nc=Te[0],be.K=[null],++$e.ab,e(4>=$e.ab),ze){case 0:case 1:be.b=he(_e,3)+2,je=Sr(xt(be.Ea,be.b),xt(be.nc,be.b),0,$e,be.K),be.K=be.K[0];break;case 3:var Ue,He=he(_e,8)+1,bt=16<He?0:4<He?1:2<He?2:3;if(Ne[0]=xt(be.Ea,bt),be.b=bt,Ue=je=Sr(He,1,0,$e,be.K)){var vt,Vt=He,yt=be,In=1<<(8>>yt.b),Pn=a(In);if(Pn==null)Ue=0;else{var yn=yt.K[0],cn=yt.w;for(Pn[0]=yt.K[0][0],vt=1;vt<1*Vt;++vt)Pn[vt]=Qe(yn[cn+vt],Pn[vt-1]);for(;vt<4*In;++vt)Pn[vt]=0;yt.K[0]=null,yt.K[0]=Pn,Ue=1}}je=Ue;break;case 2:break;default:e(0)}G=je}}if(Q=Q[0],Y=Y[0],G&&he(Z,1)&&!(G=1<=(Ce=he(Z,4))&&11>=Ce)){L.a=3;break e}var qn;if(qn=G)t:{var $n,Kt,or,Pi=L,wr=Q,Nr=Y,On=Ce,hi=S,fi=Pi.m,ar=Pi.s,Lr=[null],Xr=1,qi=0,Eo=Rf[On];n:for(;;){if(hi&&he(fi,1)){var sr=he(fi,3)+2,Tr=xt(wr,sr),lo=xt(Nr,sr),ys=Tr*lo;if(!Sr(Tr,lo,0,Pi,Lr))break n;for(Lr=Lr[0],ar.xc=sr,$n=0;$n<ys;++$n){var Va=Lr[$n]>>8&65535;Lr[$n]=Va,Va>=Xr&&(Xr=Va+1)}}if(fi.h)break n;for(Kt=0;5>Kt;++Kt){var Fn=Qs[Kt];!Kt&&0<On&&(Fn+=1<<On),qi<Fn&&(qi=Fn)}var ma=l(Xr*Eo,P),Ac=Xr,_h=l(Ac,X);if(_h==null)var Ao=null;else e(65536>=Ac),Ao=_h;var To=a(qi);if(Ao==null||To==null||ma==null){Pi.a=1;break n}var el=ma;for($n=or=0;$n<Xr;++$n){var Io=Ao[$n],Ba=Io.G,tl=Io.H,ql=0,uo=1,Hl=0;for(Kt=0;5>Kt;++Kt){Fn=Qs[Kt],Ba[Kt]=el,tl[Kt]=or,!Kt&&0<On&&(Fn+=1<<On);i:{var ws,Ua=Fn,Wl=Pi,ga=To,jf=el,bh=or,Zn=0,Wo=Wl.m,xh=he(Wo,1);if(i(ga,0,0,Ua),xh){var Sh=he(Wo,1)+1,Tc=he(Wo,1),Ic=he(Wo,Tc==0?1:8);ga[Ic]=1,Sh==2&&(ga[Ic=he(Wo,8)]=1);var va=1}else{var rr=a(19),Ir=he(Wo,4)+4;if(19<Ir){Wl.a=3;var _r=0;break i}for(ws=0;ws<Ir;++ws)rr[Bp[ws]]=he(Wo,3);var $l=void 0,za=void 0,Gl=Wl,$p=rr,Rr=Ua,Pc=ga,Vu=0,ya=Gl.m,$o=8,co=l(128,P);r:for(;I(co,0,7,$p,19);){if(he(ya,1)){var Bu=2+2*he(ya,3);if(($l=2+he(ya,Bu))>Rr)break r}else $l=Rr;for(za=0;za<Rr&&$l--;){ue(ya);var kc=co[0+(127&W(ya))];se(ya,ya.u+kc.g);var _s=kc.value;if(16>_s)Pc[za++]=_s,_s!=0&&($o=_s);else{var Vf=_s==16,Eh=_s-16,Bf=xc[Eh],Ah=he(ya,Ou[Eh])+Bf;if(za+Ah>Rr)break r;for(var Uf=Vf?$o:0;0<Ah--;)Pc[za++]=Uf}}Vu=1;break r}Vu||(Gl.a=3),va=Vu}(va=va&&!Wo.h)&&(Zn=I(jf,bh,8,ga,Ua)),va&&Zn!=0?_r=Zn:(Wl.a=3,_r=0)}if(_r==0)break n;if(uo&&Lf[Kt]==1&&(uo=el[or].g==0),ql+=el[or].g,or+=_r,3>=Kt){var Kl,Cc=To[0];for(Kl=1;Kl<Fn;++Kl)To[Kl]>Cc&&(Cc=To[Kl]);Hl+=Cc}}if(Io.nd=uo,Io.Qb=0,uo&&(Io.qb=(Ba[3][tl[3]+0].value<<24|Ba[1][tl[1]+0].value<<16|Ba[2][tl[2]+0].value)>>>0,ql==0&&256>Ba[0][tl[0]+0].value&&(Io.Qb=1,Io.qb+=Ba[0][tl[0]+0].value<<8)),Io.jc=!Io.Qb&&6>Hl,Io.jc){var Uu,ho=Io;for(Uu=0;Uu<dr;++Uu){var qa=Uu,Go=ho.pd[qa],nl=ho.G[0][ho.H[0]+qa];256<=nl.value?(Go.g=nl.g+256,Go.value=nl.value):(Go.g=0,Go.value=0,qa>>=ut(nl,8,Go),qa>>=ut(ho.G[1][ho.H[1]+qa],16,Go),qa>>=ut(ho.G[2][ho.H[2]+qa],0,Go),ut(ho.G[3][ho.H[3]+qa],24,Go))}}}ar.vc=Lr,ar.Wb=Xr,ar.Ya=Ao,ar.yc=ma,qn=1;break t}qn=0}if(!(G=qn)){L.a=3;break e}if(0<Ce){if(le.ua=1<<Ce,!Ct(le.Wa,Ce)){L.a=1,G=0;break e}}else le.ua=0;var Nc=L,Lc=Q,zf=Y,Rc=Nc.s,Dc=Rc.xc;if(Nc.c=Lc,Nc.i=zf,Rc.md=xt(Lc,Dc),Rc.wc=Dc==0?-1:(1<<Dc)-1,S){L.xb=pa;break e}if((ve=a(Q*Y))==null){L.a=1,G=0;break e}G=(G=Jt(L,ve,0,Q,Y,Y,null))&&!Z.h;break e}return G?(q!=null?q[0]=ve:(e(ve==null),e(S)),L.$=0,S||on(le)):on(le),G}function zr(f,g){var S=f.c*f.i,L=S+g+16*g;return e(f.c<=g),f.V=a(L),f.V==null?(f.Ta=null,f.Ua=0,f.a=1,0):(f.Ta=f.V,f.Ua=f.Ba+S+g,1)}function yr(f,g){var S=f.C,L=g-S,q=f.V,G=f.Ba+f.c*S;for(e(g<=f.l.o);0<L;){var Q=16<L?16:L,Y=f.l.ma,Z=f.l.width,le=Z*Q,ve=Y.ca,Ce=Y.tb+Z*S,Ne=f.Ta,Te=f.Ua;rt(f,Q,q,G),pr(Ne,Te,ve,Ce,le),un(Y,S,S+Q,ve,Ce,Z),L-=Q,q+=Q*f.c,S+=Q}e(S==g),f.C=f.Ma=g}function cr(){this.ub=this.yd=this.td=this.Rb=0}function Di(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function yi(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function Oi(){this.Yb=function(){var f=[];return function g(S,L,q){for(var G=q[L],Q=0;Q<G&&(S.push(q.length>L+1?[]:0),!(q.length<L+1));Q++)g(S[Q],L+1,q)}(f,0,[3,11]),f}()}function bn(){this.jb=a(3),this.Wc=u([4,8],Oi),this.Xc=u([4,17],Oi)}function Do(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function hn(){this.ld=this.La=this.dd=this.tc=0}function Hn(){this.Na=this.la=0}function Cr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function wi(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Kn(){this.uc=this.M=this.Nb=0,this.wa=Array(new hn),this.Y=0,this.ya=Array(new wi),this.aa=0,this.l=new Oo}function qr(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Vr(){this.cb=this.a=0,this.sc="",this.m=new re,this.Od=new cr,this.Kc=new Di,this.ed=new Do,this.Qa=new yi,this.Ic=this.$c=this.Aa=0,this.D=new Kn,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,re),this.ia=0,this.pb=l(4,Cr),this.Pa=new bn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new qr),this.Hd=0,this.rb=Array(new Hn),this.sb=0,this.wa=Array(new hn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new wi),this.L=this.aa=0,this.gd=u([4,2],hn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Oo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Hr(){var f=new Vr;return f!=null&&(f.a=0,f.sc="OK",f.cb=0,f.Xb=0,Ys||(Ys=Ea)),f}function Xn(f,g,S){return f.a==0&&(f.a=g,f.sc=S,f.cb=0),0}function Os(f,g,S){return 3<=S&&f[g+0]==157&&f[g+1]==1&&f[g+2]==42}function Fs(f,g){if(f==null)return 0;if(f.a=0,f.sc="OK",g==null)return Xn(f,2,"null VP8Io passed to VP8GetHeaders()");var S=g.data,L=g.w,q=g.ha;if(4>q)return Xn(f,7,"Truncated header.");var G=S[L+0]|S[L+1]<<8|S[L+2]<<16,Q=f.Od;if(Q.Rb=!(1&G),Q.td=G>>1&7,Q.yd=G>>4&1,Q.ub=G>>5,3<Q.td)return Xn(f,3,"Incorrect keyframe parameters.");if(!Q.yd)return Xn(f,4,"Frame not displayable.");L+=3,q-=3;var Y=f.Kc;if(Q.Rb){if(7>q)return Xn(f,7,"cannot parse picture header");if(!Os(S,L,q))return Xn(f,3,"Bad code word");Y.c=16383&(S[L+4]<<8|S[L+3]),Y.Td=S[L+4]>>6,Y.i=16383&(S[L+6]<<8|S[L+5]),Y.Ud=S[L+6]>>6,L+=7,q-=7,f.za=Y.c+15>>4,f.Ub=Y.i+15>>4,g.width=Y.c,g.height=Y.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,i((G=f.Pa).jb,0,255,G.jb.length),e((G=f.Qa)!=null),G.Cb=0,G.Bb=0,G.Fb=1,i(G.Zb,0,0,G.Zb.length),i(G.Lb,0,0,G.Lb)}if(Q.ub>q)return Xn(f,7,"bad partition length");pe(G=f.m,S,L,Q.ub),L+=Q.ub,q-=Q.ub,Q.Rb&&(Y.Ld=xe(G),Y.Kd=xe(G)),Y=f.Qa;var Z,le=f.Pa;if(e(G!=null),e(Y!=null),Y.Cb=xe(G),Y.Cb){if(Y.Bb=xe(G),xe(G)){for(Y.Fb=xe(G),Z=0;4>Z;++Z)Y.Zb[Z]=xe(G)?oe(G,7):0;for(Z=0;4>Z;++Z)Y.Lb[Z]=xe(G)?oe(G,6):0}if(Y.Bb)for(Z=0;3>Z;++Z)le.jb[Z]=xe(G)?ae(G,8):255}else Y.Bb=0;if(G.Ka)return Xn(f,3,"cannot parse segment header");if((Y=f.ed).zd=xe(G),Y.Tb=ae(G,6),Y.wb=ae(G,3),Y.Pc=xe(G),Y.Pc&&xe(G)){for(le=0;4>le;++le)xe(G)&&(Y.vd[le]=oe(G,6));for(le=0;4>le;++le)xe(G)&&(Y.od[le]=oe(G,6))}if(f.L=Y.Tb==0?0:Y.zd?1:2,G.Ka)return Xn(f,3,"cannot parse filter header");var ve=q;if(q=Z=L,L=Z+ve,Y=ve,f.Xb=(1<<ae(f.m,2))-1,ve<3*(le=f.Xb))S=7;else{for(Z+=3*le,Y-=3*le,ve=0;ve<le;++ve){var Ce=S[q+0]|S[q+1]<<8|S[q+2]<<16;Ce>Y&&(Ce=Y),pe(f.Jc[+ve],S,Z,Ce),Z+=Ce,Y-=Ce,q+=3}pe(f.Jc[+le],S,Z,Y),S=Z<L?0:5}if(S!=0)return Xn(f,S,"cannot parse partitions");for(S=ae(Z=f.m,7),q=xe(Z)?oe(Z,4):0,L=xe(Z)?oe(Z,4):0,Y=xe(Z)?oe(Z,4):0,le=xe(Z)?oe(Z,4):0,Z=xe(Z)?oe(Z,4):0,ve=f.Qa,Ce=0;4>Ce;++Ce){if(ve.Cb){var Ne=ve.Zb[Ce];ve.Fb||(Ne+=S)}else{if(0<Ce){f.pb[Ce]=f.pb[0];continue}Ne=S}var Te=f.pb[Ce];Te.Sc[0]=Vl[Dn(Ne+q,127)],Te.Sc[1]=Fu[Dn(Ne+0,127)],Te.Eb[0]=2*Vl[Dn(Ne+L,127)],Te.Eb[1]=101581*Fu[Dn(Ne+Y,127)]>>16,8>Te.Eb[1]&&(Te.Eb[1]=8),Te.Qc[0]=Vl[Dn(Ne+le,117)],Te.Qc[1]=Fu[Dn(Ne+Z,127)],Te.lc=Ne+Z}if(!Q.Rb)return Xn(f,4,"Not a key frame.");for(xe(G),Q=f.Pa,S=0;4>S;++S){for(q=0;8>q;++q)for(L=0;3>L;++L)for(Y=0;11>Y;++Y)le=Se(G,qp[S][q][L][Y])?ae(G,8):Of[S][q][L][Y],Q.Wc[S][q].Yb[L][Y]=le;for(q=0;17>q;++q)Q.Xc[S][q]=Q.Wc[S][vh[q]]}return f.kc=xe(G),f.kc&&(f.Bd=ae(G,8)),f.cb=1}function Ea(f,g,S,L,q,G,Q){var Y=g[q].Yb[S];for(S=0;16>q;++q){if(!Se(f,Y[S+0]))return q;for(;!Se(f,Y[S+1]);)if(Y=g[++q].Yb[0],S=0,q==16)return 16;var Z=g[q+1].Yb;if(Se(f,Y[S+2])){var le=f,ve=0;if(Se(le,(Ne=Y)[(Ce=S)+3]))if(Se(le,Ne[Ce+6])){for(Y=0,Ce=2*(ve=Se(le,Ne[Ce+8]))+(Ne=Se(le,Ne[Ce+9+ve])),ve=0,Ne=mh[Ce];Ne[Y];++Y)ve+=ve+Se(le,Ne[Y]);ve+=3+(8<<Ce)}else Se(le,Ne[Ce+7])?(ve=7+2*Se(le,165),ve+=Se(le,145)):ve=5+Se(le,159);else ve=Se(le,Ne[Ce+4])?3+Se(le,Ne[Ce+5]):2;Y=Z[2]}else ve=1,Y=Z[1];Z=Q+gh[q],0>(le=f).b&&we(le);var Ce,Ne=le.b,Te=(Ce=le.Ca>>1)-(le.I>>Ne)>>31;--le.b,le.Ca+=Te,le.Ca|=1,le.I-=(Ce+1&Te)<<Ne,G[Z]=((ve^Te)-Te)*L[(0<q)+0]}return 16}function ea(f){var g=f.rb[f.sb-1];g.la=0,g.Na=0,i(f.zc,0,0,f.zc.length),f.ja=0}function ta(f,g){if(f==null)return 0;if(g==null)return Xn(f,2,"NULL VP8Io parameter in VP8Decode().");if(!f.cb&&!Fs(f,g))return 0;if(e(f.cb),g.ac==null||g.ac(g)){g.ob&&(f.L=0);var S=Zs[f.L];if(f.L==2?(f.yb=0,f.zb=0):(f.yb=g.v-S>>4,f.zb=g.j-S>>4,0>f.yb&&(f.yb=0),0>f.zb&&(f.zb=0)),f.Va=g.o+15+S>>4,f.Hb=g.va+15+S>>4,f.Hb>f.za&&(f.Hb=f.za),f.Va>f.Ub&&(f.Va=f.Ub),0<f.L){var L=f.ed;for(S=0;4>S;++S){var q;if(f.Qa.Cb){var G=f.Qa.Lb[S];f.Qa.Fb||(G+=L.Tb)}else G=L.Tb;for(q=0;1>=q;++q){var Q=f.gd[S][q],Y=G;if(L.Pc&&(Y+=L.vd[0],q&&(Y+=L.od[0])),0<(Y=0>Y?0:63<Y?63:Y)){var Z=Y;0<L.wb&&(Z=4<L.wb?Z>>2:Z>>1)>9-L.wb&&(Z=9-L.wb),1>Z&&(Z=1),Q.dd=Z,Q.tc=2*Y+Z,Q.ld=40<=Y?2:15<=Y?1:0}else Q.tc=0;Q.La=q}}}S=0}else Xn(f,6,"Frame setup failed"),S=f.a;if(S=S==0){if(S){f.$c=0,0<f.Aa||(f.Ic=ja);e:{S=f.Ic,L=4*(Z=f.za);var le=32*Z,ve=Z+1,Ce=0<f.L?Z*(0<f.Aa?2:1):0,Ne=(f.Aa==2?2:1)*Z;if((Q=L+832+(q=3*(16*S+Zs[f.L])/2*le)+(G=f.Fa!=null&&0<f.Fa.length?f.Kc.c*f.Kc.i:0))!=Q)S=0;else{if(Q>f.Vb){if(f.Vb=0,f.Ec=a(Q),f.Fc=0,f.Ec==null){S=Xn(f,1,"no memory during frame initialization.");break e}f.Vb=Q}Q=f.Ec,Y=f.Fc,f.Ac=Q,f.Bc=Y,Y+=L,f.Gd=l(le,qr),f.Hd=0,f.rb=l(ve+1,Hn),f.sb=1,f.wa=Ce?l(Ce,hn):null,f.Y=0,f.D.Nb=0,f.D.wa=f.wa,f.D.Y=f.Y,0<f.Aa&&(f.D.Y+=Z),e(!0),f.oc=Q,f.pc=Y,Y+=832,f.ya=l(Ne,wi),f.aa=0,f.D.ya=f.ya,f.D.aa=f.aa,f.Aa==2&&(f.D.aa+=Z),f.R=16*Z,f.B=8*Z,Z=(le=Zs[f.L])*f.R,le=le/2*f.B,f.sa=Q,f.ta=Y+Z,f.qa=f.sa,f.ra=f.ta+16*S*f.R+le,f.Ha=f.qa,f.Ia=f.ra+8*S*f.B+le,f.$c=0,Y+=q,f.mb=G?Q:null,f.nb=G?Y:null,e(Y+G<=f.Fc+f.Vb),ea(f),i(f.Ac,f.Bc,0,L),S=1}}if(S){if(g.ka=0,g.y=f.sa,g.O=f.ta,g.f=f.qa,g.N=f.ra,g.ea=f.Ha,g.Vd=f.Ia,g.fa=f.R,g.Rc=f.B,g.F=null,g.J=0,!Cu){for(S=-255;255>=S;++S)Ar[255+S]=0>S?-S:S;for(S=-1020;1020>=S;++S)fa[1020+S]=-128>S?-128:127<S?127:S;for(S=-112;112>=S;++S)Fl[112+S]=-16>S?-16:15<S?15:S;for(S=-255;510>=S;++S)Gs[255+S]=0>S?0:255<S?255:S;Cu=1}Ol=pn,La=ra,Ra=Fo,ui=Vn,ao=Mo,Cn=na,qs=Pa,ku=ir,Hs=wo,Ws=Bs,$s=io,so=Vo,Da=la,ha=_o,Oa=ai,Fa=bi,ps=fr,Yr=Vs,So[0]=yo,So[1]=Sl,So[2]=Mi,So[3]=vo,So[4]=Ms,So[5]=as,So[6]=Gr,So[7]=ss,So[8]=Ta,So[9]=jo,Ii[0]=to,Ii[1]=El,Ii[2]=go,Ii[3]=Aa,Ii[4]=Tn,Ii[5]=no,Ii[6]=Fi,Vi[0]=oi,Vi[1]=os,Vi[2]=Al,Vi[3]=_i,Vi[4]=Rn,Vi[5]=oa,Vi[6]=js,S=1}else S=0}S&&(S=function(Te,$e){for(Te.M=0;Te.M<Te.Va;++Te.M){var je,_e=Te.Jc[Te.M&Te.Xb],be=Te.m,ze=Te;for(je=0;je<ze.za;++je){var Ue=be,He=ze,bt=He.Ac,vt=He.Bc+4*je,Vt=He.zc,yt=He.ya[He.aa+je];if(He.Qa.Bb?yt.$b=Se(Ue,He.Pa.jb[0])?2+Se(Ue,He.Pa.jb[2]):Se(Ue,He.Pa.jb[1]):yt.$b=0,He.kc&&(yt.Ad=Se(Ue,He.Bd)),yt.Za=!Se(Ue,145)+0,yt.Za){var In=yt.Ob,Pn=0;for(He=0;4>He;++He){var yn,cn=Vt[0+He];for(yn=0;4>yn;++yn){cn=zp[bt[vt+yn]][cn];for(var qn=Df[Se(Ue,cn[0])];0<qn;)qn=Df[2*qn+Se(Ue,cn[qn])];cn=-qn,bt[vt+yn]=cn}r(In,Pn,bt,vt,4),Pn+=4,Vt[0+He]=cn}}else cn=Se(Ue,156)?Se(Ue,128)?1:3:Se(Ue,163)?2:0,yt.Ob[0]=cn,i(bt,vt,cn,4),i(Vt,0,cn,4);yt.Dd=Se(Ue,142)?Se(Ue,114)?Se(Ue,183)?1:3:2:0}if(ze.m.Ka)return Xn(Te,7,"Premature end-of-partition0 encountered.");for(;Te.ja<Te.za;++Te.ja){if(ze=_e,Ue=(be=Te).rb[be.sb-1],bt=be.rb[be.sb+be.ja],je=be.ya[be.aa+be.ja],vt=be.kc?je.Ad:0)Ue.la=bt.la=0,je.Za||(Ue.Na=bt.Na=0),je.Hc=0,je.Gc=0,je.ia=0;else{var $n,Kt;if(Ue=bt,bt=ze,vt=be.Pa.Xc,Vt=be.ya[be.aa+be.ja],yt=be.pb[Vt.$b],He=Vt.ad,In=0,Pn=be.rb[be.sb-1],cn=yn=0,i(He,In,0,384),Vt.Za)var or=0,Pi=vt[3];else{qn=a(16);var wr=Ue.Na+Pn.Na;if(wr=Ys(bt,vt[1],wr,yt.Eb,0,qn,0),Ue.Na=Pn.Na=(0<wr)+0,1<wr)Ol(qn,0,He,In);else{var Nr=qn[0]+3>>3;for(qn=0;256>qn;qn+=16)He[In+qn]=Nr}or=1,Pi=vt[0]}var On=15&Ue.la,hi=15&Pn.la;for(qn=0;4>qn;++qn){var fi=1&hi;for(Nr=Kt=0;4>Nr;++Nr)On=On>>1|(fi=(wr=Ys(bt,Pi,wr=fi+(1&On),yt.Sc,or,He,In))>or)<<7,Kt=Kt<<2|(3<wr?3:1<wr?2:He[In+0]!=0),In+=16;On>>=4,hi=hi>>1|fi<<7,yn=(yn<<8|Kt)>>>0}for(Pi=On,or=hi>>4,$n=0;4>$n;$n+=2){for(Kt=0,On=Ue.la>>4+$n,hi=Pn.la>>4+$n,qn=0;2>qn;++qn){for(fi=1&hi,Nr=0;2>Nr;++Nr)wr=fi+(1&On),On=On>>1|(fi=0<(wr=Ys(bt,vt[2],wr,yt.Qc,0,He,In)))<<3,Kt=Kt<<2|(3<wr?3:1<wr?2:He[In+0]!=0),In+=16;On>>=2,hi=hi>>1|fi<<5}cn|=Kt<<4*$n,Pi|=On<<4<<$n,or|=(240&hi)<<$n}Ue.la=Pi,Pn.la=or,Vt.Hc=yn,Vt.Gc=cn,Vt.ia=43690&cn?0:yt.ia,vt=!(yn|cn)}if(0<be.L&&(be.wa[be.Y+be.ja]=be.gd[je.$b][je.Za],be.wa[be.Y+be.ja].La|=!vt),ze.Ka)return Xn(Te,7,"Premature end-of-file encountered.")}if(ea(Te),be=$e,ze=1,je=(_e=Te).D,Ue=0<_e.L&&_e.M>=_e.zb&&_e.M<=_e.Va,_e.Aa==0)e:{if(je.M=_e.M,je.uc=Ue,zo(_e,je),ze=1,je=(Kt=_e.D).Nb,Ue=(cn=Zs[_e.L])*_e.R,bt=cn/2*_e.B,qn=16*je*_e.R,Nr=8*je*_e.B,vt=_e.sa,Vt=_e.ta-Ue+qn,yt=_e.qa,He=_e.ra-bt+Nr,In=_e.Ha,Pn=_e.Ia-bt+Nr,hi=(On=Kt.M)==0,yn=On>=_e.Va-1,_e.Aa==2&&zo(_e,Kt),Kt.uc)for(fi=(wr=_e).D.M,e(wr.D.uc),Kt=wr.yb;Kt<wr.Hb;++Kt){or=Kt,Pi=fi;var ar=(Lr=(Fn=wr).D).Nb;$n=Fn.R;var Lr=Lr.wa[Lr.Y+or],Xr=Fn.sa,qi=Fn.ta+16*ar*$n+16*or,Eo=Lr.dd,sr=Lr.tc;if(sr!=0)if(e(3<=sr),Fn.L==1)0<or&&Fa(Xr,qi,$n,sr+4),Lr.La&&Yr(Xr,qi,$n,sr),0<Pi&&Oa(Xr,qi,$n,sr+4),Lr.La&&ps(Xr,qi,$n,sr);else{var Tr=Fn.B,lo=Fn.qa,ys=Fn.ra+8*ar*Tr+8*or,Va=Fn.Ha,Fn=Fn.Ia+8*ar*Tr+8*or;ar=Lr.ld,0<or&&(ku(Xr,qi,$n,sr+4,Eo,ar),Ws(lo,ys,Va,Fn,Tr,sr+4,Eo,ar)),Lr.La&&(so(Xr,qi,$n,sr,Eo,ar),ha(lo,ys,Va,Fn,Tr,sr,Eo,ar)),0<Pi&&(qs(Xr,qi,$n,sr+4,Eo,ar),Hs(lo,ys,Va,Fn,Tr,sr+4,Eo,ar)),Lr.La&&($s(Xr,qi,$n,sr,Eo,ar),Da(lo,ys,Va,Fn,Tr,sr,Eo,ar))}}if(_e.ia&&alert("todo:DitherRow"),be.put!=null){if(Kt=16*On,On=16*(On+1),hi?(be.y=_e.sa,be.O=_e.ta+qn,be.f=_e.qa,be.N=_e.ra+Nr,be.ea=_e.Ha,be.W=_e.Ia+Nr):(Kt-=cn,be.y=vt,be.O=Vt,be.f=yt,be.N=He,be.ea=In,be.W=Pn),yn||(On-=cn),On>be.o&&(On=be.o),be.F=null,be.J=null,_e.Fa!=null&&0<_e.Fa.length&&Kt<On&&(be.J=hs(_e,be,Kt,On-Kt),be.F=_e.mb,be.F==null&&be.F.length==0)){ze=Xn(_e,3,"Could not decode alpha data.");break e}Kt<be.j&&(cn=be.j-Kt,Kt=be.j,e(!(1&cn)),be.O+=_e.R*cn,be.N+=_e.B*(cn>>1),be.W+=_e.B*(cn>>1),be.F!=null&&(be.J+=be.width*cn)),Kt<On&&(be.O+=be.v,be.N+=be.v>>1,be.W+=be.v>>1,be.F!=null&&(be.J+=be.v),be.ka=Kt-be.j,be.U=be.va-be.v,be.T=On-Kt,ze=be.put(be))}je+1!=_e.Ic||yn||(r(_e.sa,_e.ta-Ue,vt,Vt+16*_e.R,Ue),r(_e.qa,_e.ra-bt,yt,He+8*_e.B,bt),r(_e.Ha,_e.Ia-bt,In,Pn+8*_e.B,bt))}if(!ze)return Xn(Te,6,"Output aborted.")}return 1}(f,g)),g.bc!=null&&g.bc(g),S&=1}return S?(f.cb=0,S):0}function Wr(f,g,S,L,q){q=f[g+S+32*L]+(q>>3),f[g+S+32*L]=-256&q?0>q?0:255:q}function is(f,g,S,L,q,G){Wr(f,g,0,S,L+q),Wr(f,g,1,S,L+G),Wr(f,g,2,S,L-G),Wr(f,g,3,S,L-q)}function hr(f){return(20091*f>>16)+f}function $r(f,g,S,L){var q,G=0,Q=a(16);for(q=0;4>q;++q){var Y=f[g+0]+f[g+8],Z=f[g+0]-f[g+8],le=(35468*f[g+4]>>16)-hr(f[g+12]),ve=hr(f[g+4])+(35468*f[g+12]>>16);Q[G+0]=Y+ve,Q[G+1]=Z+le,Q[G+2]=Z-le,Q[G+3]=Y-ve,G+=4,g++}for(q=G=0;4>q;++q)Y=(f=Q[G+0]+4)+Q[G+8],Z=f-Q[G+8],le=(35468*Q[G+4]>>16)-hr(Q[G+12]),Wr(S,L,0,0,Y+(ve=hr(Q[G+4])+(35468*Q[G+12]>>16))),Wr(S,L,1,0,Z+le),Wr(S,L,2,0,Z-le),Wr(S,L,3,0,Y-ve),G++,L+=32}function na(f,g,S,L){var q=f[g+0]+4,G=35468*f[g+4]>>16,Q=hr(f[g+4]),Y=35468*f[g+1]>>16;is(S,L,0,q+Q,f=hr(f[g+1]),Y),is(S,L,1,q+G,f,Y),is(S,L,2,q-G,f,Y),is(S,L,3,q-Q,f,Y)}function ra(f,g,S,L,q){$r(f,g,S,L),q&&$r(f,g+16,S,L+4)}function Fo(f,g,S,L){La(f,g+0,S,L,1),La(f,g+32,S,L+128,1)}function Vn(f,g,S,L){var q;for(f=f[g+0]+4,q=0;4>q;++q)for(g=0;4>g;++g)Wr(S,L,g,q,f)}function Mo(f,g,S,L){f[g+0]&&ui(f,g+0,S,L),f[g+16]&&ui(f,g+16,S,L+4),f[g+32]&&ui(f,g+32,S,L+128),f[g+48]&&ui(f,g+48,S,L+128+4)}function pn(f,g,S,L){var q,G=a(16);for(q=0;4>q;++q){var Q=f[g+0+q]+f[g+12+q],Y=f[g+4+q]+f[g+8+q],Z=f[g+4+q]-f[g+8+q],le=f[g+0+q]-f[g+12+q];G[0+q]=Q+Y,G[8+q]=Q-Y,G[4+q]=le+Z,G[12+q]=le-Z}for(q=0;4>q;++q)Q=(f=G[0+4*q]+3)+G[3+4*q],Y=G[1+4*q]+G[2+4*q],Z=G[1+4*q]-G[2+4*q],le=f-G[3+4*q],S[L+0]=Q+Y>>3,S[L+16]=le+Z>>3,S[L+32]=Q-Y>>3,S[L+48]=le-Z>>3,L+=64}function mo(f,g,S){var L,q=g-32,G=Ti,Q=255-f[q-1];for(L=0;L<S;++L){var Y,Z=G,le=Q+f[g-1];for(Y=0;Y<S;++Y)f[g+Y]=Z[le+f[q+Y]];g+=32}}function Sl(f,g){mo(f,g,4)}function os(f,g){mo(f,g,8)}function El(f,g){mo(f,g,16)}function go(f,g){var S;for(S=0;16>S;++S)r(f,g+32*S,f,g-32,16)}function Aa(f,g){var S;for(S=16;0<S;--S)i(f,g,f[g-1],16),g+=32}function ia(f,g,S){var L;for(L=0;16>L;++L)i(g,S+32*L,f,16)}function to(f,g){var S,L=16;for(S=0;16>S;++S)L+=f[g-1+32*S]+f[g+S-32];ia(L>>5,f,g)}function Tn(f,g){var S,L=8;for(S=0;16>S;++S)L+=f[g-1+32*S];ia(L>>4,f,g)}function no(f,g){var S,L=8;for(S=0;16>S;++S)L+=f[g+S-32];ia(L>>4,f,g)}function Fi(f,g){ia(128,f,g)}function Ut(f,g,S){return f+2*g+S+2>>2}function Mi(f,g){var S,L=g-32;for(L=new Uint8Array([Ut(f[L-1],f[L+0],f[L+1]),Ut(f[L+0],f[L+1],f[L+2]),Ut(f[L+1],f[L+2],f[L+3]),Ut(f[L+2],f[L+3],f[L+4])]),S=0;4>S;++S)r(f,g+32*S,L,0,L.length)}function vo(f,g){var S=f[g-1],L=f[g-1+32],q=f[g-1+64],G=f[g-1+96];We(f,g+0,16843009*Ut(f[g-1-32],S,L)),We(f,g+32,16843009*Ut(S,L,q)),We(f,g+64,16843009*Ut(L,q,G)),We(f,g+96,16843009*Ut(q,G,G))}function yo(f,g){var S,L=4;for(S=0;4>S;++S)L+=f[g+S-32]+f[g-1+32*S];for(L>>=3,S=0;4>S;++S)i(f,g+32*S,L,4)}function Ms(f,g){var S=f[g-1+0],L=f[g-1+32],q=f[g-1+64],G=f[g-1-32],Q=f[g+0-32],Y=f[g+1-32],Z=f[g+2-32],le=f[g+3-32];f[g+0+96]=Ut(L,q,f[g-1+96]),f[g+1+96]=f[g+0+64]=Ut(S,L,q),f[g+2+96]=f[g+1+64]=f[g+0+32]=Ut(G,S,L),f[g+3+96]=f[g+2+64]=f[g+1+32]=f[g+0+0]=Ut(Q,G,S),f[g+3+64]=f[g+2+32]=f[g+1+0]=Ut(Y,Q,G),f[g+3+32]=f[g+2+0]=Ut(Z,Y,Q),f[g+3+0]=Ut(le,Z,Y)}function Gr(f,g){var S=f[g+1-32],L=f[g+2-32],q=f[g+3-32],G=f[g+4-32],Q=f[g+5-32],Y=f[g+6-32],Z=f[g+7-32];f[g+0+0]=Ut(f[g+0-32],S,L),f[g+1+0]=f[g+0+32]=Ut(S,L,q),f[g+2+0]=f[g+1+32]=f[g+0+64]=Ut(L,q,G),f[g+3+0]=f[g+2+32]=f[g+1+64]=f[g+0+96]=Ut(q,G,Q),f[g+3+32]=f[g+2+64]=f[g+1+96]=Ut(G,Q,Y),f[g+3+64]=f[g+2+96]=Ut(Q,Y,Z),f[g+3+96]=Ut(Y,Z,Z)}function as(f,g){var S=f[g-1+0],L=f[g-1+32],q=f[g-1+64],G=f[g-1-32],Q=f[g+0-32],Y=f[g+1-32],Z=f[g+2-32],le=f[g+3-32];f[g+0+0]=f[g+1+64]=G+Q+1>>1,f[g+1+0]=f[g+2+64]=Q+Y+1>>1,f[g+2+0]=f[g+3+64]=Y+Z+1>>1,f[g+3+0]=Z+le+1>>1,f[g+0+96]=Ut(q,L,S),f[g+0+64]=Ut(L,S,G),f[g+0+32]=f[g+1+96]=Ut(S,G,Q),f[g+1+32]=f[g+2+96]=Ut(G,Q,Y),f[g+2+32]=f[g+3+96]=Ut(Q,Y,Z),f[g+3+32]=Ut(Y,Z,le)}function ss(f,g){var S=f[g+0-32],L=f[g+1-32],q=f[g+2-32],G=f[g+3-32],Q=f[g+4-32],Y=f[g+5-32],Z=f[g+6-32],le=f[g+7-32];f[g+0+0]=S+L+1>>1,f[g+1+0]=f[g+0+64]=L+q+1>>1,f[g+2+0]=f[g+1+64]=q+G+1>>1,f[g+3+0]=f[g+2+64]=G+Q+1>>1,f[g+0+32]=Ut(S,L,q),f[g+1+32]=f[g+0+96]=Ut(L,q,G),f[g+2+32]=f[g+1+96]=Ut(q,G,Q),f[g+3+32]=f[g+2+96]=Ut(G,Q,Y),f[g+3+64]=Ut(Q,Y,Z),f[g+3+96]=Ut(Y,Z,le)}function jo(f,g){var S=f[g-1+0],L=f[g-1+32],q=f[g-1+64],G=f[g-1+96];f[g+0+0]=S+L+1>>1,f[g+2+0]=f[g+0+32]=L+q+1>>1,f[g+2+32]=f[g+0+64]=q+G+1>>1,f[g+1+0]=Ut(S,L,q),f[g+3+0]=f[g+1+32]=Ut(L,q,G),f[g+3+32]=f[g+1+64]=Ut(q,G,G),f[g+3+64]=f[g+2+64]=f[g+0+96]=f[g+1+96]=f[g+2+96]=f[g+3+96]=G}function Ta(f,g){var S=f[g-1+0],L=f[g-1+32],q=f[g-1+64],G=f[g-1+96],Q=f[g-1-32],Y=f[g+0-32],Z=f[g+1-32],le=f[g+2-32];f[g+0+0]=f[g+2+32]=S+Q+1>>1,f[g+0+32]=f[g+2+64]=L+S+1>>1,f[g+0+64]=f[g+2+96]=q+L+1>>1,f[g+0+96]=G+q+1>>1,f[g+3+0]=Ut(Y,Z,le),f[g+2+0]=Ut(Q,Y,Z),f[g+1+0]=f[g+3+32]=Ut(S,Q,Y),f[g+1+32]=f[g+3+64]=Ut(L,S,Q),f[g+1+64]=f[g+3+96]=Ut(q,L,S),f[g+1+96]=Ut(G,q,L)}function Al(f,g){var S;for(S=0;8>S;++S)r(f,g+32*S,f,g-32,8)}function _i(f,g){var S;for(S=0;8>S;++S)i(f,g,f[g-1],8),g+=32}function Kr(f,g,S){var L;for(L=0;8>L;++L)i(g,S+32*L,f,8)}function oi(f,g){var S,L=8;for(S=0;8>S;++S)L+=f[g+S-32]+f[g-1+32*S];Kr(L>>4,f,g)}function oa(f,g){var S,L=4;for(S=0;8>S;++S)L+=f[g+S-32];Kr(L>>3,f,g)}function Rn(f,g){var S,L=4;for(S=0;8>S;++S)L+=f[g-1+32*S];Kr(L>>3,f,g)}function js(f,g){Kr(128,f,g)}function aa(f,g,S){var L=f[g-S],q=f[g+0],G=3*(q-L)+da[1020+f[g-2*S]-f[g+S]],Q=Ml[112+(G+4>>3)];f[g-S]=Ti[255+L+Ml[112+(G+3>>3)]],f[g+0]=Ti[255+q-Q]}function sa(f,g,S,L){var q=f[g+0],G=f[g+S];return xo[255+f[g-2*S]-f[g-S]]>L||xo[255+G-q]>L}function Ia(f,g,S,L){return 4*xo[255+f[g-S]-f[g+0]]+xo[255+f[g-2*S]-f[g+S]]<=L}function ls(f,g,S,L,q){var G=f[g-3*S],Q=f[g-2*S],Y=f[g-S],Z=f[g+0],le=f[g+S],ve=f[g+2*S],Ce=f[g+3*S];return 4*xo[255+Y-Z]+xo[255+Q-le]>L?0:xo[255+f[g-4*S]-G]<=q&&xo[255+G-Q]<=q&&xo[255+Q-Y]<=q&&xo[255+Ce-ve]<=q&&xo[255+ve-le]<=q&&xo[255+le-Z]<=q}function ai(f,g,S,L){var q=2*L+1;for(L=0;16>L;++L)Ia(f,g+L,S,q)&&aa(f,g+L,S)}function bi(f,g,S,L){var q=2*L+1;for(L=0;16>L;++L)Ia(f,g+L*S,1,q)&&aa(f,g+L*S,1)}function fr(f,g,S,L){var q;for(q=3;0<q;--q)ai(f,g+=4*S,S,L)}function Vs(f,g,S,L){var q;for(q=3;0<q;--q)bi(f,g+=4,S,L)}function ro(f,g,S,L,q,G,Q,Y){for(G=2*G+1;0<q--;){if(ls(f,g,S,G,Q))if(sa(f,g,S,Y))aa(f,g,S);else{var Z=f,le=g,ve=S,Ce=Z[le-2*ve],Ne=Z[le-ve],Te=Z[le+0],$e=Z[le+ve],je=Z[le+2*ve],_e=27*(ze=da[1020+3*(Te-Ne)+da[1020+Ce-$e]])+63>>7,be=18*ze+63>>7,ze=9*ze+63>>7;Z[le-3*ve]=Ti[255+Z[le-3*ve]+ze],Z[le-2*ve]=Ti[255+Ce+be],Z[le-ve]=Ti[255+Ne+_e],Z[le+0]=Ti[255+Te-_e],Z[le+ve]=Ti[255+$e-be],Z[le+2*ve]=Ti[255+je-ze]}g+=L}}function Er(f,g,S,L,q,G,Q,Y){for(G=2*G+1;0<q--;){if(ls(f,g,S,G,Q))if(sa(f,g,S,Y))aa(f,g,S);else{var Z=f,le=g,ve=S,Ce=Z[le-ve],Ne=Z[le+0],Te=Z[le+ve],$e=Ml[112+((je=3*(Ne-Ce))+4>>3)],je=Ml[112+(je+3>>3)],_e=$e+1>>1;Z[le-2*ve]=Ti[255+Z[le-2*ve]+_e],Z[le-ve]=Ti[255+Ce+je],Z[le+0]=Ti[255+Ne-$e],Z[le+ve]=Ti[255+Te-_e]}g+=L}}function Pa(f,g,S,L,q,G){ro(f,g,S,1,16,L,q,G)}function ir(f,g,S,L,q,G){ro(f,g,1,S,16,L,q,G)}function io(f,g,S,L,q,G){var Q;for(Q=3;0<Q;--Q)Er(f,g+=4*S,S,1,16,L,q,G)}function Vo(f,g,S,L,q,G){var Q;for(Q=3;0<Q;--Q)Er(f,g+=4,1,S,16,L,q,G)}function wo(f,g,S,L,q,G,Q,Y){ro(f,g,q,1,8,G,Q,Y),ro(S,L,q,1,8,G,Q,Y)}function Bs(f,g,S,L,q,G,Q,Y){ro(f,g,1,q,8,G,Q,Y),ro(S,L,1,q,8,G,Q,Y)}function la(f,g,S,L,q,G,Q,Y){Er(f,g+4*q,q,1,8,G,Q,Y),Er(S,L+4*q,q,1,8,G,Q,Y)}function _o(f,g,S,L,q,G,Q,Y){Er(f,g+4,1,q,8,G,Q,Y),Er(S,L+4,1,q,8,G,Q,Y)}function oo(){this.ba=new nr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new En,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Bo(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ua(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function us(){this.ua=0,this.Wa=new fe,this.vb=new fe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new X,this.yc=new P}function Tl(){this.xb=this.a=0,this.l=new Oo,this.ca=new nr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new N,this.Pb=0,this.wd=new N,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new us,this.ab=0,this.gc=l(4,ua),this.Oc=0}function Uo(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Oo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function bo(f,g,S,L,q,G,Q){for(f=f==null?0:f[g+0],g=0;g<Q;++g)q[G+g]=f+S[L+g]&255,f=q[G+g]}function cs(f,g,S,L,q,G,Q){var Y;if(f==null)bo(null,null,S,L,q,G,Q);else for(Y=0;Y<Q;++Y)q[G+Y]=f[g+Y]+S[L+Y]&255}function si(f,g,S,L,q,G,Q){if(f==null)bo(null,null,S,L,q,G,Q);else{var Y,Z=f[g+0],le=Z,ve=Z;for(Y=0;Y<Q;++Y)le=ve+(Z=f[g+Y])-le,ve=S[L+Y]+(-256&le?0>le?0:255:le)&255,le=Z,q[G+Y]=ve}}function hs(f,g,S,L){var q=g.width,G=g.o;if(e(f!=null&&g!=null),0>S||0>=L||S+L>G)return null;if(!f.Cc){if(f.ga==null){var Q;if(f.ga=new Uo,(Q=f.ga==null)||(Q=g.width*g.o,e(f.Gb.length==0),f.Gb=a(Q),f.Uc=0,f.Gb==null?Q=0:(f.mb=f.Gb,f.nb=f.Uc,f.rc=null,Q=1),Q=!Q),!Q){Q=f.ga;var Y=f.Fa,Z=f.P,le=f.qc,ve=f.mb,Ce=f.nb,Ne=Z+1,Te=le-1,$e=Q.l;if(e(Y!=null&&ve!=null&&g!=null),ci[0]=null,ci[1]=bo,ci[2]=cs,ci[3]=si,Q.ca=ve,Q.tb=Ce,Q.c=g.width,Q.i=g.height,e(0<Q.c&&0<Q.i),1>=le)g=0;else if(Q.$a=Y[Z+0]>>0&3,Q.Z=Y[Z+0]>>2&3,Q.Lc=Y[Z+0]>>4&3,Z=Y[Z+0]>>6&3,0>Q.$a||1<Q.$a||4<=Q.Z||1<Q.Lc||Z)g=0;else if($e.put=Ie,$e.ac=me,$e.bc=Fe,$e.ma=Q,$e.width=g.width,$e.height=g.height,$e.Da=g.Da,$e.v=g.v,$e.va=g.va,$e.j=g.j,$e.o=g.o,Q.$a)e:{e(Q.$a==1),g=an();t:for(;;){if(g==null){g=0;break e}if(e(Q!=null),Q.mc=g,g.c=Q.c,g.i=Q.i,g.l=Q.l,g.l.ma=Q,g.l.width=Q.c,g.l.height=Q.i,g.a=0,te(g.m,Y,Ne,Te),!Sr(Q.c,Q.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&zt(g.s)?(Q.ic=1,Y=g.c*g.i,g.Ta=null,g.Ua=0,g.V=a(Y),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):(Q.ic=0,g=zr(g,Q.c)),!g))break t;g=1;break e}Q.mc=null,g=0}else g=Te>=Q.c*Q.i;Q=!g}if(Q)return null;f.ga.Lc!=1?f.Ga=0:L=G-S}e(f.ga!=null),e(S+L<=G);e:{if(g=(Y=f.ga).c,G=Y.l.o,Y.$a==0){if(Ne=f.rc,Te=f.Vc,$e=f.Fa,Z=f.P+1+S*g,le=f.mb,ve=f.nb+S*g,e(Z<=f.P+f.qc),Y.Z!=0)for(e(ci[Y.Z]!=null),Q=0;Q<L;++Q)ci[Y.Z](Ne,Te,$e,Z,le,ve,g),Ne=le,Te=ve,ve+=g,Z+=g;else for(Q=0;Q<L;++Q)r(le,ve,$e,Z,g),Ne=le,Te=ve,ve+=g,Z+=g;f.rc=Ne,f.Vc=Te}else{if(e(Y.mc!=null),g=S+L,e((Q=Y.mc)!=null),e(g<=Q.i),Q.C>=g)g=1;else if(Y.ic||Pe(),Y.ic){Y=Q.V,Ne=Q.Ba,Te=Q.c;var je=Q.i,_e=($e=1,Z=Q.$/Te,le=Q.$%Te,ve=Q.m,Ce=Q.s,Q.$),be=Te*je,ze=Te*g,Ue=Ce.wc,He=_e<ze?mt(Ce,le,Z):null;e(_e<=be),e(g<=je),e(zt(Ce));t:for(;;){for(;!ve.h&&_e<ze;){if(le&Ue||(He=mt(Ce,le,Z)),e(He!=null),ue(ve),256>(je=Et(He.G[0],He.H[0],ve)))Y[Ne+_e]=je,++_e,++le>=Te&&(le=0,++Z<=g&&!(Z%16)&&An(Q,Z));else{if(!(280>je)){$e=0;break t}je=pt(je-256,ve);var bt,vt=Et(He.G[4],He.H[4],ve);if(ue(ve),!(_e>=(vt=wt(Te,vt=pt(vt,ve)))&&be-_e>=je)){$e=0;break t}for(bt=0;bt<je;++bt)Y[Ne+_e+bt]=Y[Ne+_e+bt-vt];for(_e+=je,le+=je;le>=Te;)le-=Te,++Z<=g&&!(Z%16)&&An(Q,Z);_e<ze&&le&Ue&&(He=mt(Ce,le,Z))}e(ve.h==ee(ve))}An(Q,Z>g?g:Z);break t}!$e||ve.h&&_e<be?($e=0,Q.a=ve.h?5:3):Q.$=_e,g=$e}else g=Jt(Q,Q.V,Q.Ba,Q.c,Q.i,g,yr);if(!g){L=0;break e}}S+L>=G&&(f.Cc=1),L=1}if(!L)return null;if(f.Cc&&((L=f.ga)!=null&&(L.mc=null),f.ga=null,0<f.Ga))return alert("todo:WebPDequantizeLevels"),null}return f.nb+S*q}function w(f,g,S,L,q,G){for(;0<q--;){var Q,Y=f,Z=g+(S?1:0),le=f,ve=g+(S?0:3);for(Q=0;Q<L;++Q){var Ce=le[ve+4*Q];Ce!=255&&(Ce*=32897,Y[Z+4*Q+0]=Y[Z+4*Q+0]*Ce>>23,Y[Z+4*Q+1]=Y[Z+4*Q+1]*Ce>>23,Y[Z+4*Q+2]=Y[Z+4*Q+2]*Ce>>23)}g+=G}}function H(f,g,S,L,q){for(;0<L--;){var G;for(G=0;G<S;++G){var Q=f[g+2*G+0],Y=15&(le=f[g+2*G+1]),Z=4369*Y,le=(240&le|le>>4)*Z>>16;f[g+2*G+0]=(240&Q|Q>>4)*Z>>16&240|(15&Q|Q<<4)*Z>>16>>4&15,f[g+2*G+1]=240&le|Y}g+=q}}function ce(f,g,S,L,q,G,Q,Y){var Z,le,ve=255;for(le=0;le<q;++le){for(Z=0;Z<L;++Z){var Ce=f[g+Z];G[Q+4*Z]=Ce,ve&=Ce}g+=S,Q+=Y}return ve!=255}function ge(f,g,S,L,q){var G;for(G=0;G<q;++G)S[L+G]=f[g+G]>>8}function Pe(){ji=w,Qn=H,Un=ce,pr=ge}function Be(f,g,S){A[f]=function(L,q,G,Q,Y,Z,le,ve,Ce,Ne,Te,$e,je,_e,be,ze,Ue){var He,bt=Ue-1>>1,vt=Y[Z+0]|le[ve+0]<<16,Vt=Ce[Ne+0]|Te[$e+0]<<16;e(L!=null);var yt=3*vt+Vt+131074>>2;for(g(L[q+0],255&yt,yt>>16,je,_e),G!=null&&(yt=3*Vt+vt+131074>>2,g(G[Q+0],255&yt,yt>>16,be,ze)),He=1;He<=bt;++He){var In=Y[Z+He]|le[ve+He]<<16,Pn=Ce[Ne+He]|Te[$e+He]<<16,yn=vt+In+Vt+Pn+524296,cn=yn+2*(In+Vt)>>3;yt=cn+vt>>1,vt=(yn=yn+2*(vt+Pn)>>3)+In>>1,g(L[q+2*He-1],255&yt,yt>>16,je,_e+(2*He-1)*S),g(L[q+2*He-0],255&vt,vt>>16,je,_e+(2*He-0)*S),G!=null&&(yt=yn+Vt>>1,vt=cn+Pn>>1,g(G[Q+2*He-1],255&yt,yt>>16,be,ze+(2*He-1)*S),g(G[Q+2*He+0],255&vt,vt>>16,be,ze+(2*He+0)*S)),vt=In,Vt=Pn}1&Ue||(yt=3*vt+Vt+131074>>2,g(L[q+Ue-1],255&yt,yt>>16,je,_e+(Ue-1)*S),G!=null&&(yt=3*Vt+vt+131074>>2,g(G[Q+Ue-1],255&yt,yt>>16,be,ze+(Ue-1)*S)))}}function Ye(){Bi[_c]=Hp,Bi[ms]=gs,Bi[Nf]=Wp,Bi[Nu]=Ul,Bi[Lu]=Js,Bi[Yn]=Mu,Bi[bc]=yh,Bi[jl]=gs,Bi[Ks]=Ul,Bi[Ru]=Js,Bi[Du]=Mu}function gt(f){return f&-16384?0>f?0:255:f>>vs}function d(f,g){return gt((19077*f>>8)+(26149*g>>8)-14234)}function E(f,g,S){return gt((19077*f>>8)-(6419*g>>8)-(13320*S>>8)+8708)}function j(f,g){return gt((19077*f>>8)+(33050*g>>8)-17685)}function J(f,g,S,L,q){L[q+0]=d(f,S),L[q+1]=E(f,g,S),L[q+2]=j(f,g)}function Ae(f,g,S,L,q){L[q+0]=j(f,g),L[q+1]=E(f,g,S),L[q+2]=d(f,S)}function De(f,g,S,L,q){var G=E(f,g,S);g=G<<3&224|j(f,g)>>3,L[q+0]=248&d(f,S)|G>>5,L[q+1]=g}function Xe(f,g,S,L,q){var G=240&j(f,g)|15;L[q+0]=240&d(f,S)|E(f,g,S)>>4,L[q+1]=G}function en(f,g,S,L,q){L[q+0]=255,J(f,g,S,L,q+1)}function gn(f,g,S,L,q){Ae(f,g,S,L,q),L[q+3]=255}function tn(f,g,S,L,q){J(f,g,S,L,q),L[q+3]=255}function Dn(f,g){return 0>f?0:f>g?g:f}function Bn(f,g,S){A[f]=function(L,q,G,Q,Y,Z,le,ve,Ce){for(var Ne=ve+(-2&Ce)*S;ve!=Ne;)g(L[q+0],G[Q+0],Y[Z+0],le,ve),g(L[q+1],G[Q+0],Y[Z+0],le,ve+S),q+=2,++Q,++Z,ve+=2*S;1&Ce&&g(L[q+0],G[Q+0],Y[Z+0],le,ve)}}function xi(f,g,S){return S==0?f==0?g==0?6:5:g==0?4:0:S}function Qr(f,g,S,L,q){switch(f>>>30){case 3:La(g,S,L,q,0);break;case 2:Cn(g,S,L,q);break;case 1:ui(g,S,L,q)}}function zo(f,g){var S,L,q=g.M,G=g.Nb,Q=f.oc,Y=f.pc+40,Z=f.oc,le=f.pc+584,ve=f.oc,Ce=f.pc+600;for(S=0;16>S;++S)Q[Y+32*S-1]=129;for(S=0;8>S;++S)Z[le+32*S-1]=129,ve[Ce+32*S-1]=129;for(0<q?Q[Y-1-32]=Z[le-1-32]=ve[Ce-1-32]=129:(i(Q,Y-32-1,127,21),i(Z,le-32-1,127,9),i(ve,Ce-32-1,127,9)),L=0;L<f.za;++L){var Ne=g.ya[g.aa+L];if(0<L){for(S=-1;16>S;++S)r(Q,Y+32*S-4,Q,Y+32*S+12,4);for(S=-1;8>S;++S)r(Z,le+32*S-4,Z,le+32*S+4,4),r(ve,Ce+32*S-4,ve,Ce+32*S+4,4)}var Te=f.Gd,$e=f.Hd+L,je=Ne.ad,_e=Ne.Hc;if(0<q&&(r(Q,Y-32,Te[$e].y,0,16),r(Z,le-32,Te[$e].f,0,8),r(ve,Ce-32,Te[$e].ea,0,8)),Ne.Za){var be=Q,ze=Y-32+16;for(0<q&&(L>=f.za-1?i(be,ze,Te[$e].y[15],4):r(be,ze,Te[$e+1].y,0,4)),S=0;4>S;S++)be[ze+128+S]=be[ze+256+S]=be[ze+384+S]=be[ze+0+S];for(S=0;16>S;++S,_e<<=2)be=Q,ze=Y+wh[S],So[Ne.Ob[S]](be,ze),Qr(_e,je,16*+S,be,ze)}else if(be=xi(L,q,Ne.Ob[0]),Ii[be](Q,Y),_e!=0)for(S=0;16>S;++S,_e<<=2)Qr(_e,je,16*+S,Q,Y+wh[S]);for(S=Ne.Gc,be=xi(L,q,Ne.Dd),Vi[be](Z,le),Vi[be](ve,Ce),_e=je,be=Z,ze=le,255&(Ne=S>>0)&&(170&Ne?Ra(_e,256,be,ze):ao(_e,256,be,ze)),Ne=ve,_e=Ce,255&(S>>=8)&&(170&S?Ra(je,320,Ne,_e):ao(je,320,Ne,_e)),q<f.Ub-1&&(r(Te[$e].y,0,Q,Y+480,16),r(Te[$e].f,0,Z,le+224,8),r(Te[$e].ea,0,ve,Ce+224,8)),S=8*G*f.B,Te=f.sa,$e=f.ta+16*L+16*G*f.R,je=f.qa,Ne=f.ra+8*L+S,_e=f.Ha,be=f.Ia+8*L+S,S=0;16>S;++S)r(Te,$e+S*f.R,Q,Y+32*S,16);for(S=0;8>S;++S)r(je,Ne+S*f.B,Z,le+32*S,8),r(_e,be+S*f.B,ve,Ce+32*S,8)}}function qo(f,g,S,L,q,G,Q,Y,Z){var le=[0],ve=[0],Ce=0,Ne=Z!=null?Z.kd:0,Te=Z??new Bo;if(f==null||12>S)return 7;Te.data=f,Te.w=g,Te.ha=S,g=[g],S=[S],Te.gb=[Te.gb];e:{var $e=g,je=S,_e=Te.gb;if(e(f!=null),e(je!=null),e(_e!=null),_e[0]=0,12<=je[0]&&!t(f,$e[0],"RIFF")){if(t(f,$e[0]+8,"WEBP")){_e=3;break e}var be=it(f,$e[0]+4);if(12>be||4294967286<be){_e=3;break e}if(Ne&&be>je[0]-8){_e=7;break e}_e[0]=be,$e[0]+=12,je[0]-=12}_e=0}if(_e!=0)return _e;for(be=0<Te.gb[0],S=S[0];;){e:{var ze=f;je=g,_e=S;var Ue=le,He=ve,bt=$e=[0];if((yt=Ce=[Ce])[0]=0,8>_e[0])_e=7;else{if(!t(ze,je[0],"VP8X")){if(it(ze,je[0]+4)!=10){_e=3;break e}if(18>_e[0]){_e=7;break e}var vt=it(ze,je[0]+8),Vt=1+st(ze,je[0]+12);if(2147483648<=Vt*(ze=1+st(ze,je[0]+15))){_e=3;break e}bt!=null&&(bt[0]=vt),Ue!=null&&(Ue[0]=Vt),He!=null&&(He[0]=ze),je[0]+=18,_e[0]-=18,yt[0]=1}_e=0}}if(Ce=Ce[0],$e=$e[0],_e!=0)return _e;if(je=!!(2&$e),!be&&Ce)return 3;if(G!=null&&(G[0]=!!(16&$e)),Q!=null&&(Q[0]=je),Y!=null&&(Y[0]=0),Q=le[0],$e=ve[0],Ce&&je&&Z==null){_e=0;break}if(4>S){_e=7;break}if(be&&Ce||!be&&!Ce&&!t(f,g[0],"ALPH")){S=[S],Te.na=[Te.na],Te.P=[Te.P],Te.Sa=[Te.Sa];e:{vt=f,_e=g,be=S;var yt=Te.gb;Ue=Te.na,He=Te.P,bt=Te.Sa,Vt=22,e(vt!=null),e(be!=null),ze=_e[0];var In=be[0];for(e(Ue!=null),e(bt!=null),Ue[0]=null,He[0]=null,bt[0]=0;;){if(_e[0]=ze,be[0]=In,8>In){_e=7;break e}var Pn=it(vt,ze+4);if(4294967286<Pn){_e=3;break e}var yn=8+Pn+1&-2;if(Vt+=yn,0<yt&&Vt>yt){_e=3;break e}if(!t(vt,ze,"VP8 ")||!t(vt,ze,"VP8L")){_e=0;break e}if(In[0]<yn){_e=7;break e}t(vt,ze,"ALPH")||(Ue[0]=vt,He[0]=ze+8,bt[0]=Pn),ze+=yn,In-=yn}}if(S=S[0],Te.na=Te.na[0],Te.P=Te.P[0],Te.Sa=Te.Sa[0],_e!=0)break}S=[S],Te.Ja=[Te.Ja],Te.xa=[Te.xa];e:if(yt=f,_e=g,be=S,Ue=Te.gb[0],He=Te.Ja,bt=Te.xa,vt=_e[0],ze=!t(yt,vt,"VP8 "),Vt=!t(yt,vt,"VP8L"),e(yt!=null),e(be!=null),e(He!=null),e(bt!=null),8>be[0])_e=7;else{if(ze||Vt){if(yt=it(yt,vt+4),12<=Ue&&yt>Ue-12){_e=3;break e}if(Ne&&yt>be[0]-8){_e=7;break e}He[0]=yt,_e[0]+=8,be[0]-=8,bt[0]=Vt}else bt[0]=5<=be[0]&&yt[vt+0]==47&&!(yt[vt+4]>>5),He[0]=be[0];_e=0}if(S=S[0],Te.Ja=Te.Ja[0],Te.xa=Te.xa[0],g=g[0],_e!=0)break;if(4294967286<Te.Ja)return 3;if(Y==null||je||(Y[0]=Te.xa?2:1),Q=[Q],$e=[$e],Te.xa){if(5>S){_e=7;break}Y=Q,Ne=$e,je=G,f==null||5>S?f=0:5<=S&&f[g+0]==47&&!(f[g+4]>>5)?(be=[0],yt=[0],Ue=[0],te(He=new N,f,g,S),Le(He,be,yt,Ue)?(Y!=null&&(Y[0]=be[0]),Ne!=null&&(Ne[0]=yt[0]),je!=null&&(je[0]=Ue[0]),f=1):f=0):f=0}else{if(10>S){_e=7;break}Y=$e,f==null||10>S||!Os(f,g+3,S-3)?f=0:(Ne=f[g+0]|f[g+1]<<8|f[g+2]<<16,je=16383&(f[g+7]<<8|f[g+6]),f=16383&(f[g+9]<<8|f[g+8]),1&Ne||3<(Ne>>1&7)||!(Ne>>4&1)||Ne>>5>=Te.Ja||!je||!f?f=0:(Q&&(Q[0]=je),Y&&(Y[0]=f),f=1))}if(!f||(Q=Q[0],$e=$e[0],Ce&&(le[0]!=Q||ve[0]!=$e)))return 3;Z!=null&&(Z[0]=Te,Z.offset=g-Z.w,e(4294967286>g-Z.w),e(Z.offset==Z.ha-S));break}return _e==0||_e==7&&Ce&&Z==null?(G!=null&&(G[0]|=Te.na!=null&&0<Te.na.length),L!=null&&(L[0]=Q),q!=null&&(q[0]=$e),0):_e}function Il(f,g,S){var L=g.width,q=g.height,G=0,Q=0,Y=L,Z=q;if(g.Da=f!=null&&0<f.Da,g.Da&&(Y=f.cd,Z=f.bd,G=f.v,Q=f.j,11>S||(G&=-2,Q&=-2),0>G||0>Q||0>=Y||0>=Z||G+Y>L||Q+Z>q))return 0;if(g.v=G,g.j=Q,g.va=G+Y,g.o=Q+Z,g.U=Y,g.T=Z,g.da=f!=null&&0<f.da,g.da){if(!Ft(Y,Z,S=[f.ib],G=[f.hb]))return 0;g.ib=S[0],g.hb=G[0]}return g.ob=f!=null&&f.ob,g.Kb=f==null||!f.Sd,g.da&&(g.ob=g.ib<3*L/4&&g.hb<3*q/4,g.Kb=0),1}function Pl(f){if(f==null)return 2;if(11>f.S){var g=f.f.RGBA;g.fb+=(f.height-1)*g.A,g.A=-g.A}else g=f.f.kb,f=f.height,g.O+=(f-1)*g.fa,g.fa=-g.fa,g.N+=(f-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(f-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(f-1)*g.lb,g.lb=-g.lb);return 0}function Us(f,g,S,L){if(L==null||0>=f||0>=g)return 2;if(S!=null){if(S.Da){var q=S.cd,G=S.bd,Q=-2&S.v,Y=-2&S.j;if(0>Q||0>Y||0>=q||0>=G||Q+q>f||Y+G>g)return 2;f=q,g=G}if(S.da){if(!Ft(f,g,q=[S.ib],G=[S.hb]))return 2;f=q[0],g=G[0]}}L.width=f,L.height=g;e:{var Z=L.width,le=L.height;if(f=L.S,0>=Z||0>=le||!(f>=_c&&13>f))f=2;else{if(0>=L.Rd&&L.sd==null){Q=G=q=g=0;var ve=(Y=Z*ju[f])*le;if(11>f||(G=(le+1)/2*(g=(Z+1)/2),f==12&&(Q=(q=Z)*le)),(le=a(ve+2*G+Q))==null){f=1;break e}L.sd=le,11>f?((Z=L.f.RGBA).eb=le,Z.fb=0,Z.A=Y,Z.size=ve):((Z=L.f.kb).y=le,Z.O=0,Z.fa=Y,Z.Fd=ve,Z.f=le,Z.N=0+ve,Z.Ab=g,Z.Cd=G,Z.ea=le,Z.W=0+ve+G,Z.Db=g,Z.Ed=G,f==12&&(Z.F=le,Z.J=0+ve+2*G),Z.Tc=Q,Z.lb=q)}if(g=1,q=L.S,G=L.width,Q=L.height,q>=_c&&13>q)if(11>q)f=L.f.RGBA,g&=(Y=Math.abs(f.A))*(Q-1)+G<=f.size,g&=Y>=G*ju[q],g&=f.eb!=null;else{f=L.f.kb,Y=(G+1)/2,ve=(Q+1)/2,Z=Math.abs(f.fa),le=Math.abs(f.Ab);var Ce=Math.abs(f.Db),Ne=Math.abs(f.lb),Te=Ne*(Q-1)+G;g&=Z*(Q-1)+G<=f.Fd,g&=le*(ve-1)+Y<=f.Cd,g=(g&=Ce*(ve-1)+Y<=f.Ed)&Z>=G&le>=Y&Ce>=Y,g&=f.y!=null,g&=f.f!=null,g&=f.ea!=null,q==12&&(g&=Ne>=G,g&=Te<=f.Tc,g&=f.F!=null)}else g=0;f=g?0:2}}return f!=0||S!=null&&S.fd&&(f=Pl(L)),f}var dr=64,kl=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Cl=24,Nl=32,Ll=8,Si=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];ot("Predictor0","PredictorAdd0"),A.Predictor0=function(){return 4278190080},A.Predictor1=function(f){return f},A.Predictor2=function(f,g,S){return g[S+0]},A.Predictor3=function(f,g,S){return g[S+1]},A.Predictor4=function(f,g,S){return g[S-1]},A.Predictor5=function(f,g,S){return ct(ct(f,g[S+1]),g[S+0])},A.Predictor6=function(f,g,S){return ct(f,g[S-1])},A.Predictor7=function(f,g,S){return ct(f,g[S+0])},A.Predictor8=function(f,g,S){return ct(g[S-1],g[S+0])},A.Predictor9=function(f,g,S){return ct(g[S+0],g[S+1])},A.Predictor10=function(f,g,S){return ct(ct(f,g[S-1]),ct(g[S+0],g[S+1]))},A.Predictor11=function(f,g,S){var L=g[S+0];return 0>=Je(L>>24&255,f>>24&255,(g=g[S-1])>>24&255)+Je(L>>16&255,f>>16&255,g>>16&255)+Je(L>>8&255,f>>8&255,g>>8&255)+Je(255&L,255&f,255&g)?L:f},A.Predictor12=function(f,g,S){var L=g[S+0];return(Tt((f>>24&255)+(L>>24&255)-((g=g[S-1])>>24&255))<<24|Tt((f>>16&255)+(L>>16&255)-(g>>16&255))<<16|Tt((f>>8&255)+(L>>8&255)-(g>>8&255))<<8|Tt((255&f)+(255&L)-(255&g)))>>>0},A.Predictor13=function(f,g,S){var L=g[S-1];return(qe((f=ct(f,g[S+0]))>>24&255,L>>24&255)<<24|qe(f>>16&255,L>>16&255)<<16|qe(f>>8&255,L>>8&255)<<8|qe(f>>0&255,L>>0&255))>>>0};var zs=A.PredictorAdd0;A.PredictorAdd1=ht,ot("Predictor2","PredictorAdd2"),ot("Predictor3","PredictorAdd3"),ot("Predictor4","PredictorAdd4"),ot("Predictor5","PredictorAdd5"),ot("Predictor6","PredictorAdd6"),ot("Predictor7","PredictorAdd7"),ot("Predictor8","PredictorAdd8"),ot("Predictor9","PredictorAdd9"),ot("Predictor10","PredictorAdd10"),ot("Predictor11","PredictorAdd11"),ot("Predictor12","PredictorAdd12"),ot("Predictor13","PredictorAdd13");var ka=A.PredictorAdd2;Nt("ColorIndexInverseTransform","MapARGB","32b",function(f){return f>>8&255},function(f){return f}),Nt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(f){return f},function(f){return f>>8&255});var wc,Ei=A.ColorIndexInverseTransform,Rl=A.MapARGB,Pu=A.VP8LColorIndexInverseTransformAlpha,Dl=A.MapAlpha,ca=A.VP8LPredictorsAdd=[];ca.length=16,(A.VP8LPredictors=[]).length=16,(A.VP8LPredictorsAdd_C=[]).length=16,(A.VP8LPredictors_C=[]).length=16;var fs,Ai,li,ds,Ca,Na,Ol,La,Cn,Ra,ui,ao,qs,ku,Hs,Ws,$s,so,Da,ha,Oa,Fa,ps,Yr,ji,Qn,Un,pr,Ar=a(511),fa=a(2041),Fl=a(225),Gs=a(767),Cu=0,da=fa,Ml=Fl,Ti=Gs,xo=Ar,_c=0,ms=1,Nf=2,Nu=3,Lu=4,Yn=5,bc=6,jl=7,Ks=8,Ru=9,Du=10,Ou=[2,3,7],xc=[3,3,11],Qs=[280,256,256,256,40],Lf=[0,1,1,1,0],Bp=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Up=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Rf=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Sc=8,Vl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Fu=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ys=null,mh=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],gh=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Df=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Of=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],zp=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],qp=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],vh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Ii=[],So=[],Vi=[],pa=1,Bl=2,ci=[],Bi=[];Be("UpsampleRgbLinePair",J,3),Be("UpsampleBgrLinePair",Ae,3),Be("UpsampleRgbaLinePair",tn,4),Be("UpsampleBgraLinePair",gn,4),Be("UpsampleArgbLinePair",en,4),Be("UpsampleRgba4444LinePair",Xe,2),Be("UpsampleRgb565LinePair",De,2);var Hp=A.UpsampleRgbLinePair,Wp=A.UpsampleBgrLinePair,gs=A.UpsampleRgbaLinePair,Ul=A.UpsampleBgraLinePair,Js=A.UpsampleArgbLinePair,Mu=A.UpsampleRgba4444LinePair,yh=A.UpsampleRgb565LinePair,Ma=16,Ho=1<<Ma-1,zn=-227,Wn=482,vs=6,Jr=0,Ui=a(256),Xs=a(256),zl=a(256),zi=a(256),Ec=a(Wn-zn),Ff=a(Wn-zn);Bn("YuvToRgbRow",J,3),Bn("YuvToBgrRow",Ae,3),Bn("YuvToRgbaRow",tn,4),Bn("YuvToBgraRow",gn,4),Bn("YuvToArgbRow",en,4),Bn("YuvToRgba4444Row",Xe,2),Bn("YuvToRgb565Row",De,2);var wh=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Zs=[0,2,8],Mf=[8,7,6,4,4,2,2,2,1,1,1,1],ja=1;this.WebPDecodeRGBA=function(f,g,S,L,q){var G=ms,Q=new oo,Y=new nr;Q.ba=Y,Y.S=G,Y.width=[Y.width],Y.height=[Y.height];var Z=Y.width,le=Y.height,ve=new vr;if(ve==null||f==null)var Ce=2;else e(ve!=null),Ce=qo(f,g,S,ve.width,ve.height,ve.Pd,ve.Qd,ve.format,null);if(Ce!=0?Z=0:(Z!=null&&(Z[0]=ve.width[0]),le!=null&&(le[0]=ve.height[0]),Z=1),Z){Y.width=Y.width[0],Y.height=Y.height[0],L!=null&&(L[0]=Y.width),q!=null&&(q[0]=Y.height);e:{if(L=new Oo,(q=new Bo).data=f,q.w=g,q.ha=S,q.kd=1,g=[0],e(q!=null),((f=qo(q.data,q.w,q.ha,null,null,null,g,null,q))==0||f==7)&&g[0]&&(f=4),(g=f)==0){if(e(Q!=null),L.data=q.data,L.w=q.w+q.offset,L.ha=q.ha-q.offset,L.put=Ie,L.ac=me,L.bc=Fe,L.ma=Q,q.xa){if((f=an())==null){Q=1;break e}if(function(Ne,Te){var $e=[0],je=[0],_e=[0];t:for(;;){if(Ne==null)return 0;if(Te==null)return Ne.a=2,0;if(Ne.l=Te,Ne.a=0,te(Ne.m,Te.data,Te.w,Te.ha),!Le(Ne.m,$e,je,_e)){Ne.a=3;break t}if(Ne.xb=Bl,Te.width=$e[0],Te.height=je[0],!Sr($e[0],je[0],1,Ne,null))break t;return 1}return e(Ne.a!=0),0}(f,L)){if(L=(g=Us(L.width,L.height,Q.Oa,Q.ba))==0){t:{L=f;n:for(;;){if(L==null){L=0;break t}if(e(L.s.yc!=null),e(L.s.Ya!=null),e(0<L.s.Wb),e((S=L.l)!=null),e((q=S.ma)!=null),L.xb!=0){if(L.ca=q.ba,L.tb=q.tb,e(L.ca!=null),!Il(q.Oa,S,Nu)){L.a=2;break n}if(!zr(L,S.width)||S.da)break n;if((S.da||Zt(L.ca.S))&&Pe(),11>L.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),L.ca.f.kb.F!=null&&Pe()),L.Pb&&0<L.s.ua&&L.s.vb.X==null&&!Ct(L.s.vb,L.s.Wa.Xa)){L.a=1;break n}L.xb=0}if(!Jt(L,L.V,L.Ba,L.c,L.i,S.o,jt))break n;q.Dc=L.Ma,L=1;break t}e(L.a!=0),L=0}L=!L}L&&(g=f.a)}else g=f.a}else{if((f=new Hr)==null){Q=1;break e}if(f.Fa=q.na,f.P=q.P,f.qc=q.Sa,Fs(f,L)){if((g=Us(L.width,L.height,Q.Oa,Q.ba))==0){if(f.Aa=0,S=Q.Oa,e((q=f)!=null),S!=null){if(0<(Z=0>(Z=S.Md)?0:100<Z?255:255*Z/100)){for(le=ve=0;4>le;++le)12>(Ce=q.pb[le]).lc&&(Ce.ia=Z*Mf[0>Ce.lc?0:Ce.lc]>>3),ve|=Ce.ia;ve&&(alert("todo:VP8InitRandom"),q.ia=1)}q.Ga=S.Id,100<q.Ga?q.Ga=100:0>q.Ga&&(q.Ga=0)}ta(f,L)||(g=f.a)}}else g=f.a}g==0&&Q.Oa!=null&&Q.Oa.fd&&(g=Pl(Q.ba))}Q=g}G=Q!=0?null:11>G?Y.f.RGBA.eb:Y.f.kb.y}else G=null;return G};var ju=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function p(A,M){for(var U="",I=0;I<4;I++)U+=String.fromCharCode(A[M++]);return U}function y(A,M){return(A[M+0]<<0|A[M+1]<<8|A[M+2]<<16)>>>0}function _(A,M){return(A[M+0]<<0|A[M+1]<<8|A[M+2]<<16|A[M+3]<<24)>>>0}new h;var x=[0],v=[0],T=[],R=new h,O=n,C=function(A,M){var U={},I=0,P=!1,F=0,X=0;if(U.frames=[],!function(W,ee,se,ue){for(var we=0;we<ue;we++)if(W[ee+we]!=se.charCodeAt(we))return!0;return!1}(A,M,"RIFF",4)){var pe,ae;for(_(A,M+=4),M+=8;M<A.length;){var oe=p(A,M),te=_(A,M+=4);M+=4;var ne=te+(1&te);switch(oe){case"VP8 ":case"VP8L":U.frames[I]===void 0&&(U.frames[I]={}),(N=U.frames[I]).src_off=P?X:M-8,N.src_size=F+te+8,I++,P&&(P=!1,F=0,X=0);break;case"VP8X":(N=U.header={}).feature_flags=A[M];var he=M+4;N.canvas_width=1+y(A,he),he+=3,N.canvas_height=1+y(A,he),he+=3;break;case"ALPH":P=!0,F=ne+8,X=M-8;break;case"ANIM":(N=U.header).bgcolor=_(A,M),he=M+4,N.loop_count=(pe=A)[(ae=he)+0]<<0|pe[ae+1]<<8,he+=2;break;case"ANMF":var re,N;(N=U.frames[I]={}).offset_x=2*y(A,M),M+=3,N.offset_y=2*y(A,M),M+=3,N.width=1+y(A,M),M+=3,N.height=1+y(A,M),M+=3,N.duration=y(A,M),M+=3,re=A[M++],N.dispose=1&re,N.blend=re>>1&1}oe!="ANMF"&&(M+=ne)}return U}}(O,0);C.response=O,C.rgbaoutput=!0,C.dataurl=!1;var V=C.header?C.header:null,B=C.frames?C.frames:null;if(V){V.loop_counter=V.loop_count,x=[V.canvas_height],v=[V.canvas_width];for(var $=0;$<B.length&&B[$].blend!=0;$++);}var z=B[0],ie=R.WebPDecodeRGBA(O,z.src_off,z.src_size,v,x);z.rgba=ie,z.imgwidth=v[0],z.imgheight=x[0];for(var D=0;D<v[0]*x[0]*4;D++)T[D]=ie[D];return this.width=v,this.height=x,this.data=T,this}(function(n){var e=function(){return typeof qg=="function"},t=function(x,v,T,R){var O=4,C=l;switch(R){case n.image_compression.FAST:O=1,C=a;break;case n.image_compression.MEDIUM:O=6,C=u;break;case n.image_compression.SLOW:O=9,C=h}x=r(x,v,T,C);var V=qg(x,{level:O});return n.__addimage__.arrayBufferToBinaryString(V)},r=function(x,v,T,R){for(var O,C,V,B=x.length/v,$=new Uint8Array(x.length+B),z=y(),ie=0;ie<B;ie+=1){if(V=ie*v,O=x.subarray(V,V+v),R)$.set(R(O,T,C),V+ie);else{for(var D,A=z.length,M=[];D<A;D+=1)M[D]=z[D](O,T,C);var U=_(M.concat());$.set(M[U],V+ie)}C=O}return $},i=function(x){var v=Array.apply([],x);return v.unshift(0),v},a=function(x,v){var T,R=[],O=x.length;R[0]=1;for(var C=0;C<O;C+=1)T=x[C-v]||0,R[C+1]=x[C]-T+256&255;return R},l=function(x,v,T){var R,O=[],C=x.length;O[0]=2;for(var V=0;V<C;V+=1)R=T&&T[V]||0,O[V+1]=x[V]-R+256&255;return O},u=function(x,v,T){var R,O,C=[],V=x.length;C[0]=3;for(var B=0;B<V;B+=1)R=x[B-v]||0,O=T&&T[B]||0,C[B+1]=x[B]+256-(R+O>>>1)&255;return C},h=function(x,v,T){var R,O,C,V,B=[],$=x.length;B[0]=4;for(var z=0;z<$;z+=1)R=x[z-v]||0,O=T&&T[z]||0,C=T&&T[z-v]||0,V=p(R,O,C),B[z+1]=x[z]-V+256&255;return B},p=function(x,v,T){if(x===v&&v===T)return x;var R=Math.abs(v-T),O=Math.abs(x-T),C=Math.abs(x+v-T-T);return R<=O&&R<=C?x:O<=C?v:T},y=function(){return[i,a,l,u,h]},_=function(x){var v=x.map(function(T){return T.reduce(function(R,O){return R+Math.abs(O)},0)});return v.indexOf(Math.min.apply(null,v))};n.processPNG=function(x,v,T,R){var O,C,V,B,$,z,ie,D,A,M,U,I,P,F,X,pe=this.decode.FLATE_DECODE,ae="";if(this.__addimage__.isArrayBuffer(x)&&(x=new Uint8Array(x)),this.__addimage__.isArrayBufferView(x)){if(x=(V=new aN(x)).imgData,C=V.bits,O=V.colorSpace,$=V.colors,[4,6].indexOf(V.colorType)!==-1){if(V.bits===8){A=(D=V.pixelBitlength==32?new Uint32Array(V.decodePixels().buffer):V.pixelBitlength==16?new Uint16Array(V.decodePixels().buffer):new Uint8Array(V.decodePixels().buffer)).length,U=new Uint8Array(A*V.colors),M=new Uint8Array(A);var oe,te=V.pixelBitlength-V.bits;for(F=0,X=0;F<A;F++){for(P=D[F],oe=0;oe<te;)U[X++]=P>>>oe&255,oe+=V.bits;M[F]=P>>>oe&255}}if(V.bits===16){A=(D=new Uint32Array(V.decodePixels().buffer)).length,U=new Uint8Array(A*(32/V.pixelBitlength)*V.colors),M=new Uint8Array(A*(32/V.pixelBitlength)),I=V.colors>1,F=0,X=0;for(var ne=0;F<A;)P=D[F++],U[X++]=P>>>0&255,I&&(U[X++]=P>>>16&255,P=D[F++],U[X++]=P>>>0&255),M[ne++]=P>>>16&255;C=8}R!==n.image_compression.NONE&&e()?(x=t(U,V.width*V.colors,V.colors,R),ie=t(M,V.width,1,R)):(x=U,ie=M,pe=void 0)}if(V.colorType===3&&(O=this.color_spaces.INDEXED,z=V.palette,V.transparency.indexed)){var he=V.transparency.indexed,re=0;for(F=0,A=he.length;F<A;++F)re+=he[F];if((re/=255)===A-1&&he.indexOf(0)!==-1)B=[he.indexOf(0)];else if(re!==A){for(D=V.decodePixels(),M=new Uint8Array(D.length),F=0,A=D.length;F<A;F++)M[F]=he[D[F]];ie=t(M,V.width,1)}}var N=function(W){var ee;switch(W){case n.image_compression.FAST:ee=11;break;case n.image_compression.MEDIUM:ee=13;break;case n.image_compression.SLOW:ee=14;break;default:ee=12}return ee}(R);return pe===this.decode.FLATE_DECODE&&(ae="/Predictor "+N+" "),ae+="/Colors "+$+" /BitsPerComponent "+C+" /Columns "+V.width,(this.__addimage__.isArrayBuffer(x)||this.__addimage__.isArrayBufferView(x))&&(x=this.__addimage__.arrayBufferToBinaryString(x)),(ie&&this.__addimage__.isArrayBuffer(ie)||this.__addimage__.isArrayBufferView(ie))&&(ie=this.__addimage__.arrayBufferToBinaryString(ie)),{alias:T,data:x,index:v,filter:pe,decodeParameters:ae,transparency:B,palette:z,sMask:ie,predictor:N,width:V.width,height:V.height,bitsPerComponent:C,colorSpace:O}}}})(Wt.API),function(n){n.processGIF89A=function(e,t,r,i){var a=new sN(e),l=a.width,u=a.height,h=[];a.decodeAndBlitFrameRGBA(0,h);var p={data:h,width:l,height:u},y=new og(100).encode(p,100);return n.processJPEG.call(this,y,t,r,i)},n.processGIF87A=n.processGIF89A}(Wt.API),Qa.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Qa.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){tr.log("bit decode error:"+t)}},Qa.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var a=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+8*i*4,u=0;u<8&&8*i+u<this.width;u++){var h=this.palette[a>>7-u&1];this.data[l+4*u]=h.blue,this.data[l+4*u+1]=h.green,this.data[l+4*u+2]=h.red,this.data[l+4*u+3]=255}t!==0&&(this.pos+=4-t)}},Qa.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var a=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+2*i*4,u=a>>4,h=15&a,p=this.palette[u];if(this.data[l]=p.blue,this.data[l+1]=p.green,this.data[l+2]=p.red,this.data[l+3]=255,2*i+1>=this.width)break;p=this.palette[h],this.data[l+4]=p.blue,this.data[l+4+1]=p.green,this.data[l+4+2]=p.red,this.data[l+4+3]=255}e!==0&&(this.pos+=4-e)}},Qa.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),a=t*this.width*4+4*r;if(i<this.palette.length){var l=this.palette[i];this.data[a]=l.red,this.data[a+1]=l.green,this.data[a+2]=l.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}n!==0&&(this.pos+=4-n)}},Qa.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(a&e)/e*255|0,u=(a>>5&e)/e*255|0,h=(a>>10&e)/e*255|0,p=a>>15?255:0,y=r*this.width*4+4*i;this.data[y]=h,this.data[y+1]=u,this.data[y+2]=l,this.data[y+3]=p}this.pos+=n}},Qa.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(l&e)/e*255|0,h=(l>>5&t)/t*255|0,p=(l>>11)/e*255|0,y=i*this.width*4+4*a;this.data[y]=p,this.data[y+1]=h,this.data[y+2]=u,this.data[y+3]=255}this.pos+=n}},Qa.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=a,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=255}this.pos+=this.width%4}},Qa.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=a,this.data[u+1]=i,this.data[u+2]=r,this.data[u+3]=l}},Qa.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,r,i){var a=new Qa(e,!1),l=a.width,u=a.height,h={data:a.getData(),width:l,height:u},p=new og(100).encode(h,100);return n.processJPEG.call(this,p,t,r,i)}}(Wt.API),z2.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,r,i){var a=new z2(e),l=a.width,u=a.height,h={data:a.getData(),width:l,height:u},p=new og(100).encode(h,100);return n.processJPEG.call(this,p,t,r,i)}}(Wt.API),Wt.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,a=new Uint8Array(i/4*3),l=new Uint8Array(i/4),u=0,h=0,p=0;p<i;p+=4){var y=r[p],_=r[p+1],x=r[p+2],v=r[p+3];a[u++]=y,a[u++]=_,a[u++]=x,l[h++]=v}var T=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:T,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Wt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},zc=Wt.API,Td=zc.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),a=e.fontSize||this.internal.getFontSize(),l=e.charSpace||this.internal.getCharSpace(),u=e.widths?e.widths:i.metadata.Unicode.widths,h=u.fof?u.fof:1,p=e.kerning?e.kerning:i.metadata.Unicode.kerning,y=p.fof?p.fof:1,_=e.doKerning!==!1,x=0,v=n.length,T=0,R=u[0]||h,O=[];for(t=0;t<v;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?O.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+l*(1e3/a)||0)/1e3):(x=_&&Jn(p[r])==="object"&&!isNaN(parseInt(p[r][T],10))?p[r][T]/y:0,O.push((u[r]||R)/h+x)),T=r;return O},j2=zc.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return zc.processArabic&&(n=zc.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:Td.apply(this,arguments).reduce(function(a,l){return a+l},0)},V2=function(n,e,t,r){for(var i=[],a=0,l=n.length,u=0;a!==l&&u+e[a]<t;)u+=e[a],a++;i.push(n.slice(0,a));var h=a;for(u=0;a!==l;)u+e[a]>r&&(i.push(n.slice(h,a)),u=0,h=a),u+=e[a],a++;return h!==a&&i.push(n.slice(h,a)),i},B2=function(n,e,t){t||(t={});var r,i,a,l,u,h,p,y=[],_=[y],x=t.textIndent||0,v=0,T=0,R=n.split(" "),O=Td.apply(this,[" ",t])[0];if(h=t.lineIndent===-1?R[0].length+2:t.lineIndent||0){var C=Array(h).join(" "),V=[];R.map(function($){($=$.split(/\s*\n/)).length>1?V=V.concat($.map(function(z,ie){return(ie&&z.length?`
`:"")+z})):V.push($[0])}),R=V,h=j2.apply(this,[C,t])}for(a=0,l=R.length;a<l;a++){var B=0;if(r=R[a],h&&r[0]==`
`&&(r=r.substr(1),B=1),x+v+(T=(i=Td.apply(this,[r,t])).reduce(function($,z){return $+z},0))>e||B){if(T>e){for(u=V2.apply(this,[r,i,e-(x+v),e]),y.push(u.shift()),y=[u.pop()];u.length;)_.push([u.shift()]);T=i.slice(r.length-(y[0]?y[0].length:0)).reduce(function($,z){return $+z},0)}else y=[r];_.push(y),x=T+h,v=O}else y.push(r),x+=v+T,v=O}return p=h?function($,z){return(z?C:"")+$.join(" ")}:function($){return $.join(" ")},_.map(p)},zc.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),a=(function(y){if(y.widths&&y.kerning)return{widths:y.widths,kerning:y.kerning};var _=this.internal.getFont(y.fontName,y.fontStyle);return _.metadata.Unicode?{widths:_.metadata.Unicode.widths||{0:1},kerning:_.metadata.Unicode.kerning||{}}:{font:_.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var l=1*this.internal.scaleFactor*e/i;a.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=t.lineIndent;var u,h,p=[];for(u=0,h=r.length;u<h;u++)p=p.concat(B2.apply(this,[r[u],l,a]));return p},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},i=0;i<e.length;i++)t[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var a=function(_){return"0x"+parseInt(_,10).toString(16)},l=n.__fontmetrics__.compress=function(_){var x,v,T,R,O=["{"];for(var C in _){if(x=_[C],isNaN(parseInt(C,10))?v="'"+C+"'":(C=parseInt(C,10),v=(v=a(C).slice(2)).slice(0,-1)+r[v.slice(-1)]),typeof x=="number")x<0?(T=a(x).slice(3),R="-"):(T=a(x).slice(2),R=""),T=R+T.slice(0,-1)+r[T.slice(-1)];else{if(Jn(x)!=="object")throw new Error("Don't know what to do with value type "+Jn(x)+".");T=l(x)}O.push(v+T)}return O.push("}"),O.join("")},u=n.__fontmetrics__.uncompress=function(_){if(typeof _!="string")throw new Error("Invalid argument passed to uncompress.");for(var x,v,T,R,O={},C=1,V=O,B=[],$="",z="",ie=_.length-1,D=1;D<ie;D+=1)(R=_[D])=="'"?x?(T=x.join(""),x=void 0):x=[]:x?x.push(R):R=="{"?(B.push([V,T]),V={},T=void 0):R=="}"?((v=B.pop())[0][v[1]]=V,T=void 0,V=v[0]):R=="-"?C=-1:T===void 0?t.hasOwnProperty(R)?($+=t[R],T=parseInt($,16)*C,C=1,$=""):$+=R:t.hasOwnProperty(R)?(z+=t[R],V[T]=parseInt(z,16)*C,C=1,T=void 0,z=""):z+=R;return O},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},y={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(_){var x=_.font,v=y.Unicode[x.postScriptName];v&&(x.metadata.Unicode={},x.metadata.Unicode.widths=v.widths,x.metadata.Unicode.kerning=v.kerning);var T=p.Unicode[x.postScriptName];T&&(x.metadata.Unicode.encoding=T,x.encoding=T.codePages[0])}])}(Wt.API),function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),a=0;a<r;a++)i[a]=t.charCodeAt(a);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,a=t.instance;if(!i.isStandardFont){if(a===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=a.existsFileInVFS(i.postScriptName)===!1?a.loadFile(i.postScriptName):a.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(l,u){u=/^\x00\x01\x00\x00/.test(u)?e(u):e(Xh(u)),l.metadata=n.API.TTFFont.open(u),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(i,r)}}])}(Wt),function(n){function e(){return(Gt.canvg?Promise.resolve(Gt.canvg):jg(()=>import("./index.es-BpH4gJPF.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}Wt.API.addSvgAsImage=function(t,r,i,a,l,u,h,p){if(isNaN(r)||isNaN(i))throw tr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(a)||isNaN(l))throw tr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var y=document.createElement("canvas");y.width=a,y.height=l;var _=y.getContext("2d");_.fillStyle="#fff",_.fillRect(0,0,y.width,y.height);var x={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},v=this;return e().then(function(T){return T.fromString(_,t,x)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(T){return T.render(x)}).then(function(){v.addImage(y.toDataURL("image/jpeg",1),r,i,a,l,h,p)})}}(),Wt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},Wt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,a,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(l),h=[],p=0,y=0,_=0;function x(T,R){var O,C=!1;for(O=0;O<T.length;O+=1)T[O]===R&&(C=!0);return C}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var v=u.length;for(_=0;_<v;_+=1)t[u[_]].value=t[u[_]].defaultValue,t[u[_]].explicitSet=!1}if(Jn(n)==="object"){for(i in n)if(a=n[i],x(u,i)&&a!==void 0){if(t[i].type==="boolean"&&typeof a=="boolean")t[i].value=a;else if(t[i].type==="name"&&x(t[i].valueSet,a))t[i].value=a;else if(t[i].type==="integer"&&Number.isInteger(a))t[i].value=a;else if(t[i].type==="array"){for(p=0;p<a.length;p+=1)if(r=!0,a[p].length===1&&typeof a[p][0]=="number")h.push(String(a[p]-1));else if(a[p].length>1){for(y=0;y<a[p].length;y+=1)typeof a[p][y]!="number"&&(r=!1);r===!0&&h.push([a[p][0]-1,a[p][1]-1].join(" "))}t[i].value="["+h.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var T,R=[];for(T in t)t[T].explicitSet===!0&&(t[T].type==="name"?R.push("/"+T+" /"+t[T].value):R.push("/"+T+" "+t[T].value));R.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+R.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),a=unescape(encodeURIComponent(r)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),p=a.length+l.length+u.length+i.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+p+" >>"),this.internal.write("stream"),this.internal.write(i+a+l+u+h),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(Wt.API),function(n){var e=n.API,t=e.pdfEscape16=function(a,l){for(var u,h=l.metadata.Unicode.widths,p=["","0","00","000","0000"],y=[""],_=0,x=a.length;_<x;++_){if(u=l.metadata.characterToGlyph(a.charCodeAt(_)),l.metadata.glyIdsUsed.push(u),l.metadata.toUnicode[u]=a.charCodeAt(_),h.indexOf(u)==-1&&(h.push(u),h.push([parseInt(l.metadata.widthOfGlyph(u),10)])),u=="0")return y.join("");u=u.toString(16),y.push(p[4-u.length],u)}return y.join("")},r=function(a){var l,u,h,p,y,_,x;for(y=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],_=0,x=(u=Object.keys(a).sort(function(v,T){return v-T})).length;_<x;_++)l=u[_],h.length>=100&&(y+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),a[l]!==void 0&&a[l]!==null&&typeof a[l].toString=="function"&&(p=("0000"+a[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),h.push("<"+l+"><"+p+">"));return h.length&&(y+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),y+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(a){(function(l){var u=l.font,h=l.out,p=l.newObject,y=l.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="Identity-H"){for(var _=u.metadata.Unicode.widths,x=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),v="",T=0;T<x.length;T++)v+=String.fromCharCode(x[T]);var R=p();y({data:v,addLength1:!0,objectId:R}),h("endobj");var O=p();y({data:r(u.metadata.toUnicode),addLength1:!0,objectId:O}),h("endobj");var C=p();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+Kc(u.fontName)),h("/FontFile2 "+R+" 0 R"),h("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),h("/Flags "+u.metadata.flags),h("/StemV "+u.metadata.stemV),h("/ItalicAngle "+u.metadata.italicAngle),h("/Ascent "+u.metadata.ascender),h("/Descent "+u.metadata.decender),h("/CapHeight "+u.metadata.capHeight),h(">>"),h("endobj");var V=p();h("<<"),h("/Type /Font"),h("/BaseFont /"+Kc(u.fontName)),h("/FontDescriptor "+C+" 0 R"),h("/W "+n.API.PDFObject.convert(_)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+u.encoding+")"),h(">>"),h(">>"),h("endobj"),u.objectNumber=p(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+O+" 0 R"),h("/BaseFont /"+Kc(u.fontName)),h("/Encoding /"+u.encoding),h("/DescendantFonts ["+V+" 0 R]"),h(">>"),h("endobj"),u.isAlreadyPutted=!0}})(a)}]),e.events.push(["putFont",function(a){(function(l){var u=l.font,h=l.out,p=l.newObject,y=l.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var _=u.metadata.rawData,x="",v=0;v<_.length;v++)x+=String.fromCharCode(_[v]);var T=p();y({data:x,addLength1:!0,objectId:T}),h("endobj");var R=p();y({data:r(u.metadata.toUnicode),addLength1:!0,objectId:R}),h("endobj");var O=p();h("<<"),h("/Descent "+u.metadata.decender),h("/CapHeight "+u.metadata.capHeight),h("/StemV "+u.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+T+" 0 R"),h("/Flags 96"),h("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),h("/FontName /"+Kc(u.fontName)),h("/ItalicAngle "+u.metadata.italicAngle),h("/Ascent "+u.metadata.ascender),h(">>"),h("endobj"),u.objectNumber=p();for(var C=0;C<u.metadata.hmtx.widths.length;C++)u.metadata.hmtx.widths[C]=parseInt(u.metadata.hmtx.widths[C]*(1e3/u.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+R+" 0 R/BaseFont/"+Kc(u.fontName)+"/FontDescriptor "+O+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),h("endobj"),u.isAlreadyPutted=!0}})(a)}]);var i=function(a){var l,u=a.text||"",h=a.x,p=a.y,y=a.options||{},_=a.mutex||{},x=_.pdfEscape,v=_.activeFontKey,T=_.fonts,R=v,O="",C=0,V="",B=T[R].encoding;if(T[R].encoding!=="Identity-H")return{text:u,x:h,y:p,options:y,mutex:_};for(V=u,R=v,Array.isArray(u)&&(V=u[0]),C=0;C<V.length;C+=1)T[R].metadata.hasOwnProperty("cmap")&&(l=T[R].metadata.cmap.unicode.codeMap[V[C].charCodeAt(0)]),l||V[C].charCodeAt(0)<256&&T[R].metadata.hasOwnProperty("Unicode")?O+=V[C]:O+="";var $="";return parseInt(R.slice(1))<14||B==="WinAnsiEncoding"?$=x(O,R).split("").map(function(z){return z.charCodeAt(0).toString(16)}).join(""):B==="Identity-H"&&($=t(O,T[R])),_.isHex=!0,{text:$,x:h,y:p,options:y,mutex:_}};e.events.push(["postProcessText",function(a){var l=a.text||"",u=[],h={text:l,x:a.x,y:a.y,options:a.options,mutex:a.mutex};if(Array.isArray(l)){var p=0;for(p=0;p<l.length;p+=1)Array.isArray(l[p])&&l[p].length===3?u.push([i(Object.assign({},h,{text:l[p][0]})).text,l[p][1],l[p][2]]):u.push(i(Object.assign({},h,{text:l[p]})).text);a.text=u}else a.text=i(Object.assign({},h,{text:l})).text}])}(Wt),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(Wt.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,a,l,u,h,p,y,_=e,x=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],v=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],T={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},R={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},O=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],C=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),V=!1,B=0;this.__bidiEngine__={};var $=function(I){var P=I.charCodeAt(),F=P>>8,X=R[F];return X!==void 0?_[256*X+(255&P)]:F===252||F===253?"AL":C.test(F)?"L":F===8?"R":"N"},z=function(I){for(var P,F=0;F<I.length;F++){if((P=$(I.charAt(F)))==="L")return!1;if(P==="R")return!0}return!1},ie=function(I,P,F,X){var pe,ae,oe,te,ne=P[X];switch(ne){case"L":case"R":V=!1;break;case"N":case"AN":break;case"EN":V&&(ne="AN");break;case"AL":V=!0,ne="R";break;case"WS":ne="N";break;case"CS":X<1||X+1>=P.length||(pe=F[X-1])!=="EN"&&pe!=="AN"||(ae=P[X+1])!=="EN"&&ae!=="AN"?ne="N":V&&(ae="AN"),ne=ae===pe?ae:"N";break;case"ES":ne=(pe=X>0?F[X-1]:"B")==="EN"&&X+1<P.length&&P[X+1]==="EN"?"EN":"N";break;case"ET":if(X>0&&F[X-1]==="EN"){ne="EN";break}if(V){ne="N";break}for(oe=X+1,te=P.length;oe<te&&P[oe]==="ET";)oe++;ne=oe<te&&P[oe]==="EN"?"EN":"N";break;case"NSM":if(l&&!u){for(te=P.length,oe=X+1;oe<te&&P[oe]==="NSM";)oe++;if(oe<te){var he=I[X],re=he>=1425&&he<=2303||he===64286;if(pe=P[oe],re&&(pe==="R"||pe==="AL")){ne="R";break}}}ne=X<1||(pe=P[X-1])==="B"?"N":F[X-1];break;case"B":V=!1,i=!0,ne=B;break;case"S":a=!0,ne="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":V=!1;break;case"BN":ne="N"}return ne},D=function(I,P,F){var X=I.split("");return F&&A(X,F,{hiLevel:B}),X.reverse(),P&&P.reverse(),X.join("")},A=function(I,P,F){var X,pe,ae,oe,te,ne=-1,he=I.length,re=0,N=[],W=B?v:x,ee=[];for(V=!1,i=!1,a=!1,pe=0;pe<he;pe++)ee[pe]=$(I[pe]);for(ae=0;ae<he;ae++){if(te=re,N[ae]=ie(I,ee,N,ae),X=240&(re=W[te][T[N[ae]]]),re&=15,P[ae]=oe=W[re][5],X>0)if(X===16){for(pe=ne;pe<ae;pe++)P[pe]=1;ne=-1}else ne=-1;if(W[re][6])ne===-1&&(ne=ae);else if(ne>-1){for(pe=ne;pe<ae;pe++)P[pe]=oe;ne=-1}ee[ae]==="B"&&(P[ae]=0),F.hiLevel|=oe}a&&function(se,ue,we){for(var xe=0;xe<we;xe++)if(se[xe]==="S"){ue[xe]=B;for(var Se=xe-1;Se>=0&&se[Se]==="WS";Se--)ue[Se]=B}}(ee,P,he)},M=function(I,P,F,X,pe){if(!(pe.hiLevel<I)){if(I===1&&B===1&&!i)return P.reverse(),void(F&&F.reverse());for(var ae,oe,te,ne,he=P.length,re=0;re<he;){if(X[re]>=I){for(te=re+1;te<he&&X[te]>=I;)te++;for(ne=re,oe=te-1;ne<oe;ne++,oe--)ae=P[ne],P[ne]=P[oe],P[oe]=ae,F&&(ae=F[ne],F[ne]=F[oe],F[oe]=ae);re=te}re++}}},U=function(I,P,F){var X=I.split(""),pe={hiLevel:B};return F||(F=[]),A(X,F,pe),function(ae,oe,te){if(te.hiLevel!==0&&y)for(var ne,he=0;he<ae.length;he++)oe[he]===1&&(ne=O.indexOf(ae[he]))>=0&&(ae[he]=O[ne+1])}(X,F,pe),M(2,X,P,F,pe),M(1,X,P,F,pe),X.join("")};return this.__bidiEngine__.doBidiReorder=function(I,P,F){if(function(pe,ae){if(ae)for(var oe=0;oe<pe.length;oe++)ae[oe]=oe;u===void 0&&(u=z(pe)),p===void 0&&(p=z(pe))}(I,P),l||!h||p)if(l&&h&&u^p)B=u?1:0,I=D(I,P,F);else if(!l&&h&&p)B=u?1:0,I=U(I,P,F),I=D(I,P);else if(!l||u||h||p){if(l&&!h&&u^p)I=D(I,P),u?(B=0,I=U(I,P,F)):(B=1,I=U(I,P,F),I=D(I,P));else if(l&&u&&!h&&p)B=1,I=U(I,P,F),I=D(I,P);else if(!l&&!h&&u^p){var X=y;u?(B=1,I=U(I,P,F),B=0,y=!1,I=U(I,P,F),y=X):(B=0,I=U(I,P,F),I=D(I,P),B=1,y=!1,I=U(I,P,F),y=X,I=D(I,P))}}else B=0,I=U(I,P,F);else B=u?1:0,I=U(I,P,F);return I},this.__bidiEngine__.setOptions=function(I){I&&(l=I.isInputVisual,h=I.isOutputVisual,u=I.isInputRtl,p=I.isOutputRtl,y=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text,a=(r.x,r.y,r.options||{}),l=(r.mutex,a.lang,[]);if(a.isInputVisual=typeof a.isInputVisual!="boolean"||a.isInputVisual,t.setOptions(a),Object.prototype.toString.call(i)==="[object Array]"){var u=0;for(l=[],u=0;u<i.length;u+=1)Object.prototype.toString.call(i[u])==="[object Array]"?l.push([t.doBidiReorder(i[u][0]),i[u][1],i[u][2]]):l.push([t.doBidiReorder(i[u])]);r.text=l}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(Wt),Wt.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new Iu(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new xN(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new lN(this.contents),this.head=new cN(this),this.name=new mN(this),this.cmap=new vb(this),this.toUnicode={},this.hhea=new hN(this),this.maxp=new gN(this),this.hmtx=new vN(this),this.post=new dN(this),this.os2=new fN(this),this.loca=new bN(this),this.glyf=new yN(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,a;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,u,h,p;for(p=[],l=0,u=(h=this.bbox).length;l<u;l++)e=h[l],p.push(Math.round(e*this.scaleFactor));return p}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(t=i>>16)&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(a=this.familyClass)===1||a===2||a===3||a===4||a===5||a===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,a,l,u;for(l=0,a=0,u=(e=""+e).length;0<=u?a<u:a>u;a=0<=u?++a:--a)i=e.charCodeAt(a),l+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return l*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n}();var rs,Iu=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,a,l,u,h;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),a=this.readByte(),l=this.readByte(),u=this.readByte(),h=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^a)+65536*(255^l)+256*(255^u)+(255^h)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*a+65536*l+256*u+h},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,a;for(a=[],r=0,i=e.length;r<i;r++)t=e[r],a.push(this.writeByte(t));return a},n}(),lN=function(){var n;function e(t){var r,i,a;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,a=this.tableCount;0<=a?i<a:i>a;i=0<=a?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,a,l,u,h,p,y,_,x,v,T,R;for(R in v=Object.keys(t).length,h=Math.log(2),_=16*Math.floor(Math.log(v)/h),l=Math.floor(_/h),y=16*v-_,(i=new Iu).writeInt(this.scalarType),i.writeShort(v),i.writeShort(_),i.writeShort(l),i.writeShort(y),a=16*v,p=i.pos+a,u=null,T=[],t)for(x=t[R],i.writeString(R),i.writeInt(n(x)),i.writeInt(p),i.writeInt(x.length),T=T.concat(x),R==="head"&&(u=p),p+=x.length;p%4;)T.push(0),p++;return i.write(T),r=2981146554-n(i.data),i.pos=u+8,i.writeUInt32(r),i.data},n=function(t){var r,i,a,l;for(t=yb.call(t);t.length%4;)t.push(0);for(a=new Iu(t),i=0,r=0,l=t.length;r<l;r=r+=4)i+=a.readUInt32();return 4294967295&i},e}(),uN={}.hasOwnProperty,Ds=function(n,e){for(var t in e)uN.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};rs=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var cN=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ds(e,rs),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Iu).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),q2=function(){function n(e,t){var r,i,a,l,u,h,p,y,_,x,v,T,R,O,C,V,B;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),_=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=e.readByte();break;case 4:for(v=e.readUInt16(),x=v/2,e.pos+=6,a=function(){var $,z;for(z=[],h=$=0;0<=x?$<x:$>x;h=0<=x?++$:--$)z.push(e.readUInt16());return z}(),e.pos+=2,R=function(){var $,z;for(z=[],h=$=0;0<=x?$<x:$>x;h=0<=x?++$:--$)z.push(e.readUInt16());return z}(),p=function(){var $,z;for(z=[],h=$=0;0<=x?$<x:$>x;h=0<=x?++$:--$)z.push(e.readUInt16());return z}(),y=function(){var $,z;for(z=[],h=$=0;0<=x?$<x:$>x;h=0<=x?++$:--$)z.push(e.readUInt16());return z}(),i=(this.length-e.pos+this.offset)/2,u=function(){var $,z;for(z=[],h=$=0;0<=i?$<i:$>i;h=0<=i?++$:--$)z.push(e.readUInt16());return z}(),h=C=0,B=a.length;C<B;h=++C)for(O=a[h],r=V=T=R[h];T<=O?V<=O:V>=O;r=T<=O?++V:--V)y[h]===0?l=r+p[h]:(l=u[y[h]/2+(r-T)-(x-h)]||0)!==0&&(l+=p[h]),this.codeMap[r]=65535&l}e.pos=_}return n.encode=function(e,t){var r,i,a,l,u,h,p,y,_,x,v,T,R,O,C,V,B,$,z,ie,D,A,M,U,I,P,F,X,pe,ae,oe,te,ne,he,re,N,W,ee,se,ue,we,xe,Se,We,Ge,st;switch(X=new Iu,l=Object.keys(e).sort(function(it,Ct){return it-Ct}),t){case"macroman":for(R=0,O=function(){var it=[];for(T=0;T<256;++T)it.push(0);return it}(),V={0:0},a={},pe=0,ne=l.length;pe<ne;pe++)V[Se=e[i=l[pe]]]==null&&(V[Se]=++R),a[i]={old:e[i],new:V[e[i]]},O[i]=V[e[i]];return X.writeUInt16(1),X.writeUInt16(0),X.writeUInt32(12),X.writeUInt16(0),X.writeUInt16(262),X.writeUInt16(0),X.write(O),{charMap:a,subtable:X.data,maxGlyphID:R+1};case"unicode":for(P=[],_=[],B=0,V={},r={},C=p=null,ae=0,he=l.length;ae<he;ae++)V[z=e[i=l[ae]]]==null&&(V[z]=++B),r[i]={old:z,new:V[z]},u=V[z]-i,C!=null&&u===p||(C&&_.push(C),P.push(i),p=u),C=i;for(C&&_.push(C),_.push(65535),P.push(65535),U=2*(M=P.length),A=2*Math.pow(Math.log(M)/Math.LN2,2),x=Math.log(A/2)/Math.LN2,D=2*M-A,h=[],ie=[],v=[],T=oe=0,re=P.length;oe<re;T=++oe){if(I=P[T],y=_[T],I===65535){h.push(0),ie.push(0);break}if(I-(F=r[I].new)>=32768)for(h.push(0),ie.push(2*(v.length+M-T)),i=te=I;I<=y?te<=y:te>=y;i=I<=y?++te:--te)v.push(r[i].new);else h.push(F-I),ie.push(0)}for(X.writeUInt16(3),X.writeUInt16(1),X.writeUInt32(12),X.writeUInt16(4),X.writeUInt16(16+8*M+2*v.length),X.writeUInt16(0),X.writeUInt16(U),X.writeUInt16(A),X.writeUInt16(x),X.writeUInt16(D),we=0,N=_.length;we<N;we++)i=_[we],X.writeUInt16(i);for(X.writeUInt16(0),xe=0,W=P.length;xe<W;xe++)i=P[xe],X.writeUInt16(i);for(We=0,ee=h.length;We<ee;We++)u=h[We],X.writeUInt16(u);for(Ge=0,se=ie.length;Ge<se;Ge++)$=ie[Ge],X.writeUInt16($);for(st=0,ue=v.length;st<ue;st++)R=v[st],X.writeUInt16(R);return{charMap:r,subtable:X.data,maxGlyphID:B+1}}},n}(),vb=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ds(e,rs),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,i,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=a?i<a:i>a;i=0<=a?++i:--i)r=new q2(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var i,a;return r==null&&(r="macroman"),i=q2.encode(t,r),(a=new Iu).writeUInt16(0),a.writeUInt16(1),i.table=a.data.concat(i.subtable),i},e}(),hN=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ds(e,rs),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),fN=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ds(e,rs),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),dN=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ds(e,rs),e.prototype.tag="post",e.prototype.parse=function(t){var r,i,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var l;for(i=t.readUInt16(),this.glyphNameIndex=[],l=0;0<=i?l<i:l>i;l=0<=i?++l:--l)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)r=t.readByte(),a.push(this.names.push(t.readString(r)));return a;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var u,h,p;for(p=[],l=u=0,h=this.file.maxp.numGlyphs;0<=h?u<h:u>h;l=0<=h?++u:--u)p.push(t.readUInt32());return p}).call(this)}},e}(),pN=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},mN=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ds(e,rs),e.prototype.tag="name",e.prototype.parse=function(t){var r,i,a,l,u,h,p,y,_,x,v;for(t.pos=this.offset,t.readShort(),r=t.readShort(),h=t.readShort(),i=[],l=0;0<=r?l<r:l>r;l=0<=r?++l:--l)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+h+t.readShort()});for(p={},l=_=0,x=i.length;_<x;l=++_)a=i[l],t.pos=a.offset,y=t.readString(a.length),u=new pN(y,a),p[v=a.nameID]==null&&(p[v]=[]),p[a.nameID].push(u);this.strings=p,this.copyright=p[0],this.fontFamily=p[1],this.fontSubfamily=p[2],this.uniqueSubfamily=p[3],this.fontName=p[4],this.version=p[5];try{this.postscriptName=p[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=p[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=p[7],this.manufacturer=p[8],this.designer=p[9],this.description=p[10],this.vendorUrl=p[11],this.designerUrl=p[12],this.license=p[13],this.licenseUrl=p[14],this.preferredFamily=p[15],this.preferredSubfamily=p[17],this.compatibleFull=p[18],this.sampleText=p[19]},e}(),gN=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ds(e,rs),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),vN=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ds(e,rs),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,i,a,l,u,h,p;for(t.pos=this.offset,this.metrics=[],r=0,h=this.file.hhea.numberOfMetrics;0<=h?r<h:r>h;r=0<=h?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var y,_;for(_=[],r=y=0;0<=a?y<a:y>a;r=0<=a?++y:--y)_.push(t.readInt16());return _}(),this.widths=(function(){var y,_,x,v;for(v=[],y=0,_=(x=this.metrics).length;y<_;y++)l=x[y],v.push(l.advance);return v}).call(this),i=this.widths[this.widths.length-1],p=[],r=u=0;0<=a?u<a:u>a;r=0<=a?++u:--u)p.push(this.widths.push(i));return p},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),yb=[].slice,yN=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ds(e,rs),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,i,a,l,u,h,p,y,_,x;return t in this.cache?this.cache[t]:(l=this.file.loca,r=this.file.contents,i=l.indexOf(t),(a=l.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+i,u=(h=new Iu(r.read(a))).readShort(),y=h.readShort(),x=h.readShort(),p=h.readShort(),_=h.readShort(),this.cache[t]=u===-1?new _N(h,y,x,p,_):new wN(h,u,y,x,p,_),this.cache[t]))},e.prototype.encode=function(t,r,i){var a,l,u,h,p;for(u=[],l=[],h=0,p=r.length;h<p;h++)a=t[r[h]],l.push(u.length),a&&(u=u.concat(a.encode(i)));return l.push(u.length),{table:u,offsets:l}},e}(),wN=function(){function n(e,t,r,i,a,l){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=a,this.yMax=l,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),_N=function(){function n(e,t,r,i,a){var l,u;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=a,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;u=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&u;)l.pos+=1&u?4:2,128&u?l.pos+=8:64&u?l.pos+=4:8&u&&(l.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new Iu(yb.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),bN=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return Ds(e,rs),e.prototype.tag="loca",e.prototype.parse=function(t){var r,i;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,l;for(l=[],i=0,a=this.length;i<a;i+=2)l.push(2*t.readUInt16());return l}).call(this):(function(){var a,l;for(l=[],i=0,a=this.length;i<a;i+=4)l.push(t.readUInt32());return l}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),a=0,l=0,u=0;u<i.length;++u)if(i[u]=a,l<r.length&&r[l]==u){++l,i[u]=a;var h=this.offsets[u],p=this.offsets[u+1]-h;p>0&&(a+=p)}for(var y=new Array(4*i.length),_=0;_<i.length;++_)y[4*_+3]=255&i[_],y[4*_+2]=(65280&i[_])>>8,y[4*_+1]=(16711680&i[_])>>16,y[4*_]=(4278190080&i[_])>>24;return y},e}(),xN=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,a;for(t in i=this.font.cmap.tables[0].codeMap,e={},a=this.subset)r=a[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,a,l,u,h;for(i={},l=0,u=e.length;l<u;l++)i[a=e[l]]=this.font.glyf.glyphFor(a);for(a in t=[],i)(r=i[a])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(a in h=this.glyphsFor(t))r=h[a],i[a]=r;return i},n.prototype.encode=function(e,t){var r,i,a,l,u,h,p,y,_,x,v,T,R,O,C;for(i in r=vb.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(e),v={0:0},C=r.charMap)v[(h=C[i]).old]=h.new;for(T in x=r.maxGlyphID,l)T in v||(v[T]=x++);return y=function(V){var B,$;for(B in $={},V)$[V[B]]=B;return $}(v),_=Object.keys(y).sort(function(V,B){return V-B}),R=function(){var V,B,$;for($=[],V=0,B=_.length;V<B;V++)u=_[V],$.push(y[u]);return $}(),a=this.font.glyf.encode(l,R,v),p=this.font.loca.encode(a.offsets,R),O={cmap:this.font.cmap.raw(),glyf:a.table,loca:p,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(O["OS/2"]=this.font.os2.raw()),this.font.directory.encode(O)},n}();Wt.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,a,l;if(Array.isArray(t))return"["+function(){var u,h,p;for(p=[],u=0,h=t.length;u<h;u++)r=t[u],p.push(e.convert(r));return p}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in a=["<<"],t)l=t[i],a.push("/"+i+" "+e.convert(l));return a.push(">>"),a.join(`
`)}return""+t},e}();const SN=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:eN,AcroFormAppearance:Pt,AcroFormButton:ei,AcroFormCheckBox:tf,AcroFormChoiceField:nc,AcroFormComboBox:ic,AcroFormEditBox:Zh,AcroFormListBox:rc,AcroFormPasswordField:nf,AcroFormPushButton:ef,AcroFormRadioButton:oc,AcroFormTextField:yu,GState:gf,ShadingPattern:cu,TilingPattern:ec,default:Wt,jsPDF:Wt},Symbol.toStringTag,{value:"Module"}));var Bd={exports:{}};const EN=Xb(SN);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */var H2=Bd.exports,W2;function AN(){return W2||(W2=1,function(n,e){(function(r,i){n.exports=i(function(){try{return EN}catch{}}())})(typeof globalThis<"u"?globalThis:typeof H2<"u"?H2:typeof window<"u"?window:typeof self<"u"?self:Jb,function(t){return function(){var r={172:function(u,h){var p=this&&this.__extends||function(){var x=function(v,T){return x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,O){R.__proto__=O}||function(R,O){for(var C in O)Object.prototype.hasOwnProperty.call(O,C)&&(R[C]=O[C])},x(v,T)};return function(v,T){if(typeof T!="function"&&T!==null)throw new TypeError("Class extends value "+String(T)+" is not a constructor or null");x(v,T);function R(){this.constructor=v}v.prototype=T===null?Object.create(T):(R.prototype=T.prototype,new R)}}();Object.defineProperty(h,"__esModule",{value:!0}),h.CellHookData=h.HookData=void 0;var y=function(){function x(v,T,R){this.table=T,this.pageNumber=T.pageNumber,this.pageCount=this.pageNumber,this.settings=T.settings,this.cursor=R,this.doc=v.getDocument()}return x}();h.HookData=y;var _=function(x){p(v,x);function v(T,R,O,C,V,B){var $=x.call(this,T,R,B)||this;return $.cell=O,$.row=C,$.column=V,$.section=C.section,$}return v}(y);h.CellHookData=_},340:function(u,h,p){Object.defineProperty(h,"__esModule",{value:!0});var y=p(4),_=p(136),x=p(744),v=p(776),T=p(664),R=p(972);function O(C){C.API.autoTable=function(){for(var V=[],B=0;B<arguments.length;B++)V[B]=arguments[B];var $;V.length===1?$=V[0]:(console.error("Use of deprecated autoTable initiation"),$=V[2]||{},$.columns=V[0],$.body=V[1]);var z=(0,v.parseInput)(this,$),ie=(0,R.createTable)(this,z);return(0,T.drawTable)(this,ie),this},C.API.lastAutoTable=!1,C.API.previousAutoTable=!1,C.API.autoTable.previous=!1,C.API.autoTableText=function(V,B,$,z){(0,_.default)(V,B,$,z,this)},C.API.autoTableSetDefaults=function(V){return x.DocHandler.setDefaults(V,this),this},C.autoTableSetDefaults=function(V,B){x.DocHandler.setDefaults(V,B)},C.API.autoTableHtmlToJson=function(V,B){var $;if(B===void 0&&(B=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var z=new x.DocHandler(this),ie=(0,y.parseHtml)(z,V,window,B,!1),D=ie.head,A=ie.body,M=(($=D[0])===null||$===void 0?void 0:$.map(function(U){return U.content}))||[];return{columns:M,rows:A,data:A}},C.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var V=this.lastAutoTable;return V&&V.finalY?V.finalY:0},C.API.autoTableAddPageContent=function(V){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),C.API.autoTable.globalDefaults||(C.API.autoTable.globalDefaults={}),C.API.autoTable.globalDefaults.addPageContent=V,this},C.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}h.default=O},136:function(u,h){Object.defineProperty(h,"__esModule",{value:!0});function p(y,_,x,v,T){v=v||{};var R=1.15,O=T.internal.scaleFactor,C=T.internal.getFontSize()/O,V=T.getLineHeightFactor?T.getLineHeightFactor():R,B=C*V,$=/\r\n|\r|\n/g,z="",ie=1;if((v.valign==="middle"||v.valign==="bottom"||v.halign==="center"||v.halign==="right")&&(z=typeof y=="string"?y.split($):y,ie=z.length||1),x+=C*(2-R),v.valign==="middle"?x-=ie/2*B:v.valign==="bottom"&&(x-=ie*B),v.halign==="center"||v.halign==="right"){var D=C;if(v.halign==="center"&&(D*=.5),z&&ie>=1){for(var A=0;A<z.length;A++)T.text(z[A],_-T.getStringUnitWidth(z[A])*D,x),x+=B;return T}_-=T.getStringUnitWidth(y)*D}return v.halign==="justify"?T.text(y,_,x,{maxWidth:v.maxWidth||100,align:"justify"}):T.text(y,_,x),T}h.default=p},420:function(u,h){Object.defineProperty(h,"__esModule",{value:!0}),h.getPageAvailableWidth=h.parseSpacing=h.getFillStyle=h.addTableBorder=h.getStringWidth=void 0;function p(T,R,O){O.applyStyles(R,!0);var C=Array.isArray(T)?T:[T],V=C.map(function(B){return O.getTextWidth(B)}).reduce(function(B,$){return Math.max(B,$)},0);return V}h.getStringWidth=p;function y(T,R,O,C){var V=R.settings.tableLineWidth,B=R.settings.tableLineColor;T.applyStyles({lineWidth:V,lineColor:B});var $=_(V,!1);$&&T.rect(O.x,O.y,R.getWidth(T.pageSize().width),C.y-O.y,$)}h.addTableBorder=y;function _(T,R){var O=T>0,C=R||R===0;return O&&C?"DF":O?"S":C?"F":null}h.getFillStyle=_;function x(T,R){var O,C,V,B;if(T=T||R,Array.isArray(T)){if(T.length>=4)return{top:T[0],right:T[1],bottom:T[2],left:T[3]};if(T.length===3)return{top:T[0],right:T[1],bottom:T[2],left:T[1]};if(T.length===2)return{top:T[0],right:T[1],bottom:T[0],left:T[1]};T.length===1?T=T[0]:T=R}return typeof T=="object"?(typeof T.vertical=="number"&&(T.top=T.vertical,T.bottom=T.vertical),typeof T.horizontal=="number"&&(T.right=T.horizontal,T.left=T.horizontal),{left:(O=T.left)!==null&&O!==void 0?O:R,top:(C=T.top)!==null&&C!==void 0?C:R,right:(V=T.right)!==null&&V!==void 0?V:R,bottom:(B=T.bottom)!==null&&B!==void 0?B:R}):(typeof T!="number"&&(T=R),{top:T,right:T,bottom:T,left:T})}h.parseSpacing=x;function v(T,R){var O=x(R.settings.margin,0);return T.pageSize().width-(O.left+O.right)}h.getPageAvailableWidth=v},796:function(u,h){var p=this&&this.__extends||function(){var v=function(T,R){return v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,C){O.__proto__=C}||function(O,C){for(var V in C)Object.prototype.hasOwnProperty.call(C,V)&&(O[V]=C[V])},v(T,R)};return function(T,R){if(typeof R!="function"&&R!==null)throw new TypeError("Class extends value "+String(R)+" is not a constructor or null");v(T,R);function O(){this.constructor=T}T.prototype=R===null?Object.create(R):(O.prototype=R.prototype,new O)}}();Object.defineProperty(h,"__esModule",{value:!0}),h.getTheme=h.defaultStyles=h.HtmlRowInput=void 0;var y=function(v){p(T,v);function T(R){var O=v.call(this)||this;return O._element=R,O}return T}(Array);h.HtmlRowInput=y;function _(v){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/v,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}h.defaultStyles=_;function x(v){var T={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return T[v]}h.getTheme=x},903:function(u,h,p){Object.defineProperty(h,"__esModule",{value:!0}),h.parseCss=void 0;var y=p(420);function _(O,C,V,B,$){var z={},ie=1.3333333333333333,D=v(C,function(ne){return $.getComputedStyle(ne).backgroundColor});D!=null&&(z.fillColor=D);var A=v(C,function(ne){return $.getComputedStyle(ne).color});A!=null&&(z.textColor=A);var M=R(B,V);M&&(z.cellPadding=M);var U="borderTopColor",I=ie*V,P=B.borderTopWidth;if(B.borderBottomWidth===P&&B.borderRightWidth===P&&B.borderLeftWidth===P){var F=(parseFloat(P)||0)/I;F&&(z.lineWidth=F)}else z.lineWidth={top:(parseFloat(B.borderTopWidth)||0)/I,right:(parseFloat(B.borderRightWidth)||0)/I,bottom:(parseFloat(B.borderBottomWidth)||0)/I,left:(parseFloat(B.borderLeftWidth)||0)/I},z.lineWidth.top||(z.lineWidth.right?U="borderRightColor":z.lineWidth.bottom?U="borderBottomColor":z.lineWidth.left&&(U="borderLeftColor"));var X=v(C,function(ne){return $.getComputedStyle(ne)[U]});X!=null&&(z.lineColor=X);var pe=["left","right","center","justify"];pe.indexOf(B.textAlign)!==-1&&(z.halign=B.textAlign),pe=["middle","bottom","top"],pe.indexOf(B.verticalAlign)!==-1&&(z.valign=B.verticalAlign);var ae=parseInt(B.fontSize||"");isNaN(ae)||(z.fontSize=ae/ie);var oe=x(B);oe&&(z.fontStyle=oe);var te=(B.fontFamily||"").toLowerCase();return O.indexOf(te)!==-1&&(z.font=te),z}h.parseCss=_;function x(O){var C="";return(O.fontWeight==="bold"||O.fontWeight==="bolder"||parseInt(O.fontWeight)>=700)&&(C="bold"),(O.fontStyle==="italic"||O.fontStyle==="oblique")&&(C+="italic"),C}function v(O,C){var V=T(O,C);if(!V)return null;var B=V.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!B||!Array.isArray(B))return null;var $=[parseInt(B[1]),parseInt(B[2]),parseInt(B[3])],z=parseInt(B[4]);return z===0||isNaN($[0])||isNaN($[1])||isNaN($[2])?null:$}function T(O,C){var V=C(O);return V==="rgba(0, 0, 0, 0)"||V==="transparent"||V==="initial"||V==="inherit"?O.parentElement==null?null:T(O.parentElement,C):V}function R(O,C){var V=[O.paddingTop,O.paddingRight,O.paddingBottom,O.paddingLeft],B=96/(72/C),$=(parseInt(O.lineHeight)-parseInt(O.fontSize))/C/2,z=V.map(function(D){return parseInt(D||"0")/B}),ie=(0,y.parseSpacing)(z,0);return $>ie.top&&(ie.top=$),$>ie.bottom&&(ie.bottom=$),ie}},744:function(u,h){Object.defineProperty(h,"__esModule",{value:!0}),h.DocHandler=void 0;var p={},y=function(){function _(x){this.jsPDFDocument=x,this.userStyles={textColor:x.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:x.internal.getFontSize(),fontStyle:x.internal.getFont().fontStyle,font:x.internal.getFont().fontName,lineWidth:x.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:x.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return _.setDefaults=function(x,v){v===void 0&&(v=null),v?v.__autoTableDocumentDefaults=x:p=x},_.unifyColor=function(x){return Array.isArray(x)?x:typeof x=="number"?[x,x,x]:typeof x=="string"?[x]:null},_.prototype.applyStyles=function(x,v){var T,R,O;v===void 0&&(v=!1),x.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(x.fontStyle);var C=this.jsPDFDocument.internal.getFont(),V=C.fontStyle,B=C.fontName;if(x.font&&(B=x.font),x.fontStyle){V=x.fontStyle;var $=this.getFontList()[B];$&&$.indexOf(V)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle($[0]),V=$[0])}if(this.jsPDFDocument.setFont(B,V),x.fontSize&&this.jsPDFDocument.setFontSize(x.fontSize),!v){var z=_.unifyColor(x.fillColor);z&&(T=this.jsPDFDocument).setFillColor.apply(T,z),z=_.unifyColor(x.textColor),z&&(R=this.jsPDFDocument).setTextColor.apply(R,z),z=_.unifyColor(x.lineColor),z&&(O=this.jsPDFDocument).setDrawColor.apply(O,z),typeof x.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(x.lineWidth)}},_.prototype.splitTextToSize=function(x,v,T){return this.jsPDFDocument.splitTextToSize(x,v,T)},_.prototype.rect=function(x,v,T,R,O){return this.jsPDFDocument.rect(x,v,T,R,O)},_.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},_.prototype.getTextWidth=function(x){return this.jsPDFDocument.getTextWidth(x)},_.prototype.getDocument=function(){return this.jsPDFDocument},_.prototype.setPage=function(x){this.jsPDFDocument.setPage(x)},_.prototype.addPage=function(){return this.jsPDFDocument.addPage()},_.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},_.prototype.getGlobalOptions=function(){return p||{}},_.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},_.prototype.pageSize=function(){var x=this.jsPDFDocument.internal.pageSize;return x.width==null&&(x={width:x.getWidth(),height:x.getHeight()}),x},_.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},_.prototype.getLineHeightFactor=function(){var x=this.jsPDFDocument;return x.getLineHeightFactor?x.getLineHeightFactor():1.15},_.prototype.getLineHeight=function(x){return x/this.scaleFactor()*this.getLineHeightFactor()},_.prototype.pageNumber=function(){var x=this.jsPDFDocument.internal.getCurrentPageInfo();return x?x.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},_}();h.DocHandler=y},4:function(u,h,p){Object.defineProperty(h,"__esModule",{value:!0}),h.parseHtml=void 0;var y=p(903),_=p(796);function x(R,O,C,V,B){var $,z;V===void 0&&(V=!1),B===void 0&&(B=!1);var ie;typeof O=="string"?ie=C.document.querySelector(O):ie=O;var D=Object.keys(R.getFontList()),A=R.scaleFactor(),M=[],U=[],I=[];if(!ie)return console.error("Html table could not be found with input: ",O),{head:M,body:U,foot:I};for(var P=0;P<ie.rows.length;P++){var F=ie.rows[P],X=(z=($=F==null?void 0:F.parentElement)===null||$===void 0?void 0:$.tagName)===null||z===void 0?void 0:z.toLowerCase(),pe=v(D,A,C,F,V,B);pe&&(X==="thead"?M.push(pe):X==="tfoot"?I.push(pe):U.push(pe))}return{head:M,body:U,foot:I}}h.parseHtml=x;function v(R,O,C,V,B,$){for(var z=new _.HtmlRowInput(V),ie=0;ie<V.cells.length;ie++){var D=V.cells[ie],A=C.getComputedStyle(D);if(B||A.display!=="none"){var M=void 0;$&&(M=(0,y.parseCss)(R,D,O,A,C)),z.push({rowSpan:D.rowSpan,colSpan:D.colSpan,styles:M,_element:D,content:T(D)})}}var U=C.getComputedStyle(V);if(z.length>0&&(B||U.display!=="none"))return z}function T(R){var O=R.cloneNode(!0);return O.innerHTML=O.innerHTML.replace(/\n/g,"").replace(/ +/g," "),O.innerHTML=O.innerHTML.split(/<br.*?>/).map(function(C){return C.trim()}).join(`
`),O.innerText||O.textContent||""}},776:function(u,h,p){Object.defineProperty(h,"__esModule",{value:!0}),h.parseInput=void 0;var y=p(4),_=p(356),x=p(420),v=p(744),T=p(792);function R(ie,D){var A=new v.DocHandler(ie),M=A.getDocumentOptions(),U=A.getGlobalOptions();(0,T.default)(A,U,M,D);var I=(0,_.assign)({},U,M,D),P;typeof window<"u"&&(P=window);var F=O(U,M,D),X=C(U,M,D),pe=V(A,I),ae=$(A,I,P);return{id:D.tableId,content:ae,hooks:X,styles:F,settings:pe}}h.parseInput=R;function O(ie,D,A){for(var M={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},U=function(X){if(X==="columnStyles"){var pe=ie[X],ae=D[X],oe=A[X];M.columnStyles=(0,_.assign)({},pe,ae,oe)}else{var te=[ie,D,A],ne=te.map(function(he){return he[X]||{}});M[X]=(0,_.assign)({},ne[0],ne[1],ne[2])}},I=0,P=Object.keys(M);I<P.length;I++){var F=P[I];U(F)}return M}function C(ie,D,A){for(var M=[ie,D,A],U={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},I=0,P=M;I<P.length;I++){var F=P[I];F.didParseCell&&U.didParseCell.push(F.didParseCell),F.willDrawCell&&U.willDrawCell.push(F.willDrawCell),F.didDrawCell&&U.didDrawCell.push(F.didDrawCell),F.willDrawPage&&U.willDrawPage.push(F.willDrawPage),F.didDrawPage&&U.didDrawPage.push(F.didDrawPage)}return U}function V(ie,D){var A,M,U,I,P,F,X,pe,ae,oe,te,ne,he=(0,x.parseSpacing)(D.margin,40/ie.scaleFactor()),re=(A=B(ie,D.startY))!==null&&A!==void 0?A:he.top,N;D.showFoot===!0?N="everyPage":D.showFoot===!1?N="never":N=(M=D.showFoot)!==null&&M!==void 0?M:"everyPage";var W;D.showHead===!0?W="everyPage":D.showHead===!1?W="never":W=(U=D.showHead)!==null&&U!==void 0?U:"everyPage";var ee=(I=D.useCss)!==null&&I!==void 0?I:!1,se=D.theme||(ee?"plain":"striped"),ue=!!D.horizontalPageBreak,we=(P=D.horizontalPageBreakRepeat)!==null&&P!==void 0?P:null;return{includeHiddenHtml:(F=D.includeHiddenHtml)!==null&&F!==void 0?F:!1,useCss:ee,theme:se,startY:re,margin:he,pageBreak:(X=D.pageBreak)!==null&&X!==void 0?X:"auto",rowPageBreak:(pe=D.rowPageBreak)!==null&&pe!==void 0?pe:"auto",tableWidth:(ae=D.tableWidth)!==null&&ae!==void 0?ae:"auto",showHead:W,showFoot:N,tableLineWidth:(oe=D.tableLineWidth)!==null&&oe!==void 0?oe:0,tableLineColor:(te=D.tableLineColor)!==null&&te!==void 0?te:200,horizontalPageBreak:ue,horizontalPageBreakRepeat:we,horizontalPageBreakBehaviour:(ne=D.horizontalPageBreakBehaviour)!==null&&ne!==void 0?ne:"afterAllRows"}}function B(ie,D){var A=ie.getLastAutoTable(),M=ie.scaleFactor(),U=ie.pageNumber(),I=!1;if(A&&A.startPageNumber){var P=A.startPageNumber+A.pageNumber-1;I=P===U}return typeof D=="number"?D:(D==null||D===!1)&&I&&(A==null?void 0:A.finalY)!=null?A.finalY+20/M:null}function $(ie,D,A){var M=D.head||[],U=D.body||[],I=D.foot||[];if(D.html){var P=D.includeHiddenHtml;if(A){var F=(0,y.parseHtml)(ie,D.html,A,P,D.useCss)||{};M=F.head||M,U=F.body||M,I=F.foot||M}else console.error("Cannot parse html in non browser environment")}var X=D.columns||z(M,U,I);return{columns:X,head:M,body:U,foot:I}}function z(ie,D,A){var M=ie[0]||D[0]||A[0]||[],U=[];return Object.keys(M).filter(function(I){return I!=="_element"}).forEach(function(I){var P=1,F;Array.isArray(M)?F=M[parseInt(I)]:F=M[I],typeof F=="object"&&!Array.isArray(F)&&(P=(F==null?void 0:F.colSpan)||1);for(var X=0;X<P;X++){var pe=void 0;Array.isArray(M)?pe=U.length:pe=I+(X>0?"_".concat(X):"");var ae={dataKey:pe};U.push(ae)}}),U}},792:function(u,h){Object.defineProperty(h,"__esModule",{value:!0});function p(_,x,v,T){for(var R=function(B){B&&typeof B!="object"&&console.error("The options parameter should be of type object, is: "+typeof B),typeof B.extendWidth<"u"&&(B.tableWidth=B.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof B.margins<"u"&&(typeof B.margin>"u"&&(B.margin=B.margins),console.error("Use of deprecated option: margins, use margin instead.")),B.startY&&typeof B.startY!="number"&&(console.error("Invalid value for startY option",B.startY),delete B.startY),!B.didDrawPage&&(B.afterPageContent||B.beforePageContent||B.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),B.didDrawPage=function(I){_.applyStyles(_.userStyles),B.beforePageContent&&B.beforePageContent(I),_.applyStyles(_.userStyles),B.afterPageContent&&B.afterPageContent(I),_.applyStyles(_.userStyles),B.afterPageAdd&&I.pageNumber>1&&I.afterPageAdd(I),_.applyStyles(_.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(I){B[I]&&console.error('The "'.concat(I,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(I){var P=I[0],F=I[1];B[F]&&(console.error("Use of deprecated option ".concat(F,". Use ").concat(P," instead")),B[P]=B[F])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(I){var P=typeof I=="string"?I:I[0],F=typeof I=="string"?I:I[1];typeof B[P]<"u"&&(typeof B.styles[F]>"u"&&(B.styles[F]=B[P]),console.error("Use of deprecated option: "+P+", use the style "+F+" instead."))});for(var $=0,z=["styles","bodyStyles","headStyles","footStyles"];$<z.length;$++){var ie=z[$];y(B[ie]||{})}for(var D=B.columnStyles||{},A=0,M=Object.keys(D);A<M.length;A++){var U=M[A];y(D[U]||{})}},O=0,C=[x,v,T];O<C.length;O++){var V=C[O];R(V)}}h.default=p;function y(_){_.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),_.minCellHeight||(_.minCellHeight=_.rowHeight)):_.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),_.cellWidth||(_.cellWidth=_.columnWidth))}},260:function(u,h,p){Object.defineProperty(h,"__esModule",{value:!0}),h.Column=h.Cell=h.Row=h.Table=void 0;var y=p(796),_=p(172),x=p(420),v=function(){function C(V,B){this.pageNumber=1,this.pageCount=1,this.id=V.id,this.settings=V.settings,this.styles=V.styles,this.hooks=V.hooks,this.columns=B.columns,this.head=B.head,this.body=B.body,this.foot=B.foot}return C.prototype.getHeadHeight=function(V){return this.head.reduce(function(B,$){return B+$.getMaxCellHeight(V)},0)},C.prototype.getFootHeight=function(V){return this.foot.reduce(function(B,$){return B+$.getMaxCellHeight(V)},0)},C.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},C.prototype.callCellHooks=function(V,B,$,z,ie,D){for(var A=0,M=B;A<M.length;A++){var U=M[A],I=new _.CellHookData(V,this,$,z,ie,D),P=U(I)===!1;if($.text=Array.isArray($.text)?$.text:[$.text],P)return!1}return!0},C.prototype.callEndPageHooks=function(V,B){V.applyStyles(V.userStyles);for(var $=0,z=this.hooks.didDrawPage;$<z.length;$++){var ie=z[$];ie(new _.HookData(V,this,B))}},C.prototype.callWillDrawPageHooks=function(V,B){for(var $=0,z=this.hooks.willDrawPage;$<z.length;$++){var ie=z[$];ie(new _.HookData(V,this,B))}},C.prototype.getWidth=function(V){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var B=this.columns.reduce(function(z,ie){return z+ie.wrappedWidth},0);return B}else{var $=this.settings.margin;return V-$.left-$.right}},C}();h.Table=v;var T=function(){function C(V,B,$,z,ie){ie===void 0&&(ie=!1),this.height=0,this.raw=V,V instanceof y.HtmlRowInput&&(this.raw=V._element,this.element=V._element),this.index=B,this.section=$,this.cells=z,this.spansMultiplePages=ie}return C.prototype.getMaxCellHeight=function(V){var B=this;return V.reduce(function($,z){var ie;return Math.max($,((ie=B.cells[z.index])===null||ie===void 0?void 0:ie.height)||0)},0)},C.prototype.hasRowSpan=function(V){var B=this;return V.filter(function($){var z=B.cells[$.index];return z?z.rowSpan>1:!1}).length>0},C.prototype.canEntireRowFit=function(V,B){return this.getMaxCellHeight(B)<=V},C.prototype.getMinimumRowHeight=function(V,B){var $=this;return V.reduce(function(z,ie){var D=$.cells[ie.index];if(!D)return 0;var A=B.getLineHeight(D.styles.fontSize),M=D.padding("vertical"),U=M+A;return U>z?U:z},0)},C}();h.Row=T;var R=function(){function C(V,B,$){var z,ie;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=B,this.section=$,this.raw=V;var D=V;V!=null&&typeof V=="object"&&!Array.isArray(V)?(this.rowSpan=V.rowSpan||1,this.colSpan=V.colSpan||1,D=(ie=(z=V.content)!==null&&z!==void 0?z:V.title)!==null&&ie!==void 0?ie:V,V._element&&(this.raw=V._element)):(this.rowSpan=1,this.colSpan=1);var A=D!=null?""+D:"",M=/\r\n|\r|\n/g;this.text=A.split(M)}return C.prototype.getTextPos=function(){var V;if(this.styles.valign==="top")V=this.y+this.padding("top");else if(this.styles.valign==="bottom")V=this.y+this.height-this.padding("bottom");else{var B=this.height-this.padding("vertical");V=this.y+B/2+this.padding("top")}var $;if(this.styles.halign==="right")$=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var z=this.width-this.padding("horizontal");$=this.x+z/2+this.padding("left")}else $=this.x+this.padding("left");return{x:$,y:V}},C.prototype.getContentHeight=function(V,B){B===void 0&&(B=1.15);var $=Array.isArray(this.text)?this.text.length:1,z=this.styles.fontSize/V*B,ie=$*z+this.padding("vertical");return Math.max(ie,this.styles.minCellHeight)},C.prototype.padding=function(V){var B=(0,x.parseSpacing)(this.styles.cellPadding,0);return V==="vertical"?B.top+B.bottom:V==="horizontal"?B.left+B.right:B[V]},C}();h.Cell=R;var O=function(){function C(V,B,$){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=V,this.raw=B,this.index=$}return C.prototype.getMaxCustomCellWidth=function(V){for(var B=0,$=0,z=V.allRows();$<z.length;$++){var ie=z[$],D=ie.cells[this.index];D&&typeof D.styles.cellWidth=="number"&&(B=Math.max(B,D.styles.cellWidth))}return B},C}();h.Column=O},356:function(u,h){Object.defineProperty(h,"__esModule",{value:!0}),h.assign=void 0;function p(y,_,x,v,T){if(y==null)throw new TypeError("Cannot convert undefined or null to object");for(var R=Object(y),O=1;O<arguments.length;O++){var C=arguments[O];if(C!=null)for(var V in C)Object.prototype.hasOwnProperty.call(C,V)&&(R[V]=C[V])}return R}h.assign=p},972:function(u,h,p){Object.defineProperty(h,"__esModule",{value:!0}),h.createTable=void 0;var y=p(744),_=p(260),x=p(324),v=p(796),T=p(356);function R(ie,D){var A=new y.DocHandler(ie),M=O(D,A.scaleFactor()),U=new _.Table(D,M);return(0,x.calculateWidths)(A,U),A.applyStyles(A.userStyles),U}h.createTable=R;function O(ie,D){var A=ie.content,M=$(A.columns);if(A.head.length===0){var U=V(M,"head");U&&A.head.push(U)}if(A.foot.length===0){var U=V(M,"foot");U&&A.foot.push(U)}var I=ie.settings.theme,P=ie.styles;return{columns:M,head:C("head",A.head,M,P,I,D),body:C("body",A.body,M,P,I,D),foot:C("foot",A.foot,M,P,I,D)}}function C(ie,D,A,M,U,I){var P={},F=D.map(function(X,pe){for(var ae=0,oe={},te=0,ne=0,he=0,re=A;he<re.length;he++){var N=re[he];if(P[N.index]==null||P[N.index].left===0)if(ne===0){var W=void 0;Array.isArray(X)?W=X[N.index-te-ae]:W=X[N.dataKey];var ee={};typeof W=="object"&&!Array.isArray(W)&&(ee=(W==null?void 0:W.styles)||{});var se=z(ie,N,pe,U,M,I,ee),ue=new _.Cell(W,se,ie);oe[N.dataKey]=ue,oe[N.index]=ue,ne=ue.colSpan-1,P[N.index]={left:ue.rowSpan-1,times:ne}}else ne--,te++;else P[N.index].left--,ne=P[N.index].times,ae++}return new _.Row(X,pe,ie,oe)});return F}function V(ie,D){var A={};return ie.forEach(function(M){if(M.raw!=null){var U=B(D,M.raw);U!=null&&(A[M.dataKey]=U)}}),Object.keys(A).length>0?A:null}function B(ie,D){if(ie==="head"){if(typeof D=="object")return D.header||D.title||null;if(typeof D=="string"||typeof D=="number")return D}else if(ie==="foot"&&typeof D=="object")return D.footer;return null}function $(ie){return ie.map(function(D,A){var M,U,I;return typeof D=="object"?I=(U=(M=D.dataKey)!==null&&M!==void 0?M:D.key)!==null&&U!==void 0?U:A:I=A,new _.Column(I,D,A)})}function z(ie,D,A,M,U,I,P){var F=(0,v.getTheme)(M),X;ie==="head"?X=U.headStyles:ie==="body"?X=U.bodyStyles:ie==="foot"&&(X=U.footStyles);var pe=(0,T.assign)({},F.table,F[ie],U.styles,X),ae=U.columnStyles[D.dataKey]||U.columnStyles[D.index]||{},oe=ie==="body"?ae:{},te=ie==="body"&&A%2===0?(0,T.assign)({},F.alternateRow,U.alternateRowStyles):{},ne=(0,v.defaultStyles)(I),he=(0,T.assign)({},ne,pe,te,oe);return(0,T.assign)(he,P)}},664:function(u,h,p){Object.defineProperty(h,"__esModule",{value:!0}),h.addPage=h.drawTable=void 0;var y=p(420),_=p(260),x=p(744),v=p(356),T=p(136),R=p(224);function O(ae,oe){var te=oe.settings,ne=te.startY,he=te.margin,re={x:he.left,y:ne},N=oe.getHeadHeight(oe.columns)+oe.getFootHeight(oe.columns),W=ne+he.bottom+N;if(te.pageBreak==="avoid"){var ee=oe.body,se=ee.reduce(function(xe,Se){return xe+Se.height},0);W+=se}var ue=new x.DocHandler(ae);(te.pageBreak==="always"||te.startY!=null&&W>ue.pageSize().height)&&(pe(ue),re.y=he.top),oe.callWillDrawPageHooks(ue,re);var we=(0,v.assign)({},re);oe.startPageNumber=ue.pageNumber(),te.horizontalPageBreak?C(ue,oe,we,re):(ue.applyStyles(ue.userStyles),(te.showHead==="firstPage"||te.showHead==="everyPage")&&oe.head.forEach(function(xe){return U(ue,oe,xe,re,oe.columns)}),ue.applyStyles(ue.userStyles),oe.body.forEach(function(xe,Se){var We=Se===oe.body.length-1;M(ue,oe,xe,We,we,re,oe.columns)}),ue.applyStyles(ue.userStyles),(te.showFoot==="lastPage"||te.showFoot==="everyPage")&&oe.foot.forEach(function(xe){return U(ue,oe,xe,re,oe.columns)})),(0,y.addTableBorder)(ue,oe,we,re),oe.callEndPageHooks(ue,re),oe.finalY=re.y,ae.lastAutoTable=oe,ae.previousAutoTable=oe,ae.autoTable&&(ae.autoTable.previous=oe),ue.applyStyles(ue.userStyles)}h.drawTable=O;function C(ae,oe,te,ne){var he=(0,R.calculateAllColumnsCanFitInPage)(ae,oe),re=oe.settings;if(re.horizontalPageBreakBehaviour==="afterAllRows")he.forEach(function(se,ue){ae.applyStyles(ae.userStyles),ue>0?X(ae,oe,te,ne,se.columns,!0):V(ae,oe,ne,se.columns),B(ae,oe,te,ne,se.columns),z(ae,oe,ne,se.columns)});else for(var N=-1,W=he[0],ee=function(){var se=N;if(W){ae.applyStyles(ae.userStyles);var ue=W.columns;N>=0?X(ae,oe,te,ne,ue,!0):V(ae,oe,ne,ue),se=$(ae,oe,N+1,ne,ue),z(ae,oe,ne,ue)}var we=se-N;he.slice(1).forEach(function(xe){ae.applyStyles(ae.userStyles),X(ae,oe,te,ne,xe.columns,!0),$(ae,oe,N+1,ne,xe.columns,we),z(ae,oe,ne,xe.columns)}),N=se};N<oe.body.length-1;)ee()}function V(ae,oe,te,ne){var he=oe.settings;ae.applyStyles(ae.userStyles),(he.showHead==="firstPage"||he.showHead==="everyPage")&&oe.head.forEach(function(re){return U(ae,oe,re,te,ne)})}function B(ae,oe,te,ne,he){ae.applyStyles(ae.userStyles),oe.body.forEach(function(re,N){var W=N===oe.body.length-1;M(ae,oe,re,W,te,ne,he)})}function $(ae,oe,te,ne,he,re){ae.applyStyles(ae.userStyles),re=re??oe.body.length;var N=Math.min(te+re,oe.body.length),W=-1;return oe.body.slice(te,N).forEach(function(ee,se){var ue=te+se===oe.body.length-1,we=F(ae,oe,ue,ne);ee.canEntireRowFit(we,he)&&(U(ae,oe,ee,ne,he),W=te+se)}),W}function z(ae,oe,te,ne){var he=oe.settings;ae.applyStyles(ae.userStyles),(he.showFoot==="lastPage"||he.showFoot==="everyPage")&&oe.foot.forEach(function(re){return U(ae,oe,re,te,ne)})}function ie(ae,oe,te){var ne=te.getLineHeight(ae.styles.fontSize),he=ae.padding("vertical"),re=Math.floor((oe-he)/ne);return Math.max(0,re)}function D(ae,oe,te,ne){var he={};ae.spansMultiplePages=!0,ae.height=0;for(var re=0,N=0,W=te.columns;N<W.length;N++){var ee=W[N],se=ae.cells[ee.index];if(se){Array.isArray(se.text)||(se.text=[se.text]);var ue=new _.Cell(se.raw,se.styles,se.section);ue=(0,v.assign)(ue,se),ue.text=[];var we=ie(se,oe,ne);se.text.length>we&&(ue.text=se.text.splice(we,se.text.length));var xe=ne.scaleFactor(),Se=ne.getLineHeightFactor();se.contentHeight=se.getContentHeight(xe,Se),se.contentHeight>=oe&&(se.contentHeight=oe,ue.styles.minCellHeight-=oe),se.contentHeight>ae.height&&(ae.height=se.contentHeight),ue.contentHeight=ue.getContentHeight(xe,Se),ue.contentHeight>re&&(re=ue.contentHeight),he[ee.index]=ue}}var We=new _.Row(ae.raw,-1,ae.section,he,!0);We.height=re;for(var Ge=0,st=te.columns;Ge<st.length;Ge++){var ee=st[Ge],ue=We.cells[ee.index];ue&&(ue.height=We.height);var se=ae.cells[ee.index];se&&(se.height=ae.height)}return We}function A(ae,oe,te,ne){var he=ae.pageSize().height,re=ne.settings.margin,N=re.top+re.bottom,W=he-N;oe.section==="body"&&(W-=ne.getHeadHeight(ne.columns)+ne.getFootHeight(ne.columns));var ee=oe.getMinimumRowHeight(ne.columns,ae),se=ee<te;if(ee>W)return console.error("Will not be able to print row ".concat(oe.index," correctly since it's minimum height is larger than page height")),!0;if(!se)return!1;var ue=oe.hasRowSpan(ne.columns),we=oe.getMaxCellHeight(ne.columns)>W;return we?(ue&&console.error("The content of row ".concat(oe.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(ue||ne.settings.rowPageBreak==="avoid")}function M(ae,oe,te,ne,he,re,N){var W=F(ae,oe,ne,re);if(te.canEntireRowFit(W,N))U(ae,oe,te,re,N);else if(A(ae,te,W,oe)){var ee=D(te,W,oe,ae);U(ae,oe,te,re,N),X(ae,oe,he,re,N),M(ae,oe,ee,ne,he,re,N)}else X(ae,oe,he,re,N),M(ae,oe,te,ne,he,re,N)}function U(ae,oe,te,ne,he){ne.x=oe.settings.margin.left;for(var re=0,N=he;re<N.length;re++){var W=N[re],ee=te.cells[W.index];if(!ee){ne.x+=W.width;continue}ae.applyStyles(ee.styles),ee.x=ne.x,ee.y=ne.y;var se=oe.callCellHooks(ae,oe.hooks.willDrawCell,ee,te,W,ne);if(se===!1){ne.x+=W.width;continue}I(ae,ee,ne);var ue=ee.getTextPos();(0,T.default)(ee.text,ue.x,ue.y,{halign:ee.styles.halign,valign:ee.styles.valign,maxWidth:Math.ceil(ee.width-ee.padding("left")-ee.padding("right"))},ae.getDocument()),oe.callCellHooks(ae,oe.hooks.didDrawCell,ee,te,W,ne),ne.x+=W.width}ne.y+=te.height}function I(ae,oe,te){var ne=oe.styles;if(ae.getDocument().setFillColor(ae.getDocument().getFillColor()),typeof ne.lineWidth=="number"){var he=(0,y.getFillStyle)(ne.lineWidth,ne.fillColor);he&&ae.rect(oe.x,te.y,oe.width,oe.height,he)}else typeof ne.lineWidth=="object"&&(ne.fillColor&&ae.rect(oe.x,te.y,oe.width,oe.height,"F"),P(ae,oe,te,ne.lineWidth))}function P(ae,oe,te,ne){var he,re,N,W;ne.top&&(he=te.x,re=te.y,N=te.x+oe.width,W=te.y,ne.right&&(N+=.5*ne.right),ne.left&&(he-=.5*ne.left),ee(ne.top,he,re,N,W)),ne.bottom&&(he=te.x,re=te.y+oe.height,N=te.x+oe.width,W=te.y+oe.height,ne.right&&(N+=.5*ne.right),ne.left&&(he-=.5*ne.left),ee(ne.bottom,he,re,N,W)),ne.left&&(he=te.x,re=te.y,N=te.x,W=te.y+oe.height,ne.top&&(re-=.5*ne.top),ne.bottom&&(W+=.5*ne.bottom),ee(ne.left,he,re,N,W)),ne.right&&(he=te.x+oe.width,re=te.y,N=te.x+oe.width,W=te.y+oe.height,ne.top&&(re-=.5*ne.top),ne.bottom&&(W+=.5*ne.bottom),ee(ne.right,he,re,N,W));function ee(se,ue,we,xe,Se){ae.getDocument().setLineWidth(se),ae.getDocument().line(ue,we,xe,Se,"S")}}function F(ae,oe,te,ne){var he=oe.settings.margin.bottom,re=oe.settings.showFoot;return(re==="everyPage"||re==="lastPage"&&te)&&(he+=oe.getFootHeight(oe.columns)),ae.pageSize().height-ne.y-he}function X(ae,oe,te,ne,he,re){he===void 0&&(he=[]),re===void 0&&(re=!1),ae.applyStyles(ae.userStyles),oe.settings.showFoot==="everyPage"&&!re&&oe.foot.forEach(function(W){return U(ae,oe,W,ne,he)}),oe.callEndPageHooks(ae,ne);var N=oe.settings.margin;(0,y.addTableBorder)(ae,oe,te,ne),pe(ae),oe.pageNumber++,oe.pageCount++,ne.x=N.left,ne.y=N.top,te.y=N.top,oe.callWillDrawPageHooks(ae,ne),oe.settings.showHead==="everyPage"&&(oe.head.forEach(function(W){return U(ae,oe,W,ne,he)}),ae.applyStyles(ae.userStyles))}h.addPage=X;function pe(ae){var oe=ae.pageNumber();ae.setPage(oe+1);var te=ae.pageNumber();return te===oe?(ae.addPage(),!0):!1}},224:function(u,h,p){Object.defineProperty(h,"__esModule",{value:!0}),h.calculateAllColumnsCanFitInPage=void 0;var y=p(420);function _(v,T,R){var O;R===void 0&&(R={});var C=(0,y.getPageAvailableWidth)(v,T),V=new Map,B=[],$=[],z=[];T.settings.horizontalPageBreakRepeat,Array.isArray(T.settings.horizontalPageBreakRepeat)?z=T.settings.horizontalPageBreakRepeat:(typeof T.settings.horizontalPageBreakRepeat=="string"||typeof T.settings.horizontalPageBreakRepeat=="number")&&(z=[T.settings.horizontalPageBreakRepeat]),z.forEach(function(M){var U=T.columns.find(function(I){return I.dataKey===M||I.index===M});U&&!V.has(U.index)&&(V.set(U.index,!0),B.push(U.index),$.push(T.columns[U.index]),C-=U.wrappedWidth)});for(var ie=!0,D=(O=R==null?void 0:R.start)!==null&&O!==void 0?O:0;D<T.columns.length;){if(V.has(D)){D++;continue}var A=T.columns[D].wrappedWidth;if(ie||C>=A)ie=!1,B.push(D),$.push(T.columns[D]),C-=A;else break;D++}return{colIndexes:B,columns:$,lastIndex:D-1}}function x(v,T){for(var R=[],O=0;O<T.columns.length;O++){var C=_(v,T,{start:O});C.columns.length&&(R.push(C),O=C.lastIndex)}return R}h.calculateAllColumnsCanFitInPage=x},324:function(u,h,p){Object.defineProperty(h,"__esModule",{value:!0}),h.ellipsize=h.resizeColumns=h.calculateWidths=void 0;var y=p(420);function _(B,$){x(B,$);var z=[],ie=0;$.columns.forEach(function(A){var M=A.getMaxCustomCellWidth($);M?A.width=M:(A.width=A.wrappedWidth,z.push(A)),ie+=A.width});var D=$.getWidth(B.pageSize().width)-ie;D&&(D=v(z,D,function(A){return Math.max(A.minReadableWidth,A.minWidth)})),D&&(D=v(z,D,function(A){return A.minWidth})),D=Math.abs(D),!$.settings.horizontalPageBreak&&D>.1/B.scaleFactor()&&(D=D<1?D:Math.round(D),console.warn("Of the table content, ".concat(D," units width could not fit page"))),R($),O($,B),T($)}h.calculateWidths=_;function x(B,$){var z=B.scaleFactor(),ie=$.settings.horizontalPageBreak,D=(0,y.getPageAvailableWidth)(B,$);$.allRows().forEach(function(A){for(var M=0,U=$.columns;M<U.length;M++){var I=U[M],P=A.cells[I.index];if(P){var F=$.hooks.didParseCell;$.callCellHooks(B,F,P,A,I,null);var X=P.padding("horizontal");P.contentWidth=(0,y.getStringWidth)(P.text,P.styles,B)+X;var pe=(0,y.getStringWidth)(P.text.join(" ").split(/[^\S\u00A0]+/),P.styles,B);if(P.minReadableWidth=pe+P.padding("horizontal"),typeof P.styles.cellWidth=="number")P.minWidth=P.styles.cellWidth,P.wrappedWidth=P.styles.cellWidth;else if(P.styles.cellWidth==="wrap"||ie===!0)P.contentWidth>D?(P.minWidth=D,P.wrappedWidth=D):(P.minWidth=P.contentWidth,P.wrappedWidth=P.contentWidth);else{var ae=10/z;P.minWidth=P.styles.minCellWidth||ae,P.wrappedWidth=P.contentWidth,P.minWidth>P.wrappedWidth&&(P.wrappedWidth=P.minWidth)}}}}),$.allRows().forEach(function(A){for(var M=0,U=$.columns;M<U.length;M++){var I=U[M],P=A.cells[I.index];if(P&&P.colSpan===1)I.wrappedWidth=Math.max(I.wrappedWidth,P.wrappedWidth),I.minWidth=Math.max(I.minWidth,P.minWidth),I.minReadableWidth=Math.max(I.minReadableWidth,P.minReadableWidth);else{var F=$.styles.columnStyles[I.dataKey]||$.styles.columnStyles[I.index]||{},X=F.cellWidth||F.minCellWidth;X&&typeof X=="number"&&(I.minWidth=X,I.wrappedWidth=X)}P&&(P.colSpan>1&&!I.minWidth&&(I.minWidth=P.minWidth),P.colSpan>1&&!I.wrappedWidth&&(I.wrappedWidth=P.minWidth))}})}function v(B,$,z){for(var ie=$,D=B.reduce(function(ae,oe){return ae+oe.wrappedWidth},0),A=0;A<B.length;A++){var M=B[A],U=M.wrappedWidth/D,I=ie*U,P=M.width+I,F=z(M),X=P<F?F:P;$-=X-M.width,M.width=X}if($=Math.round($*1e10)/1e10,$){var pe=B.filter(function(ae){return $<0?ae.width>z(ae):!0});pe.length&&($=v(pe,$,z))}return $}h.resizeColumns=v;function T(B){for(var $={},z=1,ie=B.allRows(),D=0;D<ie.length;D++)for(var A=ie[D],M=0,U=B.columns;M<U.length;M++){var I=U[M],P=$[I.index];if(z>1)z--,delete A.cells[I.index];else if(P)P.cell.height+=A.height,z=P.cell.colSpan,delete A.cells[I.index],P.left--,P.left<=1&&delete $[I.index];else{var F=A.cells[I.index];if(!F)continue;if(F.height=A.height,F.rowSpan>1){var X=ie.length-D,pe=F.rowSpan>X?X:F.rowSpan;$[I.index]={cell:F,left:pe,row:A}}}}}function R(B){for(var $=B.allRows(),z=0;z<$.length;z++)for(var ie=$[z],D=null,A=0,M=0,U=0;U<B.columns.length;U++){var I=B.columns[U];if(M-=1,M>1&&B.columns[U+1])A+=I.width,delete ie.cells[I.index];else if(D){var P=D;delete ie.cells[I.index],D=null,P.width=I.width+A}else{var P=ie.cells[I.index];if(!P)continue;if(M=P.colSpan,A=0,P.colSpan>1){D=P,A+=I.width;continue}P.width=I.width+A}}}function O(B,$){for(var z={count:0,height:0},ie=0,D=B.allRows();ie<D.length;ie++){for(var A=D[ie],M=0,U=B.columns;M<U.length;M++){var I=U[M],P=A.cells[I.index];if(P){$.applyStyles(P.styles,!0);var F=P.width-P.padding("horizontal");if(P.styles.overflow==="linebreak")P.text=$.splitTextToSize(P.text,F+1/$.scaleFactor(),{fontSize:P.styles.fontSize});else if(P.styles.overflow==="ellipsize")P.text=C(P.text,F,P.styles,$,"...");else if(P.styles.overflow==="hidden")P.text=C(P.text,F,P.styles,$,"");else if(typeof P.styles.overflow=="function"){var X=P.styles.overflow(P.text,F);typeof X=="string"?P.text=[X]:P.text=X}P.contentHeight=P.getContentHeight($.scaleFactor(),$.getLineHeightFactor());var pe=P.contentHeight/P.rowSpan;P.rowSpan>1&&z.count*z.height<pe*P.rowSpan?z={height:pe,count:P.rowSpan}:z&&z.count>0&&z.height>pe&&(pe=z.height),pe>A.height&&(A.height=pe)}}z.count--}}function C(B,$,z,ie,D){return B.map(function(A){return V(A,$,z,ie,D)})}h.ellipsize=C;function V(B,$,z,ie,D){var A=1e4*ie.scaleFactor();if($=Math.ceil($*A)/A,$>=(0,y.getStringWidth)(B,z,ie))return B;for(;$<(0,y.getStringWidth)(B+D,z,ie)&&!(B.length<=1);)B=B.substring(0,B.length-1);return B.trim()+D}},964:function(u){if(typeof t>"u"){var h=new Error("Cannot find module 'undefined'");throw h.code="MODULE_NOT_FOUND",h}u.exports=t}},i={};function a(u){var h=i[u];if(h!==void 0)return h.exports;var p=i[u]={exports:{}};return r[u].call(p.exports,p,p.exports,a),p.exports}var l={};return function(){var u=l;Object.defineProperty(u,"__esModule",{value:!0}),u.Cell=u.Column=u.Row=u.Table=u.CellHookData=u.__drawTable=u.__createTable=u.applyPlugin=void 0;var h=a(340),p=a(776),y=a(664),_=a(972),x=a(260);Object.defineProperty(u,"Table",{enumerable:!0,get:function(){return x.Table}});var v=a(172);Object.defineProperty(u,"CellHookData",{enumerable:!0,get:function(){return v.CellHookData}});var T=a(260);Object.defineProperty(u,"Cell",{enumerable:!0,get:function(){return T.Cell}}),Object.defineProperty(u,"Column",{enumerable:!0,get:function(){return T.Column}}),Object.defineProperty(u,"Row",{enumerable:!0,get:function(){return T.Row}});function R($){(0,h.default)($)}u.applyPlugin=R;function O($,z){var ie=(0,p.parseInput)($,z),D=(0,_.createTable)($,ie);(0,y.drawTable)($,D)}function C($,z){var ie=(0,p.parseInput)($,z);return(0,_.createTable)($,ie)}u.__createTable=C;function V($,z){(0,y.drawTable)($,z)}u.__drawTable=V;try{var B=a(964);B.jsPDF&&(B=B.jsPDF),R(B)}catch{}u.default=O}(),l}()})}(Bd)),Bd.exports}var TN=AN();const IN=mp(TN),PN=()=>{const n=wf(),[e,t]=ke.useState([]),r=localStorage.getItem("userID");ke.useEffect(()=>{(async()=>{try{const p=(await V_(Gv(tc,r))).docs.map(y=>({id:y.id,...y.data()}));t(p)}catch(h){console.error("Failed to fetch history:",h)}})()},[r]);const i=async u=>{try{await mk(Jh(tc,r,u)),t(h=>h.filter(p=>p.id!==u)),alert("Entry deleted successfully!")}catch(h){console.error("Failed to delete entry:",h)}},a=()=>{localStorage.removeItem("userID"),alert("Logged out successfully!"),n("/")},l=()=>{const u=new Wt;u.text("Medical History Report",14,15);const h=e.map(p=>{var y;return[p.doctorName,p.disease,p.medicines.join(", "),((y=p.tests)==null?void 0:y.length)>0?p.tests.join(", "):"No tests prescribed"]});IN(u,{head:[["Doctor Name","Disease","Medicines","Prescribed Tests"]],body:h,startY:25}),u.save("Medical_History.pdf")};return tt.jsxs(tt.Fragment,{children:[tt.jsxs("div",{className:"header",children:[tt.jsx("button",{onClick:()=>n("/Landing"),className:"top-btn",children:"Home"}),tt.jsx("button",{onClick:()=>n("/analysis"),className:"top-btn",children:"Analysis"}),tt.jsx("button",{onClick:a,className:"top-btn",children:"Logout"})]}),tt.jsxs("div",{className:"container",children:[tt.jsx("h1",{className:"title",children:"History"}),tt.jsx("button",{onClick:l,className:"pdf-btn",children:"Download PDF"}),e.length>0?tt.jsx("div",{className:"history-grid",children:e.map(u=>tt.jsxs("div",{className:"history-card",children:[tt.jsx("h3",{className:"doctor-title",children:"Doctor Name: "}),tt.jsx("p",{className:"doctor-name",children:u.doctorName}),tt.jsx("h3",{className:"disease-title",children:"Disease:"}),tt.jsx("p",{className:"disease-name",children:u.disease}),tt.jsx("h3",{className:"medicine-title",children:"Medicines:"}),tt.jsx("ul",{className:"medicine-list",children:u.medicines.map((h,p)=>tt.jsx("li",{className:"medicine-item",children:h},p))}),tt.jsx("h3",{className:"test-title",children:"Prescribed Tests:"}),u.tests&&u.tests.length>0?tt.jsx("ul",{className:"test-list",children:u.tests.map((h,p)=>tt.jsx("li",{className:"test-item",children:h},p))}):tt.jsx("p",{className:"test-name",children:"No tests prescribed"}),tt.jsx("button",{className:"deleteBtn",onClick:()=>i(u.id),children:"Delete"})]},u.id))}):tt.jsx("p",{className:"no-data",children:"No history found."})]})]})},kN=()=>{const n=wf(),[e,t]=ke.useState([]),r=localStorage.getItem("userID");ke.useEffect(()=>{(async()=>{try{const h=(await V_(Gv(tc,r))).docs.flatMap(p=>p.data().medicines).reduce((p,y)=>(p[y]=(p[y]||0)+1,p),{});t(Object.entries(h))}catch(l){console.error("Failed to fetch analysis:",l)}})()},[r]);const i=()=>{localStorage.removeItem("userID"),alert("Logged out successfully!"),n("/")};return tt.jsxs(tt.Fragment,{children:[tt.jsxs("div",{className:"header",children:[tt.jsx("button",{onClick:()=>n("/Landing"),className:"top-btn",children:"Home"}),tt.jsx("button",{onClick:()=>n("/history"),className:"top-btn",children:"History"}),tt.jsx("button",{onClick:i,className:"top-btn",children:"Logout"})]}),tt.jsxs("div",{className:"container",children:[tt.jsx("h1",{className:"title",children:"Medicine Analysis"}),e.length>0?tt.jsx("div",{className:"analysis-grid",children:e.map(([a,l])=>tt.jsxs("div",{className:"analysis-card",children:[tt.jsx("h2",{className:"medicine-name",children:a}),tt.jsxs("p",{className:"medicine-count",children:["Count: ",l]})]},a))}):tt.jsx("p",{className:"no-data",children:"No analysis data found."})]})]})},CN=KS([{path:"/",element:tt.jsx(xk,{})},{path:"/Landing",element:tt.jsx(xC,{})},{path:"/history",element:tt.jsx(PN,{})},{path:"/analysis",element:tt.jsx(kN,{})}]);sx.createRoot(document.getElementById("root")).render(tt.jsx(ke.StrictMode,{children:tt.jsx(sE,{router:CN})}));export{Jn as _,Jb as c,mp as g};
