(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function Cf(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Sh={exports:{}},Wa={},Rh={exports:{}},Ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fg;function VE(){if(Fg)return Ke;Fg=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function x(M){return M===null||typeof M!="object"?null:(M=T&&M[T]||M["@@iterator"],typeof M=="function"?M:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,j={};function F(M,Y,ye){this.props=M,this.context=Y,this.refs=j,this.updater=ye||P}F.prototype.isReactComponent={},F.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},F.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function W(){}W.prototype=F.prototype;function te(M,Y,ye){this.props=M,this.context=Y,this.refs=j,this.updater=ye||P}var Z=te.prototype=new W;Z.constructor=te,b(Z,F.prototype),Z.isPureReactComponent=!0;var fe=Array.isArray,V=Object.prototype.hasOwnProperty,ie={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function I(M,Y,ye){var Pe,Ne={},Be=null,Qe=null;if(Y!=null)for(Pe in Y.ref!==void 0&&(Qe=Y.ref),Y.key!==void 0&&(Be=""+Y.key),Y)V.call(Y,Pe)&&!A.hasOwnProperty(Pe)&&(Ne[Pe]=Y[Pe]);var Ye=arguments.length-2;if(Ye===1)Ne.children=ye;else if(1<Ye){for(var Ue=Array(Ye),ht=0;ht<Ye;ht++)Ue[ht]=arguments[ht+2];Ne.children=Ue}if(M&&M.defaultProps)for(Pe in Ye=M.defaultProps,Ye)Ne[Pe]===void 0&&(Ne[Pe]=Ye[Pe]);return{$$typeof:n,type:M,key:Be,ref:Qe,props:Ne,_owner:ie.current}}function S(M,Y){return{$$typeof:n,type:M.type,key:Y,ref:M.ref,props:M.props,_owner:M._owner}}function C(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function O(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ye){return Y[ye]})}var U=/\/+/g;function k(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?O(""+M.key):Y.toString(36)}function He(M,Y,ye,Pe,Ne){var Be=typeof M;(Be==="undefined"||Be==="boolean")&&(M=null);var Qe=!1;if(M===null)Qe=!0;else switch(Be){case"string":case"number":Qe=!0;break;case"object":switch(M.$$typeof){case n:case e:Qe=!0}}if(Qe)return Qe=M,Ne=Ne(Qe),M=Pe===""?"."+k(Qe,0):Pe,fe(Ne)?(ye="",M!=null&&(ye=M.replace(U,"$&/")+"/"),He(Ne,Y,ye,"",function(ht){return ht})):Ne!=null&&(C(Ne)&&(Ne=S(Ne,ye+(!Ne.key||Qe&&Qe.key===Ne.key?"":(""+Ne.key).replace(U,"$&/")+"/")+M)),Y.push(Ne)),1;if(Qe=0,Pe=Pe===""?".":Pe+":",fe(M))for(var Ye=0;Ye<M.length;Ye++){Be=M[Ye];var Ue=Pe+k(Be,Ye);Qe+=He(Be,Y,ye,Ue,Ne)}else if(Ue=x(M),typeof Ue=="function")for(M=Ue.call(M),Ye=0;!(Be=M.next()).done;)Be=Be.value,Ue=Pe+k(Be,Ye++),Qe+=He(Be,Y,ye,Ue,Ne);else if(Be==="object")throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Qe}function Le(M,Y,ye){if(M==null)return M;var Pe=[],Ne=0;return He(M,Pe,"","",function(Be){return Y.call(ye,Be,Ne++)}),Pe}function Rt(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(ye){(M._status===0||M._status===-1)&&(M._status=1,M._result=ye)},function(ye){(M._status===0||M._status===-1)&&(M._status=2,M._result=ye)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var Ge={current:null},se={transition:null},de={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:se,ReactCurrentOwner:ie};function he(){throw Error("act(...) is not supported in production builds of React.")}return Ke.Children={map:Le,forEach:function(M,Y,ye){Le(M,function(){Y.apply(this,arguments)},ye)},count:function(M){var Y=0;return Le(M,function(){Y++}),Y},toArray:function(M){return Le(M,function(Y){return Y})||[]},only:function(M){if(!C(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ke.Component=F,Ke.Fragment=t,Ke.Profiler=s,Ke.PureComponent=te,Ke.StrictMode=i,Ke.Suspense=p,Ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=de,Ke.act=he,Ke.cloneElement=function(M,Y,ye){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var Pe=b({},M.props),Ne=M.key,Be=M.ref,Qe=M._owner;if(Y!=null){if(Y.ref!==void 0&&(Be=Y.ref,Qe=ie.current),Y.key!==void 0&&(Ne=""+Y.key),M.type&&M.type.defaultProps)var Ye=M.type.defaultProps;for(Ue in Y)V.call(Y,Ue)&&!A.hasOwnProperty(Ue)&&(Pe[Ue]=Y[Ue]===void 0&&Ye!==void 0?Ye[Ue]:Y[Ue])}var Ue=arguments.length-2;if(Ue===1)Pe.children=ye;else if(1<Ue){Ye=Array(Ue);for(var ht=0;ht<Ue;ht++)Ye[ht]=arguments[ht+2];Pe.children=Ye}return{$$typeof:n,type:M.type,key:Ne,ref:Be,props:Pe,_owner:Qe}},Ke.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:l,_context:M},M.Consumer=M},Ke.createElement=I,Ke.createFactory=function(M){var Y=I.bind(null,M);return Y.type=M,Y},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(M){return{$$typeof:h,render:M}},Ke.isValidElement=C,Ke.lazy=function(M){return{$$typeof:_,_payload:{_status:-1,_result:M},_init:Rt}},Ke.memo=function(M,Y){return{$$typeof:v,type:M,compare:Y===void 0?null:Y}},Ke.startTransition=function(M){var Y=se.transition;se.transition={};try{M()}finally{se.transition=Y}},Ke.unstable_act=he,Ke.useCallback=function(M,Y){return Ge.current.useCallback(M,Y)},Ke.useContext=function(M){return Ge.current.useContext(M)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(M){return Ge.current.useDeferredValue(M)},Ke.useEffect=function(M,Y){return Ge.current.useEffect(M,Y)},Ke.useId=function(){return Ge.current.useId()},Ke.useImperativeHandle=function(M,Y,ye){return Ge.current.useImperativeHandle(M,Y,ye)},Ke.useInsertionEffect=function(M,Y){return Ge.current.useInsertionEffect(M,Y)},Ke.useLayoutEffect=function(M,Y){return Ge.current.useLayoutEffect(M,Y)},Ke.useMemo=function(M,Y){return Ge.current.useMemo(M,Y)},Ke.useReducer=function(M,Y,ye){return Ge.current.useReducer(M,Y,ye)},Ke.useRef=function(M){return Ge.current.useRef(M)},Ke.useState=function(M){return Ge.current.useState(M)},Ke.useSyncExternalStore=function(M,Y,ye){return Ge.current.useSyncExternalStore(M,Y,ye)},Ke.useTransition=function(){return Ge.current.useTransition()},Ke.version="18.3.1",Ke}var Ug;function bf(){return Ug||(Ug=1,Rh.exports=VE()),Rh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jg;function ME(){if(jg)return Wa;jg=1;var n=bf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(h,p,v){var _,T={},x=null,P=null;v!==void 0&&(x=""+v),p.key!==void 0&&(x=""+p.key),p.ref!==void 0&&(P=p.ref);for(_ in p)i.call(p,_)&&!l.hasOwnProperty(_)&&(T[_]=p[_]);if(h&&h.defaultProps)for(_ in p=h.defaultProps,p)T[_]===void 0&&(T[_]=p[_]);return{$$typeof:e,type:h,key:x,ref:P,props:T,_owner:s.current}}return Wa.Fragment=t,Wa.jsx=c,Wa.jsxs=c,Wa}var zg;function FE(){return zg||(zg=1,Sh.exports=ME()),Sh.exports}var je=FE(),B=bf();const UE=Cf(B);var zu={},kh={exports:{}},zn={},Ah={exports:{}},Ph={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bg;function jE(){return Bg||(Bg=1,function(n){function e(se,de){var he=se.length;se.push(de);e:for(;0<he;){var M=he-1>>>1,Y=se[M];if(0<s(Y,de))se[M]=de,se[he]=Y,he=M;else break e}}function t(se){return se.length===0?null:se[0]}function i(se){if(se.length===0)return null;var de=se[0],he=se.pop();if(he!==de){se[0]=he;e:for(var M=0,Y=se.length,ye=Y>>>1;M<ye;){var Pe=2*(M+1)-1,Ne=se[Pe],Be=Pe+1,Qe=se[Be];if(0>s(Ne,he))Be<Y&&0>s(Qe,Ne)?(se[M]=Qe,se[Be]=he,M=Be):(se[M]=Ne,se[Pe]=he,M=Pe);else if(Be<Y&&0>s(Qe,he))se[M]=Qe,se[Be]=he,M=Be;else break e}}return de}function s(se,de){var he=se.sortIndex-de.sortIndex;return he!==0?he:se.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var p=[],v=[],_=1,T=null,x=3,P=!1,b=!1,j=!1,F=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Z(se){for(var de=t(v);de!==null;){if(de.callback===null)i(v);else if(de.startTime<=se)i(v),de.sortIndex=de.expirationTime,e(p,de);else break;de=t(v)}}function fe(se){if(j=!1,Z(se),!b)if(t(p)!==null)b=!0,Rt(V);else{var de=t(v);de!==null&&Ge(fe,de.startTime-se)}}function V(se,de){b=!1,j&&(j=!1,W(I),I=-1),P=!0;var he=x;try{for(Z(de),T=t(p);T!==null&&(!(T.expirationTime>de)||se&&!O());){var M=T.callback;if(typeof M=="function"){T.callback=null,x=T.priorityLevel;var Y=M(T.expirationTime<=de);de=n.unstable_now(),typeof Y=="function"?T.callback=Y:T===t(p)&&i(p),Z(de)}else i(p);T=t(p)}if(T!==null)var ye=!0;else{var Pe=t(v);Pe!==null&&Ge(fe,Pe.startTime-de),ye=!1}return ye}finally{T=null,x=he,P=!1}}var ie=!1,A=null,I=-1,S=5,C=-1;function O(){return!(n.unstable_now()-C<S)}function U(){if(A!==null){var se=n.unstable_now();C=se;var de=!0;try{de=A(!0,se)}finally{de?k():(ie=!1,A=null)}}else ie=!1}var k;if(typeof te=="function")k=function(){te(U)};else if(typeof MessageChannel<"u"){var He=new MessageChannel,Le=He.port2;He.port1.onmessage=U,k=function(){Le.postMessage(null)}}else k=function(){F(U,0)};function Rt(se){A=se,ie||(ie=!0,k())}function Ge(se,de){I=F(function(){se(n.unstable_now())},de)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_continueExecution=function(){b||P||(b=!0,Rt(V))},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(se){switch(x){case 1:case 2:case 3:var de=3;break;default:de=x}var he=x;x=de;try{return se()}finally{x=he}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(se,de){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var he=x;x=se;try{return de()}finally{x=he}},n.unstable_scheduleCallback=function(se,de,he){var M=n.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?M+he:M):he=M,se){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=he+Y,se={id:_++,callback:de,priorityLevel:se,startTime:he,expirationTime:Y,sortIndex:-1},he>M?(se.sortIndex=he,e(v,se),t(p)===null&&se===t(v)&&(j?(W(I),I=-1):j=!0,Ge(fe,he-M))):(se.sortIndex=Y,e(p,se),b||P||(b=!0,Rt(V))),se},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(se){var de=x;return function(){var he=x;x=de;try{return se.apply(this,arguments)}finally{x=he}}}}(Ph)),Ph}var $g;function zE(){return $g||($g=1,Ah.exports=jE()),Ah.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hg;function BE(){if(Hg)return zn;Hg=1;var n=bf(),e=zE();function t(r){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)o+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function l(r,o){c(r,o),c(r+"Capture",o)}function c(r,o){for(s[r]=o,r=0;r<o.length;r++)i.add(o[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},T={};function x(r){return p.call(T,r)?!0:p.call(_,r)?!1:v.test(r)?T[r]=!0:(_[r]=!0,!1)}function P(r,o,a,d){if(a!==null&&a.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function b(r,o,a,d){if(o===null||typeof o>"u"||P(r,o,a,d))return!0;if(d)return!1;if(a!==null)switch(a.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function j(r,o,a,d,f,g,w){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=r,this.type=o,this.sanitizeURL=g,this.removeEmptyString=w}var F={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){F[r]=new j(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var o=r[0];F[o]=new j(o,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){F[r]=new j(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){F[r]=new j(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){F[r]=new j(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){F[r]=new j(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){F[r]=new j(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){F[r]=new j(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){F[r]=new j(r,5,!1,r.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function te(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var o=r.replace(W,te);F[o]=new j(o,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var o=r.replace(W,te);F[o]=new j(o,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var o=r.replace(W,te);F[o]=new j(o,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){F[r]=new j(r,1,!1,r.toLowerCase(),null,!1,!1)}),F.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){F[r]=new j(r,1,!1,r.toLowerCase(),null,!0,!0)});function Z(r,o,a,d){var f=F.hasOwnProperty(o)?F[o]:null;(f!==null?f.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(b(o,a,f,d)&&(a=null),d||f===null?x(o)&&(a===null?r.removeAttribute(o):r.setAttribute(o,""+a)):f.mustUseProperty?r[f.propertyName]=a===null?f.type===3?!1:"":a:(o=f.attributeName,d=f.attributeNamespace,a===null?r.removeAttribute(o):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,d?r.setAttributeNS(d,o,a):r.setAttribute(o,a))))}var fe=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,V=Symbol.for("react.element"),ie=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),O=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),He=Symbol.for("react.suspense_list"),Le=Symbol.for("react.memo"),Rt=Symbol.for("react.lazy"),Ge=Symbol.for("react.offscreen"),se=Symbol.iterator;function de(r){return r===null||typeof r!="object"?null:(r=se&&r[se]||r["@@iterator"],typeof r=="function"?r:null)}var he=Object.assign,M;function Y(r){if(M===void 0)try{throw Error()}catch(a){var o=a.stack.trim().match(/\n( *(at )?)/);M=o&&o[1]||""}return`
`+M+r}var ye=!1;function Pe(r,o){if(!r||ye)return"";ye=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(K){var d=K}Reflect.construct(r,[],o)}else{try{o.call()}catch(K){d=K}r.call(o.prototype)}else{try{throw Error()}catch(K){d=K}r()}}catch(K){if(K&&d&&typeof K.stack=="string"){for(var f=K.stack.split(`
`),g=d.stack.split(`
`),w=f.length-1,R=g.length-1;1<=w&&0<=R&&f[w]!==g[R];)R--;for(;1<=w&&0<=R;w--,R--)if(f[w]!==g[R]){if(w!==1||R!==1)do if(w--,R--,0>R||f[w]!==g[R]){var D=`
`+f[w].replace(" at new "," at ");return r.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",r.displayName)),D}while(1<=w&&0<=R);break}}}finally{ye=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?Y(r):""}function Ne(r){switch(r.tag){case 5:return Y(r.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return r=Pe(r.type,!1),r;case 11:return r=Pe(r.type.render,!1),r;case 1:return r=Pe(r.type,!0),r;default:return""}}function Be(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case A:return"Fragment";case ie:return"Portal";case S:return"Profiler";case I:return"StrictMode";case k:return"Suspense";case He:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case O:return(r.displayName||"Context")+".Consumer";case C:return(r._context.displayName||"Context")+".Provider";case U:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Le:return o=r.displayName||null,o!==null?o:Be(r.type)||"Memo";case Rt:o=r._payload,r=r._init;try{return Be(r(o))}catch{}}return null}function Qe(r){var o=r.type;switch(r.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=o.render,r=r.displayName||r.name||"",o.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Be(o);case 8:return o===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ye(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ue(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ht(r){var o=Ue(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),d=""+r[o];if(!r.hasOwnProperty(o)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return f.call(this)},set:function(w){d=""+w,g.call(this,w)}}),Object.defineProperty(r,o,{enumerable:a.enumerable}),{getValue:function(){return d},setValue:function(w){d=""+w},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Zt(r){r._valueTracker||(r._valueTracker=ht(r))}function En(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var a=o.getValue(),d="";return r&&(d=Ue(r)?r.checked?"true":"false":r.value),r=d,r!==a?(o.setValue(r),!0):!1}function Ut(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function er(r,o){var a=o.checked;return he({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function yr(r,o){var a=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;a=Ye(o.value!=null?o.value:a),r._wrapperState={initialChecked:d,initialValue:a,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function _r(r,o){o=o.checked,o!=null&&Z(r,"checked",o,!1)}function An(r,o){_r(r,o);var a=Ye(o.value),d=o.type;if(a!=null)d==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}o.hasOwnProperty("value")?$n(r,o.type,a):o.hasOwnProperty("defaultValue")&&$n(r,o.type,Ye(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(r.defaultChecked=!!o.defaultChecked)}function Br(r,o,a){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+r._wrapperState.initialValue,a||o===r.value||(r.value=o),r.defaultValue=o}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function $n(r,o,a){(o!=="number"||Ut(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var cn=Array.isArray;function jt(r,o,a,d){if(r=r.options,o){o={};for(var f=0;f<a.length;f++)o["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=o.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&d&&(r[a].defaultSelected=!0)}else{for(a=""+Ye(a),o=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,d&&(r[f].defaultSelected=!0);return}o!==null||r[f].disabled||(o=r[f])}o!==null&&(o.selected=!0)}}function Hn(r,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return he({},o,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function wr(r,o){var a=o.value;if(a==null){if(a=o.children,o=o.defaultValue,a!=null){if(o!=null)throw Error(t(92));if(cn(a)){if(1<a.length)throw Error(t(93));a=a[0]}o=a}o==null&&(o=""),a=o}r._wrapperState={initialValue:Ye(a)}}function ce(r,o){var a=Ye(o.value),d=Ye(o.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),o.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),d!=null&&(r.defaultValue=""+d)}function Ie(r){var o=r.textContent;o===r._wrapperState.initialValue&&o!==""&&o!==null&&(r.value=o)}function De(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function We(r,o){return r==null||r==="http://www.w3.org/1999/xhtml"?De(o):r==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var mt,qn=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,a,d,f){MSApp.execUnsafeLocalFunction(function(){return r(o,a,d,f)})}:r}(function(r,o){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=o;else{for(mt=mt||document.createElement("div"),mt.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=mt.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;o.firstChild;)r.appendChild(o.firstChild)}});function It(r,o){if(o){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=o;return}}r.textContent=o}var Pn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Cn=["Webkit","ms","Moz","O"];Object.keys(Pn).forEach(function(r){Cn.forEach(function(o){o=o+r.charAt(0).toUpperCase()+r.substring(1),Pn[o]=Pn[r]})});function tr(r,o,a){return o==null||typeof o=="boolean"||o===""?"":a||typeof o!="number"||o===0||Pn.hasOwnProperty(r)&&Pn[r]?(""+o).trim():o+"px"}function nr(r,o){r=r.style;for(var a in o)if(o.hasOwnProperty(a)){var d=a.indexOf("--")===0,f=tr(a,o[a],d);a==="float"&&(a="cssFloat"),d?r.setProperty(a,f):r[a]=f}}var rr=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bn(r,o){if(o){if(rr[r]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function ir(r,o){if(r.indexOf("-")===-1)return typeof o.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tn=null;function $r(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ui=null,Dn=null,Wn=null;function Er(r){if(r=ba(r)){if(typeof ui!="function")throw Error(t(280));var o=r.stateNode;o&&(o=nu(o),ui(r.stateNode,r.type,o))}}function In(r){Dn?Wn?Wn.push(r):Wn=[r]:Dn=r}function Po(){if(Dn){var r=Dn,o=Wn;if(Wn=Dn=null,Er(r),o)for(r=0;r<o.length;r++)Er(o[r])}}function ci(r,o){return r(o)}function N(){}var z=!1;function G(r,o,a){if(z)return r(o,a);z=!0;try{return ci(r,o,a)}finally{z=!1,(Dn!==null||Wn!==null)&&(N(),Po())}}function X(r,o){var a=r.stateNode;if(a===null)return null;var d=nu(a);if(d===null)return null;a=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,o,typeof a));return a}var pe=!1;if(h)try{var _e={};Object.defineProperty(_e,"passive",{get:function(){pe=!0}}),window.addEventListener("test",_e,_e),window.removeEventListener("test",_e,_e)}catch{pe=!1}function Re(r,o,a,d,f,g,w,R,D){var K=Array.prototype.slice.call(arguments,3);try{o.apply(a,K)}catch(ne){this.onError(ne)}}var me=!1,Ee=null,le=!1,Oe=null,qe={onError:function(r){me=!0,Ee=r}};function ut(r,o,a,d,f,g,w,R,D){me=!1,Ee=null,Re.apply(qe,arguments)}function bt(r,o,a,d,f,g,w,R,D){if(ut.apply(this,arguments),me){if(me){var K=Ee;me=!1,Ee=null}else throw Error(t(198));le||(le=!0,Oe=K)}}function Ze(r){var o=r,a=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,o.flags&4098&&(a=o.return),r=o.return;while(r)}return o.tag===3?a:null}function st(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function ct(r){if(Ze(r)!==r)throw Error(t(188))}function Tr(r){var o=r.alternate;if(!o){if(o=Ze(r),o===null)throw Error(t(188));return o!==r?null:r}for(var a=r,d=o;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(d=f.return,d!==null){a=d;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return ct(f),r;if(g===d)return ct(f),o;g=g.sibling}throw Error(t(188))}if(a.return!==d.return)a=f,d=g;else{for(var w=!1,R=f.child;R;){if(R===a){w=!0,a=f,d=g;break}if(R===d){w=!0,d=f,a=g;break}R=R.sibling}if(!w){for(R=g.child;R;){if(R===a){w=!0,a=g,d=f;break}if(R===d){w=!0,d=g,a=f;break}R=R.sibling}if(!w)throw Error(t(189))}}if(a.alternate!==d)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:o}function Ir(r){return r=Tr(r),r!==null?dn(r):null}function dn(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var o=dn(r);if(o!==null)return o;r=r.sibling}return null}var en=e.unstable_scheduleCallback,di=e.unstable_cancelCallback,Hr=e.unstable_shouldYield,xr=e.unstable_requestPaint,dt=e.unstable_now,hi=e.unstable_getCurrentPriorityLevel,rt=e.unstable_ImmediatePriority,_t=e.unstable_UserBlockingPriority,tn=e.unstable_NormalPriority,Sr=e.unstable_LowPriority,wt=e.unstable_IdlePriority,Nn=null,hn=null;function ds(r){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(Nn,r,void 0,(r.current.flags&128)===128)}catch{}}var xn=Math.clz32?Math.clz32:Ol,ma=Math.log,Nl=Math.LN2;function Ol(r){return r>>>=0,r===0?32:31-(ma(r)/Nl|0)|0}var hs=64,fs=4194304;function Bi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Co(r,o){var a=r.pendingLanes;if(a===0)return 0;var d=0,f=r.suspendedLanes,g=r.pingedLanes,w=a&268435455;if(w!==0){var R=w&~f;R!==0?d=Bi(R):(g&=w,g!==0&&(d=Bi(g)))}else w=a&~f,w!==0?d=Bi(w):g!==0&&(d=Bi(g));if(d===0)return 0;if(o!==0&&o!==d&&!(o&f)&&(f=d&-d,g=o&-o,f>=g||f===16&&(g&4194240)!==0))return o;if(d&4&&(d|=a&16),o=r.entangledLanes,o!==0)for(r=r.entanglements,o&=d;0<o;)a=31-xn(o),f=1<<a,d|=r[a],o&=~f;return d}function td(r,o){switch(r){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fi(r,o){for(var a=r.suspendedLanes,d=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var w=31-xn(g),R=1<<w,D=f[w];D===-1?(!(R&a)||R&d)&&(f[w]=td(R,o)):D<=o&&(r.expiredLanes|=R),g&=~R}}function Kn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function bo(){var r=hs;return hs<<=1,!(hs&4194240)&&(hs=64),r}function $i(r){for(var o=[],a=0;31>a;a++)o.push(r);return o}function Hi(r,o,a){r.pendingLanes|=o,o!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,o=31-xn(o),r[o]=a}function gt(r,o){var a=r.pendingLanes&~o;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=o,r.mutableReadLanes&=o,r.entangledLanes&=o,o=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<a;){var f=31-xn(a),g=1<<f;o[f]=0,d[f]=-1,r[f]=-1,a&=~g}}function qi(r,o){var a=r.entangledLanes|=o;for(r=r.entanglements;a;){var d=31-xn(a),f=1<<d;f&o|r[d]&o&&(r[d]|=o),a&=~f}}var et=0;function Wi(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Ll,ps,Vl,Ml,Fl,ga=!1,qr=[],nn=null,Rr=null,kr=null,Ki=new Map,or=new Map,Wr=[],nd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ul(r,o){switch(r){case"focusin":case"focusout":nn=null;break;case"dragenter":case"dragleave":Rr=null;break;case"mouseover":case"mouseout":kr=null;break;case"pointerover":case"pointerout":Ki.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":or.delete(o.pointerId)}}function On(r,o,a,d,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:o,domEventName:a,eventSystemFlags:d,nativeEvent:g,targetContainers:[f]},o!==null&&(o=ba(o),o!==null&&ps(o)),r):(r.eventSystemFlags|=d,o=r.targetContainers,f!==null&&o.indexOf(f)===-1&&o.push(f),r)}function rd(r,o,a,d,f){switch(o){case"focusin":return nn=On(nn,r,o,a,d,f),!0;case"dragenter":return Rr=On(Rr,r,o,a,d,f),!0;case"mouseover":return kr=On(kr,r,o,a,d,f),!0;case"pointerover":var g=f.pointerId;return Ki.set(g,On(Ki.get(g)||null,r,o,a,d,f)),!0;case"gotpointercapture":return g=f.pointerId,or.set(g,On(or.get(g)||null,r,o,a,d,f)),!0}return!1}function jl(r){var o=Vo(r.target);if(o!==null){var a=Ze(o);if(a!==null){if(o=a.tag,o===13){if(o=st(a),o!==null){r.blockedOn=o,Fl(r.priority,function(){Vl(a)});return}}else if(o===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function pi(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var a=ms(r.domEventName,r.eventSystemFlags,o[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var d=new a.constructor(a.type,a);Tn=d,a.target.dispatchEvent(d),Tn=null}else return o=ba(a),o!==null&&ps(o),r.blockedOn=a,!1;o.shift()}return!0}function Do(r,o,a){pi(r)&&a.delete(o)}function zl(){ga=!1,nn!==null&&pi(nn)&&(nn=null),Rr!==null&&pi(Rr)&&(Rr=null),kr!==null&&pi(kr)&&(kr=null),Ki.forEach(Do),or.forEach(Do)}function Ar(r,o){r.blockedOn===o&&(r.blockedOn=null,ga||(ga=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,zl)))}function Pr(r){function o(f){return Ar(f,r)}if(0<qr.length){Ar(qr[0],r);for(var a=1;a<qr.length;a++){var d=qr[a];d.blockedOn===r&&(d.blockedOn=null)}}for(nn!==null&&Ar(nn,r),Rr!==null&&Ar(Rr,r),kr!==null&&Ar(kr,r),Ki.forEach(o),or.forEach(o),a=0;a<Wr.length;a++)d=Wr[a],d.blockedOn===r&&(d.blockedOn=null);for(;0<Wr.length&&(a=Wr[0],a.blockedOn===null);)jl(a),a.blockedOn===null&&Wr.shift()}var mi=fe.ReactCurrentBatchConfig,Gi=!0;function xt(r,o,a,d){var f=et,g=mi.transition;mi.transition=null;try{et=1,va(r,o,a,d)}finally{et=f,mi.transition=g}}function id(r,o,a,d){var f=et,g=mi.transition;mi.transition=null;try{et=4,va(r,o,a,d)}finally{et=f,mi.transition=g}}function va(r,o,a,d){if(Gi){var f=ms(r,o,a,d);if(f===null)md(r,o,d,No,a),Ul(r,d);else if(rd(f,r,o,a,d))d.stopPropagation();else if(Ul(r,d),o&4&&-1<nd.indexOf(r)){for(;f!==null;){var g=ba(f);if(g!==null&&Ll(g),g=ms(r,o,a,d),g===null&&md(r,o,d,No,a),g===f)break;f=g}f!==null&&d.stopPropagation()}else md(r,o,d,null,a)}}var No=null;function ms(r,o,a,d){if(No=null,r=$r(d),r=Vo(r),r!==null)if(o=Ze(r),o===null)r=null;else if(a=o.tag,a===13){if(r=st(o),r!==null)return r;r=null}else if(a===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null);return No=r,null}function ya(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hi()){case rt:return 1;case _t:return 4;case tn:case Sr:return 16;case wt:return 536870912;default:return 16}default:return 16}}var Gn=null,gs=null,Ln=null;function _a(){if(Ln)return Ln;var r,o=gs,a=o.length,d,f="value"in Gn?Gn.value:Gn.textContent,g=f.length;for(r=0;r<a&&o[r]===f[r];r++);var w=a-r;for(d=1;d<=w&&o[a-d]===f[g-d];d++);return Ln=f.slice(r,1<d?1-d:void 0)}function vs(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function Kr(){return!0}function wa(){return!1}function rn(r){function o(a,d,f,g,w){this._reactName=a,this._targetInst=f,this.type=d,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(a=r[R],this[R]=a?a(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Kr:wa,this.isPropagationStopped=wa,this}return he(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Kr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Kr)},persist:function(){},isPersistent:Kr}),o}var Cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ys=rn(Cr),Gr=he({},Cr,{view:0,detail:0}),od=rn(Gr),_s,gi,Qi,Oo=he({},Gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Qi&&(Qi&&r.type==="mousemove"?(_s=r.screenX-Qi.screenX,gi=r.screenY-Qi.screenY):gi=_s=0,Qi=r),_s)},movementY:function(r){return"movementY"in r?r.movementY:gi}}),ws=rn(Oo),Ea=he({},Oo,{dataTransfer:0}),Bl=rn(Ea),Es=he({},Gr,{relatedTarget:0}),Ts=rn(Es),$l=he({},Cr,{animationName:0,elapsedTime:0,pseudoElement:0}),vi=rn($l),Hl=he({},Cr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ql=rn(Hl),Wl=he({},Cr,{data:0}),Ta=rn(Wl),Is={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gl(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=Kl[r])?!!o[r]:!1}function Qr(){return Gl}var u=he({},Gr,{key:function(r){if(r.key){var o=Is[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=vs(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Sn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qr,charCode:function(r){return r.type==="keypress"?vs(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?vs(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=rn(u),y=he({},Oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=rn(y),$=he({},Gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qr}),Q=rn($),ue=he({},Cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),pt=rn(ue),zt=he({},Oo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),it=rn(zt),Kt=[9,13,27,32],Vt=h&&"CompositionEvent"in window,sr=null;h&&"documentMode"in document&&(sr=document.documentMode);var Qn=h&&"TextEvent"in window&&!sr,Lo=h&&(!Vt||sr&&8<sr&&11>=sr),xs=" ",Dp=!1;function Np(r,o){switch(r){case"keyup":return Kt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Op(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ss=!1;function Nw(r,o){switch(r){case"compositionend":return Op(o);case"keypress":return o.which!==32?null:(Dp=!0,xs);case"textInput":return r=o.data,r===xs&&Dp?null:r;default:return null}}function Ow(r,o){if(Ss)return r==="compositionend"||!Vt&&Np(r,o)?(r=_a(),Ln=gs=Gn=null,Ss=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Lo&&o.locale!=="ko"?null:o.data;default:return null}}var Lw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lp(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!Lw[r.type]:o==="textarea"}function Vp(r,o,a,d){In(d),o=Zl(o,"onChange"),0<o.length&&(a=new ys("onChange","change",null,a,d),r.push({event:a,listeners:o}))}var Ia=null,xa=null;function Vw(r){em(r,0)}function Ql(r){var o=Cs(r);if(En(o))return r}function Mw(r,o){if(r==="change")return o}var Mp=!1;if(h){var sd;if(h){var ad="oninput"in document;if(!ad){var Fp=document.createElement("div");Fp.setAttribute("oninput","return;"),ad=typeof Fp.oninput=="function"}sd=ad}else sd=!1;Mp=sd&&(!document.documentMode||9<document.documentMode)}function Up(){Ia&&(Ia.detachEvent("onpropertychange",jp),xa=Ia=null)}function jp(r){if(r.propertyName==="value"&&Ql(xa)){var o=[];Vp(o,xa,r,$r(r)),G(Vw,o)}}function Fw(r,o,a){r==="focusin"?(Up(),Ia=o,xa=a,Ia.attachEvent("onpropertychange",jp)):r==="focusout"&&Up()}function Uw(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Ql(xa)}function jw(r,o){if(r==="click")return Ql(o)}function zw(r,o){if(r==="input"||r==="change")return Ql(o)}function Bw(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var br=typeof Object.is=="function"?Object.is:Bw;function Sa(r,o){if(br(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var a=Object.keys(r),d=Object.keys(o);if(a.length!==d.length)return!1;for(d=0;d<a.length;d++){var f=a[d];if(!p.call(o,f)||!br(r[f],o[f]))return!1}return!0}function zp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Bp(r,o){var a=zp(r);r=0;for(var d;a;){if(a.nodeType===3){if(d=r+a.textContent.length,r<=o&&d>=o)return{node:a,offset:o-r};r=d}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=zp(a)}}function $p(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?$p(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function Hp(){for(var r=window,o=Ut();o instanceof r.HTMLIFrameElement;){try{var a=typeof o.contentWindow.location.href=="string"}catch{a=!1}if(a)r=o.contentWindow;else break;o=Ut(r.document)}return o}function ld(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}function $w(r){var o=Hp(),a=r.focusedElem,d=r.selectionRange;if(o!==a&&a&&a.ownerDocument&&$p(a.ownerDocument.documentElement,a)){if(d!==null&&ld(a)){if(o=d.start,r=d.end,r===void 0&&(r=o),"selectionStart"in a)a.selectionStart=o,a.selectionEnd=Math.min(r,a.value.length);else if(r=(o=a.ownerDocument||document)&&o.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,g=Math.min(d.start,f);d=d.end===void 0?g:Math.min(d.end,f),!r.extend&&g>d&&(f=d,d=g,g=f),f=Bp(a,g);var w=Bp(a,d);f&&w&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(o=o.createRange(),o.setStart(f.node,f.offset),r.removeAllRanges(),g>d?(r.addRange(o),r.extend(w.node,w.offset)):(o.setEnd(w.node,w.offset),r.addRange(o)))}}for(o=[],r=a;r=r.parentNode;)r.nodeType===1&&o.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<o.length;a++)r=o[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Hw=h&&"documentMode"in document&&11>=document.documentMode,Rs=null,ud=null,Ra=null,cd=!1;function qp(r,o,a){var d=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;cd||Rs==null||Rs!==Ut(d)||(d=Rs,"selectionStart"in d&&ld(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Ra&&Sa(Ra,d)||(Ra=d,d=Zl(ud,"onSelect"),0<d.length&&(o=new ys("onSelect","select",null,o,a),r.push({event:o,listeners:d}),o.target=Rs)))}function Yl(r,o){var a={};return a[r.toLowerCase()]=o.toLowerCase(),a["Webkit"+r]="webkit"+o,a["Moz"+r]="moz"+o,a}var ks={animationend:Yl("Animation","AnimationEnd"),animationiteration:Yl("Animation","AnimationIteration"),animationstart:Yl("Animation","AnimationStart"),transitionend:Yl("Transition","TransitionEnd")},dd={},Wp={};h&&(Wp=document.createElement("div").style,"AnimationEvent"in window||(delete ks.animationend.animation,delete ks.animationiteration.animation,delete ks.animationstart.animation),"TransitionEvent"in window||delete ks.transitionend.transition);function Xl(r){if(dd[r])return dd[r];if(!ks[r])return r;var o=ks[r],a;for(a in o)if(o.hasOwnProperty(a)&&a in Wp)return dd[r]=o[a];return r}var Kp=Xl("animationend"),Gp=Xl("animationiteration"),Qp=Xl("animationstart"),Yp=Xl("transitionend"),Xp=new Map,Jp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yi(r,o){Xp.set(r,o),l(o,[r])}for(var hd=0;hd<Jp.length;hd++){var fd=Jp[hd],qw=fd.toLowerCase(),Ww=fd[0].toUpperCase()+fd.slice(1);Yi(qw,"on"+Ww)}Yi(Kp,"onAnimationEnd"),Yi(Gp,"onAnimationIteration"),Yi(Qp,"onAnimationStart"),Yi("dblclick","onDoubleClick"),Yi("focusin","onFocus"),Yi("focusout","onBlur"),Yi(Yp,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ka="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kw=new Set("cancel close invalid load scroll toggle".split(" ").concat(ka));function Zp(r,o,a){var d=r.type||"unknown-event";r.currentTarget=a,bt(d,o,void 0,r),r.currentTarget=null}function em(r,o){o=(o&4)!==0;for(var a=0;a<r.length;a++){var d=r[a],f=d.event;d=d.listeners;e:{var g=void 0;if(o)for(var w=d.length-1;0<=w;w--){var R=d[w],D=R.instance,K=R.currentTarget;if(R=R.listener,D!==g&&f.isPropagationStopped())break e;Zp(f,R,K),g=D}else for(w=0;w<d.length;w++){if(R=d[w],D=R.instance,K=R.currentTarget,R=R.listener,D!==g&&f.isPropagationStopped())break e;Zp(f,R,K),g=D}}}if(le)throw r=Oe,le=!1,Oe=null,r}function Et(r,o){var a=o[Ed];a===void 0&&(a=o[Ed]=new Set);var d=r+"__bubble";a.has(d)||(tm(o,r,2,!1),a.add(d))}function pd(r,o,a){var d=0;o&&(d|=4),tm(a,r,d,o)}var Jl="_reactListening"+Math.random().toString(36).slice(2);function Aa(r){if(!r[Jl]){r[Jl]=!0,i.forEach(function(a){a!=="selectionchange"&&(Kw.has(a)||pd(a,!1,r),pd(a,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[Jl]||(o[Jl]=!0,pd("selectionchange",!1,o))}}function tm(r,o,a,d){switch(ya(o)){case 1:var f=xt;break;case 4:f=id;break;default:f=va}a=f.bind(null,o,a,r),f=void 0,!pe||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(f=!0),d?f!==void 0?r.addEventListener(o,a,{capture:!0,passive:f}):r.addEventListener(o,a,!0):f!==void 0?r.addEventListener(o,a,{passive:f}):r.addEventListener(o,a,!1)}function md(r,o,a,d,f){var g=d;if(!(o&1)&&!(o&2)&&d!==null)e:for(;;){if(d===null)return;var w=d.tag;if(w===3||w===4){var R=d.stateNode.containerInfo;if(R===f||R.nodeType===8&&R.parentNode===f)break;if(w===4)for(w=d.return;w!==null;){var D=w.tag;if((D===3||D===4)&&(D=w.stateNode.containerInfo,D===f||D.nodeType===8&&D.parentNode===f))return;w=w.return}for(;R!==null;){if(w=Vo(R),w===null)return;if(D=w.tag,D===5||D===6){d=g=w;continue e}R=R.parentNode}}d=d.return}G(function(){var K=g,ne=$r(a),re=[];e:{var ee=Xp.get(r);if(ee!==void 0){var ge=ys,Te=r;switch(r){case"keypress":if(vs(a)===0)break e;case"keydown":case"keyup":ge=m;break;case"focusin":Te="focus",ge=Ts;break;case"focusout":Te="blur",ge=Ts;break;case"beforeblur":case"afterblur":ge=Ts;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=ws;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=Bl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=Q;break;case Kp:case Gp:case Qp:ge=vi;break;case Yp:ge=pt;break;case"scroll":ge=od;break;case"wheel":ge=it;break;case"copy":case"cut":case"paste":ge=ql;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=E}var xe=(o&4)!==0,Ot=!xe&&r==="scroll",H=xe?ee!==null?ee+"Capture":null:ee;xe=[];for(var L=K,q;L!==null;){q=L;var ae=q.stateNode;if(q.tag===5&&ae!==null&&(q=ae,H!==null&&(ae=X(L,H),ae!=null&&xe.push(Pa(L,ae,q)))),Ot)break;L=L.return}0<xe.length&&(ee=new ge(ee,Te,null,a,ne),re.push({event:ee,listeners:xe}))}}if(!(o&7)){e:{if(ee=r==="mouseover"||r==="pointerover",ge=r==="mouseout"||r==="pointerout",ee&&a!==Tn&&(Te=a.relatedTarget||a.fromElement)&&(Vo(Te)||Te[yi]))break e;if((ge||ee)&&(ee=ne.window===ne?ne:(ee=ne.ownerDocument)?ee.defaultView||ee.parentWindow:window,ge?(Te=a.relatedTarget||a.toElement,ge=K,Te=Te?Vo(Te):null,Te!==null&&(Ot=Ze(Te),Te!==Ot||Te.tag!==5&&Te.tag!==6)&&(Te=null)):(ge=null,Te=K),ge!==Te)){if(xe=ws,ae="onMouseLeave",H="onMouseEnter",L="mouse",(r==="pointerout"||r==="pointerover")&&(xe=E,ae="onPointerLeave",H="onPointerEnter",L="pointer"),Ot=ge==null?ee:Cs(ge),q=Te==null?ee:Cs(Te),ee=new xe(ae,L+"leave",ge,a,ne),ee.target=Ot,ee.relatedTarget=q,ae=null,Vo(ne)===K&&(xe=new xe(H,L+"enter",Te,a,ne),xe.target=q,xe.relatedTarget=Ot,ae=xe),Ot=ae,ge&&Te)t:{for(xe=ge,H=Te,L=0,q=xe;q;q=As(q))L++;for(q=0,ae=H;ae;ae=As(ae))q++;for(;0<L-q;)xe=As(xe),L--;for(;0<q-L;)H=As(H),q--;for(;L--;){if(xe===H||H!==null&&xe===H.alternate)break t;xe=As(xe),H=As(H)}xe=null}else xe=null;ge!==null&&nm(re,ee,ge,xe,!1),Te!==null&&Ot!==null&&nm(re,Ot,Te,xe,!0)}}e:{if(ee=K?Cs(K):window,ge=ee.nodeName&&ee.nodeName.toLowerCase(),ge==="select"||ge==="input"&&ee.type==="file")var Se=Mw;else if(Lp(ee))if(Mp)Se=zw;else{Se=Uw;var ke=Fw}else(ge=ee.nodeName)&&ge.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(Se=jw);if(Se&&(Se=Se(r,K))){Vp(re,Se,a,ne);break e}ke&&ke(r,ee,K),r==="focusout"&&(ke=ee._wrapperState)&&ke.controlled&&ee.type==="number"&&$n(ee,"number",ee.value)}switch(ke=K?Cs(K):window,r){case"focusin":(Lp(ke)||ke.contentEditable==="true")&&(Rs=ke,ud=K,Ra=null);break;case"focusout":Ra=ud=Rs=null;break;case"mousedown":cd=!0;break;case"contextmenu":case"mouseup":case"dragend":cd=!1,qp(re,a,ne);break;case"selectionchange":if(Hw)break;case"keydown":case"keyup":qp(re,a,ne)}var Ae;if(Vt)e:{switch(r){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else Ss?Np(r,a)&&(Me="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Me="onCompositionStart");Me&&(Lo&&a.locale!=="ko"&&(Ss||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&Ss&&(Ae=_a()):(Gn=ne,gs="value"in Gn?Gn.value:Gn.textContent,Ss=!0)),ke=Zl(K,Me),0<ke.length&&(Me=new Ta(Me,r,null,a,ne),re.push({event:Me,listeners:ke}),Ae?Me.data=Ae:(Ae=Op(a),Ae!==null&&(Me.data=Ae)))),(Ae=Qn?Nw(r,a):Ow(r,a))&&(K=Zl(K,"onBeforeInput"),0<K.length&&(ne=new Ta("onBeforeInput","beforeinput",null,a,ne),re.push({event:ne,listeners:K}),ne.data=Ae))}em(re,o)})}function Pa(r,o,a){return{instance:r,listener:o,currentTarget:a}}function Zl(r,o){for(var a=o+"Capture",d=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=X(r,a),g!=null&&d.unshift(Pa(r,g,f)),g=X(r,o),g!=null&&d.push(Pa(r,g,f))),r=r.return}return d}function As(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function nm(r,o,a,d,f){for(var g=o._reactName,w=[];a!==null&&a!==d;){var R=a,D=R.alternate,K=R.stateNode;if(D!==null&&D===d)break;R.tag===5&&K!==null&&(R=K,f?(D=X(a,g),D!=null&&w.unshift(Pa(a,D,R))):f||(D=X(a,g),D!=null&&w.push(Pa(a,D,R)))),a=a.return}w.length!==0&&r.push({event:o,listeners:w})}var Gw=/\r\n?/g,Qw=/\u0000|\uFFFD/g;function rm(r){return(typeof r=="string"?r:""+r).replace(Gw,`
`).replace(Qw,"")}function eu(r,o,a){if(o=rm(o),rm(r)!==o&&a)throw Error(t(425))}function tu(){}var gd=null,vd=null;function yd(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var _d=typeof setTimeout=="function"?setTimeout:void 0,Yw=typeof clearTimeout=="function"?clearTimeout:void 0,im=typeof Promise=="function"?Promise:void 0,Xw=typeof queueMicrotask=="function"?queueMicrotask:typeof im<"u"?function(r){return im.resolve(null).then(r).catch(Jw)}:_d;function Jw(r){setTimeout(function(){throw r})}function wd(r,o){var a=o,d=0;do{var f=a.nextSibling;if(r.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(d===0){r.removeChild(f),Pr(o);return}d--}else a!=="$"&&a!=="$?"&&a!=="$!"||d++;a=f}while(a);Pr(o)}function Xi(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return r}function om(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(o===0)return r;o--}else a==="/$"&&o++}r=r.previousSibling}return null}var Ps=Math.random().toString(36).slice(2),Yr="__reactFiber$"+Ps,Ca="__reactProps$"+Ps,yi="__reactContainer$"+Ps,Ed="__reactEvents$"+Ps,Zw="__reactListeners$"+Ps,eE="__reactHandles$"+Ps;function Vo(r){var o=r[Yr];if(o)return o;for(var a=r.parentNode;a;){if(o=a[yi]||a[Yr]){if(a=o.alternate,o.child!==null||a!==null&&a.child!==null)for(r=om(r);r!==null;){if(a=r[Yr])return a;r=om(r)}return o}r=a,a=r.parentNode}return null}function ba(r){return r=r[Yr]||r[yi],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Cs(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function nu(r){return r[Ca]||null}var Td=[],bs=-1;function Ji(r){return{current:r}}function Tt(r){0>bs||(r.current=Td[bs],Td[bs]=null,bs--)}function yt(r,o){bs++,Td[bs]=r.current,r.current=o}var Zi={},fn=Ji(Zi),Vn=Ji(!1),Mo=Zi;function Ds(r,o){var a=r.type.contextTypes;if(!a)return Zi;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=o[g];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=o,r.__reactInternalMemoizedMaskedChildContext=f),f}function Mn(r){return r=r.childContextTypes,r!=null}function ru(){Tt(Vn),Tt(fn)}function sm(r,o,a){if(fn.current!==Zi)throw Error(t(168));yt(fn,o),yt(Vn,a)}function am(r,o,a){var d=r.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return a;d=d.getChildContext();for(var f in d)if(!(f in o))throw Error(t(108,Qe(r)||"Unknown",f));return he({},a,d)}function iu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Zi,Mo=fn.current,yt(fn,r),yt(Vn,Vn.current),!0}function lm(r,o,a){var d=r.stateNode;if(!d)throw Error(t(169));a?(r=am(r,o,Mo),d.__reactInternalMemoizedMergedChildContext=r,Tt(Vn),Tt(fn),yt(fn,r)):Tt(Vn),yt(Vn,a)}var _i=null,ou=!1,Id=!1;function um(r){_i===null?_i=[r]:_i.push(r)}function tE(r){ou=!0,um(r)}function eo(){if(!Id&&_i!==null){Id=!0;var r=0,o=et;try{var a=_i;for(et=1;r<a.length;r++){var d=a[r];do d=d(!0);while(d!==null)}_i=null,ou=!1}catch(f){throw _i!==null&&(_i=_i.slice(r+1)),en(rt,eo),f}finally{et=o,Id=!1}}return null}var Ns=[],Os=0,su=null,au=0,ar=[],lr=0,Fo=null,wi=1,Ei="";function Uo(r,o){Ns[Os++]=au,Ns[Os++]=su,su=r,au=o}function cm(r,o,a){ar[lr++]=wi,ar[lr++]=Ei,ar[lr++]=Fo,Fo=r;var d=wi;r=Ei;var f=32-xn(d)-1;d&=~(1<<f),a+=1;var g=32-xn(o)+f;if(30<g){var w=f-f%5;g=(d&(1<<w)-1).toString(32),d>>=w,f-=w,wi=1<<32-xn(o)+f|a<<f|d,Ei=g+r}else wi=1<<g|a<<f|d,Ei=r}function xd(r){r.return!==null&&(Uo(r,1),cm(r,1,0))}function Sd(r){for(;r===su;)su=Ns[--Os],Ns[Os]=null,au=Ns[--Os],Ns[Os]=null;for(;r===Fo;)Fo=ar[--lr],ar[lr]=null,Ei=ar[--lr],ar[lr]=null,wi=ar[--lr],ar[lr]=null}var Yn=null,Xn=null,St=!1,Dr=null;function dm(r,o){var a=hr(5,null,null,0);a.elementType="DELETED",a.stateNode=o,a.return=r,o=r.deletions,o===null?(r.deletions=[a],r.flags|=16):o.push(a)}function hm(r,o){switch(r.tag){case 5:var a=r.type;return o=o.nodeType!==1||a.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(r.stateNode=o,Yn=r,Xn=Xi(o.firstChild),!0):!1;case 6:return o=r.pendingProps===""||o.nodeType!==3?null:o,o!==null?(r.stateNode=o,Yn=r,Xn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(a=Fo!==null?{id:wi,overflow:Ei}:null,r.memoizedState={dehydrated:o,treeContext:a,retryLane:1073741824},a=hr(18,null,null,0),a.stateNode=o,a.return=r,r.child=a,Yn=r,Xn=null,!0):!1;default:return!1}}function Rd(r){return(r.mode&1)!==0&&(r.flags&128)===0}function kd(r){if(St){var o=Xn;if(o){var a=o;if(!hm(r,o)){if(Rd(r))throw Error(t(418));o=Xi(a.nextSibling);var d=Yn;o&&hm(r,o)?dm(d,a):(r.flags=r.flags&-4097|2,St=!1,Yn=r)}}else{if(Rd(r))throw Error(t(418));r.flags=r.flags&-4097|2,St=!1,Yn=r}}}function fm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Yn=r}function lu(r){if(r!==Yn)return!1;if(!St)return fm(r),St=!0,!1;var o;if((o=r.tag!==3)&&!(o=r.tag!==5)&&(o=r.type,o=o!=="head"&&o!=="body"&&!yd(r.type,r.memoizedProps)),o&&(o=Xn)){if(Rd(r))throw pm(),Error(t(418));for(;o;)dm(r,o),o=Xi(o.nextSibling)}if(fm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(o===0){Xn=Xi(r.nextSibling);break e}o--}else a!=="$"&&a!=="$!"&&a!=="$?"||o++}r=r.nextSibling}Xn=null}}else Xn=Yn?Xi(r.stateNode.nextSibling):null;return!0}function pm(){for(var r=Xn;r;)r=Xi(r.nextSibling)}function Ls(){Xn=Yn=null,St=!1}function Ad(r){Dr===null?Dr=[r]:Dr.push(r)}var nE=fe.ReactCurrentBatchConfig;function Da(r,o,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var d=a.stateNode}if(!d)throw Error(t(147,r));var f=d,g=""+r;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===g?o.ref:(o=function(w){var R=f.refs;w===null?delete R[g]:R[g]=w},o._stringRef=g,o)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function uu(r,o){throw r=Object.prototype.toString.call(o),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r))}function mm(r){var o=r._init;return o(r._payload)}function gm(r){function o(H,L){if(r){var q=H.deletions;q===null?(H.deletions=[L],H.flags|=16):q.push(L)}}function a(H,L){if(!r)return null;for(;L!==null;)o(H,L),L=L.sibling;return null}function d(H,L){for(H=new Map;L!==null;)L.key!==null?H.set(L.key,L):H.set(L.index,L),L=L.sibling;return H}function f(H,L){return H=lo(H,L),H.index=0,H.sibling=null,H}function g(H,L,q){return H.index=q,r?(q=H.alternate,q!==null?(q=q.index,q<L?(H.flags|=2,L):q):(H.flags|=2,L)):(H.flags|=1048576,L)}function w(H){return r&&H.alternate===null&&(H.flags|=2),H}function R(H,L,q,ae){return L===null||L.tag!==6?(L=_h(q,H.mode,ae),L.return=H,L):(L=f(L,q),L.return=H,L)}function D(H,L,q,ae){var Se=q.type;return Se===A?ne(H,L,q.props.children,ae,q.key):L!==null&&(L.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===Rt&&mm(Se)===L.type)?(ae=f(L,q.props),ae.ref=Da(H,L,q),ae.return=H,ae):(ae=Nu(q.type,q.key,q.props,null,H.mode,ae),ae.ref=Da(H,L,q),ae.return=H,ae)}function K(H,L,q,ae){return L===null||L.tag!==4||L.stateNode.containerInfo!==q.containerInfo||L.stateNode.implementation!==q.implementation?(L=wh(q,H.mode,ae),L.return=H,L):(L=f(L,q.children||[]),L.return=H,L)}function ne(H,L,q,ae,Se){return L===null||L.tag!==7?(L=Ko(q,H.mode,ae,Se),L.return=H,L):(L=f(L,q),L.return=H,L)}function re(H,L,q){if(typeof L=="string"&&L!==""||typeof L=="number")return L=_h(""+L,H.mode,q),L.return=H,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case V:return q=Nu(L.type,L.key,L.props,null,H.mode,q),q.ref=Da(H,null,L),q.return=H,q;case ie:return L=wh(L,H.mode,q),L.return=H,L;case Rt:var ae=L._init;return re(H,ae(L._payload),q)}if(cn(L)||de(L))return L=Ko(L,H.mode,q,null),L.return=H,L;uu(H,L)}return null}function ee(H,L,q,ae){var Se=L!==null?L.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return Se!==null?null:R(H,L,""+q,ae);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case V:return q.key===Se?D(H,L,q,ae):null;case ie:return q.key===Se?K(H,L,q,ae):null;case Rt:return Se=q._init,ee(H,L,Se(q._payload),ae)}if(cn(q)||de(q))return Se!==null?null:ne(H,L,q,ae,null);uu(H,q)}return null}function ge(H,L,q,ae,Se){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return H=H.get(q)||null,R(L,H,""+ae,Se);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case V:return H=H.get(ae.key===null?q:ae.key)||null,D(L,H,ae,Se);case ie:return H=H.get(ae.key===null?q:ae.key)||null,K(L,H,ae,Se);case Rt:var ke=ae._init;return ge(H,L,q,ke(ae._payload),Se)}if(cn(ae)||de(ae))return H=H.get(q)||null,ne(L,H,ae,Se,null);uu(L,ae)}return null}function Te(H,L,q,ae){for(var Se=null,ke=null,Ae=L,Me=L=0,Yt=null;Ae!==null&&Me<q.length;Me++){Ae.index>Me?(Yt=Ae,Ae=null):Yt=Ae.sibling;var lt=ee(H,Ae,q[Me],ae);if(lt===null){Ae===null&&(Ae=Yt);break}r&&Ae&&lt.alternate===null&&o(H,Ae),L=g(lt,L,Me),ke===null?Se=lt:ke.sibling=lt,ke=lt,Ae=Yt}if(Me===q.length)return a(H,Ae),St&&Uo(H,Me),Se;if(Ae===null){for(;Me<q.length;Me++)Ae=re(H,q[Me],ae),Ae!==null&&(L=g(Ae,L,Me),ke===null?Se=Ae:ke.sibling=Ae,ke=Ae);return St&&Uo(H,Me),Se}for(Ae=d(H,Ae);Me<q.length;Me++)Yt=ge(Ae,H,Me,q[Me],ae),Yt!==null&&(r&&Yt.alternate!==null&&Ae.delete(Yt.key===null?Me:Yt.key),L=g(Yt,L,Me),ke===null?Se=Yt:ke.sibling=Yt,ke=Yt);return r&&Ae.forEach(function(uo){return o(H,uo)}),St&&Uo(H,Me),Se}function xe(H,L,q,ae){var Se=de(q);if(typeof Se!="function")throw Error(t(150));if(q=Se.call(q),q==null)throw Error(t(151));for(var ke=Se=null,Ae=L,Me=L=0,Yt=null,lt=q.next();Ae!==null&&!lt.done;Me++,lt=q.next()){Ae.index>Me?(Yt=Ae,Ae=null):Yt=Ae.sibling;var uo=ee(H,Ae,lt.value,ae);if(uo===null){Ae===null&&(Ae=Yt);break}r&&Ae&&uo.alternate===null&&o(H,Ae),L=g(uo,L,Me),ke===null?Se=uo:ke.sibling=uo,ke=uo,Ae=Yt}if(lt.done)return a(H,Ae),St&&Uo(H,Me),Se;if(Ae===null){for(;!lt.done;Me++,lt=q.next())lt=re(H,lt.value,ae),lt!==null&&(L=g(lt,L,Me),ke===null?Se=lt:ke.sibling=lt,ke=lt);return St&&Uo(H,Me),Se}for(Ae=d(H,Ae);!lt.done;Me++,lt=q.next())lt=ge(Ae,H,Me,lt.value,ae),lt!==null&&(r&&lt.alternate!==null&&Ae.delete(lt.key===null?Me:lt.key),L=g(lt,L,Me),ke===null?Se=lt:ke.sibling=lt,ke=lt);return r&&Ae.forEach(function(LE){return o(H,LE)}),St&&Uo(H,Me),Se}function Ot(H,L,q,ae){if(typeof q=="object"&&q!==null&&q.type===A&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case V:e:{for(var Se=q.key,ke=L;ke!==null;){if(ke.key===Se){if(Se=q.type,Se===A){if(ke.tag===7){a(H,ke.sibling),L=f(ke,q.props.children),L.return=H,H=L;break e}}else if(ke.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===Rt&&mm(Se)===ke.type){a(H,ke.sibling),L=f(ke,q.props),L.ref=Da(H,ke,q),L.return=H,H=L;break e}a(H,ke);break}else o(H,ke);ke=ke.sibling}q.type===A?(L=Ko(q.props.children,H.mode,ae,q.key),L.return=H,H=L):(ae=Nu(q.type,q.key,q.props,null,H.mode,ae),ae.ref=Da(H,L,q),ae.return=H,H=ae)}return w(H);case ie:e:{for(ke=q.key;L!==null;){if(L.key===ke)if(L.tag===4&&L.stateNode.containerInfo===q.containerInfo&&L.stateNode.implementation===q.implementation){a(H,L.sibling),L=f(L,q.children||[]),L.return=H,H=L;break e}else{a(H,L);break}else o(H,L);L=L.sibling}L=wh(q,H.mode,ae),L.return=H,H=L}return w(H);case Rt:return ke=q._init,Ot(H,L,ke(q._payload),ae)}if(cn(q))return Te(H,L,q,ae);if(de(q))return xe(H,L,q,ae);uu(H,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,L!==null&&L.tag===6?(a(H,L.sibling),L=f(L,q),L.return=H,H=L):(a(H,L),L=_h(q,H.mode,ae),L.return=H,H=L),w(H)):a(H,L)}return Ot}var Vs=gm(!0),vm=gm(!1),cu=Ji(null),du=null,Ms=null,Pd=null;function Cd(){Pd=Ms=du=null}function bd(r){var o=cu.current;Tt(cu),r._currentValue=o}function Dd(r,o,a){for(;r!==null;){var d=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),r===a)break;r=r.return}}function Fs(r,o){du=r,Pd=Ms=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&o&&(Fn=!0),r.firstContext=null)}function ur(r){var o=r._currentValue;if(Pd!==r)if(r={context:r,memoizedValue:o,next:null},Ms===null){if(du===null)throw Error(t(308));Ms=r,du.dependencies={lanes:0,firstContext:r}}else Ms=Ms.next=r;return o}var jo=null;function Nd(r){jo===null?jo=[r]:jo.push(r)}function ym(r,o,a,d){var f=o.interleaved;return f===null?(a.next=a,Nd(o)):(a.next=f.next,f.next=a),o.interleaved=a,Ti(r,d)}function Ti(r,o){r.lanes|=o;var a=r.alternate;for(a!==null&&(a.lanes|=o),a=r,r=r.return;r!==null;)r.childLanes|=o,a=r.alternate,a!==null&&(a.childLanes|=o),a=r,r=r.return;return a.tag===3?a.stateNode:null}var to=!1;function Od(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _m(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Ii(r,o){return{eventTime:r,lane:o,tag:0,payload:null,callback:null,next:null}}function no(r,o,a){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,at&2){var f=d.pending;return f===null?o.next=o:(o.next=f.next,f.next=o),d.pending=o,Ti(r,a)}return f=d.interleaved,f===null?(o.next=o,Nd(d)):(o.next=f.next,f.next=o),d.interleaved=o,Ti(r,a)}function hu(r,o,a){if(o=o.updateQueue,o!==null&&(o=o.shared,(a&4194240)!==0)){var d=o.lanes;d&=r.pendingLanes,a|=d,o.lanes=a,qi(r,a)}}function wm(r,o){var a=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,a===d)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var w={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=w:g=g.next=w,a=a.next}while(a!==null);g===null?f=g=o:g=g.next=o}else f=g=o;a={baseState:d.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:d.shared,effects:d.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=o:r.next=o,a.lastBaseUpdate=o}function fu(r,o,a,d){var f=r.updateQueue;to=!1;var g=f.firstBaseUpdate,w=f.lastBaseUpdate,R=f.shared.pending;if(R!==null){f.shared.pending=null;var D=R,K=D.next;D.next=null,w===null?g=K:w.next=K,w=D;var ne=r.alternate;ne!==null&&(ne=ne.updateQueue,R=ne.lastBaseUpdate,R!==w&&(R===null?ne.firstBaseUpdate=K:R.next=K,ne.lastBaseUpdate=D))}if(g!==null){var re=f.baseState;w=0,ne=K=D=null,R=g;do{var ee=R.lane,ge=R.eventTime;if((d&ee)===ee){ne!==null&&(ne=ne.next={eventTime:ge,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var Te=r,xe=R;switch(ee=o,ge=a,xe.tag){case 1:if(Te=xe.payload,typeof Te=="function"){re=Te.call(ge,re,ee);break e}re=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=xe.payload,ee=typeof Te=="function"?Te.call(ge,re,ee):Te,ee==null)break e;re=he({},re,ee);break e;case 2:to=!0}}R.callback!==null&&R.lane!==0&&(r.flags|=64,ee=f.effects,ee===null?f.effects=[R]:ee.push(R))}else ge={eventTime:ge,lane:ee,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ne===null?(K=ne=ge,D=re):ne=ne.next=ge,w|=ee;if(R=R.next,R===null){if(R=f.shared.pending,R===null)break;ee=R,R=ee.next,ee.next=null,f.lastBaseUpdate=ee,f.shared.pending=null}}while(!0);if(ne===null&&(D=re),f.baseState=D,f.firstBaseUpdate=K,f.lastBaseUpdate=ne,o=f.shared.interleaved,o!==null){f=o;do w|=f.lane,f=f.next;while(f!==o)}else g===null&&(f.shared.lanes=0);$o|=w,r.lanes=w,r.memoizedState=re}}function Em(r,o,a){if(r=o.effects,o.effects=null,r!==null)for(o=0;o<r.length;o++){var d=r[o],f=d.callback;if(f!==null){if(d.callback=null,d=a,typeof f!="function")throw Error(t(191,f));f.call(d)}}}var Na={},Xr=Ji(Na),Oa=Ji(Na),La=Ji(Na);function zo(r){if(r===Na)throw Error(t(174));return r}function Ld(r,o){switch(yt(La,o),yt(Oa,r),yt(Xr,Na),r=o.nodeType,r){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:We(null,"");break;default:r=r===8?o.parentNode:o,o=r.namespaceURI||null,r=r.tagName,o=We(o,r)}Tt(Xr),yt(Xr,o)}function Us(){Tt(Xr),Tt(Oa),Tt(La)}function Tm(r){zo(La.current);var o=zo(Xr.current),a=We(o,r.type);o!==a&&(yt(Oa,r),yt(Xr,a))}function Vd(r){Oa.current===r&&(Tt(Xr),Tt(Oa))}var kt=Ji(0);function pu(r){for(var o=r;o!==null;){if(o.tag===13){var a=o.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Md=[];function Fd(){for(var r=0;r<Md.length;r++)Md[r]._workInProgressVersionPrimary=null;Md.length=0}var mu=fe.ReactCurrentDispatcher,Ud=fe.ReactCurrentBatchConfig,Bo=0,At=null,Bt=null,Gt=null,gu=!1,Va=!1,Ma=0,rE=0;function pn(){throw Error(t(321))}function jd(r,o){if(o===null)return!1;for(var a=0;a<o.length&&a<r.length;a++)if(!br(r[a],o[a]))return!1;return!0}function zd(r,o,a,d,f,g){if(Bo=g,At=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,mu.current=r===null||r.memoizedState===null?aE:lE,r=a(d,f),Va){g=0;do{if(Va=!1,Ma=0,25<=g)throw Error(t(301));g+=1,Gt=Bt=null,o.updateQueue=null,mu.current=uE,r=a(d,f)}while(Va)}if(mu.current=_u,o=Bt!==null&&Bt.next!==null,Bo=0,Gt=Bt=At=null,gu=!1,o)throw Error(t(300));return r}function Bd(){var r=Ma!==0;return Ma=0,r}function Jr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?At.memoizedState=Gt=r:Gt=Gt.next=r,Gt}function cr(){if(Bt===null){var r=At.alternate;r=r!==null?r.memoizedState:null}else r=Bt.next;var o=Gt===null?At.memoizedState:Gt.next;if(o!==null)Gt=o,Bt=r;else{if(r===null)throw Error(t(310));Bt=r,r={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},Gt===null?At.memoizedState=Gt=r:Gt=Gt.next=r}return Gt}function Fa(r,o){return typeof o=="function"?o(r):o}function $d(r){var o=cr(),a=o.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var d=Bt,f=d.baseQueue,g=a.pending;if(g!==null){if(f!==null){var w=f.next;f.next=g.next,g.next=w}d.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,d=d.baseState;var R=w=null,D=null,K=g;do{var ne=K.lane;if((Bo&ne)===ne)D!==null&&(D=D.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),d=K.hasEagerState?K.eagerState:r(d,K.action);else{var re={lane:ne,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};D===null?(R=D=re,w=d):D=D.next=re,At.lanes|=ne,$o|=ne}K=K.next}while(K!==null&&K!==g);D===null?w=d:D.next=R,br(d,o.memoizedState)||(Fn=!0),o.memoizedState=d,o.baseState=w,o.baseQueue=D,a.lastRenderedState=d}if(r=a.interleaved,r!==null){f=r;do g=f.lane,At.lanes|=g,$o|=g,f=f.next;while(f!==r)}else f===null&&(a.lanes=0);return[o.memoizedState,a.dispatch]}function Hd(r){var o=cr(),a=o.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var d=a.dispatch,f=a.pending,g=o.memoizedState;if(f!==null){a.pending=null;var w=f=f.next;do g=r(g,w.action),w=w.next;while(w!==f);br(g,o.memoizedState)||(Fn=!0),o.memoizedState=g,o.baseQueue===null&&(o.baseState=g),a.lastRenderedState=g}return[g,d]}function Im(){}function xm(r,o){var a=At,d=cr(),f=o(),g=!br(d.memoizedState,f);if(g&&(d.memoizedState=f,Fn=!0),d=d.queue,qd(km.bind(null,a,d,r),[r]),d.getSnapshot!==o||g||Gt!==null&&Gt.memoizedState.tag&1){if(a.flags|=2048,Ua(9,Rm.bind(null,a,d,f,o),void 0,null),Qt===null)throw Error(t(349));Bo&30||Sm(a,o,f)}return f}function Sm(r,o,a){r.flags|=16384,r={getSnapshot:o,value:a},o=At.updateQueue,o===null?(o={lastEffect:null,stores:null},At.updateQueue=o,o.stores=[r]):(a=o.stores,a===null?o.stores=[r]:a.push(r))}function Rm(r,o,a,d){o.value=a,o.getSnapshot=d,Am(o)&&Pm(r)}function km(r,o,a){return a(function(){Am(o)&&Pm(r)})}function Am(r){var o=r.getSnapshot;r=r.value;try{var a=o();return!br(r,a)}catch{return!0}}function Pm(r){var o=Ti(r,1);o!==null&&Vr(o,r,1,-1)}function Cm(r){var o=Jr();return typeof r=="function"&&(r=r()),o.memoizedState=o.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fa,lastRenderedState:r},o.queue=r,r=r.dispatch=sE.bind(null,At,r),[o.memoizedState,r]}function Ua(r,o,a,d){return r={tag:r,create:o,destroy:a,deps:d,next:null},o=At.updateQueue,o===null?(o={lastEffect:null,stores:null},At.updateQueue=o,o.lastEffect=r.next=r):(a=o.lastEffect,a===null?o.lastEffect=r.next=r:(d=a.next,a.next=r,r.next=d,o.lastEffect=r)),r}function bm(){return cr().memoizedState}function vu(r,o,a,d){var f=Jr();At.flags|=r,f.memoizedState=Ua(1|o,a,void 0,d===void 0?null:d)}function yu(r,o,a,d){var f=cr();d=d===void 0?null:d;var g=void 0;if(Bt!==null){var w=Bt.memoizedState;if(g=w.destroy,d!==null&&jd(d,w.deps)){f.memoizedState=Ua(o,a,g,d);return}}At.flags|=r,f.memoizedState=Ua(1|o,a,g,d)}function Dm(r,o){return vu(8390656,8,r,o)}function qd(r,o){return yu(2048,8,r,o)}function Nm(r,o){return yu(4,2,r,o)}function Om(r,o){return yu(4,4,r,o)}function Lm(r,o){if(typeof o=="function")return r=r(),o(r),function(){o(null)};if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function Vm(r,o,a){return a=a!=null?a.concat([r]):null,yu(4,4,Lm.bind(null,o,r),a)}function Wd(){}function Mm(r,o){var a=cr();o=o===void 0?null:o;var d=a.memoizedState;return d!==null&&o!==null&&jd(o,d[1])?d[0]:(a.memoizedState=[r,o],r)}function Fm(r,o){var a=cr();o=o===void 0?null:o;var d=a.memoizedState;return d!==null&&o!==null&&jd(o,d[1])?d[0]:(r=r(),a.memoizedState=[r,o],r)}function Um(r,o,a){return Bo&21?(br(a,o)||(a=bo(),At.lanes|=a,$o|=a,r.baseState=!0),o):(r.baseState&&(r.baseState=!1,Fn=!0),r.memoizedState=a)}function iE(r,o){var a=et;et=a!==0&&4>a?a:4,r(!0);var d=Ud.transition;Ud.transition={};try{r(!1),o()}finally{et=a,Ud.transition=d}}function jm(){return cr().memoizedState}function oE(r,o,a){var d=so(r);if(a={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null},zm(r))Bm(o,a);else if(a=ym(r,o,a,d),a!==null){var f=kn();Vr(a,r,d,f),$m(a,o,d)}}function sE(r,o,a){var d=so(r),f={lane:d,action:a,hasEagerState:!1,eagerState:null,next:null};if(zm(r))Bm(o,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=o.lastRenderedReducer,g!==null))try{var w=o.lastRenderedState,R=g(w,a);if(f.hasEagerState=!0,f.eagerState=R,br(R,w)){var D=o.interleaved;D===null?(f.next=f,Nd(o)):(f.next=D.next,D.next=f),o.interleaved=f;return}}catch{}finally{}a=ym(r,o,f,d),a!==null&&(f=kn(),Vr(a,r,d,f),$m(a,o,d))}}function zm(r){var o=r.alternate;return r===At||o!==null&&o===At}function Bm(r,o){Va=gu=!0;var a=r.pending;a===null?o.next=o:(o.next=a.next,a.next=o),r.pending=o}function $m(r,o,a){if(a&4194240){var d=o.lanes;d&=r.pendingLanes,a|=d,o.lanes=a,qi(r,a)}}var _u={readContext:ur,useCallback:pn,useContext:pn,useEffect:pn,useImperativeHandle:pn,useInsertionEffect:pn,useLayoutEffect:pn,useMemo:pn,useReducer:pn,useRef:pn,useState:pn,useDebugValue:pn,useDeferredValue:pn,useTransition:pn,useMutableSource:pn,useSyncExternalStore:pn,useId:pn,unstable_isNewReconciler:!1},aE={readContext:ur,useCallback:function(r,o){return Jr().memoizedState=[r,o===void 0?null:o],r},useContext:ur,useEffect:Dm,useImperativeHandle:function(r,o,a){return a=a!=null?a.concat([r]):null,vu(4194308,4,Lm.bind(null,o,r),a)},useLayoutEffect:function(r,o){return vu(4194308,4,r,o)},useInsertionEffect:function(r,o){return vu(4,2,r,o)},useMemo:function(r,o){var a=Jr();return o=o===void 0?null:o,r=r(),a.memoizedState=[r,o],r},useReducer:function(r,o,a){var d=Jr();return o=a!==void 0?a(o):o,d.memoizedState=d.baseState=o,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:o},d.queue=r,r=r.dispatch=oE.bind(null,At,r),[d.memoizedState,r]},useRef:function(r){var o=Jr();return r={current:r},o.memoizedState=r},useState:Cm,useDebugValue:Wd,useDeferredValue:function(r){return Jr().memoizedState=r},useTransition:function(){var r=Cm(!1),o=r[0];return r=iE.bind(null,r[1]),Jr().memoizedState=r,[o,r]},useMutableSource:function(){},useSyncExternalStore:function(r,o,a){var d=At,f=Jr();if(St){if(a===void 0)throw Error(t(407));a=a()}else{if(a=o(),Qt===null)throw Error(t(349));Bo&30||Sm(d,o,a)}f.memoizedState=a;var g={value:a,getSnapshot:o};return f.queue=g,Dm(km.bind(null,d,g,r),[r]),d.flags|=2048,Ua(9,Rm.bind(null,d,g,a,o),void 0,null),a},useId:function(){var r=Jr(),o=Qt.identifierPrefix;if(St){var a=Ei,d=wi;a=(d&~(1<<32-xn(d)-1)).toString(32)+a,o=":"+o+"R"+a,a=Ma++,0<a&&(o+="H"+a.toString(32)),o+=":"}else a=rE++,o=":"+o+"r"+a.toString(32)+":";return r.memoizedState=o},unstable_isNewReconciler:!1},lE={readContext:ur,useCallback:Mm,useContext:ur,useEffect:qd,useImperativeHandle:Vm,useInsertionEffect:Nm,useLayoutEffect:Om,useMemo:Fm,useReducer:$d,useRef:bm,useState:function(){return $d(Fa)},useDebugValue:Wd,useDeferredValue:function(r){var o=cr();return Um(o,Bt.memoizedState,r)},useTransition:function(){var r=$d(Fa)[0],o=cr().memoizedState;return[r,o]},useMutableSource:Im,useSyncExternalStore:xm,useId:jm,unstable_isNewReconciler:!1},uE={readContext:ur,useCallback:Mm,useContext:ur,useEffect:qd,useImperativeHandle:Vm,useInsertionEffect:Nm,useLayoutEffect:Om,useMemo:Fm,useReducer:Hd,useRef:bm,useState:function(){return Hd(Fa)},useDebugValue:Wd,useDeferredValue:function(r){var o=cr();return Bt===null?o.memoizedState=r:Um(o,Bt.memoizedState,r)},useTransition:function(){var r=Hd(Fa)[0],o=cr().memoizedState;return[r,o]},useMutableSource:Im,useSyncExternalStore:xm,useId:jm,unstable_isNewReconciler:!1};function Nr(r,o){if(r&&r.defaultProps){o=he({},o),r=r.defaultProps;for(var a in r)o[a]===void 0&&(o[a]=r[a]);return o}return o}function Kd(r,o,a,d){o=r.memoizedState,a=a(d,o),a=a==null?o:he({},o,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var wu={isMounted:function(r){return(r=r._reactInternals)?Ze(r)===r:!1},enqueueSetState:function(r,o,a){r=r._reactInternals;var d=kn(),f=so(r),g=Ii(d,f);g.payload=o,a!=null&&(g.callback=a),o=no(r,g,f),o!==null&&(Vr(o,r,f,d),hu(o,r,f))},enqueueReplaceState:function(r,o,a){r=r._reactInternals;var d=kn(),f=so(r),g=Ii(d,f);g.tag=1,g.payload=o,a!=null&&(g.callback=a),o=no(r,g,f),o!==null&&(Vr(o,r,f,d),hu(o,r,f))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var a=kn(),d=so(r),f=Ii(a,d);f.tag=2,o!=null&&(f.callback=o),o=no(r,f,d),o!==null&&(Vr(o,r,d,a),hu(o,r,d))}};function Hm(r,o,a,d,f,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,g,w):o.prototype&&o.prototype.isPureReactComponent?!Sa(a,d)||!Sa(f,g):!0}function qm(r,o,a){var d=!1,f=Zi,g=o.contextType;return typeof g=="object"&&g!==null?g=ur(g):(f=Mn(o)?Mo:fn.current,d=o.contextTypes,g=(d=d!=null)?Ds(r,f):Zi),o=new o(a,g),r.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=wu,r.stateNode=o,o._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),o}function Wm(r,o,a,d){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(a,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(a,d),o.state!==r&&wu.enqueueReplaceState(o,o.state,null)}function Gd(r,o,a,d){var f=r.stateNode;f.props=a,f.state=r.memoizedState,f.refs={},Od(r);var g=o.contextType;typeof g=="object"&&g!==null?f.context=ur(g):(g=Mn(o)?Mo:fn.current,f.context=Ds(r,g)),f.state=r.memoizedState,g=o.getDerivedStateFromProps,typeof g=="function"&&(Kd(r,o,g,a),f.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(o=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),o!==f.state&&wu.enqueueReplaceState(f,f.state,null),fu(r,a,f,d),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function js(r,o){try{var a="",d=o;do a+=Ne(d),d=d.return;while(d);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:o,stack:f,digest:null}}function Qd(r,o,a){return{value:r,source:null,stack:a??null,digest:o??null}}function Yd(r,o){try{console.error(o.value)}catch(a){setTimeout(function(){throw a})}}var cE=typeof WeakMap=="function"?WeakMap:Map;function Km(r,o,a){a=Ii(-1,a),a.tag=3,a.payload={element:null};var d=o.value;return a.callback=function(){ku||(ku=!0,dh=d),Yd(r,o)},a}function Gm(r,o,a){a=Ii(-1,a),a.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var f=o.value;a.payload=function(){return d(f)},a.callback=function(){Yd(r,o)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Yd(r,o),typeof d!="function"&&(io===null?io=new Set([this]):io.add(this));var w=o.stack;this.componentDidCatch(o.value,{componentStack:w!==null?w:""})}),a}function Qm(r,o,a){var d=r.pingCache;if(d===null){d=r.pingCache=new cE;var f=new Set;d.set(o,f)}else f=d.get(o),f===void 0&&(f=new Set,d.set(o,f));f.has(a)||(f.add(a),r=xE.bind(null,r,o,a),o.then(r,r))}function Ym(r){do{var o;if((o=r.tag===13)&&(o=r.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return r;r=r.return}while(r!==null);return null}function Xm(r,o,a,d,f){return r.mode&1?(r.flags|=65536,r.lanes=f,r):(r===o?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(o=Ii(-1,1),o.tag=2,no(a,o,1))),a.lanes|=1),r)}var dE=fe.ReactCurrentOwner,Fn=!1;function Rn(r,o,a,d){o.child=r===null?vm(o,null,a,d):Vs(o,r.child,a,d)}function Jm(r,o,a,d,f){a=a.render;var g=o.ref;return Fs(o,f),d=zd(r,o,a,d,g,f),a=Bd(),r!==null&&!Fn?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~f,xi(r,o,f)):(St&&a&&xd(o),o.flags|=1,Rn(r,o,d,f),o.child)}function Zm(r,o,a,d,f){if(r===null){var g=a.type;return typeof g=="function"&&!yh(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(o.tag=15,o.type=g,eg(r,o,g,d,f)):(r=Nu(a.type,null,d,o,o.mode,f),r.ref=o.ref,r.return=o,o.child=r)}if(g=r.child,!(r.lanes&f)){var w=g.memoizedProps;if(a=a.compare,a=a!==null?a:Sa,a(w,d)&&r.ref===o.ref)return xi(r,o,f)}return o.flags|=1,r=lo(g,d),r.ref=o.ref,r.return=o,o.child=r}function eg(r,o,a,d,f){if(r!==null){var g=r.memoizedProps;if(Sa(g,d)&&r.ref===o.ref)if(Fn=!1,o.pendingProps=d=g,(r.lanes&f)!==0)r.flags&131072&&(Fn=!0);else return o.lanes=r.lanes,xi(r,o,f)}return Xd(r,o,a,d,f)}function tg(r,o,a){var d=o.pendingProps,f=d.children,g=r!==null?r.memoizedState:null;if(d.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},yt(Bs,Jn),Jn|=a;else{if(!(a&1073741824))return r=g!==null?g.baseLanes|a:a,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:r,cachePool:null,transitions:null},o.updateQueue=null,yt(Bs,Jn),Jn|=r,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=g!==null?g.baseLanes:a,yt(Bs,Jn),Jn|=d}else g!==null?(d=g.baseLanes|a,o.memoizedState=null):d=a,yt(Bs,Jn),Jn|=d;return Rn(r,o,f,a),o.child}function ng(r,o){var a=o.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(o.flags|=512,o.flags|=2097152)}function Xd(r,o,a,d,f){var g=Mn(a)?Mo:fn.current;return g=Ds(o,g),Fs(o,f),a=zd(r,o,a,d,g,f),d=Bd(),r!==null&&!Fn?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~f,xi(r,o,f)):(St&&d&&xd(o),o.flags|=1,Rn(r,o,a,f),o.child)}function rg(r,o,a,d,f){if(Mn(a)){var g=!0;iu(o)}else g=!1;if(Fs(o,f),o.stateNode===null)Tu(r,o),qm(o,a,d),Gd(o,a,d,f),d=!0;else if(r===null){var w=o.stateNode,R=o.memoizedProps;w.props=R;var D=w.context,K=a.contextType;typeof K=="object"&&K!==null?K=ur(K):(K=Mn(a)?Mo:fn.current,K=Ds(o,K));var ne=a.getDerivedStateFromProps,re=typeof ne=="function"||typeof w.getSnapshotBeforeUpdate=="function";re||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(R!==d||D!==K)&&Wm(o,w,d,K),to=!1;var ee=o.memoizedState;w.state=ee,fu(o,d,w,f),D=o.memoizedState,R!==d||ee!==D||Vn.current||to?(typeof ne=="function"&&(Kd(o,a,ne,d),D=o.memoizedState),(R=to||Hm(o,a,R,d,ee,D,K))?(re||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=D),w.props=d,w.state=D,w.context=K,d=R):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{w=o.stateNode,_m(r,o),R=o.memoizedProps,K=o.type===o.elementType?R:Nr(o.type,R),w.props=K,re=o.pendingProps,ee=w.context,D=a.contextType,typeof D=="object"&&D!==null?D=ur(D):(D=Mn(a)?Mo:fn.current,D=Ds(o,D));var ge=a.getDerivedStateFromProps;(ne=typeof ge=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(R!==re||ee!==D)&&Wm(o,w,d,D),to=!1,ee=o.memoizedState,w.state=ee,fu(o,d,w,f);var Te=o.memoizedState;R!==re||ee!==Te||Vn.current||to?(typeof ge=="function"&&(Kd(o,a,ge,d),Te=o.memoizedState),(K=to||Hm(o,a,K,d,ee,Te,D)||!1)?(ne||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(d,Te,D),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(d,Te,D)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||R===r.memoizedProps&&ee===r.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&ee===r.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=Te),w.props=d,w.state=Te,w.context=D,d=K):(typeof w.componentDidUpdate!="function"||R===r.memoizedProps&&ee===r.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&ee===r.memoizedState||(o.flags|=1024),d=!1)}return Jd(r,o,a,d,g,f)}function Jd(r,o,a,d,f,g){ng(r,o);var w=(o.flags&128)!==0;if(!d&&!w)return f&&lm(o,a,!1),xi(r,o,g);d=o.stateNode,dE.current=o;var R=w&&typeof a.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,r!==null&&w?(o.child=Vs(o,r.child,null,g),o.child=Vs(o,null,R,g)):Rn(r,o,R,g),o.memoizedState=d.state,f&&lm(o,a,!0),o.child}function ig(r){var o=r.stateNode;o.pendingContext?sm(r,o.pendingContext,o.pendingContext!==o.context):o.context&&sm(r,o.context,!1),Ld(r,o.containerInfo)}function og(r,o,a,d,f){return Ls(),Ad(f),o.flags|=256,Rn(r,o,a,d),o.child}var Zd={dehydrated:null,treeContext:null,retryLane:0};function eh(r){return{baseLanes:r,cachePool:null,transitions:null}}function sg(r,o,a){var d=o.pendingProps,f=kt.current,g=!1,w=(o.flags&128)!==0,R;if((R=w)||(R=r!==null&&r.memoizedState===null?!1:(f&2)!==0),R?(g=!0,o.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),yt(kt,f&1),r===null)return kd(o),r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(o.mode&1?r.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(w=d.children,r=d.fallback,g?(d=o.mode,g=o.child,w={mode:"hidden",children:w},!(d&1)&&g!==null?(g.childLanes=0,g.pendingProps=w):g=Ou(w,d,0,null),r=Ko(r,d,a,null),g.return=o,r.return=o,g.sibling=r,o.child=g,o.child.memoizedState=eh(a),o.memoizedState=Zd,r):th(o,w));if(f=r.memoizedState,f!==null&&(R=f.dehydrated,R!==null))return hE(r,o,w,d,R,f,a);if(g){g=d.fallback,w=o.mode,f=r.child,R=f.sibling;var D={mode:"hidden",children:d.children};return!(w&1)&&o.child!==f?(d=o.child,d.childLanes=0,d.pendingProps=D,o.deletions=null):(d=lo(f,D),d.subtreeFlags=f.subtreeFlags&14680064),R!==null?g=lo(R,g):(g=Ko(g,w,a,null),g.flags|=2),g.return=o,d.return=o,d.sibling=g,o.child=d,d=g,g=o.child,w=r.child.memoizedState,w=w===null?eh(a):{baseLanes:w.baseLanes|a,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=r.childLanes&~a,o.memoizedState=Zd,d}return g=r.child,r=g.sibling,d=lo(g,{mode:"visible",children:d.children}),!(o.mode&1)&&(d.lanes=a),d.return=o,d.sibling=null,r!==null&&(a=o.deletions,a===null?(o.deletions=[r],o.flags|=16):a.push(r)),o.child=d,o.memoizedState=null,d}function th(r,o){return o=Ou({mode:"visible",children:o},r.mode,0,null),o.return=r,r.child=o}function Eu(r,o,a,d){return d!==null&&Ad(d),Vs(o,r.child,null,a),r=th(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function hE(r,o,a,d,f,g,w){if(a)return o.flags&256?(o.flags&=-257,d=Qd(Error(t(422))),Eu(r,o,w,d)):o.memoizedState!==null?(o.child=r.child,o.flags|=128,null):(g=d.fallback,f=o.mode,d=Ou({mode:"visible",children:d.children},f,0,null),g=Ko(g,f,w,null),g.flags|=2,d.return=o,g.return=o,d.sibling=g,o.child=d,o.mode&1&&Vs(o,r.child,null,w),o.child.memoizedState=eh(w),o.memoizedState=Zd,g);if(!(o.mode&1))return Eu(r,o,w,null);if(f.data==="$!"){if(d=f.nextSibling&&f.nextSibling.dataset,d)var R=d.dgst;return d=R,g=Error(t(419)),d=Qd(g,d,void 0),Eu(r,o,w,d)}if(R=(w&r.childLanes)!==0,Fn||R){if(d=Qt,d!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(d.suspendedLanes|w)?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,Ti(r,f),Vr(d,r,f,-1))}return vh(),d=Qd(Error(t(421))),Eu(r,o,w,d)}return f.data==="$?"?(o.flags|=128,o.child=r.child,o=SE.bind(null,r),f._reactRetry=o,null):(r=g.treeContext,Xn=Xi(f.nextSibling),Yn=o,St=!0,Dr=null,r!==null&&(ar[lr++]=wi,ar[lr++]=Ei,ar[lr++]=Fo,wi=r.id,Ei=r.overflow,Fo=o),o=th(o,d.children),o.flags|=4096,o)}function ag(r,o,a){r.lanes|=o;var d=r.alternate;d!==null&&(d.lanes|=o),Dd(r.return,o,a)}function nh(r,o,a,d,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:a,tailMode:f}:(g.isBackwards=o,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=a,g.tailMode=f)}function lg(r,o,a){var d=o.pendingProps,f=d.revealOrder,g=d.tail;if(Rn(r,o,d.children,a),d=kt.current,d&2)d=d&1|2,o.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&ag(r,a,o);else if(r.tag===19)ag(r,a,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(yt(kt,d),!(o.mode&1))o.memoizedState=null;else switch(f){case"forwards":for(a=o.child,f=null;a!==null;)r=a.alternate,r!==null&&pu(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=o.child,o.child=null):(f=a.sibling,a.sibling=null),nh(o,!1,f,a,g);break;case"backwards":for(a=null,f=o.child,o.child=null;f!==null;){if(r=f.alternate,r!==null&&pu(r)===null){o.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}nh(o,!0,a,null,g);break;case"together":nh(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Tu(r,o){!(o.mode&1)&&r!==null&&(r.alternate=null,o.alternate=null,o.flags|=2)}function xi(r,o,a){if(r!==null&&(o.dependencies=r.dependencies),$o|=o.lanes,!(a&o.childLanes))return null;if(r!==null&&o.child!==r.child)throw Error(t(153));if(o.child!==null){for(r=o.child,a=lo(r,r.pendingProps),o.child=a,a.return=o;r.sibling!==null;)r=r.sibling,a=a.sibling=lo(r,r.pendingProps),a.return=o;a.sibling=null}return o.child}function fE(r,o,a){switch(o.tag){case 3:ig(o),Ls();break;case 5:Tm(o);break;case 1:Mn(o.type)&&iu(o);break;case 4:Ld(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,f=o.memoizedProps.value;yt(cu,d._currentValue),d._currentValue=f;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(yt(kt,kt.current&1),o.flags|=128,null):a&o.child.childLanes?sg(r,o,a):(yt(kt,kt.current&1),r=xi(r,o,a),r!==null?r.sibling:null);yt(kt,kt.current&1);break;case 19:if(d=(a&o.childLanes)!==0,r.flags&128){if(d)return lg(r,o,a);o.flags|=128}if(f=o.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),yt(kt,kt.current),d)break;return null;case 22:case 23:return o.lanes=0,tg(r,o,a)}return xi(r,o,a)}var ug,rh,cg,dg;ug=function(r,o){for(var a=o.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},rh=function(){},cg=function(r,o,a,d){var f=r.memoizedProps;if(f!==d){r=o.stateNode,zo(Xr.current);var g=null;switch(a){case"input":f=er(r,f),d=er(r,d),g=[];break;case"select":f=he({},f,{value:void 0}),d=he({},d,{value:void 0}),g=[];break;case"textarea":f=Hn(r,f),d=Hn(r,d),g=[];break;default:typeof f.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=tu)}bn(a,d);var w;a=null;for(K in f)if(!d.hasOwnProperty(K)&&f.hasOwnProperty(K)&&f[K]!=null)if(K==="style"){var R=f[K];for(w in R)R.hasOwnProperty(w)&&(a||(a={}),a[w]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(s.hasOwnProperty(K)?g||(g=[]):(g=g||[]).push(K,null));for(K in d){var D=d[K];if(R=f!=null?f[K]:void 0,d.hasOwnProperty(K)&&D!==R&&(D!=null||R!=null))if(K==="style")if(R){for(w in R)!R.hasOwnProperty(w)||D&&D.hasOwnProperty(w)||(a||(a={}),a[w]="");for(w in D)D.hasOwnProperty(w)&&R[w]!==D[w]&&(a||(a={}),a[w]=D[w])}else a||(g||(g=[]),g.push(K,a)),a=D;else K==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,R=R?R.__html:void 0,D!=null&&R!==D&&(g=g||[]).push(K,D)):K==="children"?typeof D!="string"&&typeof D!="number"||(g=g||[]).push(K,""+D):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(s.hasOwnProperty(K)?(D!=null&&K==="onScroll"&&Et("scroll",r),g||R===D||(g=[])):(g=g||[]).push(K,D))}a&&(g=g||[]).push("style",a);var K=g;(o.updateQueue=K)&&(o.flags|=4)}},dg=function(r,o,a,d){a!==d&&(o.flags|=4)};function ja(r,o){if(!St)switch(r.tailMode){case"hidden":o=r.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var d=null;a!==null;)a.alternate!==null&&(d=a),a=a.sibling;d===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function mn(r){var o=r.alternate!==null&&r.alternate.child===r.child,a=0,d=0;if(o)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,d|=f.subtreeFlags&14680064,d|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,d|=f.subtreeFlags,d|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=d,r.childLanes=a,o}function pE(r,o,a){var d=o.pendingProps;switch(Sd(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mn(o),null;case 1:return Mn(o.type)&&ru(),mn(o),null;case 3:return d=o.stateNode,Us(),Tt(Vn),Tt(fn),Fd(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(lu(o)?o.flags|=4:r===null||r.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,Dr!==null&&(ph(Dr),Dr=null))),rh(r,o),mn(o),null;case 5:Vd(o);var f=zo(La.current);if(a=o.type,r!==null&&o.stateNode!=null)cg(r,o,a,d,f),r.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(t(166));return mn(o),null}if(r=zo(Xr.current),lu(o)){d=o.stateNode,a=o.type;var g=o.memoizedProps;switch(d[Yr]=o,d[Ca]=g,r=(o.mode&1)!==0,a){case"dialog":Et("cancel",d),Et("close",d);break;case"iframe":case"object":case"embed":Et("load",d);break;case"video":case"audio":for(f=0;f<ka.length;f++)Et(ka[f],d);break;case"source":Et("error",d);break;case"img":case"image":case"link":Et("error",d),Et("load",d);break;case"details":Et("toggle",d);break;case"input":yr(d,g),Et("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!g.multiple},Et("invalid",d);break;case"textarea":wr(d,g),Et("invalid",d)}bn(a,g),f=null;for(var w in g)if(g.hasOwnProperty(w)){var R=g[w];w==="children"?typeof R=="string"?d.textContent!==R&&(g.suppressHydrationWarning!==!0&&eu(d.textContent,R,r),f=["children",R]):typeof R=="number"&&d.textContent!==""+R&&(g.suppressHydrationWarning!==!0&&eu(d.textContent,R,r),f=["children",""+R]):s.hasOwnProperty(w)&&R!=null&&w==="onScroll"&&Et("scroll",d)}switch(a){case"input":Zt(d),Br(d,g,!0);break;case"textarea":Zt(d),Ie(d);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(d.onclick=tu)}d=f,o.updateQueue=d,d!==null&&(o.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=De(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=w.createElement(a,{is:d.is}):(r=w.createElement(a),a==="select"&&(w=r,d.multiple?w.multiple=!0:d.size&&(w.size=d.size))):r=w.createElementNS(r,a),r[Yr]=o,r[Ca]=d,ug(r,o,!1,!1),o.stateNode=r;e:{switch(w=ir(a,d),a){case"dialog":Et("cancel",r),Et("close",r),f=d;break;case"iframe":case"object":case"embed":Et("load",r),f=d;break;case"video":case"audio":for(f=0;f<ka.length;f++)Et(ka[f],r);f=d;break;case"source":Et("error",r),f=d;break;case"img":case"image":case"link":Et("error",r),Et("load",r),f=d;break;case"details":Et("toggle",r),f=d;break;case"input":yr(r,d),f=er(r,d),Et("invalid",r);break;case"option":f=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},f=he({},d,{value:void 0}),Et("invalid",r);break;case"textarea":wr(r,d),f=Hn(r,d),Et("invalid",r);break;default:f=d}bn(a,f),R=f;for(g in R)if(R.hasOwnProperty(g)){var D=R[g];g==="style"?nr(r,D):g==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&qn(r,D)):g==="children"?typeof D=="string"?(a!=="textarea"||D!=="")&&It(r,D):typeof D=="number"&&It(r,""+D):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(s.hasOwnProperty(g)?D!=null&&g==="onScroll"&&Et("scroll",r):D!=null&&Z(r,g,D,w))}switch(a){case"input":Zt(r),Br(r,d,!1);break;case"textarea":Zt(r),Ie(r);break;case"option":d.value!=null&&r.setAttribute("value",""+Ye(d.value));break;case"select":r.multiple=!!d.multiple,g=d.value,g!=null?jt(r,!!d.multiple,g,!1):d.defaultValue!=null&&jt(r,!!d.multiple,d.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=tu)}switch(a){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return mn(o),null;case 6:if(r&&o.stateNode!=null)dg(r,o,r.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(t(166));if(a=zo(La.current),zo(Xr.current),lu(o)){if(d=o.stateNode,a=o.memoizedProps,d[Yr]=o,(g=d.nodeValue!==a)&&(r=Yn,r!==null))switch(r.tag){case 3:eu(d.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&eu(d.nodeValue,a,(r.mode&1)!==0)}g&&(o.flags|=4)}else d=(a.nodeType===9?a:a.ownerDocument).createTextNode(d),d[Yr]=o,o.stateNode=d}return mn(o),null;case 13:if(Tt(kt),d=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(St&&Xn!==null&&o.mode&1&&!(o.flags&128))pm(),Ls(),o.flags|=98560,g=!1;else if(g=lu(o),d!==null&&d.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[Yr]=o}else Ls(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;mn(o),g=!1}else Dr!==null&&(ph(Dr),Dr=null),g=!0;if(!g)return o.flags&65536?o:null}return o.flags&128?(o.lanes=a,o):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(o.child.flags|=8192,o.mode&1&&(r===null||kt.current&1?$t===0&&($t=3):vh())),o.updateQueue!==null&&(o.flags|=4),mn(o),null);case 4:return Us(),rh(r,o),r===null&&Aa(o.stateNode.containerInfo),mn(o),null;case 10:return bd(o.type._context),mn(o),null;case 17:return Mn(o.type)&&ru(),mn(o),null;case 19:if(Tt(kt),g=o.memoizedState,g===null)return mn(o),null;if(d=(o.flags&128)!==0,w=g.rendering,w===null)if(d)ja(g,!1);else{if($t!==0||r!==null&&r.flags&128)for(r=o.child;r!==null;){if(w=pu(r),w!==null){for(o.flags|=128,ja(g,!1),d=w.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=a,a=o.child;a!==null;)g=a,r=d,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,r=w.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return yt(kt,kt.current&1|2),o.child}r=r.sibling}g.tail!==null&&dt()>$s&&(o.flags|=128,d=!0,ja(g,!1),o.lanes=4194304)}else{if(!d)if(r=pu(w),r!==null){if(o.flags|=128,d=!0,a=r.updateQueue,a!==null&&(o.updateQueue=a,o.flags|=4),ja(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!St)return mn(o),null}else 2*dt()-g.renderingStartTime>$s&&a!==1073741824&&(o.flags|=128,d=!0,ja(g,!1),o.lanes=4194304);g.isBackwards?(w.sibling=o.child,o.child=w):(a=g.last,a!==null?a.sibling=w:o.child=w,g.last=w)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=dt(),o.sibling=null,a=kt.current,yt(kt,d?a&1|2:a&1),o):(mn(o),null);case 22:case 23:return gh(),d=o.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(o.flags|=8192),d&&o.mode&1?Jn&1073741824&&(mn(o),o.subtreeFlags&6&&(o.flags|=8192)):mn(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function mE(r,o){switch(Sd(o),o.tag){case 1:return Mn(o.type)&&ru(),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Us(),Tt(Vn),Tt(fn),Fd(),r=o.flags,r&65536&&!(r&128)?(o.flags=r&-65537|128,o):null;case 5:return Vd(o),null;case 13:if(Tt(kt),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Ls()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return Tt(kt),null;case 4:return Us(),null;case 10:return bd(o.type._context),null;case 22:case 23:return gh(),null;case 24:return null;default:return null}}var Iu=!1,gn=!1,gE=typeof WeakSet=="function"?WeakSet:Set,we=null;function zs(r,o){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(d){Dt(r,o,d)}else a.current=null}function ih(r,o,a){try{a()}catch(d){Dt(r,o,d)}}var hg=!1;function vE(r,o){if(gd=Gi,r=Hp(),ld(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var d=a.getSelection&&a.getSelection();if(d&&d.rangeCount!==0){a=d.anchorNode;var f=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var w=0,R=-1,D=-1,K=0,ne=0,re=r,ee=null;t:for(;;){for(var ge;re!==a||f!==0&&re.nodeType!==3||(R=w+f),re!==g||d!==0&&re.nodeType!==3||(D=w+d),re.nodeType===3&&(w+=re.nodeValue.length),(ge=re.firstChild)!==null;)ee=re,re=ge;for(;;){if(re===r)break t;if(ee===a&&++K===f&&(R=w),ee===g&&++ne===d&&(D=w),(ge=re.nextSibling)!==null)break;re=ee,ee=re.parentNode}re=ge}a=R===-1||D===-1?null:{start:R,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(vd={focusedElem:r,selectionRange:a},Gi=!1,we=o;we!==null;)if(o=we,r=o.child,(o.subtreeFlags&1028)!==0&&r!==null)r.return=o,we=r;else for(;we!==null;){o=we;try{var Te=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Te!==null){var xe=Te.memoizedProps,Ot=Te.memoizedState,H=o.stateNode,L=H.getSnapshotBeforeUpdate(o.elementType===o.type?xe:Nr(o.type,xe),Ot);H.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var q=o.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ae){Dt(o,o.return,ae)}if(r=o.sibling,r!==null){r.return=o.return,we=r;break}we=o.return}return Te=hg,hg=!1,Te}function za(r,o,a){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var f=d=d.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&ih(o,a,g)}f=f.next}while(f!==d)}}function xu(r,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var a=o=o.next;do{if((a.tag&r)===r){var d=a.create;a.destroy=d()}a=a.next}while(a!==o)}}function oh(r){var o=r.ref;if(o!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof o=="function"?o(r):o.current=r}}function fg(r){var o=r.alternate;o!==null&&(r.alternate=null,fg(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&(delete o[Yr],delete o[Ca],delete o[Ed],delete o[Zw],delete o[eE])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function pg(r){return r.tag===5||r.tag===3||r.tag===4}function mg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||pg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function sh(r,o,a){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?a.nodeType===8?a.parentNode.insertBefore(r,o):a.insertBefore(r,o):(a.nodeType===8?(o=a.parentNode,o.insertBefore(r,a)):(o=a,o.appendChild(r)),a=a._reactRootContainer,a!=null||o.onclick!==null||(o.onclick=tu));else if(d!==4&&(r=r.child,r!==null))for(sh(r,o,a),r=r.sibling;r!==null;)sh(r,o,a),r=r.sibling}function ah(r,o,a){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?a.insertBefore(r,o):a.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(ah(r,o,a),r=r.sibling;r!==null;)ah(r,o,a),r=r.sibling}var on=null,Or=!1;function ro(r,o,a){for(a=a.child;a!==null;)gg(r,o,a),a=a.sibling}function gg(r,o,a){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(Nn,a)}catch{}switch(a.tag){case 5:gn||zs(a,o);case 6:var d=on,f=Or;on=null,ro(r,o,a),on=d,Or=f,on!==null&&(Or?(r=on,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):on.removeChild(a.stateNode));break;case 18:on!==null&&(Or?(r=on,a=a.stateNode,r.nodeType===8?wd(r.parentNode,a):r.nodeType===1&&wd(r,a),Pr(r)):wd(on,a.stateNode));break;case 4:d=on,f=Or,on=a.stateNode.containerInfo,Or=!0,ro(r,o,a),on=d,Or=f;break;case 0:case 11:case 14:case 15:if(!gn&&(d=a.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){f=d=d.next;do{var g=f,w=g.destroy;g=g.tag,w!==void 0&&(g&2||g&4)&&ih(a,o,w),f=f.next}while(f!==d)}ro(r,o,a);break;case 1:if(!gn&&(zs(a,o),d=a.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=a.memoizedProps,d.state=a.memoizedState,d.componentWillUnmount()}catch(R){Dt(a,o,R)}ro(r,o,a);break;case 21:ro(r,o,a);break;case 22:a.mode&1?(gn=(d=gn)||a.memoizedState!==null,ro(r,o,a),gn=d):ro(r,o,a);break;default:ro(r,o,a)}}function vg(r){var o=r.updateQueue;if(o!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new gE),o.forEach(function(d){var f=RE.bind(null,r,d);a.has(d)||(a.add(d),d.then(f,f))})}}function Lr(r,o){var a=o.deletions;if(a!==null)for(var d=0;d<a.length;d++){var f=a[d];try{var g=r,w=o,R=w;e:for(;R!==null;){switch(R.tag){case 5:on=R.stateNode,Or=!1;break e;case 3:on=R.stateNode.containerInfo,Or=!0;break e;case 4:on=R.stateNode.containerInfo,Or=!0;break e}R=R.return}if(on===null)throw Error(t(160));gg(g,w,f),on=null,Or=!1;var D=f.alternate;D!==null&&(D.return=null),f.return=null}catch(K){Dt(f,o,K)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)yg(o,r),o=o.sibling}function yg(r,o){var a=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Lr(o,r),Zr(r),d&4){try{za(3,r,r.return),xu(3,r)}catch(xe){Dt(r,r.return,xe)}try{za(5,r,r.return)}catch(xe){Dt(r,r.return,xe)}}break;case 1:Lr(o,r),Zr(r),d&512&&a!==null&&zs(a,a.return);break;case 5:if(Lr(o,r),Zr(r),d&512&&a!==null&&zs(a,a.return),r.flags&32){var f=r.stateNode;try{It(f,"")}catch(xe){Dt(r,r.return,xe)}}if(d&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,w=a!==null?a.memoizedProps:g,R=r.type,D=r.updateQueue;if(r.updateQueue=null,D!==null)try{R==="input"&&g.type==="radio"&&g.name!=null&&_r(f,g),ir(R,w);var K=ir(R,g);for(w=0;w<D.length;w+=2){var ne=D[w],re=D[w+1];ne==="style"?nr(f,re):ne==="dangerouslySetInnerHTML"?qn(f,re):ne==="children"?It(f,re):Z(f,ne,re,K)}switch(R){case"input":An(f,g);break;case"textarea":ce(f,g);break;case"select":var ee=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var ge=g.value;ge!=null?jt(f,!!g.multiple,ge,!1):ee!==!!g.multiple&&(g.defaultValue!=null?jt(f,!!g.multiple,g.defaultValue,!0):jt(f,!!g.multiple,g.multiple?[]:"",!1))}f[Ca]=g}catch(xe){Dt(r,r.return,xe)}}break;case 6:if(Lr(o,r),Zr(r),d&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(xe){Dt(r,r.return,xe)}}break;case 3:if(Lr(o,r),Zr(r),d&4&&a!==null&&a.memoizedState.isDehydrated)try{Pr(o.containerInfo)}catch(xe){Dt(r,r.return,xe)}break;case 4:Lr(o,r),Zr(r);break;case 13:Lr(o,r),Zr(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(ch=dt())),d&4&&vg(r);break;case 22:if(ne=a!==null&&a.memoizedState!==null,r.mode&1?(gn=(K=gn)||ne,Lr(o,r),gn=K):Lr(o,r),Zr(r),d&8192){if(K=r.memoizedState!==null,(r.stateNode.isHidden=K)&&!ne&&r.mode&1)for(we=r,ne=r.child;ne!==null;){for(re=we=ne;we!==null;){switch(ee=we,ge=ee.child,ee.tag){case 0:case 11:case 14:case 15:za(4,ee,ee.return);break;case 1:zs(ee,ee.return);var Te=ee.stateNode;if(typeof Te.componentWillUnmount=="function"){d=ee,a=ee.return;try{o=d,Te.props=o.memoizedProps,Te.state=o.memoizedState,Te.componentWillUnmount()}catch(xe){Dt(d,a,xe)}}break;case 5:zs(ee,ee.return);break;case 22:if(ee.memoizedState!==null){Eg(re);continue}}ge!==null?(ge.return=ee,we=ge):Eg(re)}ne=ne.sibling}e:for(ne=null,re=r;;){if(re.tag===5){if(ne===null){ne=re;try{f=re.stateNode,K?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(R=re.stateNode,D=re.memoizedProps.style,w=D!=null&&D.hasOwnProperty("display")?D.display:null,R.style.display=tr("display",w))}catch(xe){Dt(r,r.return,xe)}}}else if(re.tag===6){if(ne===null)try{re.stateNode.nodeValue=K?"":re.memoizedProps}catch(xe){Dt(r,r.return,xe)}}else if((re.tag!==22&&re.tag!==23||re.memoizedState===null||re===r)&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===r)break e;for(;re.sibling===null;){if(re.return===null||re.return===r)break e;ne===re&&(ne=null),re=re.return}ne===re&&(ne=null),re.sibling.return=re.return,re=re.sibling}}break;case 19:Lr(o,r),Zr(r),d&4&&vg(r);break;case 21:break;default:Lr(o,r),Zr(r)}}function Zr(r){var o=r.flags;if(o&2){try{e:{for(var a=r.return;a!==null;){if(pg(a)){var d=a;break e}a=a.return}throw Error(t(160))}switch(d.tag){case 5:var f=d.stateNode;d.flags&32&&(It(f,""),d.flags&=-33);var g=mg(r);ah(r,g,f);break;case 3:case 4:var w=d.stateNode.containerInfo,R=mg(r);sh(r,R,w);break;default:throw Error(t(161))}}catch(D){Dt(r,r.return,D)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function yE(r,o,a){we=r,_g(r)}function _g(r,o,a){for(var d=(r.mode&1)!==0;we!==null;){var f=we,g=f.child;if(f.tag===22&&d){var w=f.memoizedState!==null||Iu;if(!w){var R=f.alternate,D=R!==null&&R.memoizedState!==null||gn;R=Iu;var K=gn;if(Iu=w,(gn=D)&&!K)for(we=f;we!==null;)w=we,D=w.child,w.tag===22&&w.memoizedState!==null?Tg(f):D!==null?(D.return=w,we=D):Tg(f);for(;g!==null;)we=g,_g(g),g=g.sibling;we=f,Iu=R,gn=K}wg(r)}else f.subtreeFlags&8772&&g!==null?(g.return=f,we=g):wg(r)}}function wg(r){for(;we!==null;){var o=we;if(o.flags&8772){var a=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:gn||xu(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!gn)if(a===null)d.componentDidMount();else{var f=o.elementType===o.type?a.memoizedProps:Nr(o.type,a.memoizedProps);d.componentDidUpdate(f,a.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var g=o.updateQueue;g!==null&&Em(o,g,d);break;case 3:var w=o.updateQueue;if(w!==null){if(a=null,o.child!==null)switch(o.child.tag){case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}Em(o,w,a)}break;case 5:var R=o.stateNode;if(a===null&&o.flags&4){a=R;var D=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&a.focus();break;case"img":D.src&&(a.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var K=o.alternate;if(K!==null){var ne=K.memoizedState;if(ne!==null){var re=ne.dehydrated;re!==null&&Pr(re)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}gn||o.flags&512&&oh(o)}catch(ee){Dt(o,o.return,ee)}}if(o===r){we=null;break}if(a=o.sibling,a!==null){a.return=o.return,we=a;break}we=o.return}}function Eg(r){for(;we!==null;){var o=we;if(o===r){we=null;break}var a=o.sibling;if(a!==null){a.return=o.return,we=a;break}we=o.return}}function Tg(r){for(;we!==null;){var o=we;try{switch(o.tag){case 0:case 11:case 15:var a=o.return;try{xu(4,o)}catch(D){Dt(o,a,D)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var f=o.return;try{d.componentDidMount()}catch(D){Dt(o,f,D)}}var g=o.return;try{oh(o)}catch(D){Dt(o,g,D)}break;case 5:var w=o.return;try{oh(o)}catch(D){Dt(o,w,D)}}}catch(D){Dt(o,o.return,D)}if(o===r){we=null;break}var R=o.sibling;if(R!==null){R.return=o.return,we=R;break}we=o.return}}var _E=Math.ceil,Su=fe.ReactCurrentDispatcher,lh=fe.ReactCurrentOwner,dr=fe.ReactCurrentBatchConfig,at=0,Qt=null,Mt=null,sn=0,Jn=0,Bs=Ji(0),$t=0,Ba=null,$o=0,Ru=0,uh=0,$a=null,Un=null,ch=0,$s=1/0,Si=null,ku=!1,dh=null,io=null,Au=!1,oo=null,Pu=0,Ha=0,hh=null,Cu=-1,bu=0;function kn(){return at&6?dt():Cu!==-1?Cu:Cu=dt()}function so(r){return r.mode&1?at&2&&sn!==0?sn&-sn:nE.transition!==null?(bu===0&&(bu=bo()),bu):(r=et,r!==0||(r=window.event,r=r===void 0?16:ya(r.type)),r):1}function Vr(r,o,a,d){if(50<Ha)throw Ha=0,hh=null,Error(t(185));Hi(r,a,d),(!(at&2)||r!==Qt)&&(r===Qt&&(!(at&2)&&(Ru|=a),$t===4&&ao(r,sn)),jn(r,d),a===1&&at===0&&!(o.mode&1)&&($s=dt()+500,ou&&eo()))}function jn(r,o){var a=r.callbackNode;fi(r,o);var d=Co(r,r===Qt?sn:0);if(d===0)a!==null&&di(a),r.callbackNode=null,r.callbackPriority=0;else if(o=d&-d,r.callbackPriority!==o){if(a!=null&&di(a),o===1)r.tag===0?tE(xg.bind(null,r)):um(xg.bind(null,r)),Xw(function(){!(at&6)&&eo()}),a=null;else{switch(Wi(d)){case 1:a=rt;break;case 4:a=_t;break;case 16:a=tn;break;case 536870912:a=wt;break;default:a=tn}a=Dg(a,Ig.bind(null,r))}r.callbackPriority=o,r.callbackNode=a}}function Ig(r,o){if(Cu=-1,bu=0,at&6)throw Error(t(327));var a=r.callbackNode;if(Hs()&&r.callbackNode!==a)return null;var d=Co(r,r===Qt?sn:0);if(d===0)return null;if(d&30||d&r.expiredLanes||o)o=Du(r,d);else{o=d;var f=at;at|=2;var g=Rg();(Qt!==r||sn!==o)&&(Si=null,$s=dt()+500,qo(r,o));do try{TE();break}catch(R){Sg(r,R)}while(!0);Cd(),Su.current=g,at=f,Mt!==null?o=0:(Qt=null,sn=0,o=$t)}if(o!==0){if(o===2&&(f=Kn(r),f!==0&&(d=f,o=fh(r,f))),o===1)throw a=Ba,qo(r,0),ao(r,d),jn(r,dt()),a;if(o===6)ao(r,d);else{if(f=r.current.alternate,!(d&30)&&!wE(f)&&(o=Du(r,d),o===2&&(g=Kn(r),g!==0&&(d=g,o=fh(r,g))),o===1))throw a=Ba,qo(r,0),ao(r,d),jn(r,dt()),a;switch(r.finishedWork=f,r.finishedLanes=d,o){case 0:case 1:throw Error(t(345));case 2:Wo(r,Un,Si);break;case 3:if(ao(r,d),(d&130023424)===d&&(o=ch+500-dt(),10<o)){if(Co(r,0)!==0)break;if(f=r.suspendedLanes,(f&d)!==d){kn(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=_d(Wo.bind(null,r,Un,Si),o);break}Wo(r,Un,Si);break;case 4:if(ao(r,d),(d&4194240)===d)break;for(o=r.eventTimes,f=-1;0<d;){var w=31-xn(d);g=1<<w,w=o[w],w>f&&(f=w),d&=~g}if(d=f,d=dt()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*_E(d/1960))-d,10<d){r.timeoutHandle=_d(Wo.bind(null,r,Un,Si),d);break}Wo(r,Un,Si);break;case 5:Wo(r,Un,Si);break;default:throw Error(t(329))}}}return jn(r,dt()),r.callbackNode===a?Ig.bind(null,r):null}function fh(r,o){var a=$a;return r.current.memoizedState.isDehydrated&&(qo(r,o).flags|=256),r=Du(r,o),r!==2&&(o=Un,Un=a,o!==null&&ph(o)),r}function ph(r){Un===null?Un=r:Un.push.apply(Un,r)}function wE(r){for(var o=r;;){if(o.flags&16384){var a=o.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var d=0;d<a.length;d++){var f=a[d],g=f.getSnapshot;f=f.value;try{if(!br(g(),f))return!1}catch{return!1}}}if(a=o.child,o.subtreeFlags&16384&&a!==null)a.return=o,o=a;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ao(r,o){for(o&=~uh,o&=~Ru,r.suspendedLanes|=o,r.pingedLanes&=~o,r=r.expirationTimes;0<o;){var a=31-xn(o),d=1<<a;r[a]=-1,o&=~d}}function xg(r){if(at&6)throw Error(t(327));Hs();var o=Co(r,0);if(!(o&1))return jn(r,dt()),null;var a=Du(r,o);if(r.tag!==0&&a===2){var d=Kn(r);d!==0&&(o=d,a=fh(r,d))}if(a===1)throw a=Ba,qo(r,0),ao(r,o),jn(r,dt()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=o,Wo(r,Un,Si),jn(r,dt()),null}function mh(r,o){var a=at;at|=1;try{return r(o)}finally{at=a,at===0&&($s=dt()+500,ou&&eo())}}function Ho(r){oo!==null&&oo.tag===0&&!(at&6)&&Hs();var o=at;at|=1;var a=dr.transition,d=et;try{if(dr.transition=null,et=1,r)return r()}finally{et=d,dr.transition=a,at=o,!(at&6)&&eo()}}function gh(){Jn=Bs.current,Tt(Bs)}function qo(r,o){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,Yw(a)),Mt!==null)for(a=Mt.return;a!==null;){var d=a;switch(Sd(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&ru();break;case 3:Us(),Tt(Vn),Tt(fn),Fd();break;case 5:Vd(d);break;case 4:Us();break;case 13:Tt(kt);break;case 19:Tt(kt);break;case 10:bd(d.type._context);break;case 22:case 23:gh()}a=a.return}if(Qt=r,Mt=r=lo(r.current,null),sn=Jn=o,$t=0,Ba=null,uh=Ru=$o=0,Un=$a=null,jo!==null){for(o=0;o<jo.length;o++)if(a=jo[o],d=a.interleaved,d!==null){a.interleaved=null;var f=d.next,g=a.pending;if(g!==null){var w=g.next;g.next=f,d.next=w}a.pending=d}jo=null}return r}function Sg(r,o){do{var a=Mt;try{if(Cd(),mu.current=_u,gu){for(var d=At.memoizedState;d!==null;){var f=d.queue;f!==null&&(f.pending=null),d=d.next}gu=!1}if(Bo=0,Gt=Bt=At=null,Va=!1,Ma=0,lh.current=null,a===null||a.return===null){$t=1,Ba=o,Mt=null;break}e:{var g=r,w=a.return,R=a,D=o;if(o=sn,R.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var K=D,ne=R,re=ne.tag;if(!(ne.mode&1)&&(re===0||re===11||re===15)){var ee=ne.alternate;ee?(ne.updateQueue=ee.updateQueue,ne.memoizedState=ee.memoizedState,ne.lanes=ee.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var ge=Ym(w);if(ge!==null){ge.flags&=-257,Xm(ge,w,R,g,o),ge.mode&1&&Qm(g,K,o),o=ge,D=K;var Te=o.updateQueue;if(Te===null){var xe=new Set;xe.add(D),o.updateQueue=xe}else Te.add(D);break e}else{if(!(o&1)){Qm(g,K,o),vh();break e}D=Error(t(426))}}else if(St&&R.mode&1){var Ot=Ym(w);if(Ot!==null){!(Ot.flags&65536)&&(Ot.flags|=256),Xm(Ot,w,R,g,o),Ad(js(D,R));break e}}g=D=js(D,R),$t!==4&&($t=2),$a===null?$a=[g]:$a.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,o&=-o,g.lanes|=o;var H=Km(g,D,o);wm(g,H);break e;case 1:R=D;var L=g.type,q=g.stateNode;if(!(g.flags&128)&&(typeof L.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(io===null||!io.has(q)))){g.flags|=65536,o&=-o,g.lanes|=o;var ae=Gm(g,R,o);wm(g,ae);break e}}g=g.return}while(g!==null)}Ag(a)}catch(Se){o=Se,Mt===a&&a!==null&&(Mt=a=a.return);continue}break}while(!0)}function Rg(){var r=Su.current;return Su.current=_u,r===null?_u:r}function vh(){($t===0||$t===3||$t===2)&&($t=4),Qt===null||!($o&268435455)&&!(Ru&268435455)||ao(Qt,sn)}function Du(r,o){var a=at;at|=2;var d=Rg();(Qt!==r||sn!==o)&&(Si=null,qo(r,o));do try{EE();break}catch(f){Sg(r,f)}while(!0);if(Cd(),at=a,Su.current=d,Mt!==null)throw Error(t(261));return Qt=null,sn=0,$t}function EE(){for(;Mt!==null;)kg(Mt)}function TE(){for(;Mt!==null&&!Hr();)kg(Mt)}function kg(r){var o=bg(r.alternate,r,Jn);r.memoizedProps=r.pendingProps,o===null?Ag(r):Mt=o,lh.current=null}function Ag(r){var o=r;do{var a=o.alternate;if(r=o.return,o.flags&32768){if(a=mE(a,o),a!==null){a.flags&=32767,Mt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{$t=6,Mt=null;return}}else if(a=pE(a,o,Jn),a!==null){Mt=a;return}if(o=o.sibling,o!==null){Mt=o;return}Mt=o=r}while(o!==null);$t===0&&($t=5)}function Wo(r,o,a){var d=et,f=dr.transition;try{dr.transition=null,et=1,IE(r,o,a,d)}finally{dr.transition=f,et=d}return null}function IE(r,o,a,d){do Hs();while(oo!==null);if(at&6)throw Error(t(327));a=r.finishedWork;var f=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(gt(r,g),r===Qt&&(Mt=Qt=null,sn=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||Au||(Au=!0,Dg(tn,function(){return Hs(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=dr.transition,dr.transition=null;var w=et;et=1;var R=at;at|=4,lh.current=null,vE(r,a),yg(a,r),$w(vd),Gi=!!gd,vd=gd=null,r.current=a,yE(a),xr(),at=R,et=w,dr.transition=g}else r.current=a;if(Au&&(Au=!1,oo=r,Pu=f),g=r.pendingLanes,g===0&&(io=null),ds(a.stateNode),jn(r,dt()),o!==null)for(d=r.onRecoverableError,a=0;a<o.length;a++)f=o[a],d(f.value,{componentStack:f.stack,digest:f.digest});if(ku)throw ku=!1,r=dh,dh=null,r;return Pu&1&&r.tag!==0&&Hs(),g=r.pendingLanes,g&1?r===hh?Ha++:(Ha=0,hh=r):Ha=0,eo(),null}function Hs(){if(oo!==null){var r=Wi(Pu),o=dr.transition,a=et;try{if(dr.transition=null,et=16>r?16:r,oo===null)var d=!1;else{if(r=oo,oo=null,Pu=0,at&6)throw Error(t(331));var f=at;for(at|=4,we=r.current;we!==null;){var g=we,w=g.child;if(we.flags&16){var R=g.deletions;if(R!==null){for(var D=0;D<R.length;D++){var K=R[D];for(we=K;we!==null;){var ne=we;switch(ne.tag){case 0:case 11:case 15:za(8,ne,g)}var re=ne.child;if(re!==null)re.return=ne,we=re;else for(;we!==null;){ne=we;var ee=ne.sibling,ge=ne.return;if(fg(ne),ne===K){we=null;break}if(ee!==null){ee.return=ge,we=ee;break}we=ge}}}var Te=g.alternate;if(Te!==null){var xe=Te.child;if(xe!==null){Te.child=null;do{var Ot=xe.sibling;xe.sibling=null,xe=Ot}while(xe!==null)}}we=g}}if(g.subtreeFlags&2064&&w!==null)w.return=g,we=w;else e:for(;we!==null;){if(g=we,g.flags&2048)switch(g.tag){case 0:case 11:case 15:za(9,g,g.return)}var H=g.sibling;if(H!==null){H.return=g.return,we=H;break e}we=g.return}}var L=r.current;for(we=L;we!==null;){w=we;var q=w.child;if(w.subtreeFlags&2064&&q!==null)q.return=w,we=q;else e:for(w=L;we!==null;){if(R=we,R.flags&2048)try{switch(R.tag){case 0:case 11:case 15:xu(9,R)}}catch(Se){Dt(R,R.return,Se)}if(R===w){we=null;break e}var ae=R.sibling;if(ae!==null){ae.return=R.return,we=ae;break e}we=R.return}}if(at=f,eo(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(Nn,r)}catch{}d=!0}return d}finally{et=a,dr.transition=o}}return!1}function Pg(r,o,a){o=js(a,o),o=Km(r,o,1),r=no(r,o,1),o=kn(),r!==null&&(Hi(r,1,o),jn(r,o))}function Dt(r,o,a){if(r.tag===3)Pg(r,r,a);else for(;o!==null;){if(o.tag===3){Pg(o,r,a);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(io===null||!io.has(d))){r=js(a,r),r=Gm(o,r,1),o=no(o,r,1),r=kn(),o!==null&&(Hi(o,1,r),jn(o,r));break}}o=o.return}}function xE(r,o,a){var d=r.pingCache;d!==null&&d.delete(o),o=kn(),r.pingedLanes|=r.suspendedLanes&a,Qt===r&&(sn&a)===a&&($t===4||$t===3&&(sn&130023424)===sn&&500>dt()-ch?qo(r,0):uh|=a),jn(r,o)}function Cg(r,o){o===0&&(r.mode&1?(o=fs,fs<<=1,!(fs&130023424)&&(fs=4194304)):o=1);var a=kn();r=Ti(r,o),r!==null&&(Hi(r,o,a),jn(r,a))}function SE(r){var o=r.memoizedState,a=0;o!==null&&(a=o.retryLane),Cg(r,a)}function RE(r,o){var a=0;switch(r.tag){case 13:var d=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(o),Cg(r,a)}var bg;bg=function(r,o,a){if(r!==null)if(r.memoizedProps!==o.pendingProps||Vn.current)Fn=!0;else{if(!(r.lanes&a)&&!(o.flags&128))return Fn=!1,fE(r,o,a);Fn=!!(r.flags&131072)}else Fn=!1,St&&o.flags&1048576&&cm(o,au,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;Tu(r,o),r=o.pendingProps;var f=Ds(o,fn.current);Fs(o,a),f=zd(null,o,d,r,f,a);var g=Bd();return o.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Mn(d)?(g=!0,iu(o)):g=!1,o.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Od(o),f.updater=wu,o.stateNode=f,f._reactInternals=o,Gd(o,d,r,a),o=Jd(null,o,d,!0,g,a)):(o.tag=0,St&&g&&xd(o),Rn(null,o,f,a),o=o.child),o;case 16:d=o.elementType;e:{switch(Tu(r,o),r=o.pendingProps,f=d._init,d=f(d._payload),o.type=d,f=o.tag=AE(d),r=Nr(d,r),f){case 0:o=Xd(null,o,d,r,a);break e;case 1:o=rg(null,o,d,r,a);break e;case 11:o=Jm(null,o,d,r,a);break e;case 14:o=Zm(null,o,d,Nr(d.type,r),a);break e}throw Error(t(306,d,""))}return o;case 0:return d=o.type,f=o.pendingProps,f=o.elementType===d?f:Nr(d,f),Xd(r,o,d,f,a);case 1:return d=o.type,f=o.pendingProps,f=o.elementType===d?f:Nr(d,f),rg(r,o,d,f,a);case 3:e:{if(ig(o),r===null)throw Error(t(387));d=o.pendingProps,g=o.memoizedState,f=g.element,_m(r,o),fu(o,d,null,a);var w=o.memoizedState;if(d=w.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},o.updateQueue.baseState=g,o.memoizedState=g,o.flags&256){f=js(Error(t(423)),o),o=og(r,o,d,a,f);break e}else if(d!==f){f=js(Error(t(424)),o),o=og(r,o,d,a,f);break e}else for(Xn=Xi(o.stateNode.containerInfo.firstChild),Yn=o,St=!0,Dr=null,a=vm(o,null,d,a),o.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ls(),d===f){o=xi(r,o,a);break e}Rn(r,o,d,a)}o=o.child}return o;case 5:return Tm(o),r===null&&kd(o),d=o.type,f=o.pendingProps,g=r!==null?r.memoizedProps:null,w=f.children,yd(d,f)?w=null:g!==null&&yd(d,g)&&(o.flags|=32),ng(r,o),Rn(r,o,w,a),o.child;case 6:return r===null&&kd(o),null;case 13:return sg(r,o,a);case 4:return Ld(o,o.stateNode.containerInfo),d=o.pendingProps,r===null?o.child=Vs(o,null,d,a):Rn(r,o,d,a),o.child;case 11:return d=o.type,f=o.pendingProps,f=o.elementType===d?f:Nr(d,f),Jm(r,o,d,f,a);case 7:return Rn(r,o,o.pendingProps,a),o.child;case 8:return Rn(r,o,o.pendingProps.children,a),o.child;case 12:return Rn(r,o,o.pendingProps.children,a),o.child;case 10:e:{if(d=o.type._context,f=o.pendingProps,g=o.memoizedProps,w=f.value,yt(cu,d._currentValue),d._currentValue=w,g!==null)if(br(g.value,w)){if(g.children===f.children&&!Vn.current){o=xi(r,o,a);break e}}else for(g=o.child,g!==null&&(g.return=o);g!==null;){var R=g.dependencies;if(R!==null){w=g.child;for(var D=R.firstContext;D!==null;){if(D.context===d){if(g.tag===1){D=Ii(-1,a&-a),D.tag=2;var K=g.updateQueue;if(K!==null){K=K.shared;var ne=K.pending;ne===null?D.next=D:(D.next=ne.next,ne.next=D),K.pending=D}}g.lanes|=a,D=g.alternate,D!==null&&(D.lanes|=a),Dd(g.return,a,o),R.lanes|=a;break}D=D.next}}else if(g.tag===10)w=g.type===o.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(t(341));w.lanes|=a,R=w.alternate,R!==null&&(R.lanes|=a),Dd(w,a,o),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===o){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}Rn(r,o,f.children,a),o=o.child}return o;case 9:return f=o.type,d=o.pendingProps.children,Fs(o,a),f=ur(f),d=d(f),o.flags|=1,Rn(r,o,d,a),o.child;case 14:return d=o.type,f=Nr(d,o.pendingProps),f=Nr(d.type,f),Zm(r,o,d,f,a);case 15:return eg(r,o,o.type,o.pendingProps,a);case 17:return d=o.type,f=o.pendingProps,f=o.elementType===d?f:Nr(d,f),Tu(r,o),o.tag=1,Mn(d)?(r=!0,iu(o)):r=!1,Fs(o,a),qm(o,d,f),Gd(o,d,f,a),Jd(null,o,d,!0,r,a);case 19:return lg(r,o,a);case 22:return tg(r,o,a)}throw Error(t(156,o.tag))};function Dg(r,o){return en(r,o)}function kE(r,o,a,d){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(r,o,a,d){return new kE(r,o,a,d)}function yh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function AE(r){if(typeof r=="function")return yh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===U)return 11;if(r===Le)return 14}return 2}function lo(r,o){var a=r.alternate;return a===null?(a=hr(r.tag,o,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=o,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,o=r.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Nu(r,o,a,d,f,g){var w=2;if(d=r,typeof r=="function")yh(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case A:return Ko(a.children,f,g,o);case I:w=8,f|=8;break;case S:return r=hr(12,a,o,f|2),r.elementType=S,r.lanes=g,r;case k:return r=hr(13,a,o,f),r.elementType=k,r.lanes=g,r;case He:return r=hr(19,a,o,f),r.elementType=He,r.lanes=g,r;case Ge:return Ou(a,f,g,o);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case C:w=10;break e;case O:w=9;break e;case U:w=11;break e;case Le:w=14;break e;case Rt:w=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return o=hr(w,a,o,f),o.elementType=r,o.type=d,o.lanes=g,o}function Ko(r,o,a,d){return r=hr(7,r,d,o),r.lanes=a,r}function Ou(r,o,a,d){return r=hr(22,r,d,o),r.elementType=Ge,r.lanes=a,r.stateNode={isHidden:!1},r}function _h(r,o,a){return r=hr(6,r,null,o),r.lanes=a,r}function wh(r,o,a){return o=hr(4,r.children!==null?r.children:[],r.key,o),o.lanes=a,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}function PE(r,o,a,d,f){this.tag=o,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$i(0),this.expirationTimes=$i(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$i(0),this.identifierPrefix=d,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Eh(r,o,a,d,f,g,w,R,D){return r=new PE(r,o,a,R,D),o===1?(o=1,g===!0&&(o|=8)):o=0,g=hr(3,null,null,o),r.current=g,g.stateNode=r,g.memoizedState={element:d,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Od(g),r}function CE(r,o,a){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ie,key:d==null?null:""+d,children:r,containerInfo:o,implementation:a}}function Ng(r){if(!r)return Zi;r=r._reactInternals;e:{if(Ze(r)!==r||r.tag!==1)throw Error(t(170));var o=r;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Mn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(Mn(a))return am(r,a,o)}return o}function Og(r,o,a,d,f,g,w,R,D){return r=Eh(a,d,!0,r,f,g,w,R,D),r.context=Ng(null),a=r.current,d=kn(),f=so(a),g=Ii(d,f),g.callback=o??null,no(a,g,f),r.current.lanes=f,Hi(r,f,d),jn(r,d),r}function Lu(r,o,a,d){var f=o.current,g=kn(),w=so(f);return a=Ng(a),o.context===null?o.context=a:o.pendingContext=a,o=Ii(g,w),o.payload={element:r},d=d===void 0?null:d,d!==null&&(o.callback=d),r=no(f,o,w),r!==null&&(Vr(r,f,w,g),hu(r,f,w)),w}function Vu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Lg(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<o?a:o}}function Th(r,o){Lg(r,o),(r=r.alternate)&&Lg(r,o)}function bE(){return null}var Vg=typeof reportError=="function"?reportError:function(r){console.error(r)};function Ih(r){this._internalRoot=r}Mu.prototype.render=Ih.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(t(409));Lu(r,o,null,null)},Mu.prototype.unmount=Ih.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;Ho(function(){Lu(null,r,null,null)}),o[yi]=null}};function Mu(r){this._internalRoot=r}Mu.prototype.unstable_scheduleHydration=function(r){if(r){var o=Ml();r={blockedOn:null,target:r,priority:o};for(var a=0;a<Wr.length&&o!==0&&o<Wr[a].priority;a++);Wr.splice(a,0,r),a===0&&jl(r)}};function xh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Fu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Mg(){}function DE(r,o,a,d,f){if(f){if(typeof d=="function"){var g=d;d=function(){var K=Vu(w);g.call(K)}}var w=Og(o,d,r,0,null,!1,!1,"",Mg);return r._reactRootContainer=w,r[yi]=w.current,Aa(r.nodeType===8?r.parentNode:r),Ho(),w}for(;f=r.lastChild;)r.removeChild(f);if(typeof d=="function"){var R=d;d=function(){var K=Vu(D);R.call(K)}}var D=Eh(r,0,!1,null,null,!1,!1,"",Mg);return r._reactRootContainer=D,r[yi]=D.current,Aa(r.nodeType===8?r.parentNode:r),Ho(function(){Lu(o,D,a,d)}),D}function Uu(r,o,a,d,f){var g=a._reactRootContainer;if(g){var w=g;if(typeof f=="function"){var R=f;f=function(){var D=Vu(w);R.call(D)}}Lu(o,w,r,f)}else w=DE(a,o,r,f,d);return Vu(w)}Ll=function(r){switch(r.tag){case 3:var o=r.stateNode;if(o.current.memoizedState.isDehydrated){var a=Bi(o.pendingLanes);a!==0&&(qi(o,a|1),jn(o,dt()),!(at&6)&&($s=dt()+500,eo()))}break;case 13:Ho(function(){var d=Ti(r,1);if(d!==null){var f=kn();Vr(d,r,1,f)}}),Th(r,1)}},ps=function(r){if(r.tag===13){var o=Ti(r,134217728);if(o!==null){var a=kn();Vr(o,r,134217728,a)}Th(r,134217728)}},Vl=function(r){if(r.tag===13){var o=so(r),a=Ti(r,o);if(a!==null){var d=kn();Vr(a,r,o,d)}Th(r,o)}},Ml=function(){return et},Fl=function(r,o){var a=et;try{return et=r,o()}finally{et=a}},ui=function(r,o,a){switch(o){case"input":if(An(r,a),o=a.name,a.type==="radio"&&o!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<a.length;o++){var d=a[o];if(d!==r&&d.form===r.form){var f=nu(d);if(!f)throw Error(t(90));En(d),An(d,f)}}}break;case"textarea":ce(r,a);break;case"select":o=a.value,o!=null&&jt(r,!!a.multiple,o,!1)}},ci=mh,N=Ho;var NE={usingClientEntryPoint:!1,Events:[ba,Cs,nu,In,Po,mh]},qa={findFiberByHostInstance:Vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},OE={bundleType:qa.bundleType,version:qa.version,rendererPackageName:qa.rendererPackageName,rendererConfig:qa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fe.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Ir(r),r===null?null:r.stateNode},findFiberByHostInstance:qa.findFiberByHostInstance||bE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ju.isDisabled&&ju.supportsFiber)try{Nn=ju.inject(OE),hn=ju}catch{}}return zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NE,zn.createPortal=function(r,o){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xh(o))throw Error(t(200));return CE(r,o,null,a)},zn.createRoot=function(r,o){if(!xh(r))throw Error(t(299));var a=!1,d="",f=Vg;return o!=null&&(o.unstable_strictMode===!0&&(a=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(f=o.onRecoverableError)),o=Eh(r,1,!1,null,null,a,!1,d,f),r[yi]=o.current,Aa(r.nodeType===8?r.parentNode:r),new Ih(o)},zn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Ir(o),r=r===null?null:r.stateNode,r},zn.flushSync=function(r){return Ho(r)},zn.hydrate=function(r,o,a){if(!Fu(o))throw Error(t(200));return Uu(null,r,o,!0,a)},zn.hydrateRoot=function(r,o,a){if(!xh(r))throw Error(t(405));var d=a!=null&&a.hydratedSources||null,f=!1,g="",w=Vg;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),o=Og(o,null,r,1,a??null,f,!1,g,w),r[yi]=o.current,Aa(r),d)for(r=0;r<d.length;r++)a=d[r],f=a._getVersion,f=f(a._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[a,f]:o.mutableSourceEagerHydrationData.push(a,f);return new Mu(o)},zn.render=function(r,o,a){if(!Fu(o))throw Error(t(200));return Uu(null,r,o,!1,a)},zn.unmountComponentAtNode=function(r){if(!Fu(r))throw Error(t(40));return r._reactRootContainer?(Ho(function(){Uu(null,null,r,!1,function(){r._reactRootContainer=null,r[yi]=null})}),!0):!1},zn.unstable_batchedUpdates=mh,zn.unstable_renderSubtreeIntoContainer=function(r,o,a,d){if(!Fu(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Uu(r,o,a,!1,d)},zn.version="18.3.1-next-f1338f8080-20240426",zn}var qg;function Hy(){if(qg)return kh.exports;qg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),kh.exports=BE(),kh.exports}var Wg;function $E(){if(Wg)return zu;Wg=1;var n=Hy();return zu.createRoot=n.createRoot,zu.hydrateRoot=n.hydrateRoot,zu}var HE=$E(),Ka={},Kg;function qE(){if(Kg)return Ka;Kg=1,Object.defineProperty(Ka,"__esModule",{value:!0}),Ka.parse=c,Ka.serialize=v;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,l=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function c(x,P){const b=new l,j=x.length;if(j<2)return b;const F=(P==null?void 0:P.decode)||_;let W=0;do{const te=x.indexOf("=",W);if(te===-1)break;const Z=x.indexOf(";",W),fe=Z===-1?j:Z;if(te>fe){W=x.lastIndexOf(";",te-1)+1;continue}const V=h(x,W,te),ie=p(x,te,V),A=x.slice(V,ie);if(b[A]===void 0){let I=h(x,te+1,fe),S=p(x,fe,I);const C=F(x.slice(I,S));b[A]=C}W=fe+1}while(W<j);return b}function h(x,P,b){do{const j=x.charCodeAt(P);if(j!==32&&j!==9)return P}while(++P<b);return b}function p(x,P,b){for(;P>b;){const j=x.charCodeAt(--P);if(j!==32&&j!==9)return P+1}return b}function v(x,P,b){const j=(b==null?void 0:b.encode)||encodeURIComponent;if(!n.test(x))throw new TypeError(`argument name is invalid: ${x}`);const F=j(P);if(!e.test(F))throw new TypeError(`argument val is invalid: ${P}`);let W=x+"="+F;if(!b)return W;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);W+="; Max-Age="+b.maxAge}if(b.domain){if(!t.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);W+="; Domain="+b.domain}if(b.path){if(!i.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);W+="; Path="+b.path}if(b.expires){if(!T(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);W+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(W+="; HttpOnly"),b.secure&&(W+="; Secure"),b.partitioned&&(W+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":W+="; Priority=Low";break;case"medium":W+="; Priority=Medium";break;case"high":W+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":W+="; SameSite=Strict";break;case"lax":W+="; SameSite=Lax";break;case"none":W+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return W}function _(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function T(x){return s.call(x)==="[object Date]"}return Ka}qE();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Gg="popstate";function WE(n={}){function e(s,l){let{pathname:c="/",search:h="",hash:p=""}=Vi(s.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),ll("",{pathname:c,search:h,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(s,l){let c=s.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let p=s.location.href,v=p.indexOf("#");h=v===-1?p:p.slice(0,v)}return h+"#"+(typeof l=="string"?l:Io(l))}function i(s,l){Jt(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return GE(e,t,i,n)}function nt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Jt(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function KE(){return Math.random().toString(36).substring(2,10)}function Qg(n,e){return{usr:n.state,key:n.key,idx:e}}function ll(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Vi(e):e,state:t,key:e&&e.key||i||KE()}}function Io({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Vi(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function GE(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:l=!1}=i,c=s.history,h="POP",p=null,v=_();v==null&&(v=0,c.replaceState({...c.state,idx:v},""));function _(){return(c.state||{idx:null}).idx}function T(){h="POP";let F=_(),W=F==null?null:F-v;v=F,p&&p({action:h,location:j.location,delta:W})}function x(F,W){h="PUSH";let te=ll(j.location,F,W);t&&t(te,F),v=_()+1;let Z=Qg(te,v),fe=j.createHref(te);try{c.pushState(Z,"",fe)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;s.location.assign(fe)}l&&p&&p({action:h,location:j.location,delta:1})}function P(F,W){h="REPLACE";let te=ll(j.location,F,W);t&&t(te,F),v=_();let Z=Qg(te,v),fe=j.createHref(te);c.replaceState(Z,"",fe),l&&p&&p({action:h,location:j.location,delta:0})}function b(F){let W=s.location.origin!=="null"?s.location.origin:s.location.href,te=typeof F=="string"?F:Io(F);return te=te.replace(/ $/,"%20"),nt(W,`No window.location.(origin|href) available to create URL for href: ${te}`),new URL(te,W)}let j={get action(){return h},get location(){return n(s,c)},listen(F){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(Gg,T),p=F,()=>{s.removeEventListener(Gg,T),p=null}},createHref(F){return e(s,F)},createURL:b,encodeLocation(F){let W=b(F);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:x,replace:P,go(F){return c.go(F)}};return j}var QE=new Set(["lazy","caseSensitive","path","id","index","children"]);function YE(n){return n.index===!0}function dc(n,e,t=[],i={}){return n.map((s,l)=>{let c=[...t,String(l)],h=typeof s.id=="string"?s.id:c.join("-");if(nt(s.index!==!0||!s.children,"Cannot specify children on an index route"),nt(!i[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),YE(s)){let p={...s,...e(s),id:h};return i[h]=p,p}else{let p={...s,...e(s),id:h,children:void 0};return i[h]=p,s.children&&(p.children=dc(s.children,e,c,i)),p}})}function fo(n,e,t="/"){return Zu(n,e,t,!1)}function Zu(n,e,t,i){let s=typeof e=="string"?Vi(e):e,l=zr(s.pathname||"/",t);if(l==null)return null;let c=qy(n);JE(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let v=uT(l);h=aT(c[p],v,i)}return h}function XE(n,e){let{route:t,pathname:i,params:s}=n;return{id:t.id,pathname:i,params:s,data:e[t.id],handle:t.handle}}function qy(n,e=[],t=[],i=""){let s=(l,c,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};p.relativePath.startsWith("/")&&(nt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let v=ni([i,p.relativePath]),_=t.concat(p);l.children&&l.children.length>0&&(nt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),qy(l.children,e,_,v)),!(l.path==null&&!l.index)&&e.push({path:v,score:oT(v,l.index),routesMeta:_})};return n.forEach((l,c)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))s(l,c);else for(let p of Wy(l.path))s(l,c,p)}),e}function Wy(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return s?[l,""]:[l];let c=Wy(i.join("/")),h=[];return h.push(...c.map(p=>p===""?l:[l,p].join("/"))),s&&h.push(...c),h.map(p=>n.startsWith("/")&&p===""?"/":p)}function JE(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:sT(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var ZE=/^:[\w-]+$/,eT=3,tT=2,nT=1,rT=10,iT=-2,Yg=n=>n==="*";function oT(n,e){let t=n.split("/"),i=t.length;return t.some(Yg)&&(i+=iT),e&&(i+=tT),t.filter(s=>!Yg(s)).reduce((s,l)=>s+(ZE.test(l)?eT:l===""?nT:rT),i)}function sT(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function aT(n,e,t=!1){let{routesMeta:i}=n,s={},l="/",c=[];for(let h=0;h<i.length;++h){let p=i[h],v=h===i.length-1,_=l==="/"?e:e.slice(l.length)||"/",T=hc({path:p.relativePath,caseSensitive:p.caseSensitive,end:v},_),x=p.route;if(!T&&v&&t&&!i[i.length-1].route.index&&(T=hc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!T)return null;Object.assign(s,T.params),c.push({params:s,pathname:ni([l,T.pathname]),pathnameBase:hT(ni([l,T.pathnameBase])),route:x}),T.pathnameBase!=="/"&&(l=ni([l,T.pathnameBase]))}return c}function hc(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=lT(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:i.reduce((v,{paramName:_,isOptional:T},x)=>{if(_==="*"){let b=h[x]||"";c=l.slice(0,l.length-b.length).replace(/(.)\/+$/,"$1")}const P=h[x];return T&&!P?v[_]=void 0:v[_]=(P||"").replace(/%2F/g,"/"),v},{}),pathname:l,pathnameBase:c,pattern:n}}function lT(n,e=!1,t=!0){Jt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(i.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function uT(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jt(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function zr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function cT(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?Vi(n):n;return{pathname:t?t.startsWith("/")?t:dT(t,e):e,search:fT(i),hash:pT(s)}}function dT(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Ch(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ky(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Df(n){let e=Ky(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Nf(n,e,t,i=!1){let s;typeof n=="string"?s=Vi(n):(s={...n},nt(!s.pathname||!s.pathname.includes("?"),Ch("?","pathname","search",s)),nt(!s.pathname||!s.pathname.includes("#"),Ch("#","pathname","hash",s)),nt(!s.search||!s.search.includes("#"),Ch("#","search","hash",s)));let l=n===""||s.pathname==="",c=l?"/":s.pathname,h;if(c==null)h=t;else{let T=e.length-1;if(!i&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),T-=1;s.pathname=x.join("/")}h=T>=0?e[T]:"/"}let p=cT(s,h),v=c&&c!=="/"&&c.endsWith("/"),_=(l||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(v||_)&&(p.pathname+="/"),p}var ni=n=>n.join("/").replace(/\/\/+/g,"/"),hT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),fT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,pT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,fc=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Vc(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Gy=["POST","PUT","PATCH","DELETE"],mT=new Set(Gy),gT=["GET",...Gy],vT=new Set(gT),yT=new Set([301,302,303,307,308]),_T=new Set([307,308]),bh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},wT={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ga={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Of=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ET=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),Qy="remix-router-transitions",Yy=Symbol("ResetLoaderData");function TT(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";nt(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.mapRouteProperties||ET,s={},l=dc(n.routes,i,void 0,s),c,h=n.basename||"/",p=n.dataStrategy||kT,v=n.patchRoutesOnNavigation,_={...n.future},T=null,x=new Set,P=null,b=null,j=null,F=n.hydrationData!=null,W=fo(l,n.history.location,h),te=null;if(W==null&&!v){let N=fr(404,{pathname:n.history.location.pathname}),{matches:z,route:G}=av(l);W=z,te={[G.id]:N}}W&&!n.hydrationData&&Er(W,l,n.history.location.pathname).active&&(W=null);let Z;if(W)if(W.some(N=>N.route.lazy))Z=!1;else if(!W.some(N=>N.route.loader))Z=!0;else{let N=n.hydrationData?n.hydrationData.loaderData:null,z=n.hydrationData?n.hydrationData.errors:null;if(z){let G=W.findIndex(X=>z[X.route.id]!==void 0);Z=W.slice(0,G+1).every(X=>!Zh(X.route,N,z))}else Z=W.every(G=>!Zh(G.route,N,z))}else{Z=!1,W=[];let N=Er(null,l,n.history.location.pathname);N.active&&N.matches&&(W=N.matches)}let fe,V={historyAction:n.history.action,location:n.history.location,matches:W,initialized:Z,navigation:bh,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||te,fetchers:new Map,blockers:new Map},ie="POP",A=!1,I,S=!1,C=new Map,O=null,U=!1,k=!1,He=new Set,Le=new Map,Rt=0,Ge=-1,se=new Map,de=new Set,he=new Map,M=new Map,Y=new Set,ye=new Map,Pe,Ne=null;function Be(){if(T=n.history.listen(({action:N,location:z,delta:G})=>{if(Pe){Pe(),Pe=void 0;return}Jt(ye.size===0||G!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let X=ir({currentLocation:V.location,nextLocation:z,historyAction:N});if(X&&G!=null){let pe=new Promise(_e=>{Pe=_e});n.history.go(G*-1),bn(X,{state:"blocked",location:z,proceed(){bn(X,{state:"proceeding",proceed:void 0,reset:void 0,location:z}),pe.then(()=>n.history.go(G))},reset(){let _e=new Map(V.blockers);_e.set(X,Ga),Ue({blockers:_e})}});return}return Ut(N,z)}),t){FT(e,C);let N=()=>UT(e,C);e.addEventListener("pagehide",N),O=()=>e.removeEventListener("pagehide",N)}return V.initialized||Ut("POP",V.location,{initialHydration:!0}),fe}function Qe(){T&&T(),O&&O(),x.clear(),I&&I.abort(),V.fetchers.forEach((N,z)=>mt(z)),V.blockers.forEach((N,z)=>rr(z))}function Ye(N){return x.add(N),()=>x.delete(N)}function Ue(N,z={}){V={...V,...N};let G=[],X=[];V.fetchers.forEach((pe,_e)=>{pe.state==="idle"&&(Y.has(_e)?G.push(_e):X.push(_e))}),Y.forEach(pe=>{!V.fetchers.has(pe)&&!Le.has(pe)&&G.push(pe)}),[...x].forEach(pe=>pe(V,{deletedFetchers:G,viewTransitionOpts:z.viewTransitionOpts,flushSync:z.flushSync===!0})),G.forEach(pe=>mt(pe)),X.forEach(pe=>V.fetchers.delete(pe))}function ht(N,z,{flushSync:G}={}){var le,Oe;let X=V.actionData!=null&&V.navigation.formMethod!=null&&Mr(V.navigation.formMethod)&&V.navigation.state==="loading"&&((le=N.state)==null?void 0:le._isRedirect)!==!0,pe;z.actionData?Object.keys(z.actionData).length>0?pe=z.actionData:pe=null:X?pe=V.actionData:pe=null;let _e=z.loaderData?ov(V.loaderData,z.loaderData,z.matches||[],z.errors):V.loaderData,Re=V.blockers;Re.size>0&&(Re=new Map(Re),Re.forEach((qe,ut)=>Re.set(ut,Ga)));let me=A===!0||V.navigation.formMethod!=null&&Mr(V.navigation.formMethod)&&((Oe=N.state)==null?void 0:Oe._isRedirect)!==!0;c&&(l=c,c=void 0),U||ie==="POP"||(ie==="PUSH"?n.history.push(N,N.state):ie==="REPLACE"&&n.history.replace(N,N.state));let Ee;if(ie==="POP"){let qe=C.get(V.location.pathname);qe&&qe.has(N.pathname)?Ee={currentLocation:V.location,nextLocation:N}:C.has(N.pathname)&&(Ee={currentLocation:N,nextLocation:V.location})}else if(S){let qe=C.get(V.location.pathname);qe?qe.add(N.pathname):(qe=new Set([N.pathname]),C.set(V.location.pathname,qe)),Ee={currentLocation:V.location,nextLocation:N}}Ue({...z,actionData:pe,loaderData:_e,historyAction:ie,location:N,initialized:!0,navigation:bh,revalidation:"idle",restoreScrollPosition:Wn(N,z.matches||V.matches),preventScrollReset:me,blockers:Re},{viewTransitionOpts:Ee,flushSync:G===!0}),ie="POP",A=!1,S=!1,U=!1,k=!1,Ne==null||Ne.resolve(),Ne=null}async function Zt(N,z){if(typeof N=="number"){n.history.go(N);return}let G=Jh(V.location,V.matches,h,N,z==null?void 0:z.fromRouteId,z==null?void 0:z.relative),{path:X,submission:pe,error:_e}=Xg(!1,G,z),Re=V.location,me=ll(V.location,X,z&&z.state);me={...me,...n.history.encodeLocation(me)};let Ee=z&&z.replace!=null?z.replace:void 0,le="PUSH";Ee===!0?le="REPLACE":Ee===!1||pe!=null&&Mr(pe.formMethod)&&pe.formAction===V.location.pathname+V.location.search&&(le="REPLACE");let Oe=z&&"preventScrollReset"in z?z.preventScrollReset===!0:void 0,qe=(z&&z.flushSync)===!0,ut=ir({currentLocation:Re,nextLocation:me,historyAction:le});if(ut){bn(ut,{state:"blocked",location:me,proceed(){bn(ut,{state:"proceeding",proceed:void 0,reset:void 0,location:me}),Zt(N,z)},reset(){let bt=new Map(V.blockers);bt.set(ut,Ga),Ue({blockers:bt})}});return}await Ut(le,me,{submission:pe,pendingError:_e,preventScrollReset:Oe,replace:z&&z.replace,enableViewTransition:z&&z.viewTransition,flushSync:qe})}function En(){Ne||(Ne=jT()),ce(),Ue({revalidation:"loading"});let N=Ne.promise;return V.navigation.state==="submitting"?N:V.navigation.state==="idle"?(Ut(V.historyAction,V.location,{startUninterruptedRevalidation:!0}),N):(Ut(ie||V.historyAction,V.navigation.location,{overrideNavigation:V.navigation,enableViewTransition:S===!0}),N)}async function Ut(N,z,G){I&&I.abort(),I=null,ie=N,U=(G&&G.startUninterruptedRevalidation)===!0,Dn(V.location,V.matches),A=(G&&G.preventScrollReset)===!0,S=(G&&G.enableViewTransition)===!0;let X=c||l,pe=G&&G.overrideNavigation,_e=fo(X,z,h),Re=(G&&G.flushSync)===!0,me=Er(_e,X,z.pathname);if(me.active&&me.matches&&(_e=me.matches),!_e){let{error:Ze,notFoundMatches:st,route:ct}=Tn(z.pathname);ht(z,{matches:st,loaderData:{},errors:{[ct.id]:Ze}},{flushSync:Re});return}if(V.initialized&&!k&&NT(V.location,z)&&!(G&&G.submission&&Mr(G.submission.formMethod))){ht(z,{matches:_e},{flushSync:Re});return}I=new AbortController;let Ee=qs(n.history,z,I.signal,G&&G.submission),le;if(G&&G.pendingError)le=[Qo(_e).route.id,{type:"error",error:G.pendingError}];else if(G&&G.submission&&Mr(G.submission.formMethod)){let Ze=await er(Ee,z,G.submission,_e,me.active,{replace:G.replace,flushSync:Re});if(Ze.shortCircuited)return;if(Ze.pendingActionResult){let[st,ct]=Ze.pendingActionResult;if(Zn(ct)&&Vc(ct.error)&&ct.error.status===404){I=null,ht(z,{matches:Ze.matches,loaderData:{},errors:{[st]:ct.error}});return}}_e=Ze.matches||_e,le=Ze.pendingActionResult,pe=Dh(z,G.submission),Re=!1,me.active=!1,Ee=qs(n.history,Ee.url,Ee.signal)}let{shortCircuited:Oe,matches:qe,loaderData:ut,errors:bt}=await yr(Ee,z,_e,me.active,pe,G&&G.submission,G&&G.fetcherSubmission,G&&G.replace,G&&G.initialHydration===!0,Re,le);Oe||(I=null,ht(z,{matches:qe||_e,...sv(le),loaderData:ut,errors:bt}))}async function er(N,z,G,X,pe,_e={}){ce();let Re=VT(z,G);if(Ue({navigation:Re},{flushSync:_e.flushSync===!0}),pe){let le=await In(X,z.pathname,N.signal);if(le.type==="aborted")return{shortCircuited:!0};if(le.type==="error"){let Oe=Qo(le.partialMatches).route.id;return{matches:le.partialMatches,pendingActionResult:[Oe,{type:"error",error:le.error}]}}else if(le.matches)X=le.matches;else{let{notFoundMatches:Oe,error:qe,route:ut}=Tn(z.pathname);return{matches:Oe,pendingActionResult:[ut.id,{type:"error",error:qe}]}}}let me,Ee=Xa(X,z);if(!Ee.route.action&&!Ee.route.lazy)me={type:"error",error:fr(405,{method:N.method,pathname:z.pathname,routeId:Ee.route.id})};else if(me=(await Hn("action",V,N,[Ee],X,null))[Ee.route.id],N.signal.aborted)return{shortCircuited:!0};if(Xo(me)){let le;return _e&&_e.replace!=null?le=_e.replace:le=nv(me.response.headers.get("Location"),new URL(N.url),h)===V.location.pathname+V.location.search,await jt(N,me,!0,{submission:G,replace:le}),{shortCircuited:!0}}if(Zn(me)){let le=Qo(X,Ee.route.id);return(_e&&_e.replace)!==!0&&(ie="PUSH"),{matches:X,pendingActionResult:[le.route.id,me]}}return{matches:X,pendingActionResult:[Ee.route.id,me]}}async function yr(N,z,G,X,pe,_e,Re,me,Ee,le,Oe){let qe=pe||Dh(z,_e),ut=_e||Re||uv(qe),bt=!U&&!Ee;if(X){if(bt){let _t=_r(Oe);Ue({navigation:qe,..._t!==void 0?{actionData:_t}:{}},{flushSync:le})}let rt=await In(G,z.pathname,N.signal);if(rt.type==="aborted")return{shortCircuited:!0};if(rt.type==="error"){let _t=Qo(rt.partialMatches).route.id;return{matches:rt.partialMatches,loaderData:{},errors:{[_t]:rt.error}}}else if(rt.matches)G=rt.matches;else{let{error:_t,notFoundMatches:tn,route:Sr}=Tn(z.pathname);return{matches:tn,loaderData:{},errors:{[Sr.id]:_t}}}}let Ze=c||l,[st,ct]=Zg(n.history,V,G,ut,z,Ee===!0,k,He,Y,he,de,Ze,h,Oe);if(Ge=++Rt,st.length===0&&ct.length===0){let rt=Cn();return ht(z,{matches:G,loaderData:{},errors:Oe&&Zn(Oe[1])?{[Oe[0]]:Oe[1].error}:null,...sv(Oe),...rt?{fetchers:new Map(V.fetchers)}:{}},{flushSync:le}),{shortCircuited:!0}}if(bt){let rt={};if(!X){rt.navigation=qe;let _t=_r(Oe);_t!==void 0&&(rt.actionData=_t)}ct.length>0&&(rt.fetchers=An(ct)),Ue(rt,{flushSync:le})}ct.forEach(rt=>{It(rt.key),rt.controller&&Le.set(rt.key,rt.controller)});let Tr=()=>ct.forEach(rt=>It(rt.key));I&&I.signal.addEventListener("abort",Tr);let{loaderResults:Ir,fetcherResults:dn}=await wr(V,G,st,ct,N);if(N.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",Tr),ct.forEach(rt=>Le.delete(rt.key));let en=Bu(Ir);if(en)return await jt(N,en.result,!0,{replace:me}),{shortCircuited:!0};if(en=Bu(dn),en)return de.add(en.key),await jt(N,en.result,!0,{replace:me}),{shortCircuited:!0};let{loaderData:di,errors:Hr}=iv(V,G,Ir,Oe,ct,dn);Ee&&V.errors&&(Hr={...V.errors,...Hr});let xr=Cn(),dt=tr(Ge),hi=xr||dt||ct.length>0;return{matches:G,loaderData:di,errors:Hr,...hi?{fetchers:new Map(V.fetchers)}:{}}}function _r(N){if(N&&!Zn(N[1]))return{[N[0]]:N[1].data};if(V.actionData)return Object.keys(V.actionData).length===0?null:V.actionData}function An(N){return N.forEach(z=>{let G=V.fetchers.get(z.key),X=Qa(void 0,G?G.data:void 0);V.fetchers.set(z.key,X)}),new Map(V.fetchers)}async function Br(N,z,G,X){It(N);let pe=(X&&X.flushSync)===!0,_e=c||l,Re=Jh(V.location,V.matches,h,G,z,X==null?void 0:X.relative),me=fo(_e,Re,h),Ee=Er(me,_e,Re);if(Ee.active&&Ee.matches&&(me=Ee.matches),!me){De(N,z,fr(404,{pathname:Re}),{flushSync:pe});return}let{path:le,submission:Oe,error:qe}=Xg(!0,Re,X);if(qe){De(N,z,qe,{flushSync:pe});return}let ut=Xa(me,le),bt=(X&&X.preventScrollReset)===!0;if(Oe&&Mr(Oe.formMethod)){await $n(N,z,le,ut,me,Ee.active,pe,bt,Oe);return}he.set(N,{routeId:z,path:le}),await cn(N,z,le,ut,me,Ee.active,pe,bt,Oe)}async function $n(N,z,G,X,pe,_e,Re,me,Ee){ce(),he.delete(N);function le(wt){if(!wt.route.action&&!wt.route.lazy){let Nn=fr(405,{method:Ee.formMethod,pathname:G,routeId:z});return De(N,z,Nn,{flushSync:Re}),!0}return!1}if(!_e&&le(X))return;let Oe=V.fetchers.get(N);Ie(N,MT(Ee,Oe),{flushSync:Re});let qe=new AbortController,ut=qs(n.history,G,qe.signal,Ee);if(_e){let wt=await In(pe,G,ut.signal);if(wt.type==="aborted")return;if(wt.type==="error"){De(N,z,wt.error,{flushSync:Re});return}else if(wt.matches){if(pe=wt.matches,X=Xa(pe,G),le(X))return}else{De(N,z,fr(404,{pathname:G}),{flushSync:Re});return}}Le.set(N,qe);let bt=Rt,st=(await Hn("action",V,ut,[X],pe,N))[X.route.id];if(ut.signal.aborted){Le.get(N)===qe&&Le.delete(N);return}if(Y.has(N)){if(Xo(st)||Zn(st)){Ie(N,ho(void 0));return}}else{if(Xo(st))if(Le.delete(N),Ge>bt){Ie(N,ho(void 0));return}else return de.add(N),Ie(N,Qa(Ee)),jt(ut,st,!1,{fetcherSubmission:Ee,preventScrollReset:me});if(Zn(st)){De(N,z,st.error);return}}let ct=V.navigation.location||V.location,Tr=qs(n.history,ct,qe.signal),Ir=c||l,dn=V.navigation.state!=="idle"?fo(Ir,V.navigation.location,h):V.matches;nt(dn,"Didn't find any matches after fetcher action");let en=++Rt;se.set(N,en);let di=Qa(Ee,st.data);V.fetchers.set(N,di);let[Hr,xr]=Zg(n.history,V,dn,Ee,ct,!1,k,He,Y,he,de,Ir,h,[X.route.id,st]);xr.filter(wt=>wt.key!==N).forEach(wt=>{let Nn=wt.key,hn=V.fetchers.get(Nn),ds=Qa(void 0,hn?hn.data:void 0);V.fetchers.set(Nn,ds),It(Nn),wt.controller&&Le.set(Nn,wt.controller)}),Ue({fetchers:new Map(V.fetchers)});let dt=()=>xr.forEach(wt=>It(wt.key));qe.signal.addEventListener("abort",dt);let{loaderResults:hi,fetcherResults:rt}=await wr(V,dn,Hr,xr,Tr);if(qe.signal.aborted)return;qe.signal.removeEventListener("abort",dt),se.delete(N),Le.delete(N),xr.forEach(wt=>Le.delete(wt.key));let _t=Bu(hi);if(_t)return jt(Tr,_t.result,!1,{preventScrollReset:me});if(_t=Bu(rt),_t)return de.add(_t.key),jt(Tr,_t.result,!1,{preventScrollReset:me});let{loaderData:tn,errors:Sr}=iv(V,dn,hi,void 0,xr,rt);if(V.fetchers.has(N)){let wt=ho(st.data);V.fetchers.set(N,wt)}tr(en),V.navigation.state==="loading"&&en>Ge?(nt(ie,"Expected pending action"),I&&I.abort(),ht(V.navigation.location,{matches:dn,loaderData:tn,errors:Sr,fetchers:new Map(V.fetchers)})):(Ue({errors:Sr,loaderData:ov(V.loaderData,tn,dn,Sr),fetchers:new Map(V.fetchers)}),k=!1)}async function cn(N,z,G,X,pe,_e,Re,me,Ee){let le=V.fetchers.get(N);Ie(N,Qa(Ee,le?le.data:void 0),{flushSync:Re});let Oe=new AbortController,qe=qs(n.history,G,Oe.signal);if(_e){let st=await In(pe,G,qe.signal);if(st.type==="aborted")return;if(st.type==="error"){De(N,z,st.error,{flushSync:Re});return}else if(st.matches)pe=st.matches,X=Xa(pe,G);else{De(N,z,fr(404,{pathname:G}),{flushSync:Re});return}}Le.set(N,Oe);let ut=Rt,Ze=(await Hn("loader",V,qe,[X],pe,N))[X.route.id];if(Le.get(N)===Oe&&Le.delete(N),!qe.signal.aborted){if(Y.has(N)){Ie(N,ho(void 0));return}if(Xo(Ze))if(Ge>ut){Ie(N,ho(void 0));return}else{de.add(N),await jt(qe,Ze,!1,{preventScrollReset:me});return}if(Zn(Ze)){De(N,z,Ze.error);return}Ie(N,ho(Ze.data))}}async function jt(N,z,G,{submission:X,fetcherSubmission:pe,preventScrollReset:_e,replace:Re}={}){z.response.headers.has("X-Remix-Revalidate")&&(k=!0);let me=z.response.headers.get("Location");nt(me,"Expected a Location header on the redirect Response"),me=nv(me,new URL(N.url),h);let Ee=ll(V.location,me,{_isRedirect:!0});if(t){let Ze=!1;if(z.response.headers.has("X-Remix-Reload-Document"))Ze=!0;else if(Of.test(me)){const st=n.history.createURL(me);Ze=st.origin!==e.location.origin||zr(st.pathname,h)==null}if(Ze){Re?e.location.replace(me):e.location.assign(me);return}}I=null;let le=Re===!0||z.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Oe,formAction:qe,formEncType:ut}=V.navigation;!X&&!pe&&Oe&&qe&&ut&&(X=uv(V.navigation));let bt=X||pe;if(_T.has(z.response.status)&&bt&&Mr(bt.formMethod))await Ut(le,Ee,{submission:{...bt,formAction:me},preventScrollReset:_e||A,enableViewTransition:G?S:void 0});else{let Ze=Dh(Ee,X);await Ut(le,Ee,{overrideNavigation:Ze,fetcherSubmission:pe,preventScrollReset:_e||A,enableViewTransition:G?S:void 0})}}async function Hn(N,z,G,X,pe,_e){let Re,me={};try{Re=await AT(p,N,z,G,X,pe,_e,s,i)}catch(Ee){return X.forEach(le=>{me[le.route.id]={type:"error",error:Ee}}),me}for(let[Ee,le]of Object.entries(Re))if(OT(le)){let Oe=le.result;me[Ee]={type:"redirect",response:bT(Oe,G,Ee,pe,h)}}else me[Ee]=await CT(le);return me}async function wr(N,z,G,X,pe){let _e=Hn("loader",N,pe,G,z,null),Re=Promise.all(X.map(async le=>{if(le.matches&&le.match&&le.controller){let qe=(await Hn("loader",N,qs(n.history,le.path,le.controller.signal),[le.match],le.matches,le.key))[le.match.route.id];return{[le.key]:qe}}else return Promise.resolve({[le.key]:{type:"error",error:fr(404,{pathname:le.path})}})})),me=await _e,Ee=(await Re).reduce((le,Oe)=>Object.assign(le,Oe),{});return{loaderResults:me,fetcherResults:Ee}}function ce(){k=!0,he.forEach((N,z)=>{Le.has(z)&&He.add(z),It(z)})}function Ie(N,z,G={}){V.fetchers.set(N,z),Ue({fetchers:new Map(V.fetchers)},{flushSync:(G&&G.flushSync)===!0})}function De(N,z,G,X={}){let pe=Qo(V.matches,z);mt(N),Ue({errors:{[pe.route.id]:G},fetchers:new Map(V.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function We(N){return M.set(N,(M.get(N)||0)+1),Y.has(N)&&Y.delete(N),V.fetchers.get(N)||wT}function mt(N){let z=V.fetchers.get(N);Le.has(N)&&!(z&&z.state==="loading"&&se.has(N))&&It(N),he.delete(N),se.delete(N),de.delete(N),Y.delete(N),He.delete(N),V.fetchers.delete(N)}function qn(N){let z=(M.get(N)||0)-1;z<=0?(M.delete(N),Y.add(N)):M.set(N,z),Ue({fetchers:new Map(V.fetchers)})}function It(N){let z=Le.get(N);z&&(z.abort(),Le.delete(N))}function Pn(N){for(let z of N){let G=We(z),X=ho(G.data);V.fetchers.set(z,X)}}function Cn(){let N=[],z=!1;for(let G of de){let X=V.fetchers.get(G);nt(X,`Expected fetcher: ${G}`),X.state==="loading"&&(de.delete(G),N.push(G),z=!0)}return Pn(N),z}function tr(N){let z=[];for(let[G,X]of se)if(X<N){let pe=V.fetchers.get(G);nt(pe,`Expected fetcher: ${G}`),pe.state==="loading"&&(It(G),se.delete(G),z.push(G))}return Pn(z),z.length>0}function nr(N,z){let G=V.blockers.get(N)||Ga;return ye.get(N)!==z&&ye.set(N,z),G}function rr(N){V.blockers.delete(N),ye.delete(N)}function bn(N,z){let G=V.blockers.get(N)||Ga;nt(G.state==="unblocked"&&z.state==="blocked"||G.state==="blocked"&&z.state==="blocked"||G.state==="blocked"&&z.state==="proceeding"||G.state==="blocked"&&z.state==="unblocked"||G.state==="proceeding"&&z.state==="unblocked",`Invalid blocker state transition: ${G.state} -> ${z.state}`);let X=new Map(V.blockers);X.set(N,z),Ue({blockers:X})}function ir({currentLocation:N,nextLocation:z,historyAction:G}){if(ye.size===0)return;ye.size>1&&Jt(!1,"A router only supports one blocker at a time");let X=Array.from(ye.entries()),[pe,_e]=X[X.length-1],Re=V.blockers.get(pe);if(!(Re&&Re.state==="proceeding")&&_e({currentLocation:N,nextLocation:z,historyAction:G}))return pe}function Tn(N){let z=fr(404,{pathname:N}),G=c||l,{matches:X,route:pe}=av(G);return{notFoundMatches:X,route:pe,error:z}}function $r(N,z,G){if(P=N,j=z,b=G||null,!F&&V.navigation===bh){F=!0;let X=Wn(V.location,V.matches);X!=null&&Ue({restoreScrollPosition:X})}return()=>{P=null,j=null,b=null}}function ui(N,z){return b&&b(N,z.map(X=>XE(X,V.loaderData)))||N.key}function Dn(N,z){if(P&&j){let G=ui(N,z);P[G]=j()}}function Wn(N,z){if(P){let G=ui(N,z),X=P[G];if(typeof X=="number")return X}return null}function Er(N,z,G){if(v)if(N){if(Object.keys(N[0].params).length>0)return{active:!0,matches:Zu(z,G,h,!0)}}else return{active:!0,matches:Zu(z,G,h,!0)||[]};return{active:!1,matches:null}}async function In(N,z,G){if(!v)return{type:"success",matches:N};let X=N;for(;;){let pe=c==null,_e=c||l,Re=s;try{await v({path:z,matches:X,patch:(le,Oe)=>{G.aborted||tv(le,Oe,_e,Re,i)}})}catch(le){return{type:"error",error:le,partialMatches:X}}finally{pe&&!G.aborted&&(l=[...l])}if(G.aborted)return{type:"aborted"};let me=fo(_e,z,h);if(me)return{type:"success",matches:me};let Ee=Zu(_e,z,h,!0);if(!Ee||X.length===Ee.length&&X.every((le,Oe)=>le.route.id===Ee[Oe].route.id))return{type:"success",matches:null};X=Ee}}function Po(N){s={},c=dc(N,i,void 0,s)}function ci(N,z){let G=c==null;tv(N,z,c||l,s,i),G&&(l=[...l],Ue({}))}return fe={get basename(){return h},get future(){return _},get state(){return V},get routes(){return l},get window(){return e},initialize:Be,subscribe:Ye,enableScrollRestoration:$r,navigate:Zt,fetch:Br,revalidate:En,createHref:N=>n.history.createHref(N),encodeLocation:N=>n.history.encodeLocation(N),getFetcher:We,deleteFetcher:qn,dispose:Qe,getBlocker:nr,deleteBlocker:rr,patchRoutes:ci,_internalFetchControllers:Le,_internalSetRoutes:Po},fe}function IT(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function Jh(n,e,t,i,s,l){let c,h;if(s){c=[];for(let v of e)if(c.push(v),v.route.id===s){h=v;break}}else c=e,h=e[e.length-1];let p=Nf(i||".",Df(c),zr(n.pathname,t)||n.pathname,l==="path");if(i==null&&(p.search=n.search,p.hash=n.hash),(i==null||i===""||i===".")&&h){let v=Lf(p.search);if(h.route.index&&!v)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&v){let _=new URLSearchParams(p.search),T=_.getAll("index");_.delete("index"),T.filter(P=>P).forEach(P=>_.append("index",P));let x=_.toString();p.search=x?`?${x}`:""}}return t!=="/"&&(p.pathname=p.pathname==="/"?t:ni([t,p.pathname])),Io(p)}function Xg(n,e,t){if(!t||!IT(t))return{path:e};if(t.formMethod&&!LT(t.formMethod))return{path:e,error:fr(405,{method:t.formMethod})};let i=()=>({path:e,error:fr(400,{type:"invalid-body"})}),l=(t.formMethod||"get").toUpperCase(),c=Jy(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Mr(l))return i();let T=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((x,[P,b])=>`${x}${P}=${b}
`,""):String(t.body);return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:void 0,text:T}}}else if(t.formEncType==="application/json"){if(!Mr(l))return i();try{let T=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:l,formAction:c,formEncType:t.formEncType,formData:void 0,json:T,text:void 0}}}catch{return i()}}}nt(typeof FormData=="function","FormData is not available in this environment");let h,p;if(t.formData)h=ef(t.formData),p=t.formData;else if(t.body instanceof FormData)h=ef(t.body),p=t.body;else if(t.body instanceof URLSearchParams)h=t.body,p=rv(h);else if(t.body==null)h=new URLSearchParams,p=new FormData;else try{h=new URLSearchParams(t.body),p=rv(h)}catch{return i()}let v={formMethod:l,formAction:c,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Mr(v.formMethod))return{path:e,submission:v};let _=Vi(e);return n&&_.search&&Lf(_.search)&&h.append("index",""),_.search=`?${h}`,{path:Io(_),submission:v}}function Jg(n,e,t=!1){let i=n.findIndex(s=>s.route.id===e);return i>=0?n.slice(0,t?i+1:i):n}function Zg(n,e,t,i,s,l,c,h,p,v,_,T,x,P){let b=P?Zn(P[1])?P[1].error:P[1].data:void 0,j=n.createURL(e.location),F=n.createURL(s),W=t;l&&e.errors?W=Jg(t,Object.keys(e.errors)[0],!0):P&&Zn(P[1])&&(W=Jg(t,P[0]));let te=P?P[1].statusCode:void 0,Z=te&&te>=400,fe=W.filter((ie,A)=>{let{route:I}=ie;if(I.lazy)return!0;if(I.loader==null)return!1;if(l)return Zh(I,e.loaderData,e.errors);if(xT(e.loaderData,e.matches[A],ie))return!0;let S=e.matches[A],C=ie;return ev(ie,{currentUrl:j,currentParams:S.params,nextUrl:F,nextParams:C.params,...i,actionResult:b,actionStatus:te,defaultShouldRevalidate:Z?!1:c||j.pathname+j.search===F.pathname+F.search||j.search!==F.search||ST(S,C)})}),V=[];return v.forEach((ie,A)=>{if(l||!t.some(U=>U.route.id===ie.routeId)||p.has(A))return;let I=fo(T,ie.path,x);if(!I){V.push({key:A,routeId:ie.routeId,path:ie.path,matches:null,match:null,controller:null});return}let S=e.fetchers.get(A),C=Xa(I,ie.path),O=!1;_.has(A)?O=!1:h.has(A)?(h.delete(A),O=!0):S&&S.state!=="idle"&&S.data===void 0?O=c:O=ev(C,{currentUrl:j,currentParams:e.matches[e.matches.length-1].params,nextUrl:F,nextParams:t[t.length-1].params,...i,actionResult:b,actionStatus:te,defaultShouldRevalidate:Z?!1:c}),O&&V.push({key:A,routeId:ie.routeId,path:ie.path,matches:I,match:C,controller:new AbortController})}),[fe,V]}function Zh(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let i=e!=null&&e[n.id]!==void 0,s=t!=null&&t[n.id]!==void 0;return!i&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!s}function xT(n,e,t){let i=!e||t.route.id!==e.route.id,s=!n.hasOwnProperty(t.route.id);return i||s}function ST(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function ev(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function tv(n,e,t,i,s){let l;if(n){let p=i[n];nt(p,`No route found to patch children into: routeId = ${n}`),p.children||(p.children=[]),l=p.children}else l=t;let c=e.filter(p=>!l.some(v=>Xy(p,v))),h=dc(c,s,[n||"_","patch",String((l==null?void 0:l.length)||"0")],i);l.push(...h)}function Xy(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>{var s;return(s=e.children)==null?void 0:s.some(l=>Xy(t,l))}):!1}async function RT(n,e,t){if(!n.lazy)return;let i=await n.lazy();if(!n.lazy)return;let s=t[n.id];nt(s,"No route found in manifest");let l={};for(let c in i){let p=s[c]!==void 0&&c!=="hasErrorBoundary";Jt(!p,`Route "${s.id}" has a static property "${c}" defined but its lazy function is also returning a value for this property. The lazy route property "${c}" will be ignored.`),!p&&!QE.has(c)&&(l[c]=i[c])}Object.assign(s,l),Object.assign(s,{...e(s),lazy:void 0})}async function kT({matches:n}){let e=n.filter(i=>i.shouldLoad);return(await Promise.all(e.map(i=>i.resolve()))).reduce((i,s,l)=>Object.assign(i,{[e[l].route.id]:s}),{})}async function AT(n,e,t,i,s,l,c,h,p,v){let _=l.map(P=>P.route.lazy?RT(P.route,p,h):void 0),T=l.map((P,b)=>{let j=_[b],F=s.some(te=>te.route.id===P.route.id);return{...P,shouldLoad:F,resolve:async te=>(te&&i.method==="GET"&&(P.route.lazy||P.route.loader)&&(F=!0),F?PT(e,i,P,j,te,v):Promise.resolve({type:"data",result:void 0}))}}),x=await n({matches:T,request:i,params:l[0].params,fetcherKey:c,context:v});try{await Promise.all(_)}catch{}return x}async function PT(n,e,t,i,s,l){let c,h,p=v=>{let _,T=new Promise((b,j)=>_=j);h=()=>_(),e.signal.addEventListener("abort",h);let x=b=>typeof v!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${t.route.id}]`)):v({request:e,params:t.params,context:l},...b!==void 0?[b]:[]),P=(async()=>{try{return{type:"data",result:await(s?s(j=>x(j)):x())}}catch(b){return{type:"error",result:b}}})();return Promise.race([P,T])};try{let v=t.route[n];if(i)if(v){let _,[T]=await Promise.all([p(v).catch(x=>{_=x}),i]);if(_!==void 0)throw _;c=T}else if(await i,v=t.route[n],v)c=await p(v);else if(n==="action"){let _=new URL(e.url),T=_.pathname+_.search;throw fr(405,{method:e.method,pathname:T,routeId:t.route.id})}else return{type:"data",result:void 0};else if(v)c=await p(v);else{let _=new URL(e.url),T=_.pathname+_.search;throw fr(404,{pathname:T})}}catch(v){return{type:"error",result:v}}finally{h&&e.signal.removeEventListener("abort",h)}return c}async function CT(n){var i,s,l,c;let{result:e,type:t}=n;if(Zy(e)){let h;try{let p=e.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?e.body==null?h=null:h=await e.json():h=await e.text()}catch(p){return{type:"error",error:p}}return t==="error"?{type:"error",error:new fc(e.status,e.statusText,h),statusCode:e.status,headers:e.headers}:{type:"data",data:h,statusCode:e.status,headers:e.headers}}if(t==="error"){if(lv(e)){if(e.data instanceof Error)return{type:"error",error:e.data,statusCode:(i=e.init)==null?void 0:i.status};e=new fc(((s=e.init)==null?void 0:s.status)||500,void 0,e.data)}return{type:"error",error:e,statusCode:Vc(e)?e.status:void 0}}return lv(e)?{type:"data",data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function bT(n,e,t,i,s){let l=n.headers.get("Location");if(nt(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Of.test(l)){let c=i.slice(0,i.findIndex(h=>h.route.id===t)+1);l=Jh(new URL(e.url),c,s,l),n.headers.set("Location",l)}return n}function nv(n,e,t){if(Of.test(n)){let i=n,s=i.startsWith("//")?new URL(e.protocol+i):new URL(i),l=zr(s.pathname,t)!=null;if(s.origin===e.origin&&l)return s.pathname+s.search+s.hash}return n}function qs(n,e,t,i){let s=n.createURL(Jy(e)).toString(),l={signal:t};if(i&&Mr(i.formMethod)){let{formMethod:c,formEncType:h}=i;l.method=c.toUpperCase(),h==="application/json"?(l.headers=new Headers({"Content-Type":h}),l.body=JSON.stringify(i.json)):h==="text/plain"?l.body=i.text:h==="application/x-www-form-urlencoded"&&i.formData?l.body=ef(i.formData):l.body=i.formData}return new Request(s,l)}function ef(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function rv(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function DT(n,e,t,i=!1,s=!1){let l={},c=null,h,p=!1,v={},_=t&&Zn(t[1])?t[1].error:void 0;return n.forEach(T=>{if(!(T.route.id in e))return;let x=T.route.id,P=e[x];if(nt(!Xo(P),"Cannot handle redirect results in processLoaderData"),Zn(P)){let b=P.error;if(_!==void 0&&(b=_,_=void 0),c=c||{},s)c[x]=b;else{let j=Qo(n,x);c[j.route.id]==null&&(c[j.route.id]=b)}i||(l[x]=Yy),p||(p=!0,h=Vc(P.error)?P.error.status:500),P.headers&&(v[x]=P.headers)}else l[x]=P.data,P.statusCode&&P.statusCode!==200&&!p&&(h=P.statusCode),P.headers&&(v[x]=P.headers)}),_!==void 0&&t&&(c={[t[0]]:_},l[t[0]]=void 0),{loaderData:l,errors:c,statusCode:h||200,loaderHeaders:v}}function iv(n,e,t,i,s,l){let{loaderData:c,errors:h}=DT(e,t,i);return s.forEach(p=>{let{key:v,match:_,controller:T}=p,x=l[v];if(nt(x,"Did not find corresponding fetcher result"),!(T&&T.signal.aborted))if(Zn(x)){let P=Qo(n.matches,_==null?void 0:_.route.id);h&&h[P.route.id]||(h={...h,[P.route.id]:x.error}),n.fetchers.delete(v)}else if(Xo(x))nt(!1,"Unhandled fetcher revalidation redirect");else{let P=ho(x.data);n.fetchers.set(v,P)}}),{loaderData:c,errors:h}}function ov(n,e,t,i){let s=Object.entries(e).filter(([,l])=>l!==Yy).reduce((l,[c,h])=>(l[c]=h,l),{});for(let l of t){let c=l.route.id;if(!e.hasOwnProperty(c)&&n.hasOwnProperty(c)&&l.route.loader&&(s[c]=n[c]),i&&i.hasOwnProperty(c))break}return s}function sv(n){return n?Zn(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Qo(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function av(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function fr(n,{pathname:e,routeId:t,method:i,type:s,message:l}={}){let c="Unknown Server Error",h="Unknown @remix-run/router error";return n===400?(c="Bad Request",i&&e&&t?h=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:s==="invalid-body"&&(h="Unable to encode submission body")):n===403?(c="Forbidden",h=`Route "${t}" does not match URL "${e}"`):n===404?(c="Not Found",h=`No route matches URL "${e}"`):n===405&&(c="Method Not Allowed",i&&e&&t?h=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:i&&(h=`Invalid request method "${i.toUpperCase()}"`)),new fc(n||500,c,new Error(h),!0)}function Bu(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,s]=e[t];if(Xo(s))return{key:i,result:s}}}function Jy(n){let e=typeof n=="string"?Vi(n):n;return Io({...e,hash:""})}function NT(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function OT(n){return Zy(n.result)&&yT.has(n.result.status)}function Zn(n){return n.type==="error"}function Xo(n){return(n&&n.type)==="redirect"}function lv(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function Zy(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function LT(n){return vT.has(n.toUpperCase())}function Mr(n){return mT.has(n.toUpperCase())}function Lf(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function Xa(n,e){let t=typeof e=="string"?Vi(e).search:e.search;if(n[n.length-1].route.index&&Lf(t||""))return n[n.length-1];let i=Ky(n);return i[i.length-1]}function uv(n){let{formMethod:e,formAction:t,formEncType:i,text:s,formData:l,json:c}=n;if(!(!e||!t||!i)){if(s!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:s};if(l!=null)return{formMethod:e,formAction:t,formEncType:i,formData:l,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:c,text:void 0}}}function Dh(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function VT(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Qa(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function MT(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function ho(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function FT(n,e){try{let t=n.sessionStorage.getItem(Qy);if(t){let i=JSON.parse(t);for(let[s,l]of Object.entries(i||{}))l&&Array.isArray(l)&&e.set(s,new Set(l||[]))}}catch{}}function UT(n,e){if(e.size>0){let t={};for(let[i,s]of e)t[i]=[...s];try{n.sessionStorage.setItem(Qy,JSON.stringify(t))}catch(i){Jt(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function jT(){let n,e,t=new Promise((i,s)=>{n=async l=>{i(l);try{await t}catch{}},e=async l=>{s(l);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var is=B.createContext(null);is.displayName="DataRouter";var wl=B.createContext(null);wl.displayName="DataRouterState";var Vf=B.createContext({isTransitioning:!1});Vf.displayName="ViewTransition";var e_=B.createContext(new Map);e_.displayName="Fetchers";var zT=B.createContext(null);zT.displayName="Await";var li=B.createContext(null);li.displayName="Navigation";var Mc=B.createContext(null);Mc.displayName="Location";var Mi=B.createContext({outlet:null,matches:[],isDataRoute:!1});Mi.displayName="Route";var Mf=B.createContext(null);Mf.displayName="RouteError";function BT(n,{relative:e}={}){nt(El(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=B.useContext(li),{hash:s,pathname:l,search:c}=Tl(n,{relative:e}),h=l;return t!=="/"&&(h=l==="/"?t:ni([t,l])),i.createHref({pathname:h,search:c,hash:s})}function El(){return B.useContext(Mc)!=null}function os(){return nt(El(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(Mc).location}var t_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function n_(n){B.useContext(li).static||B.useLayoutEffect(n)}function r_(){let{isDataRoute:n}=B.useContext(Mi);return n?tI():$T()}function $T(){nt(El(),"useNavigate() may be used only in the context of a <Router> component.");let n=B.useContext(is),{basename:e,navigator:t}=B.useContext(li),{matches:i}=B.useContext(Mi),{pathname:s}=os(),l=JSON.stringify(Df(i)),c=B.useRef(!1);return n_(()=>{c.current=!0}),B.useCallback((p,v={})=>{if(Jt(c.current,t_),!c.current)return;if(typeof p=="number"){t.go(p);return}let _=Nf(p,JSON.parse(l),s,v.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ni([e,_.pathname])),(v.replace?t.replace:t.push)(_,v.state,v)},[e,t,l,s,n])}B.createContext(null);function Tl(n,{relative:e}={}){let{matches:t}=B.useContext(Mi),{pathname:i}=os(),s=JSON.stringify(Df(t));return B.useMemo(()=>Nf(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function HT(n,e,t,i){nt(El(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=B.useContext(li),{matches:l}=B.useContext(Mi),c=l[l.length-1],h=c?c.params:{},p=c?c.pathname:"/",v=c?c.pathnameBase:"/",_=c&&c.route;{let W=_&&_.path||"";i_(p,!_||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let T=os(),x;x=T;let P=x.pathname||"/",b=P;if(v!=="/"){let W=v.replace(/^\//,"").split("/");b="/"+P.replace(/^\//,"").split("/").slice(W.length).join("/")}let j=fo(n,{pathname:b});return Jt(_||j!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Jt(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),QT(j&&j.map(W=>Object.assign({},W,{params:Object.assign({},h,W.params),pathname:ni([v,s.encodeLocation?s.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?v:ni([v,s.encodeLocation?s.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),l,t,i)}function qT(){let n=eI(),e=Vc(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:l},"ErrorBoundary")," or"," ",B.createElement("code",{style:l},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),t?B.createElement("pre",{style:s},t):null,c)}var WT=B.createElement(qT,null),KT=class extends B.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?B.createElement(Mi.Provider,{value:this.props.routeContext},B.createElement(Mf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function GT({routeContext:n,match:e,children:t}){let i=B.useContext(is);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Mi.Provider,{value:n},t)}function QT(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,l=t==null?void 0:t.errors;if(l!=null){let p=s.findIndex(v=>v.route.id&&(l==null?void 0:l[v.route.id])!==void 0);nt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let c=!1,h=-1;if(t)for(let p=0;p<s.length;p++){let v=s[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(h=p),v.route.id){let{loaderData:_,errors:T}=t,x=v.route.loader&&!_.hasOwnProperty(v.route.id)&&(!T||T[v.route.id]===void 0);if(v.route.lazy||x){c=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((p,v,_)=>{let T,x=!1,P=null,b=null;t&&(T=l&&v.route.id?l[v.route.id]:void 0,P=v.route.errorElement||WT,c&&(h<0&&_===0?(i_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,b=null):h===_&&(x=!0,b=v.route.hydrateFallbackElement||null)));let j=e.concat(s.slice(0,_+1)),F=()=>{let W;return T?W=P:x?W=b:v.route.Component?W=B.createElement(v.route.Component,null):v.route.element?W=v.route.element:W=p,B.createElement(GT,{match:v,routeContext:{outlet:p,matches:j,isDataRoute:t!=null},children:W})};return t&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?B.createElement(KT,{location:t.location,revalidation:t.revalidation,component:P,error:T,children:F(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):F()},null)}function Ff(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YT(n){let e=B.useContext(is);return nt(e,Ff(n)),e}function XT(n){let e=B.useContext(wl);return nt(e,Ff(n)),e}function JT(n){let e=B.useContext(Mi);return nt(e,Ff(n)),e}function Uf(n){let e=JT(n),t=e.matches[e.matches.length-1];return nt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function ZT(){return Uf("useRouteId")}function eI(){var i;let n=B.useContext(Mf),e=XT("useRouteError"),t=Uf("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function tI(){let{router:n}=YT("useNavigate"),e=Uf("useNavigate"),t=B.useRef(!1);return n_(()=>{t.current=!0}),B.useCallback(async(s,l={})=>{Jt(t.current,t_),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...l}))},[n,e])}var cv={};function i_(n,e,t){!e&&!cv[n]&&(cv[n]=!0,Jt(!1,t))}var dv={};function hv(n,e){!n&&!dv[e]&&(dv[e]=!0,console.warn(e))}function nI(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&Jt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:B.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&Jt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:B.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&Jt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:B.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var rI=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}};function iI({router:n,flushSync:e}){let[t,i]=B.useState(n.state),[s,l]=B.useState(),[c,h]=B.useState({isTransitioning:!1}),[p,v]=B.useState(),[_,T]=B.useState(),[x,P]=B.useState(),b=B.useRef(new Map),j=B.useCallback((Z,{deletedFetchers:fe,flushSync:V,viewTransitionOpts:ie})=>{Z.fetchers.forEach((I,S)=>{I.data!==void 0&&b.current.set(S,I.data)}),fe.forEach(I=>b.current.delete(I)),hv(V===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let A=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(hv(ie==null||A,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!ie||!A){e&&V?e(()=>i(Z)):B.startTransition(()=>i(Z));return}if(e&&V){e(()=>{_&&(p&&p.resolve(),_.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:ie.currentLocation,nextLocation:ie.nextLocation})});let I=n.window.document.startViewTransition(()=>{e(()=>i(Z))});I.finished.finally(()=>{e(()=>{v(void 0),T(void 0),l(void 0),h({isTransitioning:!1})})}),e(()=>T(I));return}_?(p&&p.resolve(),_.skipTransition(),P({state:Z,currentLocation:ie.currentLocation,nextLocation:ie.nextLocation})):(l(Z),h({isTransitioning:!0,flushSync:!1,currentLocation:ie.currentLocation,nextLocation:ie.nextLocation}))},[n.window,e,_,p]);B.useLayoutEffect(()=>n.subscribe(j),[n,j]),B.useEffect(()=>{c.isTransitioning&&!c.flushSync&&v(new rI)},[c]),B.useEffect(()=>{if(p&&s&&n.window){let Z=s,fe=p.promise,V=n.window.document.startViewTransition(async()=>{B.startTransition(()=>i(Z)),await fe});V.finished.finally(()=>{v(void 0),T(void 0),l(void 0),h({isTransitioning:!1})}),T(V)}},[s,p,n.window]),B.useEffect(()=>{p&&s&&t.location.key===s.location.key&&p.resolve()},[p,_,t.location,s]),B.useEffect(()=>{!c.isTransitioning&&x&&(l(x.state),h({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}),P(void 0))},[c.isTransitioning,x]);let F=B.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:Z=>n.navigate(Z),push:(Z,fe,V)=>n.navigate(Z,{state:fe,preventScrollReset:V==null?void 0:V.preventScrollReset}),replace:(Z,fe,V)=>n.navigate(Z,{replace:!0,state:fe,preventScrollReset:V==null?void 0:V.preventScrollReset})}),[n]),W=n.basename||"/",te=B.useMemo(()=>({router:n,navigator:F,static:!1,basename:W}),[n,F,W]);return B.createElement(B.Fragment,null,B.createElement(is.Provider,{value:te},B.createElement(wl.Provider,{value:t},B.createElement(e_.Provider,{value:b.current},B.createElement(Vf.Provider,{value:c},B.createElement(aI,{basename:W,location:t.location,navigationType:t.historyAction,navigator:F},B.createElement(oI,{routes:n.routes,future:n.future,state:t})))))),null)}var oI=B.memo(sI);function sI({routes:n,future:e,state:t}){return HT(n,void 0,t,e)}function aI({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:l=!1}){nt(!El(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=B.useMemo(()=>({basename:c,navigator:s,static:l,future:{}}),[c,s,l]);typeof t=="string"&&(t=Vi(t));let{pathname:p="/",search:v="",hash:_="",state:T=null,key:x="default"}=t,P=B.useMemo(()=>{let b=zr(p,c);return b==null?null:{location:{pathname:b,search:v,hash:_,state:T,key:x},navigationType:i}},[c,p,v,_,T,x,i]);return Jt(P!=null,`<Router basename="${c}"> is not able to match the URL "${p}${v}${_}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:B.createElement(li.Provider,{value:h},B.createElement(Mc.Provider,{children:e,value:P}))}var ec="get",tc="application/x-www-form-urlencoded";function Fc(n){return n!=null&&typeof n.tagName=="string"}function lI(n){return Fc(n)&&n.tagName.toLowerCase()==="button"}function uI(n){return Fc(n)&&n.tagName.toLowerCase()==="form"}function cI(n){return Fc(n)&&n.tagName.toLowerCase()==="input"}function dI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function hI(n,e){return n.button===0&&(!e||e==="_self")&&!dI(n)}var $u=null;function fI(){if($u===null)try{new FormData(document.createElement("form"),0),$u=!1}catch{$u=!0}return $u}var pI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nh(n){return n!=null&&!pI.has(n)?(Jt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${tc}"`),null):n}function mI(n,e){let t,i,s,l,c;if(uI(n)){let h=n.getAttribute("action");i=h?zr(h,e):null,t=n.getAttribute("method")||ec,s=Nh(n.getAttribute("enctype"))||tc,l=new FormData(n)}else if(lI(n)||cI(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||h.getAttribute("action");if(i=p?zr(p,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||ec,s=Nh(n.getAttribute("formenctype"))||Nh(h.getAttribute("enctype"))||tc,l=new FormData(h,n),!fI()){let{name:v,type:_,value:T}=n;if(_==="image"){let x=v?`${v}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else v&&l.append(v,T)}}else{if(Fc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=ec,i=null,s=tc,c=n}return l&&s==="text/plain"&&(c=l,l=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:l,body:c}}function jf(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function gI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function yI(n,e,t){let i=await Promise.all(n.map(async s=>{let l=e.routes[s.route.id];if(l){let c=await gI(l,t);return c.links?c.links():[]}return[]}));return TI(i.flat(1).filter(vI).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function fv(n,e,t,i,s,l){let c=(p,v)=>t[v]?p.route.id!==t[v].route.id:!0,h=(p,v)=>{var _;return t[v].pathname!==p.pathname||((_=t[v].route.path)==null?void 0:_.endsWith("*"))&&t[v].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,v)=>c(p,v)||h(p,v)):l==="data"?e.filter((p,v)=>{var T;let _=i.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,v)||h(p,v))return!0;if(p.route.shouldRevalidate){let x=p.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function _I(n,e){return wI(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let s=[i.module];return i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function wI(n){return[...new Set(n)]}function EI(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function TI(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let l=JSON.stringify(EI(s));return t.has(l)||(t.add(l),i.push({key:l,link:s})),i},[])}function II(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function xI(){let n=B.useContext(is);return jf(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function SI(){let n=B.useContext(wl);return jf(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var zf=B.createContext(void 0);zf.displayName="FrameworkContext";function o_(){let n=B.useContext(zf);return jf(n,"You must render this element inside a <HydratedRouter> element"),n}function RI(n,e){let t=B.useContext(zf),[i,s]=B.useState(!1),[l,c]=B.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:v,onMouseLeave:_,onTouchStart:T}=e,x=B.useRef(null);B.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let j=W=>{W.forEach(te=>{c(te.isIntersecting)})},F=new IntersectionObserver(j,{threshold:.5});return x.current&&F.observe(x.current),()=>{F.disconnect()}}},[n]),B.useEffect(()=>{if(i){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[i]);let P=()=>{s(!0)},b=()=>{s(!1),c(!1)};return t?n!=="intent"?[l,x,{}]:[l,x,{onFocus:Ya(h,P),onBlur:Ya(p,b),onMouseEnter:Ya(v,P),onMouseLeave:Ya(_,b),onTouchStart:Ya(T,P)}]:[!1,x,{}]}function Ya(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function kI({page:n,...e}){let{router:t}=xI(),i=B.useMemo(()=>fo(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?B.createElement(PI,{page:n,matches:i,...e}):null}function AI(n){let{manifest:e,routeModules:t}=o_(),[i,s]=B.useState([]);return B.useEffect(()=>{let l=!1;return yI(n,e,t).then(c=>{l||s(c)}),()=>{l=!0}},[n,e,t]),i}function PI({page:n,matches:e,...t}){let i=os(),{manifest:s,routeModules:l}=o_(),{loaderData:c,matches:h}=SI(),p=B.useMemo(()=>fv(n,e,h,s,i,"data"),[n,e,h,s,i]),v=B.useMemo(()=>fv(n,e,h,s,i,"assets"),[n,e,h,s,i]),_=B.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let P=new Set,b=!1;if(e.forEach(F=>{var te;let W=s.routes[F.route.id];!W||!W.hasLoader||(!p.some(Z=>Z.route.id===F.route.id)&&F.route.id in c&&((te=l[F.route.id])!=null&&te.shouldRevalidate)||W.hasClientLoader?b=!0:P.add(F.route.id))}),P.size===0)return[];let j=II(n);return b&&P.size>0&&j.searchParams.set("_routes",e.filter(F=>P.has(F.route.id)).map(F=>F.route.id).join(",")),[j.pathname+j.search]},[c,i,s,p,e,n,l]),T=B.useMemo(()=>_I(v,s),[v,s]),x=AI(v);return B.createElement(B.Fragment,null,_.map(P=>B.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...t})),T.map(P=>B.createElement("link",{key:P,rel:"modulepreload",href:P,...t})),x.map(({key:P,link:b})=>B.createElement("link",{key:P,...b})))}function CI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var s_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{s_&&(window.__reactRouterVersion="7.1.3")}catch{}function bI(n,e){return TT({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:WE({window:e==null?void 0:e.window}),hydrationData:DI(),routes:n,mapRouteProperties:nI,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function DI(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:NI(n.errors)}),n}function NI(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,s]of e)if(s&&s.__type==="RouteErrorResponse")t[i]=new fc(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let l=window[s.__subType];if(typeof l=="function")try{let c=new l(s.message);c.stack="",t[i]=c}catch{}}if(t[i]==null){let l=new Error(s.message);l.stack="",t[i]=l}}else t[i]=s;return t}var a_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,l_=B.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:l,replace:c,state:h,target:p,to:v,preventScrollReset:_,viewTransition:T,...x},P){let{basename:b}=B.useContext(li),j=typeof v=="string"&&a_.test(v),F,W=!1;if(typeof v=="string"&&j&&(F=v,s_))try{let S=new URL(window.location.href),C=v.startsWith("//")?new URL(S.protocol+v):new URL(v),O=zr(C.pathname,b);C.origin===S.origin&&O!=null?v=O+C.search+C.hash:W=!0}catch{Jt(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=BT(v,{relative:s}),[Z,fe,V]=RI(i,x),ie=MI(v,{replace:c,state:h,target:p,preventScrollReset:_,relative:s,viewTransition:T});function A(S){e&&e(S),S.defaultPrevented||ie(S)}let I=B.createElement("a",{...x,...V,href:F||te,onClick:W||l?e:A,ref:CI(P,fe),target:p,"data-discover":!j&&t==="render"?"true":void 0});return Z&&!j?B.createElement(B.Fragment,null,I,B.createElement(kI,{page:te})):I});l_.displayName="Link";var OI=B.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:l,to:c,viewTransition:h,children:p,...v},_){let T=Tl(c,{relative:v.relative}),x=os(),P=B.useContext(wl),{navigator:b,basename:j}=B.useContext(li),F=P!=null&&BI(T)&&h===!0,W=b.encodeLocation?b.encodeLocation(T).pathname:T.pathname,te=x.pathname,Z=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;t||(te=te.toLowerCase(),Z=Z?Z.toLowerCase():null,W=W.toLowerCase()),Z&&j&&(Z=zr(Z,j)||Z);const fe=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let V=te===W||!s&&te.startsWith(W)&&te.charAt(fe)==="/",ie=Z!=null&&(Z===W||!s&&Z.startsWith(W)&&Z.charAt(W.length)==="/"),A={isActive:V,isPending:ie,isTransitioning:F},I=V?e:void 0,S;typeof i=="function"?S=i(A):S=[i,V?"active":null,ie?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let C=typeof l=="function"?l(A):l;return B.createElement(l_,{...v,"aria-current":I,className:S,ref:_,style:C,to:c,viewTransition:h},typeof p=="function"?p(A):p)});OI.displayName="NavLink";var LI=B.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:l,method:c=ec,action:h,onSubmit:p,relative:v,preventScrollReset:_,viewTransition:T,...x},P)=>{let b=jI(),j=zI(h,{relative:v}),F=c.toLowerCase()==="get"?"get":"post",W=typeof h=="string"&&a_.test(h),te=Z=>{if(p&&p(Z),Z.defaultPrevented)return;Z.preventDefault();let fe=Z.nativeEvent.submitter,V=(fe==null?void 0:fe.getAttribute("formmethod"))||c;b(fe||Z.currentTarget,{fetcherKey:e,method:V,navigate:t,replace:s,state:l,relative:v,preventScrollReset:_,viewTransition:T})};return B.createElement("form",{ref:P,method:F,action:j,onSubmit:i?p:te,...x,"data-discover":!W&&n==="render"?"true":void 0})});LI.displayName="Form";function VI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function u_(n){let e=B.useContext(is);return nt(e,VI(n)),e}function MI(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:l,viewTransition:c}={}){let h=r_(),p=os(),v=Tl(n,{relative:l});return B.useCallback(_=>{if(hI(_,e)){_.preventDefault();let T=t!==void 0?t:Io(p)===Io(v);h(n,{replace:T,state:i,preventScrollReset:s,relative:l,viewTransition:c})}},[p,h,v,t,i,e,n,s,l,c])}var FI=0,UI=()=>`__${String(++FI)}__`;function jI(){let{router:n}=u_("useSubmit"),{basename:e}=B.useContext(li),t=ZT();return B.useCallback(async(i,s={})=>{let{action:l,method:c,encType:h,formData:p,body:v}=mI(i,e);if(s.navigate===!1){let _=s.fetcherKey||UI();await n.fetch(_,t,s.action||l,{preventScrollReset:s.preventScrollReset,formData:p,body:v,formMethod:s.method||c,formEncType:s.encType||h,flushSync:s.flushSync})}else await n.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:p,body:v,formMethod:s.method||c,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function zI(n,{relative:e}={}){let{basename:t}=B.useContext(li),i=B.useContext(Mi);nt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),l={...Tl(n||".",{relative:e})},c=os();if(n==null){l.search=c.search;let h=new URLSearchParams(l.search),p=h.getAll("index");if(p.some(_=>_==="")){h.delete("index"),p.filter(T=>T).forEach(T=>h.append("index",T));let _=h.toString();l.search=_?`?${_}`:""}}return(!n||n===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:ni([t,l.pathname])),Io(l)}function BI(n,e={}){let t=B.useContext(Vf);nt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=u_("useViewTransitionState"),s=Tl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=zr(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=zr(t.nextLocation.pathname,i)||t.nextLocation.pathname;return hc(s.pathname,c)!=null||hc(s.pathname,l)!=null}new TextEncoder;var $I=Hy();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function HI(n){return B.createElement(iI,{flushSync:$I.flushSync,...n})}const tf=({type:n,placeholder:e,icon:t,value:i,onChange:s,id:l})=>je.jsxs("div",{className:"input-form",children:[je.jsx("span",{children:je.jsx("i",{className:t})}),je.jsx("input",{type:n,placeholder:e,value:i,onChange:s,id:l,required:!0,autoComplete:"off",minLength:n==="password"?6:void 0})]}),pv=({onSubmit:n,error:e,email:t,setEmail:i,password:s,setPassword:l})=>{const c=()=>{!t||!s?setError("Please fill in all fields"):n()};return je.jsxs("div",{className:"form",children:[je.jsxs("form",{children:[je.jsx(tf,{type:"text",placeholder:"Email",value:t,onChange:h=>i(h.target.value),icon:"fas fa-envelope"}),je.jsx(tf,{type:"password",placeholder:"Password",value:s,onChange:h=>l(h.target.value),icon:"fa-solid fa-lock"})]}),e&&je.jsx("div",{className:"error",children:e}),je.jsx("div",{id:"goBtn",onClick:c,children:"Go"})]})},qI=(n,e)=>{localStorage.setItem("userName",n),localStorage.setItem("userID",e)};var mv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},WI=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const l=n[t++];e[i++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=n[t++],c=n[t++],h=n[t++],p=((s&7)<<18|(l&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],c=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(l&63)<<6|c&63)}}return e.join("")},d_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const l=n[s],c=s+1<n.length,h=c?n[s+1]:0,p=s+2<n.length,v=p?n[s+2]:0,_=l>>2,T=(l&3)<<4|h>>4;let x=(h&15)<<2|v>>6,P=v&63;p||(P=64,c||(x=64)),i.push(t[_],t[T],t[x],t[P])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(c_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):WI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const l=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;const v=s<n.length?t[n.charAt(s)]:64;++s;const T=s<n.length?t[n.charAt(s)]:64;if(++s,l==null||h==null||v==null||T==null)throw new KI;const x=l<<2|h>>4;if(i.push(x),v!==64){const P=h<<4&240|v>>2;if(i.push(P),T!==64){const b=v<<6&192|T;i.push(b)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class KI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GI=function(n){const e=c_(n);return d_.encodeByteArray(e,!0)},pc=function(n){return GI(n).replace(/\./g,"")},h_=function(n){try{return d_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI=()=>QI().__FIREBASE_DEFAULTS__,XI=()=>{if(typeof process>"u"||typeof mv>"u")return;const n=mv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},JI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&h_(n[1]);return e&&JSON.parse(e)},Uc=()=>{try{return YI()||XI()||JI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},f_=n=>{var e,t;return(t=(e=Uc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},ZI=n=>{const e=f_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},p_=()=>{var n;return(n=Uc())===null||n===void 0?void 0:n.config},m_=n=>{var e;return(e=Uc())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[pc(JSON.stringify(t)),pc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function rx(){var n;const e=(n=Uc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ix(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ox(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function sx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ax(){const n=wn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function lx(){return!rx()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ux(){try{return typeof indexedDB=="object"}catch{return!1}}function cx(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var l;e(((l=s.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx="FirebaseError";class Fi extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=dx,Object.setPrototypeOf(this,Fi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Il.prototype.create)}}class Il{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,l=this.errors[e],c=l?hx(l,i):"Error",h=`${this.serviceName}: ${c} (${s}).`;return new Fi(s,h,i)}}function hx(n,e){return n.replace(fx,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const fx=/\{\$([^}]+)}/g;function px(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function mc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const l=n[s],c=e[s];if(gv(l)&&gv(c)){if(!mc(l,c))return!1}else if(l!==c)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function gv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Ja(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,l]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(l)}}),e}function Za(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function mx(n,e){const t=new gx(n,e);return t.subscribe.bind(t)}class gx{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");vx(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=Oh),s.error===void 0&&(s.error=Oh),s.complete===void 0&&(s.complete=Oh);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vx(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Oh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(n){return n&&n._delegate?n._delegate:n}class es{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new ex;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wx(e))try{this.getOrInitializeService({instanceIdentifier:Go})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:s});i.resolve(l)}catch{}}}}clearInstance(e=Go){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Go){return this.instances.has(e)}getOptions(e=Go){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&c.resolve(s)}return s}onInit(e,t){var i;const s=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&e(c,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:_x(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Go){return this.component?this.component.multipleInstances?e:Go:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _x(n){return n===Go?void 0:n}function wx(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new yx(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Xe||(Xe={}));const Tx={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},Ix=Xe.INFO,xx={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},Sx=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=xx[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bf{constructor(e){this.name=e,this._logLevel=Ix,this._logHandler=Sx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Tx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const Rx=(n,e)=>e.some(t=>n instanceof t);let vv,yv;function kx(){return vv||(vv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ax(){return yv||(yv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const g_=new WeakMap,nf=new WeakMap,v_=new WeakMap,Lh=new WeakMap,$f=new WeakMap;function Px(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(yo(n.result)),s()},c=()=>{i(n.error),s()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&g_.set(t,n)}).catch(()=>{}),$f.set(e,n),e}function Cx(n){if(nf.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),s()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});nf.set(n,e)}let rf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return nf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||v_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return yo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function bx(n){rf=n(rf)}function Dx(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Vh(this),e,...t);return v_.set(i,e.sort?e.sort():[e]),yo(i)}:Ax().includes(n)?function(...e){return n.apply(Vh(this),e),yo(g_.get(this))}:function(...e){return yo(n.apply(Vh(this),e))}}function Nx(n){return typeof n=="function"?Dx(n):(n instanceof IDBTransaction&&Cx(n),Rx(n,kx())?new Proxy(n,rf):n)}function yo(n){if(n instanceof IDBRequest)return Px(n);if(Lh.has(n))return Lh.get(n);const e=Nx(n);return e!==n&&(Lh.set(n,e),$f.set(e,n)),e}const Vh=n=>$f.get(n);function Ox(n,e,{blocked:t,upgrade:i,blocking:s,terminated:l}={}){const c=indexedDB.open(n,e),h=yo(c);return i&&c.addEventListener("upgradeneeded",p=>{i(yo(c.result),p.oldVersion,p.newVersion,yo(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),h.then(p=>{l&&p.addEventListener("close",()=>l()),s&&p.addEventListener("versionchange",v=>s(v.oldVersion,v.newVersion,v))}).catch(()=>{}),h}const Lx=["get","getKey","getAll","getAllKeys","count"],Vx=["put","add","delete","clear"],Mh=new Map;function _v(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Mh.get(e))return Mh.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=Vx.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||Lx.includes(t)))return;const l=async function(c,...h){const p=this.transaction(c,s?"readwrite":"readonly");let v=p.store;return i&&(v=v.index(h.shift())),(await Promise.all([v[t](...h),s&&p.done]))[0]};return Mh.set(e,l),l}bx(n=>({...n,get:(e,t,i)=>_v(e,t)||n.get(e,t,i),has:(e,t)=>!!_v(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Fx(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function Fx(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const of="@firebase/app",wv="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new Bf("@firebase/app"),Ux="@firebase/app-compat",jx="@firebase/analytics-compat",zx="@firebase/analytics",Bx="@firebase/app-check-compat",$x="@firebase/app-check",Hx="@firebase/auth",qx="@firebase/auth-compat",Wx="@firebase/database",Kx="@firebase/data-connect",Gx="@firebase/database-compat",Qx="@firebase/functions",Yx="@firebase/functions-compat",Xx="@firebase/installations",Jx="@firebase/installations-compat",Zx="@firebase/messaging",eS="@firebase/messaging-compat",tS="@firebase/performance",nS="@firebase/performance-compat",rS="@firebase/remote-config",iS="@firebase/remote-config-compat",oS="@firebase/storage",sS="@firebase/storage-compat",aS="@firebase/firestore",lS="@firebase/vertexai",uS="@firebase/firestore-compat",cS="firebase",dS="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf="[DEFAULT]",hS={[of]:"fire-core",[Ux]:"fire-core-compat",[zx]:"fire-analytics",[jx]:"fire-analytics-compat",[$x]:"fire-app-check",[Bx]:"fire-app-check-compat",[Hx]:"fire-auth",[qx]:"fire-auth-compat",[Wx]:"fire-rtdb",[Kx]:"fire-data-connect",[Gx]:"fire-rtdb-compat",[Qx]:"fire-fn",[Yx]:"fire-fn-compat",[Xx]:"fire-iid",[Jx]:"fire-iid-compat",[Zx]:"fire-fcm",[eS]:"fire-fcm-compat",[tS]:"fire-perf",[nS]:"fire-perf-compat",[rS]:"fire-rc",[iS]:"fire-rc-compat",[oS]:"fire-gcs",[sS]:"fire-gcs-compat",[aS]:"fire-fst",[uS]:"fire-fst-compat",[lS]:"fire-vertex","fire-js":"fire-js",[cS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc=new Map,fS=new Map,af=new Map;function Ev(n,e){try{n.container.addComponent(e)}catch(t){Di.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ea(n){const e=n.name;if(af.has(e))return Di.debug(`There were multiple attempts to register component ${e}.`),!1;af.set(e,n);for(const t of gc.values())Ev(t,n);for(const t of fS.values())Ev(t,n);return!0}function Hf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Fr(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_o=new Il("app","Firebase",pS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new es("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _o.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=dS;function y_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:sf,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw _o.create("bad-app-name",{appName:String(s)});if(t||(t=p_()),!t)throw _o.create("no-options");const l=gc.get(s);if(l){if(mc(t,l.options)&&mc(i,l.config))return l;throw _o.create("duplicate-app",{appName:s})}const c=new Ex(s);for(const p of af.values())c.addComponent(p);const h=new mS(t,i,c);return gc.set(s,h),h}function __(n=sf){const e=gc.get(n);if(!e&&n===sf&&p_())return y_();if(!e)throw _o.create("no-app",{appName:n});return e}function wo(n,e,t){var i;let s=(i=hS[n])!==null&&i!==void 0?i:n;t&&(s+=`-${t}`);const l=s.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const h=[`Unable to register library "${s}" with version "${e}":`];l&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Di.warn(h.join(" "));return}ea(new es(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="firebase-heartbeat-database",vS=1,ul="firebase-heartbeat-store";let Fh=null;function w_(){return Fh||(Fh=Ox(gS,vS,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ul)}catch(t){console.warn(t)}}}}).catch(n=>{throw _o.create("idb-open",{originalErrorMessage:n.message})})),Fh}async function yS(n){try{const t=(await w_()).transaction(ul),i=await t.objectStore(ul).get(E_(n));return await t.done,i}catch(e){if(e instanceof Fi)Di.warn(e.message);else{const t=_o.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Di.warn(t.message)}}}async function Tv(n,e){try{const i=(await w_()).transaction(ul,"readwrite");await i.objectStore(ul).put(e,E_(n)),await i.done}catch(t){if(t instanceof Fi)Di.warn(t.message);else{const i=_o.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Di.warn(i.message)}}}function E_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=1024,wS=30*24*60*60*1e3;class ES{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new IS(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=Iv();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const h=new Date(c.date).valueOf();return Date.now()-h<=wS}),this._storage.overwrite(this._heartbeatsCache))}catch(i){Di.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Iv(),{heartbeatsToSend:i,unsentEntries:s}=TS(this._heartbeatsCache.heartbeats),l=pc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Di.warn(t),""}}}function Iv(){return new Date().toISOString().substring(0,10)}function TS(n,e=_S){const t=[];let i=n.slice();for(const s of n){const l=t.find(c=>c.agent===s.agent);if(l){if(l.dates.push(s.date),xv(t)>e){l.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),xv(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class IS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ux()?cx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await yS(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Tv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Tv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function xv(n){return pc(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(n){ea(new es("platform-logger",e=>new Mx(e),"PRIVATE")),ea(new es("heartbeat",e=>new ES(e),"PRIVATE")),wo(of,wv,n),wo(of,wv,"esm2017"),wo("fire-js","")}xS("");function qf(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t}function ss(n,e,t,i){function s(l){return l instanceof t?l:new t(function(c){c(l)})}return new(t||(t=Promise))(function(l,c){function h(_){try{v(i.next(_))}catch(T){c(T)}}function p(_){try{v(i.throw(_))}catch(T){c(T)}}function v(_){_.done?l(_.value):s(_.value).then(h,p)}v((i=i.apply(n,e||[])).next())})}function T_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SS=T_,I_=new Il("auth","Firebase",T_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vc=new Bf("@firebase/auth");function RS(n,...e){vc.logLevel<=Xe.WARN&&vc.warn(`Auth (${ua}): ${n}`,...e)}function nc(n,...e){vc.logLevel<=Xe.ERROR&&vc.error(`Auth (${ua}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(n,...e){throw Kf(n,...e)}function jr(n,...e){return Kf(n,...e)}function Wf(n,e,t){const i=Object.assign(Object.assign({},SS()),{[e]:t});return new Il("auth","Firebase",i).create(e,{appName:n.name})}function Ci(n){return Wf(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kS(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&vr(n,"argument-error"),Wf(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Kf(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return I_.create(n,...e)}function Ve(n,e,...t){if(!n)throw Kf(e,...t)}function ki(n){const e="INTERNAL ASSERTION FAILED: "+n;throw nc(e),new Error(e)}function Ni(n,e){n||ki(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lf(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function AS(){return Sv()==="http:"||Sv()==="https:"}function Sv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AS()||ox()||"connection"in navigator)?navigator.onLine:!0}function CS(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ni(t>e,"Short delay should be less than long delay!"),this.isMobile=nx()||sx()}get(){return PS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(n,e){Ni(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=new Sl(3e4,6e4);function Ui(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function ji(n,e,t,i,s={}){return S_(n,s,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const h=xl(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const v=Object.assign({method:e,headers:p},l);return ix()||(v.referrerPolicy="no-referrer"),x_.fetch()(R_(n,n.config.apiHost,t,h),v)})}async function S_(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},bS),e);try{const s=new OS(n),l=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw Hu(n,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const h=l.ok?c.errorMessage:c.error.message,[p,v]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Hu(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Hu(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw Hu(n,"user-disabled",c);const _=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Wf(n,_,v);vr(n,_)}}catch(s){if(s instanceof Fi)throw s;vr(n,"network-request-failed",{message:String(s)})}}async function Rl(n,e,t,i,s={}){const l=await ji(n,e,t,i,s);return"mfaPendingCredential"in l&&vr(n,"multi-factor-auth-required",{_serverResponse:l}),l}function R_(n,e,t,i){const s=`${e}${t}?${i}`;return n.config.emulator?Gf(n.config,s):`${n.config.apiScheme}://${s}`}function NS(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class OS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(jr(this.auth,"network-request-failed")),DS.get())})}}function Hu(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=jr(n,e,i);return s.customData._tokenResponse=t,s}function Rv(n){return n!==void 0&&n.enterprise!==void 0}class LS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return NS(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function VS(n,e){return ji(n,"GET","/v2/recaptchaConfig",Ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MS(n,e){return ji(n,"POST","/v1/accounts:delete",e)}async function k_(n,e){return ji(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FS(n,e=!1){const t=gr(n),i=await t.getIdToken(e),s=Qf(i);Ve(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const l=typeof s.firebase=="object"?s.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:s,token:i,authTime:rl(Uh(s.auth_time)),issuedAtTime:rl(Uh(s.iat)),expirationTime:rl(Uh(s.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Uh(n){return Number(n)*1e3}function Qf(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return nc("JWT malformed, contained fewer than 3 sections"),null;try{const s=h_(t);return s?JSON.parse(s):(nc("Failed to decode base64 JWT payload"),null)}catch(s){return nc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function kv(n){const e=Qf(n);return Ve(e,"internal-error"),Ve(typeof e.exp<"u","internal-error"),Ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Fi&&US(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function US({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=rl(this.lastLoginAt),this.creationTime=rl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yc(n){var e;const t=n.auth,i=await n.getIdToken(),s=await cl(n,k_(t,{idToken:i}));Ve(s==null?void 0:s.users.length,t,"internal-error");const l=s.users[0];n._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?A_(l.providerUserInfo):[],h=BS(n.providerData,c),p=n.isAnonymous,v=!(n.email&&l.passwordHash)&&!(h!=null&&h.length),_=p?v:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new uf(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(n,T)}async function zS(n){const e=gr(n);await yc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BS(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function A_(n){return n.map(e=>{var{providerId:t}=e,i=qf(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $S(n,e){const t=await S_(n,{},async()=>{const i=xl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:l}=n.config,c=R_(n,s,"/v1/token",`key=${l}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",x_.fetch()(c,{method:"POST",headers:h,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function HS(n,e){return ji(n,"POST","/v2/accounts:revokeToken",Ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ve(e.idToken,"internal-error"),Ve(typeof e.idToken<"u","internal-error"),Ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ve(e.length!==0,"internal-error");const t=kv(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:l}=await $S(e,t);this.updateTokensAndExpiration(i,s,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:l}=t,c=new Ys;return i&&(Ve(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),s&&(Ve(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),l&&(Ve(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ys,this.toJSON())}_performRefresh(){return ki("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(n,e){Ve(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ai{constructor(e){var{uid:t,auth:i,stsTokenManager:s}=e,l=qf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new uf(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await cl(this,this.stsTokenManager.getToken(this.auth,e));return Ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return FS(this,e)}reload(){return zS(this)}_assign(e){this!==e&&(Ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ai(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await yc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fr(this.auth.app))return Promise.reject(Ci(this.auth));const e=await this.getIdToken();return await cl(this,MS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,s,l,c,h,p,v,_;const T=(i=t.displayName)!==null&&i!==void 0?i:void 0,x=(s=t.email)!==null&&s!==void 0?s:void 0,P=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,b=(c=t.photoURL)!==null&&c!==void 0?c:void 0,j=(h=t.tenantId)!==null&&h!==void 0?h:void 0,F=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,W=(v=t.createdAt)!==null&&v!==void 0?v:void 0,te=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:Z,emailVerified:fe,isAnonymous:V,providerData:ie,stsTokenManager:A}=t;Ve(Z&&A,e,"internal-error");const I=Ys.fromJSON(this.name,A);Ve(typeof Z=="string",e,"internal-error"),co(T,e.name),co(x,e.name),Ve(typeof fe=="boolean",e,"internal-error"),Ve(typeof V=="boolean",e,"internal-error"),co(P,e.name),co(b,e.name),co(j,e.name),co(F,e.name),co(W,e.name),co(te,e.name);const S=new Ai({uid:Z,auth:e,email:x,emailVerified:fe,displayName:T,isAnonymous:V,photoURL:b,phoneNumber:P,tenantId:j,stsTokenManager:I,createdAt:W,lastLoginAt:te});return ie&&Array.isArray(ie)&&(S.providerData=ie.map(C=>Object.assign({},C))),F&&(S._redirectEventId=F),S}static async _fromIdTokenResponse(e,t,i=!1){const s=new Ys;s.updateFromServerResponse(t);const l=new Ai({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await yc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];Ve(s.localId!==void 0,"internal-error");const l=s.providerUserInfo!==void 0?A_(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!(l!=null&&l.length),h=new Ys;h.updateFromIdToken(i);const p=new Ai({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:c}),v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:l,metadata:new uf(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,v),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av=new Map;function Pi(n){Ni(n instanceof Function,"Expected a class definition");let e=Av.get(n);return e?(Ni(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Av.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}P_.type="NONE";const Pv=P_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rc(n,e,t){return`firebase:${n}:${e}:${t}`}class Xs{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:l}=this.auth;this.fullUserKey=rc(this.userKey,s.apiKey,l),this.fullPersistenceKey=rc("persistence",s.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ai._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Xs(Pi(Pv),e,i);const s=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let l=s[0]||Pi(Pv);const c=rc(i,e.config.apiKey,e.name);let h=null;for(const v of t)try{const _=await v._get(c);if(_){const T=Ai._fromJSON(e,_);v!==l&&(h=T),l=v;break}}catch{}const p=s.filter(v=>v._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Xs(l,e,i):(l=p[0],h&&await l._set(c,h.toJSON()),await Promise.all(t.map(async v=>{if(v!==l)try{await v._remove(c)}catch{}})),new Xs(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(N_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(C_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(L_(e))return"Blackberry";if(V_(e))return"Webos";if(b_(e))return"Safari";if((e.includes("chrome/")||D_(e))&&!e.includes("edge/"))return"Chrome";if(O_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function C_(n=wn()){return/firefox\//i.test(n)}function b_(n=wn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function D_(n=wn()){return/crios\//i.test(n)}function N_(n=wn()){return/iemobile/i.test(n)}function O_(n=wn()){return/android/i.test(n)}function L_(n=wn()){return/blackberry/i.test(n)}function V_(n=wn()){return/webos/i.test(n)}function Yf(n=wn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function qS(n=wn()){var e;return Yf(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function WS(){return ax()&&document.documentMode===10}function M_(n=wn()){return Yf(n)||O_(n)||V_(n)||L_(n)||/windows phone/i.test(n)||N_(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(n,e=[]){let t;switch(n){case"Browser":t=Cv(wn());break;case"Worker":t=`${Cv(wn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ua}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,h)=>{try{const p=e(l);c(p)}catch(p){h(p)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GS(n,e={}){return ji(n,"GET","/v2/passwordPolicy",Ui(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QS=6;class YS{constructor(e){var t,i,s,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:QS,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,s,l,c,h;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(s=p.containsLowercaseLetter)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(h=p.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bv(this),this.idTokenSubscription=new bv(this),this.beforeStateQueue=new KS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=I_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Pi(t)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await Xs.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await k_(this,{idToken:e}),i=await Ai._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Fr(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===h)&&(p!=null&&p.user)&&(s=p.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await yc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=CS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fr(this.app))return Promise.reject(Ci(this));const t=e?gr(e):null;return t&&Ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fr(this.app)?Promise.reject(Ci(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fr(this.app)?Promise.reject(Ci(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await GS(this),t=new YS(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Il("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await HS(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Pi(e)||this._popupRedirectResolver;Ve(t,this,"argument-error"),this.redirectPersistenceManager=await Xs.create(this,[Pi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ve(h,this,"internal-error"),h.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,s);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=F_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&RS(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function zi(n){return gr(n)}class bv{constructor(e){this.auth=e,this.observer=null,this.addObserver=mx(t=>this.observer=t)}get next(){return Ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function JS(n){jc=n}function U_(n){return jc.loadJS(n)}function ZS(){return jc.recaptchaEnterpriseScript}function e1(){return jc.gapiScript}function t1(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class n1{constructor(){this.enterprise=new r1}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class r1{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const i1="recaptcha-enterprise",j_="NO_RECAPTCHA";class o1{constructor(e){this.type=i1,this.auth=zi(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,h)=>{VS(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const v=new LS(p);return l.tenantId==null?l._agentRecaptchaConfig=v:l._tenantRecaptchaConfigs[l.tenantId]=v,c(v.siteKey)}}).catch(p=>{h(p)})})}function s(l,c,h){const p=window.grecaptcha;Rv(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(v=>{c(v)}).catch(()=>{c(j_)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new n1().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{i(this.auth).then(h=>{if(!t&&Rv(window.grecaptcha))s(h,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=ZS();p.length!==0&&(p+=h),U_(p).then(()=>{s(h,l,c)}).catch(v=>{c(v)})}}).catch(h=>{c(h)})})}}async function Dv(n,e,t,i=!1,s=!1){const l=new o1(n);let c;if(s)c=j_;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const p=h.phoneEnrollmentInfo.phoneNumber,v=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:v,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const p=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function _c(n,e,t,i,s){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Dv(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Dv(n,e,t,t==="getOobCode");return i(n,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(n,e){const t=Hf(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),l=t.getOptions();if(mc(l,e??{}))return s;vr(s,"already-initialized")}return t.initialize({options:e})}function a1(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Pi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function l1(n,e,t){const i=zi(n);Ve(i._canInitEmulator,i,"emulator-config-failed"),Ve(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,l=z_(e),{host:c,port:h}=u1(e),p=h===null?"":`:${h}`;i.config.emulator={url:`${l}//${c}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:s})}),c1()}function z_(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function u1(n){const e=z_(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const l=s[1];return{host:l,port:Nv(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:Nv(c)}}}function Nv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function c1(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ki("not implemented")}_getIdTokenResponse(e){return ki("not implemented")}_linkToIdToken(e,t){return ki("not implemented")}_getReauthenticationResolver(e){return ki("not implemented")}}async function d1(n,e){return ji(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h1(n,e){return Rl(n,"POST","/v1/accounts:signInWithPassword",Ui(n,e))}async function B_(n,e){return ji(n,"POST","/v1/accounts:sendOobCode",Ui(n,e))}async function f1(n,e){return B_(n,e)}async function p1(n,e){return B_(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m1(n,e){return Rl(n,"POST","/v1/accounts:signInWithEmailLink",Ui(n,e))}async function g1(n,e){return Rl(n,"POST","/v1/accounts:signInWithEmailLink",Ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl extends Xf{constructor(e,t,i,s=null){super("password",i),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new dl(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new dl(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _c(e,t,"signInWithPassword",h1);case"emailLink":return m1(e,{email:this._email,oobCode:this._password});default:vr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _c(e,i,"signUpPassword",d1);case"emailLink":return g1(e,{idToken:t,email:this._email,oobCode:this._password});default:vr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Js(n,e){return Rl(n,"POST","/v1/accounts:signInWithIdp",Ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1="http://localhost";class ts extends Xf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ts(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):vr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=t,l=qf(t,["providerId","signInMethod"]);if(!i||!s)return null;const c=new ts(i,s);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Js(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,Js(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Js(e,t)}buildRequest(){const e={requestUri:v1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=xl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _1(n){const e=Ja(Za(n)).link,t=e?Ja(Za(e)).deep_link_id:null,i=Ja(Za(n)).deep_link_id;return(i?Ja(Za(i)).link:null)||i||t||e||n}class Jf{constructor(e){var t,i,s,l,c,h;const p=Ja(Za(e)),v=(t=p.apiKey)!==null&&t!==void 0?t:null,_=(i=p.oobCode)!==null&&i!==void 0?i:null,T=y1((s=p.mode)!==null&&s!==void 0?s:null);Ve(v&&_&&T,"argument-error"),this.apiKey=v,this.operation=T,this.code=_,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=p.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(h=p.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=_1(e);try{return new Jf(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(){this.providerId=ca.PROVIDER_ID}static credential(e,t){return dl._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Jf.parseLink(t);return Ve(i,"argument-error"),dl._fromEmailAndCode(e,i.code,i.tenantId)}}ca.PROVIDER_ID="password";ca.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ca.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl extends Zf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po extends kl{constructor(){super("facebook.com")}static credential(e){return ts._fromParams({providerId:po.PROVIDER_ID,signInMethod:po.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return po.credentialFromTaggedObject(e)}static credentialFromError(e){return po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return po.credential(e.oauthAccessToken)}catch{return null}}}po.FACEBOOK_SIGN_IN_METHOD="facebook.com";po.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends kl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ts._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Ri.credential(t,i)}catch{return null}}}Ri.GOOGLE_SIGN_IN_METHOD="google.com";Ri.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo extends kl{constructor(){super("github.com")}static credential(e){return ts._fromParams({providerId:mo.PROVIDER_ID,signInMethod:mo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mo.credentialFromTaggedObject(e)}static credentialFromError(e){return mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mo.credential(e.oauthAccessToken)}catch{return null}}}mo.GITHUB_SIGN_IN_METHOD="github.com";mo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go extends kl{constructor(){super("twitter.com")}static credential(e,t){return ts._fromParams({providerId:go.PROVIDER_ID,signInMethod:go.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return go.credentialFromTaggedObject(e)}static credentialFromError(e){return go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return go.credential(t,i)}catch{return null}}}go.TWITTER_SIGN_IN_METHOD="twitter.com";go.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w1(n,e){return Rl(n,"POST","/v1/accounts:signUp",Ui(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const l=await Ai._fromIdTokenResponse(e,i,s),c=Ov(i);return new ns({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=Ov(i);return new ns({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function Ov(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc extends Fi{constructor(e,t,i,s){var l;super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,wc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new wc(e,t,i,s)}}function $_(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?wc._fromErrorAndOperation(n,l,e,i):l})}async function E1(n,e,t=!1){const i=await cl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ns._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T1(n,e,t=!1){const{auth:i}=n;if(Fr(i.app))return Promise.reject(Ci(i));const s="reauthenticate";try{const l=await cl(n,$_(i,s,e,n),t);Ve(l.idToken,i,"internal-error");const c=Qf(l.idToken);Ve(c,i,"internal-error");const{sub:h}=c;return Ve(n.uid===h,i,"user-mismatch"),ns._forOperation(n,s,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&vr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H_(n,e,t=!1){if(Fr(n.app))return Promise.reject(Ci(n));const i="signIn",s=await $_(n,i,e),l=await ns._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(l.user),l}async function I1(n,e){return H_(zi(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q_(n){const e=zi(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function x1(n,e,t){const i=zi(n);await _c(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",p1)}async function S1(n,e,t){if(Fr(n.app))return Promise.reject(Ci(n));const i=zi(n),c=await _c(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",w1).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&q_(n),p}),h=await ns._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function R1(n,e,t){return Fr(n.app)?Promise.reject(Ci(n)):I1(gr(n),ca.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&q_(n),i})}async function k1(n,e){const t=gr(n),s={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:l}=await f1(t.auth,s);l!==n.email&&await n.reload()}function A1(n,e,t,i){return gr(n).onIdTokenChanged(e,t,i)}function P1(n,e,t){return gr(n).beforeAuthStateChanged(e,t)}const Ec="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ec,"1"),this.storage.removeItem(Ec),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1=1e3,b1=10;class K_ extends W_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=M_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);WS()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,b1):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},C1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}K_.type="LOCAL";const D1=K_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_ extends W_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}G_.type="SESSION";const Q_=G_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new zc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:l}=t.data,c=this.handlersMap[s];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const h=Array.from(c).map(async v=>v(t.origin,l)),p=await N1(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,c;return new Promise((h,p)=>{const v=ep("",20);s.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:s,onMessage(T){const x=T;if(x.data.eventId===v)switch(x.data.status){case"ack":clearTimeout(_),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(x.data.response);break;default:clearTimeout(_),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return window}function L1(n){ri().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}async function V1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function M1(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function F1(){return Y_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_="firebaseLocalStorageDb",U1=1,Tc="firebaseLocalStorage",J_="fbase_key";class Al{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Bc(n,e){return n.transaction([Tc],e?"readwrite":"readonly").objectStore(Tc)}function j1(){const n=indexedDB.deleteDatabase(X_);return new Al(n).toPromise()}function cf(){const n=indexedDB.open(X_,U1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Tc,{keyPath:J_})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Tc)?e(i):(i.close(),await j1(),e(await cf()))})})}async function Lv(n,e,t){const i=Bc(n,!0).put({[J_]:e,value:t});return new Al(i).toPromise()}async function z1(n,e){const t=Bc(n,!1).get(e),i=await new Al(t).toPromise();return i===void 0?null:i.value}function Vv(n,e){const t=Bc(n,!0).delete(e);return new Al(t).toPromise()}const B1=800,$1=3;class Z_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>$1)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Y_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zc._getInstance(F1()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await V1(),!this.activeServiceWorker)return;this.sender=new O1(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||M1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cf();return await Lv(e,Ec,"1"),await Vv(e,Ec),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Lv(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>z1(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Vv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const l=Bc(s,!1).getAll();return new Al(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:l}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(l)&&(this.notifyListeners(s,l),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),B1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Z_.type="LOCAL";const H1=Z_;new Sl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(n,e){return e?Pi(e):(Ve(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp extends Xf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Js(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Js(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Js(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function q1(n){return H_(n.auth,new tp(n),n.bypassAuthState)}function W1(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),T1(t,new tp(n),n.bypassAuthState)}async function K1(n){const{auth:e,user:t}=n;return Ve(t,e,"internal-error"),E1(t,new tp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,t,i,s,l=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:l,error:c,type:h}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return q1;case"linkViaPopup":case"linkViaRedirect":return K1;case"reauthViaPopup":case"reauthViaRedirect":return W1;default:vr(this.auth,"internal-error")}}resolve(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=new Sl(2e3,1e4);async function Q1(n,e,t){if(Fr(n.app))return Promise.reject(jr(n,"operation-not-supported-in-this-environment"));const i=zi(n);kS(n,e,Zf);const s=e0(i,t);return new Jo(i,"signInViaPopup",e,s).executeNotNull()}class Jo extends t0{constructor(e,t,i,s,l){super(e,t,s,l),this.provider=i,this.authWindow=null,this.pollId=null,Jo.currentPopupAction&&Jo.currentPopupAction.cancel(),Jo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ve(e,this.auth,"internal-error"),e}async onExecution(){Ni(this.filter.length===1,"Popup operations only handle one event");const e=ep();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Jo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,G1.get())};e()}}Jo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="pendingRedirect",ic=new Map;class X1 extends t0{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=ic.get(this.auth._key());if(!e){try{const i=await J1(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}ic.set(this.auth._key(),e)}return this.bypassAuthState||ic.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function J1(n,e){const t=tR(e),i=eR(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function Z1(n,e){ic.set(n._key(),e)}function eR(n){return Pi(n._redirectPersistence)}function tR(n){return rc(Y1,n.config.apiKey,n.name)}async function nR(n,e,t=!1){if(Fr(n.app))return Promise.reject(Ci(n));const i=zi(n),s=e0(i,e),c=await new X1(i,s,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=10*60*1e3;class iR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oR(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!n0(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(jr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Mv(e))}saveEventToCache(e){this.cachedEventUids.add(Mv(e)),this.lastProcessedEventTime=Date.now()}}function Mv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function n0({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function oR(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return n0(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sR(n,e={}){return ji(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lR=/^https?/;async function uR(n){if(n.config.emulator)return;const{authorizedDomains:e}=await sR(n);for(const t of e)try{if(cR(t))return}catch{}vr(n,"unauthorized-domain")}function cR(n){const e=lf(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!lR.test(t))return!1;if(aR.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dR=new Sl(3e4,6e4);function Fv(){const n=ri().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function hR(n){return new Promise((e,t)=>{var i,s,l;function c(){Fv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Fv(),t(jr(n,"network-request-failed"))},timeout:dR.get()})}if(!((s=(i=ri().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((l=ri().gapi)===null||l===void 0)&&l.load)c();else{const h=t1("iframefcb");return ri()[h]=()=>{gapi.load?c():t(jr(n,"network-request-failed"))},U_(`${e1()}?onload=${h}`).catch(p=>t(p))}}).catch(e=>{throw oc=null,e})}let oc=null;function fR(n){return oc=oc||hR(n),oc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pR=new Sl(5e3,15e3),mR="__/auth/iframe",gR="emulator/auth/iframe",vR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _R(n){const e=n.config;Ve(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Gf(e,gR):`https://${n.config.authDomain}/${mR}`,i={apiKey:e.apiKey,appName:n.name,v:ua},s=yR.get(n.config.apiHost);s&&(i.eid=s);const l=n._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${xl(i).slice(1)}`}async function wR(n){const e=await fR(n),t=ri().gapi;return Ve(t,n,"internal-error"),e.open({where:document.body,url:_R(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vR,dontclear:!0},i=>new Promise(async(s,l)=>{await i.restyle({setHideOnLeave:!1});const c=jr(n,"network-request-failed"),h=ri().setTimeout(()=>{l(c)},pR.get());function p(){ri().clearTimeout(h),s(i)}i.ping(p).then(p,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TR=500,IR=600,xR="_blank",SR="http://localhost";class Uv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RR(n,e,t,i=TR,s=IR){const l=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const p=Object.assign(Object.assign({},ER),{width:i.toString(),height:s.toString(),top:l,left:c}),v=wn().toLowerCase();t&&(h=D_(v)?xR:t),C_(v)&&(e=e||SR,p.scrollbars="yes");const _=Object.entries(p).reduce((x,[P,b])=>`${x}${P}=${b},`,"");if(qS(v)&&h!=="_self")return kR(e||"",h),new Uv(null);const T=window.open(e||"",h,_);Ve(T,n,"popup-blocked");try{T.focus()}catch{}return new Uv(T)}function kR(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR="__/auth/handler",PR="emulator/auth/handler",CR=encodeURIComponent("fac");async function jv(n,e,t,i,s,l){Ve(n.config.authDomain,n,"auth-domain-config-required"),Ve(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:ua,eventId:s};if(e instanceof Zf){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",px(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))c[_]=T}if(e instanceof kl){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const p=await n._getAppCheckToken(),v=p?`#${CR}=${encodeURIComponent(p)}`:"";return`${bR(n)}?${xl(h).slice(1)}${v}`}function bR({config:n}){return n.emulator?Gf(n,PR):`https://${n.authDomain}/${AR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh="webStorageSupport";class DR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Q_,this._completeRedirectFn=nR,this._overrideRedirectResult=Z1}async _openPopup(e,t,i,s){var l;Ni((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await jv(e,t,i,lf(),s);return RR(e,c,ep())}async _openRedirect(e,t,i,s){await this._originValidation(e);const l=await jv(e,t,i,lf(),s);return L1(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:l}=this.eventManagers[t];return s?Promise.resolve(s):(Ni(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await wR(e),i=new iR(e);return t.register("authEvent",s=>(Ve(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(jh,{type:jh},s=>{var l;const c=(l=s==null?void 0:s[0])===null||l===void 0?void 0:l[jh];c!==void 0&&t(!!c),vr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=uR(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return M_()||b_()||Yf()}}const NR=DR;var zv="@firebase/auth",Bv="1.8.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function VR(n){ea(new es("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Ve(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:F_(n)},v=new XS(i,s,l,p);return a1(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),ea(new es("auth-internal",e=>{const t=zi(e.getProvider("auth").getImmediate());return(i=>new OR(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),wo(zv,Bv,LR(n)),wo(zv,Bv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=5*60,FR=m_("authIdTokenMaxAge")||MR;let $v=null;const UR=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>FR)return;const s=t==null?void 0:t.token;$v!==s&&($v=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function jR(n=__()){const e=Hf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=s1(n,{popupRedirectResolver:NR,persistence:[H1,D1,Q_]}),i=m_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=UR(l.toString());P1(t,c,()=>c(t.currentUser)),A1(t,h=>c(h))}}const s=f_("auth");return s&&l1(t,`http://${s}`),t}function zR(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}JS({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const l=jr("internal-error");l.customData=s,t(l)},i.type="text/javascript",i.charset="UTF-8",zR().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});VR("Browser");var Hv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Eo,r0;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(A,I){function S(){}S.prototype=I.prototype,A.D=I.prototype,A.prototype=new S,A.prototype.constructor=A,A.C=function(C,O,U){for(var k=Array(arguments.length-2),He=2;He<arguments.length;He++)k[He-2]=arguments[He];return I.prototype[O].apply(C,k)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(A,I,S){S||(S=0);var C=Array(16);if(typeof I=="string")for(var O=0;16>O;++O)C[O]=I.charCodeAt(S++)|I.charCodeAt(S++)<<8|I.charCodeAt(S++)<<16|I.charCodeAt(S++)<<24;else for(O=0;16>O;++O)C[O]=I[S++]|I[S++]<<8|I[S++]<<16|I[S++]<<24;I=A.g[0],S=A.g[1],O=A.g[2];var U=A.g[3],k=I+(U^S&(O^U))+C[0]+3614090360&4294967295;I=S+(k<<7&4294967295|k>>>25),k=U+(O^I&(S^O))+C[1]+3905402710&4294967295,U=I+(k<<12&4294967295|k>>>20),k=O+(S^U&(I^S))+C[2]+606105819&4294967295,O=U+(k<<17&4294967295|k>>>15),k=S+(I^O&(U^I))+C[3]+3250441966&4294967295,S=O+(k<<22&4294967295|k>>>10),k=I+(U^S&(O^U))+C[4]+4118548399&4294967295,I=S+(k<<7&4294967295|k>>>25),k=U+(O^I&(S^O))+C[5]+1200080426&4294967295,U=I+(k<<12&4294967295|k>>>20),k=O+(S^U&(I^S))+C[6]+2821735955&4294967295,O=U+(k<<17&4294967295|k>>>15),k=S+(I^O&(U^I))+C[7]+4249261313&4294967295,S=O+(k<<22&4294967295|k>>>10),k=I+(U^S&(O^U))+C[8]+1770035416&4294967295,I=S+(k<<7&4294967295|k>>>25),k=U+(O^I&(S^O))+C[9]+2336552879&4294967295,U=I+(k<<12&4294967295|k>>>20),k=O+(S^U&(I^S))+C[10]+4294925233&4294967295,O=U+(k<<17&4294967295|k>>>15),k=S+(I^O&(U^I))+C[11]+2304563134&4294967295,S=O+(k<<22&4294967295|k>>>10),k=I+(U^S&(O^U))+C[12]+1804603682&4294967295,I=S+(k<<7&4294967295|k>>>25),k=U+(O^I&(S^O))+C[13]+4254626195&4294967295,U=I+(k<<12&4294967295|k>>>20),k=O+(S^U&(I^S))+C[14]+2792965006&4294967295,O=U+(k<<17&4294967295|k>>>15),k=S+(I^O&(U^I))+C[15]+1236535329&4294967295,S=O+(k<<22&4294967295|k>>>10),k=I+(O^U&(S^O))+C[1]+4129170786&4294967295,I=S+(k<<5&4294967295|k>>>27),k=U+(S^O&(I^S))+C[6]+3225465664&4294967295,U=I+(k<<9&4294967295|k>>>23),k=O+(I^S&(U^I))+C[11]+643717713&4294967295,O=U+(k<<14&4294967295|k>>>18),k=S+(U^I&(O^U))+C[0]+3921069994&4294967295,S=O+(k<<20&4294967295|k>>>12),k=I+(O^U&(S^O))+C[5]+3593408605&4294967295,I=S+(k<<5&4294967295|k>>>27),k=U+(S^O&(I^S))+C[10]+38016083&4294967295,U=I+(k<<9&4294967295|k>>>23),k=O+(I^S&(U^I))+C[15]+3634488961&4294967295,O=U+(k<<14&4294967295|k>>>18),k=S+(U^I&(O^U))+C[4]+3889429448&4294967295,S=O+(k<<20&4294967295|k>>>12),k=I+(O^U&(S^O))+C[9]+568446438&4294967295,I=S+(k<<5&4294967295|k>>>27),k=U+(S^O&(I^S))+C[14]+3275163606&4294967295,U=I+(k<<9&4294967295|k>>>23),k=O+(I^S&(U^I))+C[3]+4107603335&4294967295,O=U+(k<<14&4294967295|k>>>18),k=S+(U^I&(O^U))+C[8]+1163531501&4294967295,S=O+(k<<20&4294967295|k>>>12),k=I+(O^U&(S^O))+C[13]+2850285829&4294967295,I=S+(k<<5&4294967295|k>>>27),k=U+(S^O&(I^S))+C[2]+4243563512&4294967295,U=I+(k<<9&4294967295|k>>>23),k=O+(I^S&(U^I))+C[7]+1735328473&4294967295,O=U+(k<<14&4294967295|k>>>18),k=S+(U^I&(O^U))+C[12]+2368359562&4294967295,S=O+(k<<20&4294967295|k>>>12),k=I+(S^O^U)+C[5]+4294588738&4294967295,I=S+(k<<4&4294967295|k>>>28),k=U+(I^S^O)+C[8]+2272392833&4294967295,U=I+(k<<11&4294967295|k>>>21),k=O+(U^I^S)+C[11]+1839030562&4294967295,O=U+(k<<16&4294967295|k>>>16),k=S+(O^U^I)+C[14]+4259657740&4294967295,S=O+(k<<23&4294967295|k>>>9),k=I+(S^O^U)+C[1]+2763975236&4294967295,I=S+(k<<4&4294967295|k>>>28),k=U+(I^S^O)+C[4]+1272893353&4294967295,U=I+(k<<11&4294967295|k>>>21),k=O+(U^I^S)+C[7]+4139469664&4294967295,O=U+(k<<16&4294967295|k>>>16),k=S+(O^U^I)+C[10]+3200236656&4294967295,S=O+(k<<23&4294967295|k>>>9),k=I+(S^O^U)+C[13]+681279174&4294967295,I=S+(k<<4&4294967295|k>>>28),k=U+(I^S^O)+C[0]+3936430074&4294967295,U=I+(k<<11&4294967295|k>>>21),k=O+(U^I^S)+C[3]+3572445317&4294967295,O=U+(k<<16&4294967295|k>>>16),k=S+(O^U^I)+C[6]+76029189&4294967295,S=O+(k<<23&4294967295|k>>>9),k=I+(S^O^U)+C[9]+3654602809&4294967295,I=S+(k<<4&4294967295|k>>>28),k=U+(I^S^O)+C[12]+3873151461&4294967295,U=I+(k<<11&4294967295|k>>>21),k=O+(U^I^S)+C[15]+530742520&4294967295,O=U+(k<<16&4294967295|k>>>16),k=S+(O^U^I)+C[2]+3299628645&4294967295,S=O+(k<<23&4294967295|k>>>9),k=I+(O^(S|~U))+C[0]+4096336452&4294967295,I=S+(k<<6&4294967295|k>>>26),k=U+(S^(I|~O))+C[7]+1126891415&4294967295,U=I+(k<<10&4294967295|k>>>22),k=O+(I^(U|~S))+C[14]+2878612391&4294967295,O=U+(k<<15&4294967295|k>>>17),k=S+(U^(O|~I))+C[5]+4237533241&4294967295,S=O+(k<<21&4294967295|k>>>11),k=I+(O^(S|~U))+C[12]+1700485571&4294967295,I=S+(k<<6&4294967295|k>>>26),k=U+(S^(I|~O))+C[3]+2399980690&4294967295,U=I+(k<<10&4294967295|k>>>22),k=O+(I^(U|~S))+C[10]+4293915773&4294967295,O=U+(k<<15&4294967295|k>>>17),k=S+(U^(O|~I))+C[1]+2240044497&4294967295,S=O+(k<<21&4294967295|k>>>11),k=I+(O^(S|~U))+C[8]+1873313359&4294967295,I=S+(k<<6&4294967295|k>>>26),k=U+(S^(I|~O))+C[15]+4264355552&4294967295,U=I+(k<<10&4294967295|k>>>22),k=O+(I^(U|~S))+C[6]+2734768916&4294967295,O=U+(k<<15&4294967295|k>>>17),k=S+(U^(O|~I))+C[13]+1309151649&4294967295,S=O+(k<<21&4294967295|k>>>11),k=I+(O^(S|~U))+C[4]+4149444226&4294967295,I=S+(k<<6&4294967295|k>>>26),k=U+(S^(I|~O))+C[11]+3174756917&4294967295,U=I+(k<<10&4294967295|k>>>22),k=O+(I^(U|~S))+C[2]+718787259&4294967295,O=U+(k<<15&4294967295|k>>>17),k=S+(U^(O|~I))+C[9]+3951481745&4294967295,A.g[0]=A.g[0]+I&4294967295,A.g[1]=A.g[1]+(O+(k<<21&4294967295|k>>>11))&4294967295,A.g[2]=A.g[2]+O&4294967295,A.g[3]=A.g[3]+U&4294967295}i.prototype.u=function(A,I){I===void 0&&(I=A.length);for(var S=I-this.blockSize,C=this.B,O=this.h,U=0;U<I;){if(O==0)for(;U<=S;)s(this,A,U),U+=this.blockSize;if(typeof A=="string"){for(;U<I;)if(C[O++]=A.charCodeAt(U++),O==this.blockSize){s(this,C),O=0;break}}else for(;U<I;)if(C[O++]=A[U++],O==this.blockSize){s(this,C),O=0;break}}this.h=O,this.o+=I},i.prototype.v=function(){var A=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);A[0]=128;for(var I=1;I<A.length-8;++I)A[I]=0;var S=8*this.o;for(I=A.length-8;I<A.length;++I)A[I]=S&255,S/=256;for(this.u(A),A=Array(16),I=S=0;4>I;++I)for(var C=0;32>C;C+=8)A[S++]=this.g[I]>>>C&255;return A};function l(A,I){var S=h;return Object.prototype.hasOwnProperty.call(S,A)?S[A]:S[A]=I(A)}function c(A,I){this.h=I;for(var S=[],C=!0,O=A.length-1;0<=O;O--){var U=A[O]|0;C&&U==I||(S[O]=U,C=!1)}this.g=S}var h={};function p(A){return-128<=A&&128>A?l(A,function(I){return new c([I|0],0>I?-1:0)}):new c([A|0],0>A?-1:0)}function v(A){if(isNaN(A)||!isFinite(A))return T;if(0>A)return F(v(-A));for(var I=[],S=1,C=0;A>=S;C++)I[C]=A/S|0,S*=4294967296;return new c(I,0)}function _(A,I){if(A.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(A.charAt(0)=="-")return F(_(A.substring(1),I));if(0<=A.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=v(Math.pow(I,8)),C=T,O=0;O<A.length;O+=8){var U=Math.min(8,A.length-O),k=parseInt(A.substring(O,O+U),I);8>U?(U=v(Math.pow(I,U)),C=C.j(U).add(v(k))):(C=C.j(S),C=C.add(v(k)))}return C}var T=p(0),x=p(1),P=p(16777216);n=c.prototype,n.m=function(){if(j(this))return-F(this).m();for(var A=0,I=1,S=0;S<this.g.length;S++){var C=this.i(S);A+=(0<=C?C:4294967296+C)*I,I*=4294967296}return A},n.toString=function(A){if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(b(this))return"0";if(j(this))return"-"+F(this).toString(A);for(var I=v(Math.pow(A,6)),S=this,C="";;){var O=fe(S,I).g;S=W(S,O.j(I));var U=((0<S.g.length?S.g[0]:S.h)>>>0).toString(A);if(S=O,b(S))return U+C;for(;6>U.length;)U="0"+U;C=U+C}},n.i=function(A){return 0>A?0:A<this.g.length?this.g[A]:this.h};function b(A){if(A.h!=0)return!1;for(var I=0;I<A.g.length;I++)if(A.g[I]!=0)return!1;return!0}function j(A){return A.h==-1}n.l=function(A){return A=W(this,A),j(A)?-1:b(A)?0:1};function F(A){for(var I=A.g.length,S=[],C=0;C<I;C++)S[C]=~A.g[C];return new c(S,~A.h).add(x)}n.abs=function(){return j(this)?F(this):this},n.add=function(A){for(var I=Math.max(this.g.length,A.g.length),S=[],C=0,O=0;O<=I;O++){var U=C+(this.i(O)&65535)+(A.i(O)&65535),k=(U>>>16)+(this.i(O)>>>16)+(A.i(O)>>>16);C=k>>>16,U&=65535,k&=65535,S[O]=k<<16|U}return new c(S,S[S.length-1]&-2147483648?-1:0)};function W(A,I){return A.add(F(I))}n.j=function(A){if(b(this)||b(A))return T;if(j(this))return j(A)?F(this).j(F(A)):F(F(this).j(A));if(j(A))return F(this.j(F(A)));if(0>this.l(P)&&0>A.l(P))return v(this.m()*A.m());for(var I=this.g.length+A.g.length,S=[],C=0;C<2*I;C++)S[C]=0;for(C=0;C<this.g.length;C++)for(var O=0;O<A.g.length;O++){var U=this.i(C)>>>16,k=this.i(C)&65535,He=A.i(O)>>>16,Le=A.i(O)&65535;S[2*C+2*O]+=k*Le,te(S,2*C+2*O),S[2*C+2*O+1]+=U*Le,te(S,2*C+2*O+1),S[2*C+2*O+1]+=k*He,te(S,2*C+2*O+1),S[2*C+2*O+2]+=U*He,te(S,2*C+2*O+2)}for(C=0;C<I;C++)S[C]=S[2*C+1]<<16|S[2*C];for(C=I;C<2*I;C++)S[C]=0;return new c(S,0)};function te(A,I){for(;(A[I]&65535)!=A[I];)A[I+1]+=A[I]>>>16,A[I]&=65535,I++}function Z(A,I){this.g=A,this.h=I}function fe(A,I){if(b(I))throw Error("division by zero");if(b(A))return new Z(T,T);if(j(A))return I=fe(F(A),I),new Z(F(I.g),F(I.h));if(j(I))return I=fe(A,F(I)),new Z(F(I.g),I.h);if(30<A.g.length){if(j(A)||j(I))throw Error("slowDivide_ only works with positive integers.");for(var S=x,C=I;0>=C.l(A);)S=V(S),C=V(C);var O=ie(S,1),U=ie(C,1);for(C=ie(C,2),S=ie(S,2);!b(C);){var k=U.add(C);0>=k.l(A)&&(O=O.add(S),U=k),C=ie(C,1),S=ie(S,1)}return I=W(A,O.j(I)),new Z(O,I)}for(O=T;0<=A.l(I);){for(S=Math.max(1,Math.floor(A.m()/I.m())),C=Math.ceil(Math.log(S)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),U=v(S),k=U.j(I);j(k)||0<k.l(A);)S-=C,U=v(S),k=U.j(I);b(U)&&(U=x),O=O.add(U),A=W(A,k)}return new Z(O,A)}n.A=function(A){return fe(this,A).h},n.and=function(A){for(var I=Math.max(this.g.length,A.g.length),S=[],C=0;C<I;C++)S[C]=this.i(C)&A.i(C);return new c(S,this.h&A.h)},n.or=function(A){for(var I=Math.max(this.g.length,A.g.length),S=[],C=0;C<I;C++)S[C]=this.i(C)|A.i(C);return new c(S,this.h|A.h)},n.xor=function(A){for(var I=Math.max(this.g.length,A.g.length),S=[],C=0;C<I;C++)S[C]=this.i(C)^A.i(C);return new c(S,this.h^A.h)};function V(A){for(var I=A.g.length+1,S=[],C=0;C<I;C++)S[C]=A.i(C)<<1|A.i(C-1)>>>31;return new c(S,A.h)}function ie(A,I){var S=I>>5;I%=32;for(var C=A.g.length-S,O=[],U=0;U<C;U++)O[U]=0<I?A.i(U+S)>>>I|A.i(U+S+1)<<32-I:A.i(U+S);return new c(O,A.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,r0=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=v,c.fromString=_,Eo=c}).apply(typeof Hv<"u"?Hv:typeof self<"u"?self:typeof window<"u"?window:{});var qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var i0,el,o0,sc,df,s0,a0,l0;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof qu=="object"&&qu];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var i=t(this);function s(u,m){if(m)e:{var y=i;u=u.split(".");for(var E=0;E<u.length-1;E++){var $=u[E];if(!($ in y))break e;y=y[$]}u=u[u.length-1],E=y[u],m=m(E),m!=E&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var y=0,E=!1,$={next:function(){if(!E&&y<u.length){var Q=y++;return{value:m(Q,u[Q]),done:!1}}return E=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}s("Array.prototype.values",function(u){return u||function(){return l(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,y){return u.call.apply(u.bind,arguments)}function T(u,m,y){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,E),u.apply(m,$)}}return function(){return u.apply(m,arguments)}}function x(u,m,y){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,x.apply(null,arguments)}function P(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var E=y.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function b(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(E,$,Q){for(var ue=Array(arguments.length-2),pt=2;pt<arguments.length;pt++)ue[pt-2]=arguments[pt];return m.prototype[$].apply(E,ue)}}function j(u){const m=u.length;if(0<m){const y=Array(m);for(let E=0;E<m;E++)y[E]=u[E];return y}return[]}function F(u,m){for(let y=1;y<arguments.length;y++){const E=arguments[y];if(p(E)){const $=u.length||0,Q=E.length||0;u.length=$+Q;for(let ue=0;ue<Q;ue++)u[$+ue]=E[ue]}else u.push(E)}}class W{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function te(u){return/^[\s\xa0]*$/.test(u)}function Z(){var u=h.navigator;return u&&(u=u.userAgent)?u:""}function fe(u){return fe[" "](u),u}fe[" "]=function(){};var V=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function ie(u,m,y){for(const E in u)m.call(y,u[E],E,u)}function A(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function I(u){const m={};for(const y in u)m[y]=u[y];return m}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(u,m){let y,E;for(let $=1;$<arguments.length;$++){E=arguments[$];for(y in E)u[y]=E[y];for(let Q=0;Q<S.length;Q++)y=S[Q],Object.prototype.hasOwnProperty.call(E,y)&&(u[y]=E[y])}}function O(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function U(u){h.setTimeout(()=>{throw u},0)}function k(){var u=de;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class He{constructor(){this.h=this.g=null}add(m,y){const E=Le.get();E.set(m,y),this.h?this.h.next=E:this.g=E,this.h=E}}var Le=new W(()=>new Rt,u=>u.reset());class Rt{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Ge,se=!1,de=new He,he=()=>{const u=h.Promise.resolve(void 0);Ge=()=>{u.then(M)}};var M=()=>{for(var u;u=k();){try{u.h.call(u.g)}catch(y){U(y)}var m=Le;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}se=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ye(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}ye.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};h.addEventListener("test",y,m),h.removeEventListener("test",y,m)}catch{}return u}();function Ne(u,m){if(ye.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(V){e:{try{fe(m.nodeName);var $=!0;break e}catch{}$=!1}$||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:Be[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ne.aa.h.call(this)}}b(Ne,ye);var Be={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Qe="closure_listenable_"+(1e6*Math.random()|0),Ye=0;function Ue(u,m,y,E,$){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!E,this.ha=$,this.key=++Ye,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Zt(u){this.src=u,this.g={},this.h=0}Zt.prototype.add=function(u,m,y,E,$){var Q=u.toString();u=this.g[Q],u||(u=this.g[Q]=[],this.h++);var ue=Ut(u,m,E,$);return-1<ue?(m=u[ue],y||(m.fa=!1)):(m=new Ue(m,this.src,Q,!!E,$),m.fa=y,u.push(m)),m};function En(u,m){var y=m.type;if(y in u.g){var E=u.g[y],$=Array.prototype.indexOf.call(E,m,void 0),Q;(Q=0<=$)&&Array.prototype.splice.call(E,$,1),Q&&(ht(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function Ut(u,m,y,E){for(var $=0;$<u.length;++$){var Q=u[$];if(!Q.da&&Q.listener==m&&Q.capture==!!y&&Q.ha==E)return $}return-1}var er="closure_lm_"+(1e6*Math.random()|0),yr={};function _r(u,m,y,E,$){if(Array.isArray(m)){for(var Q=0;Q<m.length;Q++)_r(u,m[Q],y,E,$);return null}return y=Ie(y),u&&u[Qe]?u.K(m,y,v(E)?!!E.capture:!!E,$):An(u,m,y,!1,E,$)}function An(u,m,y,E,$,Q){if(!m)throw Error("Invalid event type");var ue=v($)?!!$.capture:!!$,pt=wr(u);if(pt||(u[er]=pt=new Zt(u)),y=pt.add(m,y,E,ue,Q),y.proxy)return y;if(E=Br(),y.proxy=E,E.src=u,E.listener=y,u.addEventListener)Pe||($=ue),$===void 0&&($=!1),u.addEventListener(m.toString(),E,$);else if(u.attachEvent)u.attachEvent(jt(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Br(){function u(y){return m.call(u.src,u.listener,y)}const m=Hn;return u}function $n(u,m,y,E,$){if(Array.isArray(m))for(var Q=0;Q<m.length;Q++)$n(u,m[Q],y,E,$);else E=v(E)?!!E.capture:!!E,y=Ie(y),u&&u[Qe]?(u=u.i,m=String(m).toString(),m in u.g&&(Q=u.g[m],y=Ut(Q,y,E,$),-1<y&&(ht(Q[y]),Array.prototype.splice.call(Q,y,1),Q.length==0&&(delete u.g[m],u.h--)))):u&&(u=wr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ut(m,y,E,$)),(y=-1<u?m[u]:null)&&cn(y))}function cn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Qe])En(m.i,u);else{var y=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(y,E,u.capture):m.detachEvent?m.detachEvent(jt(y),E):m.addListener&&m.removeListener&&m.removeListener(E),(y=wr(m))?(En(y,u),y.h==0&&(y.src=null,m[er]=null)):ht(u)}}}function jt(u){return u in yr?yr[u]:yr[u]="on"+u}function Hn(u,m){if(u.da)u=!0;else{m=new Ne(m,this);var y=u.listener,E=u.ha||u.src;u.fa&&cn(u),u=y.call(E,m)}return u}function wr(u){return u=u[er],u instanceof Zt?u:null}var ce="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ie(u){return typeof u=="function"?u:(u[ce]||(u[ce]=function(m){return u.handleEvent(m)}),u[ce])}function De(){Y.call(this),this.i=new Zt(this),this.M=this,this.F=null}b(De,Y),De.prototype[Qe]=!0,De.prototype.removeEventListener=function(u,m,y,E){$n(this,u,m,y,E)};function We(u,m){var y,E=u.F;if(E)for(y=[];E;E=E.F)y.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new ye(m,u);else if(m instanceof ye)m.target=m.target||u;else{var $=m;m=new ye(E,u),C(m,$)}if($=!0,y)for(var Q=y.length-1;0<=Q;Q--){var ue=m.g=y[Q];$=mt(ue,E,!0,m)&&$}if(ue=m.g=u,$=mt(ue,E,!0,m)&&$,$=mt(ue,E,!1,m)&&$,y)for(Q=0;Q<y.length;Q++)ue=m.g=y[Q],$=mt(ue,E,!1,m)&&$}De.prototype.N=function(){if(De.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],E=0;E<y.length;E++)ht(y[E]);delete u.g[m],u.h--}}this.F=null},De.prototype.K=function(u,m,y,E){return this.i.add(String(u),m,!1,y,E)},De.prototype.L=function(u,m,y,E){return this.i.add(String(u),m,!0,y,E)};function mt(u,m,y,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var $=!0,Q=0;Q<m.length;++Q){var ue=m[Q];if(ue&&!ue.da&&ue.capture==y){var pt=ue.listener,zt=ue.ha||ue.src;ue.fa&&En(u.i,ue),$=pt.call(zt,E)!==!1&&$}}return $&&!E.defaultPrevented}function qn(u,m,y){if(typeof u=="function")y&&(u=x(u,y));else if(u&&typeof u.handleEvent=="function")u=x(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:h.setTimeout(u,m||0)}function It(u){u.g=qn(()=>{u.g=null,u.i&&(u.i=!1,It(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Pn extends Y{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:It(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cn(u){Y.call(this),this.h=u,this.g={}}b(Cn,Y);var tr=[];function nr(u){ie(u.g,function(m,y){this.g.hasOwnProperty(y)&&cn(m)},u),u.g={}}Cn.prototype.N=function(){Cn.aa.N.call(this),nr(this)},Cn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rr=h.JSON.stringify,bn=h.JSON.parse,ir=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function Tn(){}Tn.prototype.h=null;function $r(u){return u.h||(u.h=u.i())}function ui(){}var Dn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wn(){ye.call(this,"d")}b(Wn,ye);function Er(){ye.call(this,"c")}b(Er,ye);var In={},Po=null;function ci(){return Po=Po||new De}In.La="serverreachability";function N(u){ye.call(this,In.La,u)}b(N,ye);function z(u){const m=ci();We(m,new N(m))}In.STAT_EVENT="statevent";function G(u,m){ye.call(this,In.STAT_EVENT,u),this.stat=m}b(G,ye);function X(u){const m=ci();We(m,new G(m,u))}In.Ma="timingevent";function pe(u,m){ye.call(this,In.Ma,u),this.size=m}b(pe,ye);function _e(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},m)}function Re(){this.g=!0}Re.prototype.xa=function(){this.g=!1};function me(u,m,y,E,$,Q){u.info(function(){if(u.g)if(Q)for(var ue="",pt=Q.split("&"),zt=0;zt<pt.length;zt++){var it=pt[zt].split("=");if(1<it.length){var Kt=it[0];it=it[1];var Vt=Kt.split("_");ue=2<=Vt.length&&Vt[1]=="type"?ue+(Kt+"="+it+"&"):ue+(Kt+"=redacted&")}}else ue=null;else ue=Q;return"XMLHTTP REQ ("+E+") [attempt "+$+"]: "+m+`
`+y+`
`+ue})}function Ee(u,m,y,E,$,Q,ue){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+$+"]: "+m+`
`+y+`
`+Q+" "+ue})}function le(u,m,y,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+qe(u,y)+(E?" "+E:"")})}function Oe(u,m){u.info(function(){return"TIMEOUT: "+m})}Re.prototype.info=function(){};function qe(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var E=y[u];if(!(2>E.length)){var $=E[1];if(Array.isArray($)&&!(1>$.length)){var Q=$[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ue=1;ue<$.length;ue++)$[ue]=""}}}}return rr(y)}catch{return m}}var ut={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ze;function st(){}b(st,Tn),st.prototype.g=function(){return new XMLHttpRequest},st.prototype.i=function(){return{}},Ze=new st;function ct(u,m,y,E){this.j=u,this.i=m,this.l=y,this.R=E||1,this.U=new Cn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Tr}function Tr(){this.i=null,this.g="",this.h=!1}var Ir={},dn={};function en(u,m,y){u.L=1,u.v=qi(Kn(m)),u.m=y,u.P=!0,di(u,null)}function di(u,m){u.F=Date.now(),dt(u),u.A=Kn(u.v);var y=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),Ki(y.i,"t",E),u.C=0,y=u.j.J,u.h=new Tr,u.g=Wl(u.j,y?m:null,!u.m),0<u.O&&(u.M=new Pn(x(u.Y,u,u.g),u.O)),m=u.U,y=u.g,E=u.ca;var $="readystatechange";Array.isArray($)||($&&(tr[0]=$.toString()),$=tr);for(var Q=0;Q<$.length;Q++){var ue=_r(y,$[Q],E||m.handleEvent,!1,m.h||m);if(!ue)break;m.g[ue.key]=ue}m=u.H?I(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),z(),me(u.i,u.u,u.A,u.l,u.R,u.m)}ct.prototype.ca=function(u){u=u.target;const m=this.M;m&&Ln(u)==3?m.j():this.Y(u)},ct.prototype.Y=function(u){try{if(u==this.g)e:{const Vt=Ln(this.g);var m=this.g.Ba();const sr=this.g.Z();if(!(3>Vt)&&(Vt!=3||this.g&&(this.h.h||this.g.oa()||_a(this.g)))){this.J||Vt!=4||m==7||(m==8||0>=sr?z(3):z(2)),rt(this);var y=this.g.Z();this.X=y;t:if(Hr(this)){var E=_a(this.g);u="";var $=E.length,Q=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tn(this),_t(this);var ue="";break t}this.h.i=new h.TextDecoder}for(m=0;m<$;m++)this.h.h=!0,u+=this.h.i.decode(E[m],{stream:!(Q&&m==$-1)});E.length=0,this.h.g+=u,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=y==200,Ee(this.i,this.u,this.A,this.l,this.R,Vt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var pt,zt=this.g;if((pt=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(pt)){var it=pt;break t}}it=null}if(y=it)le(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sr(this,y);else{this.o=!1,this.s=3,X(12),tn(this),_t(this);break e}}if(this.P){y=!0;let Qn;for(;!this.J&&this.C<ue.length;)if(Qn=xr(this,ue),Qn==dn){Vt==4&&(this.s=4,X(14),y=!1),le(this.i,this.l,null,"[Incomplete Response]");break}else if(Qn==Ir){this.s=4,X(15),le(this.i,this.l,ue,"[Invalid Chunk]"),y=!1;break}else le(this.i,this.l,Qn,null),Sr(this,Qn);if(Hr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||ue.length!=0||this.h.h||(this.s=1,X(16),y=!1),this.o=this.o&&y,!y)le(this.i,this.l,ue,"[Invalid Chunked Response]"),tn(this),_t(this);else if(0<ue.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),Ea(Kt),Kt.M=!0,X(11))}}else le(this.i,this.l,ue,null),Sr(this,ue);Vt==4&&tn(this),this.o&&!this.J&&(Vt==4?Ts(this.j,this):(this.o=!1,dt(this)))}else vs(this.g),y==400&&0<ue.indexOf("Unknown SID")?(this.s=3,X(12)):(this.s=0,X(13)),tn(this),_t(this)}}}catch{}finally{}};function Hr(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function xr(u,m){var y=u.C,E=m.indexOf(`
`,y);return E==-1?dn:(y=Number(m.substring(y,E)),isNaN(y)?Ir:(E+=1,E+y>m.length?dn:(m=m.slice(E,E+y),u.C=E+y,m)))}ct.prototype.cancel=function(){this.J=!0,tn(this)};function dt(u){u.S=Date.now()+u.I,hi(u,u.I)}function hi(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=_e(x(u.ba,u),m)}function rt(u){u.B&&(h.clearTimeout(u.B),u.B=null)}ct.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Oe(this.i,this.A),this.L!=2&&(z(),X(17)),tn(this),this.s=2,_t(this)):hi(this,this.S-u)};function _t(u){u.j.G==0||u.J||Ts(u.j,u)}function tn(u){rt(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,nr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Sr(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||xn(y.h,u))){if(!u.K&&xn(y.h,u)&&y.G==3){try{var E=y.Da.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var $=E;if($[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)Es(y),Cr(y);else break e;ws(y),X(18)}}else y.za=$[1],0<y.za-y.T&&37500>$[2]&&y.F&&y.v==0&&!y.C&&(y.C=_e(x(y.Za,y),6e3));if(1>=ds(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else vi(y,11)}else if((u.K||y.g==u)&&Es(y),!te(m))for($=y.Da.g.parse(m),m=0;m<$.length;m++){let it=$[m];if(y.T=it[0],it=it[1],y.G==2)if(it[0]=="c"){y.K=it[1],y.ia=it[2];const Kt=it[3];Kt!=null&&(y.la=Kt,y.j.info("VER="+y.la));const Vt=it[4];Vt!=null&&(y.Aa=Vt,y.j.info("SVER="+y.Aa));const sr=it[5];sr!=null&&typeof sr=="number"&&0<sr&&(E=1.5*sr,y.L=E,y.j.info("backChannelRequestTimeoutMs_="+E)),E=y;const Qn=u.g;if(Qn){const Lo=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lo){var Q=E.h;Q.g||Lo.indexOf("spdy")==-1&&Lo.indexOf("quic")==-1&&Lo.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(ma(Q,Q.h),Q.h=null))}if(E.D){const xs=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;xs&&(E.ya=xs,gt(E.I,E.D,xs))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),E=y;var ue=u;if(E.qa=ql(E,E.J?E.ia:null,E.W),ue.K){Nl(E.h,ue);var pt=ue,zt=E.L;zt&&(pt.I=zt),pt.B&&(rt(pt),dt(pt)),E.g=ue}else Oo(E);0<y.i.length&&Gr(y)}else it[0]!="stop"&&it[0]!="close"||vi(y,7);else y.G==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?vi(y,7):rn(y):it[0]!="noop"&&y.l&&y.l.ta(it),y.v=0)}}z(4)}catch{}}var wt=class{constructor(u,m){this.g=u,this.map=m}};function Nn(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ds(u){return u.h?1:u.g?u.g.size:0}function xn(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ma(u,m){u.g?u.g.add(m):u.h=m}function Nl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Nn.prototype.cancel=function(){if(this.i=Ol(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ol(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return j(u.i)}function hs(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,E=0;E<y;E++)m.push(u[E]);return m}m=[],y=0;for(E in u)m[y++]=u[E];return m}function fs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const E in u)m[y++]=E;return m}}}function Bi(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=fs(u),E=hs(u),$=E.length,Q=0;Q<$;Q++)m.call(void 0,E[Q],y&&y[Q],u)}var Co=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function td(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var E=u[y].indexOf("="),$=null;if(0<=E){var Q=u[y].substring(0,E);$=u[y].substring(E+1)}else Q=u[y];m(Q,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function fi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof fi){this.h=u.h,bo(this,u.j),this.o=u.o,this.g=u.g,$i(this,u.s),this.l=u.l;var m=u.i,y=new qr;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),Hi(this,y),this.m=u.m}else u&&(m=String(u).match(Co))?(this.h=!1,bo(this,m[1]||"",!0),this.o=et(m[2]||""),this.g=et(m[3]||"",!0),$i(this,m[4]),this.l=et(m[5]||"",!0),Hi(this,m[6]||"",!0),this.m=et(m[7]||"")):(this.h=!1,this.i=new qr(null,this.h))}fi.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Wi(m,ps,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Wi(m,ps,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Wi(y,y.charAt(0)=="/"?Ml:Vl,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Wi(y,ga)),u.join("")};function Kn(u){return new fi(u)}function bo(u,m,y){u.j=y?et(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function $i(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Hi(u,m,y){m instanceof qr?(u.i=m,Wr(u.i,u.h)):(y||(m=Wi(m,Fl)),u.i=new qr(m,u.h))}function gt(u,m,y){u.i.set(m,y)}function qi(u){return gt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function et(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Wi(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,Ll),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ll(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ps=/[#\/\?@]/g,Vl=/[#\?:]/g,Ml=/[#\?]/g,Fl=/[#\?@]/g,ga=/#/g;function qr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function nn(u){u.g||(u.g=new Map,u.h=0,u.i&&td(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}n=qr.prototype,n.add=function(u,m){nn(this),this.i=null,u=or(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function Rr(u,m){nn(u),m=or(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function kr(u,m){return nn(u),m=or(u,m),u.g.has(m)}n.forEach=function(u,m){nn(this),this.g.forEach(function(y,E){y.forEach(function($){u.call(m,$,E,this)},this)},this)},n.na=function(){nn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let E=0;E<m.length;E++){const $=u[E];for(let Q=0;Q<$.length;Q++)y.push(m[E])}return y},n.V=function(u){nn(this);let m=[];if(typeof u=="string")kr(this,u)&&(m=m.concat(this.g.get(or(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},n.set=function(u,m){return nn(this),this.i=null,u=or(this,u),kr(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Ki(u,m,y){Rr(u,m),0<y.length&&(u.i=null,u.g.set(or(u,m),j(y)),u.h+=y.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var E=m[y];const Q=encodeURIComponent(String(E)),ue=this.V(E);for(E=0;E<ue.length;E++){var $=Q;ue[E]!==""&&($+="="+encodeURIComponent(String(ue[E]))),u.push($)}}return this.i=u.join("&")};function or(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Wr(u,m){m&&!u.j&&(nn(u),u.i=null,u.g.forEach(function(y,E){var $=E.toLowerCase();E!=$&&(Rr(this,E),Ki(this,$,y))},u)),u.j=m}function nd(u,m){const y=new Re;if(h.Image){const E=new Image;E.onload=P(On,y,"TestLoadImage: loaded",!0,m,E),E.onerror=P(On,y,"TestLoadImage: error",!1,m,E),E.onabort=P(On,y,"TestLoadImage: abort",!1,m,E),E.ontimeout=P(On,y,"TestLoadImage: timeout",!1,m,E),h.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function Ul(u,m){const y=new Re,E=new AbortController,$=setTimeout(()=>{E.abort(),On(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(Q=>{clearTimeout($),Q.ok?On(y,"TestPingServer: ok",!0,m):On(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout($),On(y,"TestPingServer: error",!1,m)})}function On(u,m,y,E,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),E(y)}catch{}}function rd(){this.g=new ir}function jl(u,m,y){const E=y||"";try{Bi(u,function($,Q){let ue=$;v($)&&(ue=rr($)),m.push(E+Q+"="+encodeURIComponent(ue))})}catch($){throw m.push(E+"type="+encodeURIComponent("_badmap")),$}}function pi(u){this.l=u.Ub||null,this.j=u.eb||!1}b(pi,Tn),pi.prototype.g=function(){return new Do(this.l,this.j)},pi.prototype.i=function(u){return function(){return u}}({});function Do(u,m){De.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Do,De),n=Do.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Pr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||h).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ar(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Pr(this)),this.g&&(this.readyState=3,Pr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function zl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ar(this):Pr(this),this.readyState==3&&zl(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Ar(this))},n.Qa=function(u){this.g&&(this.response=u,Ar(this))},n.ga=function(){this.g&&Ar(this)};function Ar(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Pr(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Pr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Do.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function mi(u){let m="";return ie(u,function(y,E){m+=E,m+=":",m+=y,m+=`\r
`}),m}function Gi(u,m,y){e:{for(E in y){var E=!1;break e}E=!0}E||(y=mi(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):gt(u,m,y))}function xt(u){De.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(xt,De);var id=/^https?$/i,va=["POST","PUT"];n=xt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,y,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ze.g(),this.v=this.o?$r(this.o):$r(Ze),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(Q){No(this,Q);return}if(u=y||"",y=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var $ in E)y.set($,E[$]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const Q of E.keys())y.set(Q,E.get(Q));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(y.keys()).find(Q=>Q.toLowerCase()=="content-type"),$=h.FormData&&u instanceof h.FormData,!(0<=Array.prototype.indexOf.call(va,m,void 0))||E||$||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ue]of y)this.g.setRequestHeader(Q,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{gs(this),this.u=!0,this.g.send(u),this.u=!1}catch(Q){No(this,Q)}};function No(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,ms(u),Gn(u)}function ms(u){u.A||(u.A=!0,We(u,"complete"),We(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,We(this,"complete"),We(this,"abort"),Gn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gn(this,!0)),xt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ya(this):this.bb())},n.bb=function(){ya(this)};function ya(u){if(u.h&&typeof c<"u"&&(!u.v[1]||Ln(u)!=4||u.Z()!=2)){if(u.u&&Ln(u)==4)qn(u.Ea,0,u);else if(We(u,"readystatechange"),Ln(u)==4){u.h=!1;try{const ue=u.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var y;if(!(y=m)){var E;if(E=ue===0){var $=String(u.D).match(Co)[1]||null;!$&&h.self&&h.self.location&&($=h.self.location.protocol.slice(0,-1)),E=!id.test($?$.toLowerCase():"")}y=E}if(y)We(u,"complete"),We(u,"success");else{u.m=6;try{var Q=2<Ln(u)?u.g.statusText:""}catch{Q=""}u.l=Q+" ["+u.Z()+"]",ms(u)}}finally{Gn(u)}}}}function Gn(u,m){if(u.g){gs(u);const y=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||We(u,"ready");try{y.onreadystatechange=E}catch{}}}function gs(u){u.I&&(h.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Ln(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),bn(m)}};function _a(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function vs(u){const m={};u=(u.g&&2<=Ln(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(te(u[E]))continue;var y=O(u[E]);const $=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const Q=m[$]||[];m[$]=Q,Q.push(y)}A(m,function(E){return E.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Kr(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function wa(u){this.Aa=0,this.i=[],this.j=new Re,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kr("baseRetryDelayMs",5e3,u),this.cb=Kr("retryDelaySeedMs",1e4,u),this.Wa=Kr("forwardChannelMaxRetries",2,u),this.wa=Kr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Nn(u&&u.concurrentRequestLimit),this.Da=new rd,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=wa.prototype,n.la=8,n.G=1,n.connect=function(u,m,y,E){X(0),this.W=u,this.H=m||{},y&&E!==void 0&&(this.H.OSID=y,this.H.OAID=E),this.F=this.X,this.I=ql(this,null,this.W),Gr(this)};function rn(u){if(ys(u),u.G==3){var m=u.U++,y=Kn(u.I);if(gt(y,"SID",u.K),gt(y,"RID",m),gt(y,"TYPE","terminate"),gi(u,y),m=new ct(u,u.j,m),m.L=2,m.v=qi(Kn(y)),y=!1,h.navigator&&h.navigator.sendBeacon)try{y=h.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&h.Image&&(new Image().src=m.v,y=!0),y||(m.g=Wl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),dt(m)}Hl(u)}function Cr(u){u.g&&(Ea(u),u.g.cancel(),u.g=null)}function ys(u){Cr(u),u.u&&(h.clearTimeout(u.u),u.u=null),Es(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&h.clearTimeout(u.s),u.s=null)}function Gr(u){if(!hn(u.h)&&!u.s){u.s=!0;var m=u.Ga;Ge||he(),se||(Ge(),se=!0),de.add(m,u),u.B=0}}function od(u,m){return ds(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=_e(x(u.Ga,u,m),$l(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const $=new ct(this,this.j,u);let Q=this.o;if(this.S&&(Q?(Q=I(Q),C(Q,this.S)):Q=this.S),this.m!==null||this.O||($.H=Q,Q=null),this.P)e:{for(var m=0,y=0;y<this.i.length;y++){t:{var E=this.i[y];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(m+=E,4096<m){m=y;break e}if(m===4096||y===this.i.length-1){m=y+1;break e}}m=1e3}else m=1e3;m=Qi(this,$,m),y=Kn(this.I),gt(y,"RID",u),gt(y,"CVER",22),this.D&&gt(y,"X-HTTP-Session-Id",this.D),gi(this,y),Q&&(this.O?m="headers="+encodeURIComponent(String(mi(Q)))+"&"+m:this.m&&Gi(y,this.m,Q)),ma(this.h,$),this.Ua&&gt(y,"TYPE","init"),this.P?(gt(y,"$req",m),gt(y,"SID","null"),$.T=!0,en($,y,null)):en($,y,m),this.G=2}}else this.G==3&&(u?_s(this,u):this.i.length==0||hn(this.h)||_s(this))};function _s(u,m){var y;m?y=m.l:y=u.U++;const E=Kn(u.I);gt(E,"SID",u.K),gt(E,"RID",y),gt(E,"AID",u.T),gi(u,E),u.m&&u.o&&Gi(E,u.m,u.o),y=new ct(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Qi(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ma(u.h,y),en(y,E,m)}function gi(u,m){u.H&&ie(u.H,function(y,E){gt(m,E,y)}),u.l&&Bi({},function(y,E){gt(m,E,y)})}function Qi(u,m,y){y=Math.min(u.i.length,y);var E=u.l?x(u.l.Na,u.l,u):null;e:{var $=u.i;let Q=-1;for(;;){const ue=["count="+y];Q==-1?0<y?(Q=$[0].g,ue.push("ofs="+Q)):Q=0:ue.push("ofs="+Q);let pt=!0;for(let zt=0;zt<y;zt++){let it=$[zt].g;const Kt=$[zt].map;if(it-=Q,0>it)Q=Math.max(0,$[zt].g-100),pt=!1;else try{jl(Kt,ue,"req"+it+"_")}catch{E&&E(Kt)}}if(pt){E=ue.join("&");break e}}}return u=u.i.splice(0,y),m.D=u,E}function Oo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Ge||he(),se||(Ge(),se=!0),de.add(m,u),u.v=0}}function ws(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=_e(x(u.Fa,u),$l(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Bl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=_e(x(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,X(10),Cr(this),Bl(this))};function Ea(u){u.A!=null&&(h.clearTimeout(u.A),u.A=null)}function Bl(u){u.g=new ct(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Kn(u.qa);gt(m,"RID","rpc"),gt(m,"SID",u.K),gt(m,"AID",u.T),gt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&gt(m,"TO",u.ja),gt(m,"TYPE","xmlhttp"),gi(u,m),u.m&&u.o&&Gi(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=qi(Kn(m)),y.m=null,y.P=!0,di(y,u)}n.Za=function(){this.C!=null&&(this.C=null,Cr(this),ws(this),X(19))};function Es(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function Ts(u,m){var y=null;if(u.g==m){Es(u),Ea(u),u.g=null;var E=2}else if(xn(u.h,m))y=m.D,Nl(u.h,m),E=1;else return;if(u.G!=0){if(m.o)if(E==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var $=u.B;E=ci(),We(E,new pe(E,y)),Gr(u)}else Oo(u);else if($=m.s,$==3||$==0&&0<m.X||!(E==1&&od(u,m)||E==2&&ws(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),$){case 1:vi(u,5);break;case 4:vi(u,10);break;case 3:vi(u,6);break;default:vi(u,2)}}}function $l(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function vi(u,m){if(u.j.info("Error code "+m),m==2){var y=x(u.fb,u),E=u.Xa;const $=!E;E=new fi(E||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||bo(E,"https"),qi(E),$?nd(E.toString(),y):Ul(E.toString(),y)}else X(2);u.G=0,u.l&&u.l.sa(m),Hl(u),ys(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),X(2)):(this.j.info("Failed to ping google.com"),X(1))};function Hl(u){if(u.G=0,u.ka=[],u.l){const m=Ol(u.h);(m.length!=0||u.i.length!=0)&&(F(u.ka,m),F(u.ka,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.ra()}}function ql(u,m,y){var E=y instanceof fi?Kn(y):new fi(y);if(E.g!="")m&&(E.g=m+"."+E.g),$i(E,E.s);else{var $=h.location;E=$.protocol,m=m?m+"."+$.hostname:$.hostname,$=+$.port;var Q=new fi(null);E&&bo(Q,E),m&&(Q.g=m),$&&$i(Q,$),y&&(Q.l=y),E=Q}return y=u.D,m=u.ya,y&&m&&gt(E,y,m),gt(E,"VER",u.la),gi(u,E),E}function Wl(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new xt(new pi({eb:y})):new xt(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ta(){}n=Ta.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Is(){}Is.prototype.g=function(u,m){return new Sn(u,m)};function Sn(u,m){De.call(this),this.g=new wa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!te(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!te(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Qr(this)}b(Sn,De),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){rn(this.g)},Sn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=rr(u),u=y);m.i.push(new wt(m.Ya++,u)),m.G==3&&Gr(m)},Sn.prototype.N=function(){this.g.l=null,delete this.j,rn(this.g),delete this.g,Sn.aa.N.call(this)};function Kl(u){Wn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const y in m){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(Kl,Wn);function Gl(){Er.call(this),this.status=1}b(Gl,Er);function Qr(u){this.g=u}b(Qr,Ta),Qr.prototype.ua=function(){We(this.g,"a")},Qr.prototype.ta=function(u){We(this.g,new Kl(u))},Qr.prototype.sa=function(u){We(this.g,new Gl)},Qr.prototype.ra=function(){We(this.g,"b")},Is.prototype.createWebChannel=Is.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,l0=function(){return new Is},a0=function(){return ci()},s0=In,df={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ut.NO_ERROR=0,ut.TIMEOUT=8,ut.HTTP_ERROR=6,sc=ut,bt.COMPLETE="complete",o0=bt,ui.EventType=Dn,Dn.OPEN="a",Dn.CLOSE="b",Dn.ERROR="c",Dn.MESSAGE="d",De.prototype.listen=De.prototype.K,el=ui,xt.prototype.listenOnce=xt.prototype.L,xt.prototype.getLastError=xt.prototype.Ka,xt.prototype.getLastErrorCode=xt.prototype.Ba,xt.prototype.getStatus=xt.prototype.Z,xt.prototype.getResponseJson=xt.prototype.Oa,xt.prototype.getResponseText=xt.prototype.oa,xt.prototype.send=xt.prototype.ea,xt.prototype.setWithCredentials=xt.prototype.Ha,i0=xt}).apply(typeof qu<"u"?qu:typeof self<"u"?self:typeof window<"u"?window:{});const qv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let da="11.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs=new Bf("@firebase/firestore");function Ws(){return rs.logLevel}function ve(n,...e){if(rs.logLevel<=Xe.DEBUG){const t=e.map(np);rs.debug(`Firestore (${da}): ${n}`,...t)}}function Oi(n,...e){if(rs.logLevel<=Xe.ERROR){const t=e.map(np);rs.error(`Firestore (${da}): ${n}`,...t)}}function ta(n,...e){if(rs.logLevel<=Xe.WARN){const t=e.map(np);rs.warn(`Firestore (${da}): ${n}`,...t)}}function np(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(n="Unexpected state"){const e=`FIRESTORE (${da}) INTERNAL ASSERTION FAILED: `+n;throw Oi(e),new Error(e)}function ft(n,e){n||Fe()}function $e(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends Fi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(yn.UNAUTHENTICATED))}shutdown(){}}class $R{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class HR{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ft(this.o===void 0);let i=this.i;const s=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new To;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new To,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await s(this.currentUser)})},h=p=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>h(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new To)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ft(typeof i.accessToken=="string"),new u0(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ft(e===null||typeof e=="string"),new yn(e)}}class qR{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class WR{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new qR(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class KR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GR{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){ft(this.o===void 0);const i=l=>{l.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,ve("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const s=l=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>s(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?s(l):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ft(typeof t.token=="string"),this.R=t.token,new KR(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const s=QR(40);for(let l=0;l<s.length;++l)i.length<20&&s[l]<t&&(i+=e.charAt(s[l]%e.length))}return i}}function tt(n,e){return n<e?-1:n>e?1:0}function na(n,e,t){return n.length===e.length&&n.every((i,s)=>t(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{static now(){return qt.fromMillis(Date.now())}static fromDate(e){return qt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new qt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ce(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ce(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ce(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?tt(this.nanoseconds,e.nanoseconds):tt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{static fromTimestamp(e){return new ze(e)}static min(){return new ze(new qt(0,0))}static max(){return new ze(new qt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(e,t,i){t===void 0?t=0:t>e.length&&Fe(),i===void 0?i=e.length-t:i>e.length-t&&Fe(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ti.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ti?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const l=ti.compareSegments(e.get(s),t.get(s));if(l!==0)return l}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=ti.isNumericId(e),s=ti.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?ti.extractNumericId(e).compare(ti.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Eo.fromString(e.substring(4,e.length-2))}}class Nt extends ti{construct(e,t,i){return new Nt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ce(oe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(s=>s.length>0))}return new Nt(t)}static emptyPath(){return new Nt([])}}const YR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends ti{construct(e,t,i){return new ln(e,t,i)}static isValidIdentifier(e){return YR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ln(["__name__"])}static fromServerFormat(e){const t=[];let i="",s=0;const l=()=>{if(i.length===0)throw new Ce(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new Ce(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ce(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,s+=2}else h==="`"?(c=!c,s++):h!=="."||c?(i+=h,s++):(l(),s++)}if(l(),c)throw new Ce(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(t)}static emptyPath(){return new ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(Nt.fromString(e))}static fromName(e){return new be(Nt.fromString(e).popFirst(5))}static empty(){return new be(Nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Nt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new Nt(e.slice()))}}function XR(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=ze.fromTimestamp(i===1e9?new qt(t+1,0):new qt(t,i));return new xo(s,be.empty(),e)}function JR(n){return new xo(n.readTime,n.key,-1)}class xo{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new xo(ze.min(),be.empty(),-1)}static max(){return new xo(ze.max(),be.empty(),-1)}}function ZR(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=be.comparator(n.documentKey,e.documentKey),t!==0?t:tt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ek="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ha(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==ek)throw n;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J((i,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,s)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):J.reject(t)}static resolve(e){return new J((t,i)=>{t(e)})}static reject(e){return new J((t,i)=>{i(e)})}static waitFor(e){return new J((t,i)=>{let s=0,l=0,c=!1;e.forEach(h=>{++s,h.next(()=>{++l,c&&l===s&&t()},p=>i(p))}),c=!0,l===s&&t()})}static or(e){let t=J.resolve(!1);for(const i of e)t=t.next(s=>s?J.resolve(s):i());return t}static forEach(e,t){const i=[];return e.forEach((s,l)=>{i.push(t.call(this,s,l))}),this.waitFor(i)}static mapArray(e,t){return new J((i,s)=>{const l=e.length,c=new Array(l);let h=0;for(let p=0;p<l;p++){const v=p;t(e[v]).next(_=>{c[v]=_,++h,h===l&&i(c)},_=>s(_))}})}static doWhile(e,t){return new J((i,s)=>{const l=()=>{e()===!0?t().next(()=>{l()},s):i()};l()})}}function nk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function fa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}$c.oe=-1;function Hc(n){return n==null}function Ic(n){return n===0&&1/n==-1/0}function rk(n){return typeof n=="number"&&Number.isInteger(n)&&!Ic(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Wv(e)),e=ok(n.get(t),e);return Wv(e)}function ok(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const l=n.charAt(s);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function Wv(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function as(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function d0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e,t){this.comparator=e,this.root=t||an.EMPTY}insert(e,t){return new Ct(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new Ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wu(this.root,e,this.comparator,!0)}}class Wu{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,t,i,s,l){this.key=e,this.value=t,this.color=i??an.RED,this.left=s??an.EMPTY,this.right=l??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,l){return new an(e??this.key,t??this.value,i??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const l=i(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,t,i),null):l===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return an.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Fe();const e=this.left.check();if(e!==this.right.check())throw Fe();return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw Fe()}get value(){throw Fe()}get color(){throw Fe()}get left(){throw Fe()}get right(){throw Fe()}copy(e,t,i,s,l){return this}insert(e,t,i){return new an(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.comparator=e,this.data=new Ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Gv(this.data.getIterator())}getIteratorFrom(e){return new Gv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=i.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Wt(this.comparator);return t.data=e,t}}class Gv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new Ur([])}unionWith(e){let t=new Wt(ln.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Ur(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return na(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new h0("Invalid base64 string: "+l):l}}(e);return new un(t)}static fromUint8Array(e){const t=function(s){let l="";for(let c=0;c<s.length;++c)l+=String.fromCharCode(s[c]);return l}(e);return new un(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return tt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const sk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function So(n){if(ft(!!n),typeof n=="string"){let e=0;const t=sk.exec(n);if(ft(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Lt(n.seconds),nanos:Lt(n.nanos)}}function Lt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ro(n){return typeof n=="string"?un.fromBase64String(n):un.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function qc(n){const e=n.mapValue.fields.__previous_value__;return rp(e)?qc(e):e}function hl(n){const e=So(n.mapValue.fields.__local_write_time__.timestampValue);return new qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,t,i,s,l,c,h,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=v}}class fl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new fl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof fl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ko(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?rp(n)?4:uk(n)?9007199254740991:lk(n)?10:11:Fe()}function si(n,e){if(n===e)return!0;const t=ko(n);if(t!==ko(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return hl(n).isEqual(hl(e));case 3:return function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const c=So(s.timestampValue),h=So(l.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,l){return Ro(s.bytesValue).isEqual(Ro(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,l){return Lt(s.geoPointValue.latitude)===Lt(l.geoPointValue.latitude)&&Lt(s.geoPointValue.longitude)===Lt(l.geoPointValue.longitude)}(n,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return Lt(s.integerValue)===Lt(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const c=Lt(s.doubleValue),h=Lt(l.doubleValue);return c===h?Ic(c)===Ic(h):isNaN(c)&&isNaN(h)}return!1}(n,e);case 9:return na(n.arrayValue.values||[],e.arrayValue.values||[],si);case 10:case 11:return function(s,l){const c=s.mapValue.fields||{},h=l.mapValue.fields||{};if(Kv(c)!==Kv(h))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(h[p]===void 0||!si(c[p],h[p])))return!1;return!0}(n,e);default:return Fe()}}function pl(n,e){return(n.values||[]).find(t=>si(t,e))!==void 0}function ra(n,e){if(n===e)return 0;const t=ko(n),i=ko(e);if(t!==i)return tt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return tt(n.booleanValue,e.booleanValue);case 2:return function(l,c){const h=Lt(l.integerValue||l.doubleValue),p=Lt(c.integerValue||c.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1}(n,e);case 3:return Qv(n.timestampValue,e.timestampValue);case 4:return Qv(hl(n),hl(e));case 5:return tt(n.stringValue,e.stringValue);case 6:return function(l,c){const h=Ro(l),p=Ro(c);return h.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,c){const h=l.split("/"),p=c.split("/");for(let v=0;v<h.length&&v<p.length;v++){const _=tt(h[v],p[v]);if(_!==0)return _}return tt(h.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,c){const h=tt(Lt(l.latitude),Lt(c.latitude));return h!==0?h:tt(Lt(l.longitude),Lt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Yv(n.arrayValue,e.arrayValue);case 10:return function(l,c){var h,p,v,_;const T=l.fields||{},x=c.fields||{},P=(h=T.value)===null||h===void 0?void 0:h.arrayValue,b=(p=x.value)===null||p===void 0?void 0:p.arrayValue,j=tt(((v=P==null?void 0:P.values)===null||v===void 0?void 0:v.length)||0,((_=b==null?void 0:b.values)===null||_===void 0?void 0:_.length)||0);return j!==0?j:Yv(P,b)}(n.mapValue,e.mapValue);case 11:return function(l,c){if(l===Ku.mapValue&&c===Ku.mapValue)return 0;if(l===Ku.mapValue)return 1;if(c===Ku.mapValue)return-1;const h=l.fields||{},p=Object.keys(h),v=c.fields||{},_=Object.keys(v);p.sort(),_.sort();for(let T=0;T<p.length&&T<_.length;++T){const x=tt(p[T],_[T]);if(x!==0)return x;const P=ra(h[p[T]],v[_[T]]);if(P!==0)return P}return tt(p.length,_.length)}(n.mapValue,e.mapValue);default:throw Fe()}}function Qv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return tt(n,e);const t=So(n),i=So(e),s=tt(t.seconds,i.seconds);return s!==0?s:tt(t.nanos,i.nanos)}function Yv(n,e){const t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const l=ra(t[s],i[s]);if(l)return l}return tt(t.length,i.length)}function ia(n){return hf(n)}function hf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=So(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ro(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return be.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",s=!0;for(const l of t.values||[])s?s=!1:i+=",",i+=hf(l);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let s="{",l=!0;for(const c of i)l?l=!1:s+=",",s+=`${c}:${hf(t.fields[c])}`;return s+"}"}(n.mapValue):Fe()}function ac(n){switch(ko(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qc(n);return e?16+ac(e):16;case 5:return 2*n.stringValue.length;case 6:return Ro(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,l)=>s+ac(l),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return as(i.fields,(l,c)=>{s+=l.length+ac(c)}),s}(n.mapValue);default:throw Fe()}}function ff(n){return!!n&&"integerValue"in n}function ip(n){return!!n&&"arrayValue"in n}function Xv(n){return!!n&&"nullValue"in n}function Jv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function lc(n){return!!n&&"mapValue"in n}function lk(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function il(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return as(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=il(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=il(n.arrayValue.values[t]);return e}return Object.assign({},n)}function uk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.value=e}static empty(){return new pr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!lc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=il(t)}setAll(e){let t=ln.emptyPath(),i={},s=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,i,s),i={},s=[],t=h.popLast()}c?i[h.lastSegment()]=il(c):s.push(h.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,i,s)}delete(e){const t=this.field(e.popLast());lc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return si(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];lc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){as(t,(s,l)=>e[s]=l);for(const s of i)delete e[s]}clone(){return new pr(il(this.value))}}function f0(n){const e=[];return as(n.fields,(t,i)=>{const s=new ln([t]);if(lc(i)){const l=f0(i.mapValue).fields;if(l.length===0)e.push(s);else for(const c of l)e.push(s.child(c))}else e.push(s)}),new Ur(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,t,i,s,l,c,h){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=l,this.data=c,this.documentState=h}static newInvalidDocument(e){return new _n(e,0,ze.min(),ze.min(),ze.min(),pr.empty(),0)}static newFoundDocument(e,t,i,s){return new _n(e,1,t,ze.min(),i,s,0)}static newNoDocument(e,t){return new _n(e,2,t,ze.min(),ze.min(),pr.empty(),0)}static newUnknownDocument(e,t){return new _n(e,3,t,ze.min(),ze.min(),pr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ze.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,t){this.position=e,this.inclusive=t}}function Zv(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const l=e[s],c=n.position[s];if(l.field.isKeyField()?i=be.comparator(be.fromName(c.referenceValue),t.key):i=ra(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function ey(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!si(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,t="asc"){this.field=e,this.dir=t}}function ck(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{}class Ht extends p0{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new hk(e,t,i):t==="array-contains"?new mk(e,i):t==="in"?new gk(e,i):t==="not-in"?new vk(e,i):t==="array-contains-any"?new yk(e,i):new Ht(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new fk(e,i):new pk(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ra(t,this.value)):t!==null&&ko(this.value)===ko(t)&&this.matchesComparison(ra(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends p0{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new ai(e,t)}matches(e){return m0(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function m0(n){return n.op==="and"}function g0(n){return dk(n)&&m0(n)}function dk(n){for(const e of n.filters)if(e instanceof ai)return!1;return!0}function pf(n){if(n instanceof Ht)return n.field.canonicalString()+n.op.toString()+ia(n.value);if(g0(n))return n.filters.map(e=>pf(e)).join(",");{const e=n.filters.map(t=>pf(t)).join(",");return`${n.op}(${e})`}}function v0(n,e){return n instanceof Ht?function(i,s){return s instanceof Ht&&i.op===s.op&&i.field.isEqual(s.field)&&si(i.value,s.value)}(n,e):n instanceof ai?function(i,s){return s instanceof ai&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((l,c,h)=>l&&v0(c,s.filters[h]),!0):!1}(n,e):void Fe()}function y0(n){return n instanceof Ht?function(t){return`${t.field.canonicalString()} ${t.op} ${ia(t.value)}`}(n):n instanceof ai?function(t){return t.op.toString()+" {"+t.getFilters().map(y0).join(" ,")+"}"}(n):"Filter"}class hk extends Ht{constructor(e,t,i){super(e,t,i),this.key=be.fromName(i.referenceValue)}matches(e){const t=be.comparator(e.key,this.key);return this.matchesComparison(t)}}class fk extends Ht{constructor(e,t){super(e,"in",t),this.keys=_0("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class pk extends Ht{constructor(e,t){super(e,"not-in",t),this.keys=_0("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function _0(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>be.fromName(i.referenceValue))}class mk extends Ht{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ip(t)&&pl(t.arrayValue,this.value)}}class gk extends Ht{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&pl(this.value.arrayValue,t)}}class vk extends Ht{constructor(e,t){super(e,"not-in",t)}matches(e){if(pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!pl(this.value.arrayValue,t)}}class yk extends Ht{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ip(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>pl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,t=null,i=[],s=[],l=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=l,this.startAt=c,this.endAt=h,this.ue=null}}function ty(n,e=null,t=[],i=[],s=null,l=null,c=null){return new _k(n,e,t,i,s,l,c)}function op(n){const e=$e(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>pf(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Hc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>ia(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>ia(i)).join(",")),e.ue=t}return e.ue}function sp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!ck(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!v0(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ey(n.startAt,e.startAt)&&ey(n.endAt,e.endAt)}function mf(n){return be.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,t=null,i=[],s=[],l=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=l,this.limitType=c,this.startAt=h,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function wk(n,e,t,i,s,l,c,h){return new Wc(n,e,t,i,s,l,c,h)}function ap(n){return new Wc(n)}function ny(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Ek(n){return n.collectionGroup!==null}function ol(n){const e=$e(n);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Wt(ln.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(v=>{v.isInequality()&&(h=h.add(v.field))})}),h})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new Sc(l,i))}),t.has(ln.keyField().canonicalString())||e.ce.push(new Sc(ln.keyField(),i))}return e.ce}function ii(n){const e=$e(n);return e.le||(e.le=Tk(e,ol(n))),e.le}function Tk(n,e){if(n.limitType==="F")return ty(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const l=s.dir==="desc"?"asc":"desc";return new Sc(s.field,l)});const t=n.endAt?new xc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new xc(n.startAt.position,n.startAt.inclusive):null;return ty(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function gf(n,e,t){return new Wc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Kc(n,e){return sp(ii(n),ii(e))&&n.limitType===e.limitType}function w0(n){return`${op(ii(n))}|lt:${n.limitType}`}function Ks(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(s=>y0(s)).join(", ")}]`),Hc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>ia(s)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>ia(s)).join(",")),`Target(${i})`}(ii(n))}; limitType=${n.limitType})`}function Gc(n,e){return e.isFoundDocument()&&function(i,s){const l=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):be.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(n,e)&&function(i,s){for(const l of ol(i))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0}(n,e)&&function(i,s){for(const l of i.filters)if(!l.matches(s))return!1;return!0}(n,e)&&function(i,s){return!(i.startAt&&!function(c,h,p){const v=Zv(c,h,p);return c.inclusive?v<=0:v<0}(i.startAt,ol(i),s)||i.endAt&&!function(c,h,p){const v=Zv(c,h,p);return c.inclusive?v>=0:v>0}(i.endAt,ol(i),s))}(n,e)}function Ik(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function E0(n){return(e,t)=>{let i=!1;for(const s of ol(n)){const l=xk(s,e,t);if(l!==0)return l;i=i||s.field.isKeyField()}return 0}}function xk(n,e,t){const i=n.field.isKeyField()?be.comparator(e.key,t.key):function(l,c,h){const p=c.data.field(l),v=h.data.field(l);return p!==null&&v!==null?ra(p,v):Fe()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,l]of i)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){as(this.inner,(t,i)=>{for(const[s,l]of i)e(s,l)})}isEmpty(){return d0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk=new Ct(be.comparator);function Li(){return Sk}const T0=new Ct(be.comparator);function tl(...n){let e=T0;for(const t of n)e=e.insert(t.key,t);return e}function I0(n){let e=T0;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Zo(){return sl()}function x0(){return sl()}function sl(){return new ls(n=>n.toString(),(n,e)=>n.isEqual(e))}const Rk=new Ct(be.comparator),kk=new Wt(be.comparator);function Je(...n){let e=kk;for(const t of n)e=e.add(t);return e}const Ak=new Wt(tt);function Pk(){return Ak}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ic(e)?"-0":e}}function S0(n){return{integerValue:""+n}}function Ck(n,e){return rk(e)?S0(e):lp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(){this._=void 0}}function bk(n,e,t){return n instanceof Rc?function(s,l){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&rp(l)&&(l=qc(l)),l&&(c.fields.__previous_value__=l),{mapValue:c}}(t,e):n instanceof ml?k0(n,e):n instanceof gl?A0(n,e):function(s,l){const c=R0(s,l),h=ry(c)+ry(s.Pe);return ff(c)&&ff(s.Pe)?S0(h):lp(s.serializer,h)}(n,e)}function Dk(n,e,t){return n instanceof ml?k0(n,e):n instanceof gl?A0(n,e):t}function R0(n,e){return n instanceof kc?function(i){return ff(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class Rc extends Qc{}class ml extends Qc{constructor(e){super(),this.elements=e}}function k0(n,e){const t=P0(e);for(const i of n.elements)t.some(s=>si(s,i))||t.push(i);return{arrayValue:{values:t}}}class gl extends Qc{constructor(e){super(),this.elements=e}}function A0(n,e){let t=P0(e);for(const i of n.elements)t=t.filter(s=>!si(s,i));return{arrayValue:{values:t}}}class kc extends Qc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function ry(n){return Lt(n.integerValue||n.doubleValue)}function P0(n){return ip(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Nk(n,e){return n.field.isEqual(e.field)&&function(i,s){return i instanceof ml&&s instanceof ml||i instanceof gl&&s instanceof gl?na(i.elements,s.elements,si):i instanceof kc&&s instanceof kc?si(i.Pe,s.Pe):i instanceof Rc&&s instanceof Rc}(n.transform,e.transform)}class Ok{constructor(e,t){this.version=e,this.transformResults=t}}class bi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new bi}static exists(e){return new bi(void 0,e)}static updateTime(e){return new bi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function uc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Yc{}function C0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new D0(n.key,bi.none()):new Pl(n.key,n.data,bi.none());{const t=n.data,i=pr.empty();let s=new Wt(ln.comparator);for(let l of e.fields)if(!s.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),s=s.add(l)}return new us(n.key,i,new Ur(s.toArray()),bi.none())}}function Lk(n,e,t){n instanceof Pl?function(s,l,c){const h=s.value.clone(),p=oy(s.fieldTransforms,l,c.transformResults);h.setAll(p),l.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,e,t):n instanceof us?function(s,l,c){if(!uc(s.precondition,l))return void l.convertToUnknownDocument(c.version);const h=oy(s.fieldTransforms,l,c.transformResults),p=l.data;p.setAll(b0(s)),p.setAll(h),l.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(s,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function al(n,e,t,i){return n instanceof Pl?function(l,c,h,p){if(!uc(l.precondition,c))return h;const v=l.value.clone(),_=sy(l.fieldTransforms,p,c);return v.setAll(_),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),null}(n,e,t,i):n instanceof us?function(l,c,h,p){if(!uc(l.precondition,c))return h;const v=sy(l.fieldTransforms,p,c),_=c.data;return _.setAll(b0(l)),_.setAll(v),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(n,e,t,i):function(l,c,h){return uc(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h}(n,e,t)}function Vk(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),l=R0(i.transform,s||null);l!=null&&(t===null&&(t=pr.empty()),t.set(i.field,l))}return t||null}function iy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&na(i,s,(l,c)=>Nk(l,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Pl extends Yc{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class us extends Yc{constructor(e,t,i,s,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function b0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function oy(n,e,t){const i=new Map;ft(n.length===t.length);for(let s=0;s<t.length;s++){const l=n[s],c=l.transform,h=e.data.field(l.field);i.set(l.field,Dk(c,h,t[s]))}return i}function sy(n,e,t){const i=new Map;for(const s of n){const l=s.transform,c=t.data.field(s.field);i.set(s.field,bk(l,c,e))}return i}class D0 extends Yc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Mk extends Yc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&Lk(l,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=al(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=al(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=x0();return this.mutations.forEach(s=>{const l=e.get(s.key),c=l.overlayedDocument;let h=this.applyToLocalView(c,l.mutatedFields);h=t.has(s.key)?null:h;const p=C0(c,h);p!==null&&i.set(s.key,p),c.isValidDocument()||c.convertToNoDocument(ze.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Je())}isEqual(e){return this.batchId===e.batchId&&na(this.mutations,e.mutations,(t,i)=>iy(t,i))&&na(this.baseMutations,e.baseMutations,(t,i)=>iy(t,i))}}class up{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){ft(e.mutations.length===i.length);let s=function(){return Rk}();const l=e.mutations;for(let c=0;c<l.length;c++)s=s.insert(l[c].key,i[c].version);return new up(e,t,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft,ot;function zk(n){switch(n){default:return Fe();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0}}function N0(n){if(n===void 0)return Oi("GRPC error has no .code"),oe.UNKNOWN;switch(n){case Ft.OK:return oe.OK;case Ft.CANCELLED:return oe.CANCELLED;case Ft.UNKNOWN:return oe.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return oe.INTERNAL;case Ft.UNAVAILABLE:return oe.UNAVAILABLE;case Ft.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Ft.NOT_FOUND:return oe.NOT_FOUND;case Ft.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Ft.ABORTED:return oe.ABORTED;case Ft.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Ft.DATA_LOSS:return oe.DATA_LOSS;default:return Fe()}}(ot=Ft||(Ft={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $k=new Eo([4294967295,4294967295],0);function ay(n){const e=Bk().encode(n),t=new r0;return t.update(e),new Uint8Array(t.digest())}function ly(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Eo([t,i],0),new Eo([s,l],0)]}class cp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new nl(`Invalid padding: ${t}`);if(i<0)throw new nl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new nl(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new nl(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Eo.fromNumber(this.Te)}de(e,t,i){let s=e.add(t.multiply(Eo.fromNumber(i)));return s.compare($k)===1&&(s=new Eo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ie).toNumber()}Ee(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=ay(e),[i,s]=ly(t);for(let l=0;l<this.hashCount;l++){const c=this.de(i,s,l);if(!this.Ee(c))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new cp(l,s,t);return i.forEach(h=>c.insert(h)),c}insert(e){if(this.Te===0)return;const t=ay(e),[i,s]=ly(t);for(let l=0;l<this.hashCount;l++){const c=this.de(i,s,l);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,t,i,s,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,Cl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Xc(ze.min(),s,new Ct(tt),Li(),Je())}}class Cl{constructor(e,t,i,s,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Cl(i,t,Je(),Je(),Je())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,t,i,s){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=s}}class O0{constructor(e,t){this.targetId=e,this.me=t}}class L0{constructor(e,t,i=un.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class uy{constructor(){this.fe=0,this.ge=cy(),this.pe=un.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Je(),t=Je(),i=Je();return this.ge.forEach((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:Fe()}}),new Cl(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=cy()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ft(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Hk{constructor(e){this.Be=e,this.Le=new Map,this.ke=Li(),this.qe=Gu(),this.Qe=Gu(),this.Ke=new Ct(tt)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.je(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.De(e.resumeToken));break;default:Fe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Le.forEach((i,s)=>{this.je(s)&&t(s)})}Je(e){const t=e.targetId,i=e.me.count,s=this.Ye(t);if(s){const l=s.target;if(mf(l))if(i===0){const c=new be(l.path);this.We(t,c,_n.newNoDocument(c,ze.min()))}else ft(i===1);else{const c=this.Ze(t);if(c!==i){const h=this.Xe(e),p=h?this.et(h,e,c):1;if(p!==0){this.He(t);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,v)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:l=0}=t;let c,h;try{c=Ro(i).toUint8Array()}catch(p){if(p instanceof h0)return ta("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new cp(c,s,l)}catch(p){return ta(p instanceof nl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.Te===0?null:h}et(e,t,i){return t.me.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Be.getRemoteKeysForTarget(t);let s=0;return i.forEach(l=>{const c=this.Be.nt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.We(t,l,null),s++)}),s}it(e){const t=new Map;this.Le.forEach((l,c)=>{const h=this.Ye(c);if(h){if(l.current&&mf(h.target)){const p=new be(h.target.path);this.st(p).has(c)||this.ot(c,p)||this.We(c,p,_n.newNoDocument(p,e))}l.be&&(t.set(c,l.ve()),l.Ce())}});let i=Je();this.Qe.forEach((l,c)=>{let h=!0;c.forEachWhile(p=>{const v=this.Ye(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(l))}),this.ke.forEach((l,c)=>c.setReadTime(e));const s=new Xc(e,t,this.Ke,this.ke,i);return this.ke=Li(),this.qe=Gu(),this.Qe=Gu(),this.Ke=new Ct(tt),s}Ue(e,t){if(!this.je(e))return;const i=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const s=this.ze(e);this.ot(e,t)?s.Fe(t,1):s.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Le.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Le.get(e);return t||(t=new uy,this.Le.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Wt(tt),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Wt(tt),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ve("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Le.get(e);return t&&t.Se?null:this.Be.ut(e)}He(e){this.Le.set(e,new uy),this.Be.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function Gu(){return new Ct(be.comparator)}function cy(){return new Ct(be.comparator)}const qk={asc:"ASCENDING",desc:"DESCENDING"},Wk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Kk={and:"AND",or:"OR"};class Gk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function vf(n,e){return n.useProto3Json||Hc(e)?e:{value:e}}function Ac(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function V0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Qk(n,e){return Ac(n,e.toTimestamp())}function oi(n){return ft(!!n),ze.fromTimestamp(function(t){const i=So(t);return new qt(i.seconds,i.nanos)}(n))}function dp(n,e){return yf(n,e).canonicalString()}function yf(n,e){const t=function(s){return new Nt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function M0(n){const e=Nt.fromString(n);return ft(B0(e)),e}function _f(n,e){return dp(n.databaseId,e.path)}function zh(n,e){const t=M0(e);if(t.get(1)!==n.databaseId.projectId)throw new Ce(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ce(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new be(U0(t))}function F0(n,e){return dp(n.databaseId,e)}function Yk(n){const e=M0(n);return e.length===4?Nt.emptyPath():U0(e)}function wf(n){return new Nt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function U0(n){return ft(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function dy(n,e,t){return{name:_f(n,e),fields:t.value.mapValue.fields}}function Xk(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=function(v,_){return v.useProto3Json?(ft(_===void 0||typeof _=="string"),un.fromBase64String(_||"")):(ft(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),un.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(v){const _=v.code===void 0?oe.UNKNOWN:N0(v.code);return new Ce(_,v.message||"")}(c);t=new L0(i,s,l,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=zh(n,i.document.name),l=oi(i.document.updateTime),c=i.document.createTime?oi(i.document.createTime):ze.min(),h=new pr({mapValue:{fields:i.document.fields}}),p=_n.newFoundDocument(s,l,c,h),v=i.targetIds||[],_=i.removedTargetIds||[];t=new cc(v,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=zh(n,i.document),l=i.readTime?oi(i.readTime):ze.min(),c=_n.newNoDocument(s,l),h=i.removedTargetIds||[];t=new cc([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=zh(n,i.document),l=i.removedTargetIds||[];t=new cc([],l,s,null)}else{if(!("filter"in e))return Fe();{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:l}=i,c=new jk(s,l),h=i.targetId;t=new O0(h,c)}}return t}function Jk(n,e){let t;if(e instanceof Pl)t={update:dy(n,e.key,e.value)};else if(e instanceof D0)t={delete:_f(n,e.key)};else if(e instanceof us)t={update:dy(n,e.key,e.data),updateMask:aA(e.fieldMask)};else{if(!(e instanceof Mk))return Fe();t={verify:_f(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(l,c){const h=c.transform;if(h instanceof Rc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof ml)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof gl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof kc)return{fieldPath:c.field.canonicalString(),increment:h.Pe};throw Fe()}(0,i))),e.precondition.isNone||(t.currentDocument=function(s,l){return l.updateTime!==void 0?{updateTime:Qk(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Fe()}(n,e.precondition)),t}function Zk(n,e){return n&&n.length>0?(ft(e!==void 0),n.map(t=>function(s,l){let c=s.updateTime?oi(s.updateTime):oi(l);return c.isEqual(ze.min())&&(c=oi(l)),new Ok(c,s.transformResults||[])}(t,e))):[]}function eA(n,e){return{documents:[F0(n,e.path)]}}function tA(n,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=F0(n,s);const l=function(v){if(v.length!==0)return z0(ai.create(v,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(v){if(v.length!==0)return v.map(_=>function(x){return{field:Gs(x.field),direction:iA(x.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=vf(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ct:t,parent:s}}function nA(n){let e=Yk(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){ft(i===1);const _=t.from[0];_.allDescendants?s=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(T){const x=j0(T);return x instanceof ai&&g0(x)?x.getFilters():[x]}(t.where));let c=[];t.orderBy&&(c=function(T){return T.map(x=>function(b){return new Sc(Qs(b.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(x))}(t.orderBy));let h=null;t.limit&&(h=function(T){let x;return x=typeof T=="object"?T.value:T,Hc(x)?null:x}(t.limit));let p=null;t.startAt&&(p=function(T){const x=!!T.before,P=T.values||[];return new xc(P,x)}(t.startAt));let v=null;return t.endAt&&(v=function(T){const x=!T.before,P=T.values||[];return new xc(P,x)}(t.endAt)),wk(e,s,c,l,h,"F",p,v)}function rA(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Fe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function j0(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Qs(t.unaryFilter.field);return Ht.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=Qs(t.unaryFilter.field);return Ht.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Qs(t.unaryFilter.field);return Ht.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Qs(t.unaryFilter.field);return Ht.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Fe()}}(n):n.fieldFilter!==void 0?function(t){return Ht.create(Qs(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fe()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return ai.create(t.compositeFilter.filters.map(i=>j0(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Fe()}}(t.compositeFilter.op))}(n):Fe()}function iA(n){return qk[n]}function oA(n){return Wk[n]}function sA(n){return Kk[n]}function Gs(n){return{fieldPath:n.canonicalString()}}function Qs(n){return ln.fromServerFormat(n.fieldPath)}function z0(n){return n instanceof Ht?function(t){if(t.op==="=="){if(Jv(t.value))return{unaryFilter:{field:Gs(t.field),op:"IS_NAN"}};if(Xv(t.value))return{unaryFilter:{field:Gs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Jv(t.value))return{unaryFilter:{field:Gs(t.field),op:"IS_NOT_NAN"}};if(Xv(t.value))return{unaryFilter:{field:Gs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gs(t.field),op:oA(t.op),value:t.value}}}(n):n instanceof ai?function(t){const i=t.getFilters().map(s=>z0(s));return i.length===1?i[0]:{compositeFilter:{op:sA(t.op),filters:i}}}(n):Fe()}function aA(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function B0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,t,i,s,l=ze.min(),c=ze.min(),h=un.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new vo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new vo(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e){this.ht=e}}function uA(n){const e=nA({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?gf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(){this.ln=new dA}addToCollectionParentIndex(e,t){return this.ln.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(xo.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(xo.min())}updateCollectionGroup(e,t,i){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class dA{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new Wt(Nt.comparator),l=!s.has(i);return this.index[t]=s.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new Wt(Nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Bn{static withCacheSize(e){return new Bn(e,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bn.DEFAULT_COLLECTION_PERCENTILE=10,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bn.DEFAULT=new Bn(41943040,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bn.DISABLED=new Bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new oa(0)}static Qn(){return new oa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy([n,e],[t,i]){const s=tt(n,t);return s===0?tt(e,i):s}class hA{constructor(e){this.Gn=e,this.buffer=new Wt(fy),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();fy(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class fA{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ve("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){fa(t)?ve("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await ha(t)}await this.Yn(3e5)})}}class pA{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return J.resolve($c.oe);const i=new hA(t);return this.Zn.forEachTarget(e,s=>i.Hn(s.sequenceNumber)).next(()=>this.Zn.er(e,s=>i.Hn(s))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Zn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(hy)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),hy):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let i,s,l,c,h,p,v;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),s=this.params.maximumSequenceNumbersToCollect):s=T,c=Date.now(),this.nthSequenceNumber(e,s))).next(T=>(i=T,h=Date.now(),this.removeTargets(e,i,t))).next(T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(v=Date.now(),Ws()<=Xe.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${s} in `+(h-c)+`ms
	Removed ${l} targets in `+(p-h)+`ms
	Removed ${T} documents in `+(v-p)+`ms
Total Duration: ${v-_}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:T})))}}function mA(n,e){return new pA(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gA{constructor(){this.changes=new ls(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?J.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(i!==null&&al(i.mutation,s,Ur.empty(),qt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Je()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Je()){const s=Zo();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,i).next(l=>{let c=tl();return l.forEach((h,p)=>{c=c.insert(h,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Zo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Je()))}populateOverlays(e,t,i){const s=[];return i.forEach(l=>{t.has(l)||s.push(l)}),this.documentOverlayCache.getOverlays(e,s).next(l=>{l.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,i,s){let l=Li();const c=sl(),h=function(){return sl()}();return t.forEach((p,v)=>{const _=i.get(v.key);s.has(v.key)&&(_===void 0||_.mutation instanceof us)?l=l.insert(v.key,v):_!==void 0?(c.set(v.key,_.mutation.getFieldMask()),al(_.mutation,v,_.mutation.getFieldMask(),qt.now())):c.set(v.key,Ur.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((v,_)=>c.set(v,_)),t.forEach((v,_)=>{var T;return h.set(v,new vA(_,(T=c.get(v))!==null&&T!==void 0?T:null))}),h))}recalculateAndSaveOverlays(e,t){const i=sl();let s=new Ct((c,h)=>c-h),l=Je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(p=>{const v=t.get(p);if(v===null)return;let _=i.get(p)||Ur.empty();_=h.applyToLocalView(v,_),i.set(p,_);const T=(s.get(h.batchId)||Je()).add(p);s=s.insert(h.batchId,T)})}).next(()=>{const c=[],h=s.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),v=p.key,_=p.value,T=x0();_.forEach(x=>{if(!l.has(x)){const P=C0(t.get(x),i.get(x));P!==null&&T.set(x,P),l=l.add(x)}}),c.push(this.documentOverlayCache.saveOverlays(e,v,T))}return J.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,s){return function(c){return be.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ek(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next(l=>{const c=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-l.size):J.resolve(Zo());let h=-1,p=l;return c.next(v=>J.forEach(v,(_,T)=>(h<T.largestBatchId&&(h=T.largestBatchId),l.get(_)?J.resolve():this.remoteDocumentCache.getEntry(e,_).next(x=>{p=p.insert(_,x)}))).next(()=>this.populateOverlays(e,v,l)).next(()=>this.computeViews(e,p,v,Je())).next(_=>({batchId:h,changes:I0(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new be(t)).next(i=>{let s=tl();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const l=t.collectionGroup;let c=tl();return this.indexManager.getCollectionParents(e,l).next(h=>J.forEach(h,p=>{const v=function(T,x){return new Wc(x,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,v,i,s).next(_=>{_.forEach((T,x)=>{c=c.insert(T,x)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,s))).next(c=>{l.forEach((p,v)=>{const _=v.getKey();c.get(_)===null&&(c=c.insert(_,_n.newInvalidDocument(_)))});let h=tl();return c.forEach((p,v)=>{const _=l.get(p);_!==void 0&&al(_.mutation,v,Ur.empty(),qt.now()),Gc(t,v)&&(h=h.insert(p,v))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return J.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:oi(s.createTime)}}(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(s){return{name:s.name,query:uA(s.bundledQuery),readTime:oi(s.readTime)}}(t)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(){this.overlays=new Ct(be.comparator),this.dr=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Zo();return J.forEach(t,s=>this.getOverlay(e,s).next(l=>{l!==null&&i.set(s,l)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((s,l)=>{this.Tt(e,t,l)}),J.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.dr.get(i);return s!==void 0&&(s.forEach(l=>this.overlays=this.overlays.remove(l)),this.dr.delete(i)),J.resolve()}getOverlaysForCollection(e,t,i){const s=Zo(),l=t.length+1,c=new be(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,v=p.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===l&&p.largestBatchId>i&&s.set(p.getKey(),p)}return J.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let l=new Ct((v,_)=>v-_);const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>i){let _=l.get(v.largestBatchId);_===null&&(_=Zo(),l=l.insert(v.largestBatchId,_)),_.set(v.getKey(),v)}}const h=Zo(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((v,_)=>h.set(v,_)),!(h.size()>=s)););return J.resolve(h)}Tt(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const c=this.dr.get(s.largestBatchId).delete(i.key);this.dr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new Uk(t,i));let l=this.dr.get(t);l===void 0&&(l=Je(),this.dr.set(t,l)),this.dr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(){this.Er=new Wt(Xt.Ar),this.Rr=new Wt(Xt.Vr)}isEmpty(){return this.Er.isEmpty()}addReference(e,t){const i=new Xt(e,t);this.Er=this.Er.add(i),this.Rr=this.Rr.add(i)}mr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.gr(new Xt(e,t))}pr(e,t){e.forEach(i=>this.removeReference(i,t))}yr(e){const t=new be(new Nt([])),i=new Xt(t,e),s=new Xt(t,e+1),l=[];return this.Rr.forEachInRange([i,s],c=>{this.gr(c),l.push(c.key)}),l}wr(){this.Er.forEach(e=>this.gr(e))}gr(e){this.Er=this.Er.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new be(new Nt([])),i=new Xt(t,e),s=new Xt(t,e+1);let l=Je();return this.Rr.forEachInRange([i,s],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new Xt(e,0),i=this.Er.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Xt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return be.comparator(e.key,t.key)||tt(e.br,t.br)}static Vr(e,t){return tt(e.br,t.br)||be.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Wt(Xt.Ar)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Fk(l,t,i,s);this.mutationQueue.push(c);for(const h of s)this.vr=this.vr.add(new Xt(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return J.resolve(c)}lookupMutationBatch(e,t){return J.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.Fr(i),l=s<0?0:s;return J.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Xt(t,0),s=new Xt(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([i,s],c=>{const h=this.Cr(c.br);l.push(h)}),J.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Wt(tt);return t.forEach(s=>{const l=new Xt(s,0),c=new Xt(s,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,c],h=>{i=i.add(h.br)})}),J.resolve(this.Mr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let l=i;be.isDocumentKey(l)||(l=l.child(""));const c=new Xt(new be(l),0);let h=new Wt(tt);return this.vr.forEachWhile(p=>{const v=p.key.path;return!!i.isPrefixOf(v)&&(v.length===s&&(h=h.add(p.br)),!0)},c),J.resolve(this.Mr(h))}Mr(e){const t=[];return e.forEach(i=>{const s=this.Cr(i);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){ft(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.vr;return J.forEach(t.mutations,s=>{const l=new Xt(s.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.vr=i})}Bn(e){}containsKey(e,t){const i=new Xt(t,0),s=this.vr.firstAfterOrEqual(i);return J.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e){this.Nr=e,this.docs=function(){return new Ct(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),l=s?s.size:0,c=this.Nr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return J.resolve(i?i.document.mutableCopy():_n.newInvalidDocument(t))}getEntries(e,t){let i=Li();return t.forEach(s=>{const l=this.docs.get(s);i=i.insert(s,l?l.document.mutableCopy():_n.newInvalidDocument(s))}),J.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let l=Li();const c=t.path,h=new be(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:v,value:{document:_}}=p.getNext();if(!c.isPrefixOf(v.path))break;v.path.length>c.length+1||ZR(JR(_),i)<=0||(s.has(_.key)||Gc(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return J.resolve(l)}getAllFromCollectionGroup(e,t,i,s){Fe()}Br(e,t){return J.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new xA(this)}getSize(e){return J.resolve(this.size)}}class xA extends gA{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?t.push(this.hr.addEntry(e,s)):this.hr.removeEntry(i)}),J.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e){this.persistence=e,this.Lr=new ls(t=>op(t),sp),this.lastRemoteSnapshotVersion=ze.min(),this.highestTargetId=0,this.kr=0,this.qr=new hp,this.targetCount=0,this.Qr=oa.qn()}forEachTarget(e,t){return this.Lr.forEach((i,s)=>t(s)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.kr&&(this.kr=t),J.resolve()}Un(e){this.Lr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new oa(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.Un(t),J.resolve()}removeTargetData(e,t){return this.Lr.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,i){let s=0;const l=[];return this.Lr.forEach((c,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.Lr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)}),J.waitFor(l).next(()=>s)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const i=this.Lr.get(t)||null;return J.resolve(i)}addMatchingKeys(e,t,i){return this.qr.mr(t,i),J.resolve()}removeMatchingKeys(e,t,i){this.qr.pr(t,i);const s=this.persistence.referenceDelegate,l=[];return s&&t.forEach(c=>{l.push(s.markPotentiallyOrphaned(e,c))}),J.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),J.resolve()}getMatchingKeysForTargetId(e,t){const i=this.qr.Sr(t);return J.resolve(i)}containsKey(e,t){return J.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,t){this.Kr={},this.overlays={},this.$r=new $c(0),this.Ur=!1,this.Ur=!0,this.Wr=new EA,this.referenceDelegate=e(this),this.Gr=new SA(this),this.indexManager=new cA,this.remoteDocumentCache=function(s){return new IA(s)}(i=>this.referenceDelegate.zr(i)),this.serializer=new lA(t),this.jr=new _A(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new wA,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Kr[e.toKey()];return i||(i=new TA(t,this.referenceDelegate),this.Kr[e.toKey()]=i),i}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,i){ve("MemoryPersistence","Starting transaction:",e);const s=new RA(this.$r.next());return this.referenceDelegate.Hr(),i(s).next(l=>this.referenceDelegate.Jr(s).next(()=>l)).toPromise().then(l=>(s.raiseOnCommittedEvent(),l))}Yr(e,t){return J.or(Object.values(this.Kr).map(i=>()=>i.containsKey(e,t)))}}class RA extends tk{constructor(e){super(),this.currentSequenceNumber=e}}class fp{constructor(e){this.persistence=e,this.Zr=new hp,this.Xr=null}static ei(e){return new fp(e)}get ti(){if(this.Xr)return this.Xr;throw Fe()}addReference(e,t,i){return this.Zr.addReference(i,t),this.ti.delete(i.toString()),J.resolve()}removeReference(e,t,i){return this.Zr.removeReference(i,t),this.ti.add(i.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),J.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(s=>this.ti.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(l=>this.ti.add(l.toString()))}).next(()=>i.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ti,i=>{const s=be.fromPath(i);return this.ni(e,s).next(l=>{l||t.removeEntry(s,ze.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(i=>{i?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return J.or([()=>J.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Pc{constructor(e,t){this.persistence=e,this.ri=new ls(i=>ik(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=mA(this,t)}static ei(e,t){return new Pc(e,t)}Hr(){}Jr(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(s=>i+s))}nr(e){let t=0;return this.er(e,i=>{t++}).next(()=>t)}er(e,t){return J.forEach(this.ri,(i,s)=>this.ir(e,i,s).next(l=>l?J.resolve():t(s)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.Br(e,c=>this.ir(e,c,t).next(h=>{h||(i++,l.removeEntry(c,ze.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),J.resolve()}removeReference(e,t,i){return this.ri.set(i,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),J.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ac(e.data.value)),t}ir(e,t,i){return J.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.ri.get(t);return J.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.Wi=i,this.Gi=s}static zi(e,t){let i=Je(),s=Je();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new pp(e,t.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return lx()?8:nk(wn())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,i,s){const l={result:null};return this.Xi(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.es(e,t,s,i).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new kA;return this.ts(e,t,c).next(h=>{if(l.result=h,this.Hi)return this.ns(e,t,c,h.size)})}).next(()=>l.result)}ns(e,t,i,s){return i.documentReadCount<this.Ji?(Ws()<=Xe.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Ks(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),J.resolve()):(Ws()<=Xe.DEBUG&&ve("QueryEngine","Query:",Ks(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.Yi*s?(Ws()<=Xe.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Ks(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ii(t))):J.resolve())}Xi(e,t){if(ny(t))return J.resolve(null);let i=ii(t);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=gf(t,null,"F"),i=ii(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const c=Je(...l);return this.Zi.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,i).next(p=>{const v=this.rs(t,h);return this.ss(t,v,c,p.readTime)?this.Xi(e,gf(t,null,"F")):this.os(e,v,t,p)}))})))}es(e,t,i,s){return ny(t)||s.isEqual(ze.min())?J.resolve(null):this.Zi.getDocuments(e,i).next(l=>{const c=this.rs(t,l);return this.ss(t,c,i,s)?J.resolve(null):(Ws()<=Xe.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ks(t)),this.os(e,c,t,XR(s,-1)).next(h=>h))})}rs(e,t){let i=new Wt(E0(e));return t.forEach((s,l)=>{Gc(e,l)&&(i=i.add(l))}),i}ss(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}ts(e,t,i){return Ws()<=Xe.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Ks(t)),this.Zi.getDocumentsMatchingQuery(e,t,xo.min(),i)}os(e,t,i,s){return this.Zi.getDocumentsMatchingQuery(e,i,s).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,t,i,s){this.persistence=e,this._s=t,this.serializer=s,this.us=new Ct(tt),this.cs=new ls(l=>op(l),sp),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(i)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yA(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function CA(n,e,t,i){return new PA(n,e,t,i)}async function H0(n,e){const t=$e(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(l=>(s=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(i))).next(l=>{const c=[],h=[];let p=Je();for(const v of s){c.push(v.batchId);for(const _ of v.mutations)p=p.add(_.key)}for(const v of l){h.push(v.batchId);for(const _ of v.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(i,p).next(v=>({Ts:v,removedBatchIds:c,addedBatchIds:h}))})})}function bA(n,e){const t=$e(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),l=t.hs.newChangeBuffer({trackRemovals:!0});return function(h,p,v,_){const T=v.batch,x=T.keys();let P=J.resolve();return x.forEach(b=>{P=P.next(()=>_.getEntry(p,b)).next(j=>{const F=v.docVersions.get(b);ft(F!==null),j.version.compareTo(F)<0&&(T.applyToRemoteDocument(j,v),j.isValidDocument()&&(j.setReadTime(v.commitVersion),_.addEntry(j)))})}),P.next(()=>h.mutationQueue.removeMutationBatch(p,T))}(t,i,e,l).next(()=>l.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let p=Je();for(let v=0;v<h.mutationResults.length;++v)h.mutationResults[v].transformResults.length>0&&(p=p.add(h.batch.mutations[v].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,s))})}function q0(n){const e=$e(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function DA(n,e){const t=$e(n),i=e.snapshotVersion;let s=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.hs.newChangeBuffer({trackRemovals:!0});s=t.us;const h=[];e.targetChanges.forEach((_,T)=>{const x=s.get(T);if(!x)return;h.push(t.Gr.removeMatchingKeys(l,_.removedDocuments,T).next(()=>t.Gr.addMatchingKeys(l,_.addedDocuments,T)));let P=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?P=P.withResumeToken(un.EMPTY_BYTE_STRING,ze.min()).withLastLimboFreeSnapshotVersion(ze.min()):_.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(_.resumeToken,i)),s=s.insert(T,P),function(j,F,W){return j.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(x,P,_)&&h.push(t.Gr.updateTargetData(l,P))});let p=Li(),v=Je();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),h.push(NA(l,c,e.documentUpdates).next(_=>{p=_.Is,v=_.ds})),!i.isEqual(ze.min())){const _=t.Gr.getLastRemoteSnapshotVersion(l).next(T=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,i));h.push(_)}return J.waitFor(h).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,v)).next(()=>p)}).then(l=>(t.us=s,l))}function NA(n,e,t){let i=Je(),s=Je();return t.forEach(l=>i=i.add(l)),e.getEntries(n,i).next(l=>{let c=Li();return t.forEach((h,p)=>{const v=l.get(h);p.isFoundDocument()!==v.isFoundDocument()&&(s=s.add(h)),p.isNoDocument()&&p.version.isEqual(ze.min())?(e.removeEntry(h,p.readTime),c=c.insert(h,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(p),c=c.insert(h,p)):ve("LocalStore","Ignoring outdated watch update for ",h,". Current version:",v.version," Watch version:",p.version)}),{Is:c,ds:s}})}function OA(n,e){const t=$e(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function LA(n,e){const t=$e(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return t.Gr.getTargetData(i,e).next(l=>l?(s=l,J.resolve(s)):t.Gr.allocateTargetId(i).next(c=>(s=new vo(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Gr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=t.us.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.us=t.us.insert(i.targetId,i),t.cs.set(e,i.targetId)),i})}async function Ef(n,e,t){const i=$e(n),s=i.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,c=>i.persistence.referenceDelegate.removeTarget(c,s))}catch(c){if(!fa(c))throw c;ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}i.us=i.us.remove(e),i.cs.delete(s.target)}function py(n,e,t){const i=$e(n);let s=ze.min(),l=Je();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,v,_){const T=$e(p),x=T.cs.get(_);return x!==void 0?J.resolve(T.us.get(x)):T.Gr.getTargetData(v,_)}(i,c,ii(e)).next(h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,i.Gr.getMatchingKeysForTargetId(c,h.targetId).next(p=>{l=p})}).next(()=>i._s.getDocumentsMatchingQuery(c,e,t?s:ze.min(),t?l:Je())).next(h=>(VA(i,Ik(e),h),{documents:h,Es:l})))}function VA(n,e,t){let i=n.ls.get(e)||ze.min();t.forEach((s,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),n.ls.set(e,i)}class my{constructor(){this.activeTargetIds=Pk()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class MA{constructor(){this._o=new my,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,i){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new my,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qu=null;function Bh(){return Qu===null?Qu=function(){return 268435456+Math.round(2147483648*Math.random())}():Qu++,"0x"+Qu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn="WebChannelConnection";class zA extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=i+"://"+t.host,this.Mo=`projects/${s}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Oo(t,i,s,l,c){const h=Bh(),p=this.No(t,i.toUriEncodedString());ve("RestConnection",`Sending RPC '${t}' ${h}:`,p,s);const v={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Bo(v,l,c),this.Lo(t,p,v,s).then(_=>(ve("RestConnection",`Received RPC '${t}' ${h}: `,_),_),_=>{throw ta("RestConnection",`RPC '${t}' ${h} failed with error: `,_,"url: ",p,"request:",s),_})}ko(t,i,s,l,c,h){return this.Oo(t,i,s,l,c)}Bo(t,i,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+da}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,c)=>t[c]=l),s&&s.headers.forEach((l,c)=>t[c]=l)}No(t,i){const s=UA[t];return`${this.Fo}/v1/${i}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Lo(e,t,i,s){const l=Bh();return new Promise((c,h)=>{const p=new i0;p.setWithCredentials(!0),p.listenOnce(o0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case sc.NO_ERROR:const _=p.getResponseJson();ve(vn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),c(_);break;case sc.TIMEOUT:ve(vn,`RPC '${e}' ${l} timed out`),h(new Ce(oe.DEADLINE_EXCEEDED,"Request time out"));break;case sc.HTTP_ERROR:const T=p.getStatus();if(ve(vn,`RPC '${e}' ${l} failed with status:`,T,"response text:",p.getResponseText()),T>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const P=x==null?void 0:x.error;if(P&&P.status&&P.message){const b=function(F){const W=F.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(W)>=0?W:oe.UNKNOWN}(P.status);h(new Ce(b,P.message))}else h(new Ce(oe.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new Ce(oe.UNAVAILABLE,"Connection failed."));break;default:Fe()}}finally{ve(vn,`RPC '${e}' ${l} completed.`)}});const v=JSON.stringify(s);ve(vn,`RPC '${e}' ${l} sending request:`,s),p.send(t,"POST",v,i,15)})}qo(e,t,i){const s=Bh(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=l0(),h=a0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Bo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const _=l.join("");ve(vn,`Creating RPC '${e}' stream ${s}: ${_}`,p);const T=c.createWebChannel(_,p);let x=!1,P=!1;const b=new jA({Eo:F=>{P?ve(vn,`Not sending because RPC '${e}' stream ${s} is closed:`,F):(x||(ve(vn,`Opening RPC '${e}' stream ${s} transport.`),T.open(),x=!0),ve(vn,`RPC '${e}' stream ${s} sending:`,F),T.send(F))},Ao:()=>T.close()}),j=(F,W,te)=>{F.listen(W,Z=>{try{te(Z)}catch(fe){setTimeout(()=>{throw fe},0)}})};return j(T,el.EventType.OPEN,()=>{P||(ve(vn,`RPC '${e}' stream ${s} transport opened.`),b.So())}),j(T,el.EventType.CLOSE,()=>{P||(P=!0,ve(vn,`RPC '${e}' stream ${s} transport closed`),b.Do())}),j(T,el.EventType.ERROR,F=>{P||(P=!0,ta(vn,`RPC '${e}' stream ${s} transport errored:`,F),b.Do(new Ce(oe.UNAVAILABLE,"The operation could not be completed")))}),j(T,el.EventType.MESSAGE,F=>{var W;if(!P){const te=F.data[0];ft(!!te);const Z=te,fe=(Z==null?void 0:Z.error)||((W=Z[0])===null||W===void 0?void 0:W.error);if(fe){ve(vn,`RPC '${e}' stream ${s} received error:`,fe);const V=fe.status;let ie=function(S){const C=Ft[S];if(C!==void 0)return N0(C)}(V),A=fe.message;ie===void 0&&(ie=oe.INTERNAL,A="Unknown error status: "+V+" with message "+fe.message),P=!0,b.Do(new Ce(ie,A)),T.close()}else ve(vn,`RPC '${e}' stream ${s} received:`,te),b.vo(te)}}),j(h,s0.STAT_EVENT,F=>{F.stat===df.PROXY?ve(vn,`RPC '${e}' stream ${s} detected buffering proxy`):F.stat===df.NOPROXY&&ve(vn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.bo()},0),b}}function $h(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jc(n){return new Gk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,t,i=1e3,s=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=i,this.Ko=s,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),i=Math.max(0,Date.now()-this.Go),s=Math.max(0,t-i);s>0&&ve("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,s,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,t,i,s,l,c,h,p){this.li=e,this.Yo=i,this.Zo=s,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new W0(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(Oi(t.toString()),Oi("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.Xo===t&&this.I_(i,s)},i=>{e(()=>{const s=new Ce(oe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.d_(s)})})}I_(e,t){const i=this.T_(this.Xo);this.stream=this.E_(e,t),this.stream.Ro(()=>{i(()=>this.listener.Ro())}),this.stream.mo(()=>{i(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(s=>{i(()=>this.d_(s))}),this.stream.onMessage(s=>{i(()=>++this.n_==1?this.A_(s):this.onNext(s))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}d_(e){return ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BA extends K0{constructor(e,t,i,s,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,c),this.serializer=l}E_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=Xk(this.serializer,e),i=function(l){if(!("targetChange"in l))return ze.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?ze.min():c.readTime?oi(c.readTime):ze.min()}(e);return this.listener.R_(t,i)}V_(e){const t={};t.database=wf(this.serializer),t.addTarget=function(l,c){let h;const p=c.target;if(h=mf(p)?{documents:eA(l,p)}:{query:tA(l,p).ct},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=V0(l,c.resumeToken);const v=vf(l,c.expectedCount);v!==null&&(h.expectedCount=v)}else if(c.snapshotVersion.compareTo(ze.min())>0){h.readTime=Ac(l,c.snapshotVersion.toTimestamp());const v=vf(l,c.expectedCount);v!==null&&(h.expectedCount=v)}return h}(this.serializer,e);const i=rA(this.serializer,e);i&&(t.labels=i),this.c_(t)}m_(e){const t={};t.database=wf(this.serializer),t.removeTarget=e,this.c_(t)}}class $A extends K0{constructor(e,t,i,s,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,c),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}E_(e,t){return this.connection.qo("Write",e,t)}A_(e){return ft(!!e.streamToken),this.lastStreamToken=e.streamToken,ft(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=Zk(e.writeResults,e.commitTime),i=oi(e.commitTime);return this.listener.y_(i,t)}w_(){const e={};e.database=wf(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Jk(this.serializer,i))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA extends class{}{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.S_=!1}b_(){if(this.S_)throw new Ce(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,i,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Oo(e,yf(t,i),s,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ce(oe.UNKNOWN,l.toString())})}ko(e,t,i,s,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.ko(e,yf(t,i),s,c,h,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ce(oe.UNKNOWN,c.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class qA{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Oi(t),this.C_=!1):ve("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,t,i,s,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.B_=[],this.L_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(c=>{i.enqueueAndForget(async()=>{cs(this)&&(ve("RemoteStore","Restarting streams for network reachability change."),await async function(p){const v=$e(p);v.k_.add(4),await bl(v),v.K_.set("Unknown"),v.k_.delete(4),await Zc(v)}(this))})}),this.K_=new qA(i,s)}}async function Zc(n){if(cs(n))for(const e of n.q_)await e(!0)}async function bl(n){for(const e of n.q_)await e(!1)}function G0(n,e){const t=$e(n);t.L_.has(e.targetId)||(t.L_.set(e.targetId,e),yp(t)?vp(t):pa(t).s_()&&gp(t,e))}function mp(n,e){const t=$e(n),i=pa(t);t.L_.delete(e),i.s_()&&Q0(t,e),t.L_.size===0&&(i.s_()?i.a_():cs(t)&&t.K_.set("Unknown"))}function gp(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ze.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}pa(n).V_(e)}function Q0(n,e){n.U_.xe(e),pa(n).m_(e)}function vp(n){n.U_=new Hk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.L_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),pa(n).start(),n.K_.F_()}function yp(n){return cs(n)&&!pa(n).i_()&&n.L_.size>0}function cs(n){return $e(n).k_.size===0}function Y0(n){n.U_=void 0}async function KA(n){n.K_.set("Online")}async function GA(n){n.L_.forEach((e,t)=>{gp(n,e)})}async function QA(n,e){Y0(n),yp(n)?(n.K_.O_(e),vp(n)):n.K_.set("Unknown")}async function YA(n,e,t){if(n.K_.set("Online"),e instanceof L0&&e.state===2&&e.cause)try{await async function(s,l){const c=l.cause;for(const h of l.targetIds)s.L_.has(h)&&(await s.remoteSyncer.rejectListen(h,c),s.L_.delete(h),s.U_.removeTarget(h))}(n,e)}catch(i){ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Cc(n,i)}else if(e instanceof cc?n.U_.$e(e):e instanceof O0?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(ze.min()))try{const i=await q0(n.localStore);t.compareTo(i)>=0&&await function(l,c){const h=l.U_.it(c);return h.targetChanges.forEach((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.L_.get(v);_&&l.L_.set(v,_.withResumeToken(p.resumeToken,c))}}),h.targetMismatches.forEach((p,v)=>{const _=l.L_.get(p);if(!_)return;l.L_.set(p,_.withResumeToken(un.EMPTY_BYTE_STRING,_.snapshotVersion)),Q0(l,p);const T=new vo(_.target,p,v,_.sequenceNumber);gp(l,T)}),l.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(i){ve("RemoteStore","Failed to raise snapshot:",i),await Cc(n,i)}}async function Cc(n,e,t){if(!fa(e))throw e;n.k_.add(1),await bl(n),n.K_.set("Offline"),t||(t=()=>q0(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ve("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await Zc(n)})}function X0(n,e){return e().catch(t=>Cc(n,t,e))}async function ed(n){const e=$e(n),t=Ao(e);let i=e.B_.length>0?e.B_[e.B_.length-1].batchId:-1;for(;XA(e);)try{const s=await OA(e.localStore,i);if(s===null){e.B_.length===0&&t.a_();break}i=s.batchId,JA(e,s)}catch(s){await Cc(e,s)}J0(e)&&Z0(e)}function XA(n){return cs(n)&&n.B_.length<10}function JA(n,e){n.B_.push(e);const t=Ao(n);t.s_()&&t.f_&&t.g_(e.mutations)}function J0(n){return cs(n)&&!Ao(n).i_()&&n.B_.length>0}function Z0(n){Ao(n).start()}async function ZA(n){Ao(n).w_()}async function eP(n){const e=Ao(n);for(const t of n.B_)e.g_(t.mutations)}async function tP(n,e,t){const i=n.B_.shift(),s=up.from(i,e,t);await X0(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await ed(n)}async function nP(n,e){e&&Ao(n).f_&&await async function(i,s){if(function(c){return zk(c)&&c!==oe.ABORTED}(s.code)){const l=i.B_.shift();Ao(i).__(),await X0(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,s)),await ed(i)}}(n,e),J0(n)&&Z0(n)}async function vy(n,e){const t=$e(n);t.asyncQueue.verifyOperationInProgress(),ve("RemoteStore","RemoteStore received new credentials");const i=cs(t);t.k_.add(3),await bl(t),i&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await Zc(t)}async function rP(n,e){const t=$e(n);e?(t.k_.delete(2),await Zc(t)):e||(t.k_.add(2),await bl(t),t.K_.set("Unknown"))}function pa(n){return n.W_||(n.W_=function(t,i,s){const l=$e(t);return l.b_(),new BA(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(n.datastore,n.asyncQueue,{Ro:KA.bind(null,n),mo:GA.bind(null,n),po:QA.bind(null,n),R_:YA.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),yp(n)?vp(n):n.K_.set("Unknown")):(await n.W_.stop(),Y0(n))})),n.W_}function Ao(n){return n.G_||(n.G_=function(t,i,s){const l=$e(t);return l.b_(),new $A(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:ZA.bind(null,n),po:nP.bind(null,n),p_:eP.bind(null,n),y_:tP.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await ed(n)):(await n.G_.stop(),n.B_.length>0&&(ve("RemoteStore",`Stopping write stream with ${n.B_.length} pending writes`),n.B_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,t,i,s,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=l,this.deferred=new To,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,l){const c=Date.now()+i,h=new _p(e,t,c,s,l);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wp(n,e){if(Oi("AsyncQueue",`${e}: ${n}`),fa(n))return new Ce(oe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{static emptySet(e){return new Zs(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||be.comparator(t.key,i.key):(t,i)=>be.comparator(t.key,i.key),this.keyedMap=tl(),this.sortedSet=new Ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Zs)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=i.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Zs;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(){this.z_=new Ct(be.comparator)}track(e){const t=e.doc.key,i=this.z_.get(t);i?e.type!==0&&i.type===3?this.z_=this.z_.insert(t,e):e.type===3&&i.type!==1?this.z_=this.z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.z_=this.z_.remove(t):e.type===1&&i.type===2?this.z_=this.z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Fe():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class sa{constructor(e,t,i,s,l,c,h,p,v){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(e,t,i,s,l){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new sa(e,t,Zs.emptySet(t),c,i,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class oP{constructor(){this.queries=_y(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,i){const s=$e(t),l=s.queries;s.queries=_y(),l.forEach((c,h)=>{for(const p of h.J_)p.onError(i)})})(this,new Ce(oe.ABORTED,"Firestore shutting down"))}}function _y(){return new ls(n=>w0(n),Kc)}async function sP(n,e){const t=$e(n);let i=3;const s=e.query;let l=t.queries.get(s);l?!l.Y_()&&e.Z_()&&(i=2):(l=new iP,i=e.Z_()?0:1);try{switch(i){case 0:l.H_=await t.onListen(s,!0);break;case 1:l.H_=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const h=wp(c,`Initialization of query '${Ks(e.query)}' failed`);return void e.onError(h)}t.queries.set(s,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&Ep(t)}async function aP(n,e){const t=$e(n),i=e.query;let s=3;const l=t.queries.get(i);if(l){const c=l.J_.indexOf(e);c>=0&&(l.J_.splice(c,1),l.J_.length===0?s=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function lP(n,e){const t=$e(n);let i=!1;for(const s of e){const l=s.query,c=t.queries.get(l);if(c){for(const h of c.J_)h.ta(s)&&(i=!0);c.H_=s}}i&&Ep(t)}function uP(n,e,t){const i=$e(n),s=i.queries.get(e);if(s)for(const l of s.J_)l.onError(t);i.queries.delete(e)}function Ep(n){n.X_.forEach(e=>{e.next()})}var Tf,wy;(wy=Tf||(Tf={})).na="default",wy.Cache="cache";class cP{constructor(e,t,i){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=i||{}}ta(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new sa(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const i=t!=="Offline";return(!this.options.ua||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=sa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Tf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e){this.key=e}}class tw{constructor(e){this.key=e}}class dP{constructor(e,t){this.query=e,this.Ea=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Je(),this.mutatedKeys=Je(),this.Va=E0(e),this.ma=new Zs(this.Va)}get fa(){return this.Ea}ga(e,t){const i=t?t.pa:new yy,s=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,c=s,h=!1;const p=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,v=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((_,T)=>{const x=s.get(_),P=Gc(this.query,T)?T:null,b=!!x&&this.mutatedKeys.has(x.key),j=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let F=!1;x&&P?x.data.isEqual(P.data)?b!==j&&(i.track({type:3,doc:P}),F=!0):this.ya(x,P)||(i.track({type:2,doc:P}),F=!0,(p&&this.Va(P,p)>0||v&&this.Va(P,v)<0)&&(h=!0)):!x&&P?(i.track({type:0,doc:P}),F=!0):x&&!P&&(i.track({type:1,doc:x}),F=!0,(p||v)&&(h=!0)),F&&(P?(c=c.add(P),l=j?l.add(_):l.delete(_)):(c=c.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),l=l.delete(_.key),i.track({type:1,doc:_})}return{ma:c,pa:i,ss:h,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const c=e.pa.j_();c.sort((_,T)=>function(P,b){const j=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fe()}};return j(P)-j(b)}(_.type,T.type)||this.Va(_.doc,T.doc)),this.wa(i),s=s!=null&&s;const h=t&&!s?this.Sa():[],p=this.Ra.size===0&&this.current&&!s?1:0,v=p!==this.Aa;return this.Aa=p,c.length!==0||v?{snapshot:new sa(this.query,e.ma,l,c,e.mutatedKeys,p===0,v,!1,!!i&&i.resumeToken.approximateByteSize()>0),ba:h}:{ba:h}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new yy,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.Ea.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.Ea=this.Ea.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ea=this.Ea.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Je(),this.ma.forEach(i=>{this.Da(i.key)&&(this.Ra=this.Ra.add(i.key))});const t=[];return e.forEach(i=>{this.Ra.has(i)||t.push(new tw(i))}),this.Ra.forEach(i=>{e.has(i)||t.push(new ew(i))}),t}va(e){this.Ea=e.Es,this.Ra=Je();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return sa.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class hP{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class fP{constructor(e){this.key=e,this.Fa=!1}}class pP{constructor(e,t,i,s,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Ma={},this.xa=new ls(h=>w0(h),Kc),this.Oa=new Map,this.Na=new Set,this.Ba=new Ct(be.comparator),this.La=new Map,this.ka=new hp,this.qa={},this.Qa=new Map,this.Ka=oa.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function mP(n,e,t=!0){const i=aw(n);let s;const l=i.xa.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.Ca()):s=await nw(i,e,t,!0),s}async function gP(n,e){const t=aw(n);await nw(t,e,!0,!1)}async function nw(n,e,t,i){const s=await LA(n.localStore,ii(e)),l=s.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let h;return i&&(h=await vP(n,e,l,c==="current",s.resumeToken)),n.isPrimaryClient&&t&&G0(n.remoteStore,s),h}async function vP(n,e,t,i,s){n.Ua=(T,x,P)=>async function(j,F,W,te){let Z=F.view.ga(W);Z.ss&&(Z=await py(j.localStore,F.query,!1).then(({documents:A})=>F.view.ga(A,Z)));const fe=te&&te.targetChanges.get(F.targetId),V=te&&te.targetMismatches.get(F.targetId)!=null,ie=F.view.applyChanges(Z,j.isPrimaryClient,fe,V);return Ty(j,F.targetId,ie.ba),ie.snapshot}(n,T,x,P);const l=await py(n.localStore,e,!0),c=new dP(e,l.Es),h=c.ga(l.documents),p=Cl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",s),v=c.applyChanges(h,n.isPrimaryClient,p);Ty(n,t,v.ba);const _=new hP(e,t,c);return n.xa.set(e,_),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),v.snapshot}async function yP(n,e,t){const i=$e(n),s=i.xa.get(e),l=i.Oa.get(s.targetId);if(l.length>1)return i.Oa.set(s.targetId,l.filter(c=>!Kc(c,e))),void i.xa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Ef(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),t&&mp(i.remoteStore,s.targetId),If(i,s.targetId)}).catch(ha)):(If(i,s.targetId),await Ef(i.localStore,s.targetId,!0))}async function _P(n,e){const t=$e(n),i=t.xa.get(e),s=t.Oa.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),mp(t.remoteStore,i.targetId))}async function wP(n,e,t){const i=kP(n);try{const s=await function(c,h){const p=$e(c),v=qt.now(),_=h.reduce((P,b)=>P.add(b.key),Je());let T,x;return p.persistence.runTransaction("Locally write mutations","readwrite",P=>{let b=Li(),j=Je();return p.hs.getEntries(P,_).next(F=>{b=F,b.forEach((W,te)=>{te.isValidDocument()||(j=j.add(W))})}).next(()=>p.localDocuments.getOverlayedDocuments(P,b)).next(F=>{T=F;const W=[];for(const te of h){const Z=Vk(te,T.get(te.key).overlayedDocument);Z!=null&&W.push(new us(te.key,Z,f0(Z.value.mapValue),bi.exists(!0)))}return p.mutationQueue.addMutationBatch(P,v,W,h)}).next(F=>{x=F;const W=F.applyToLocalDocumentSet(T,j);return p.documentOverlayCache.saveOverlays(P,F.batchId,W)})}).then(()=>({batchId:x.batchId,changes:I0(T)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(c,h,p){let v=c.qa[c.currentUser.toKey()];v||(v=new Ct(tt)),v=v.insert(h,p),c.qa[c.currentUser.toKey()]=v}(i,s.batchId,t),await Dl(i,s.changes),await ed(i.remoteStore)}catch(s){const l=wp(s,"Failed to persist write");t.reject(l)}}async function rw(n,e){const t=$e(n);try{const i=await DA(t.localStore,e);e.targetChanges.forEach((s,l)=>{const c=t.La.get(l);c&&(ft(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.Fa=!0:s.modifiedDocuments.size>0?ft(c.Fa):s.removedDocuments.size>0&&(ft(c.Fa),c.Fa=!1))}),await Dl(t,i,e)}catch(i){await ha(i)}}function Ey(n,e,t){const i=$e(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.xa.forEach((l,c)=>{const h=c.view.ea(e);h.snapshot&&s.push(h.snapshot)}),function(c,h){const p=$e(c);p.onlineState=h;let v=!1;p.queries.forEach((_,T)=>{for(const x of T.J_)x.ea(h)&&(v=!0)}),v&&Ep(p)}(i.eventManager,e),s.length&&i.Ma.R_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function EP(n,e,t){const i=$e(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.La.get(e),l=s&&s.key;if(l){let c=new Ct(be.comparator);c=c.insert(l,_n.newNoDocument(l,ze.min()));const h=Je().add(l),p=new Xc(ze.min(),new Map,new Ct(tt),c,h);await rw(i,p),i.Ba=i.Ba.remove(l),i.La.delete(e),Tp(i)}else await Ef(i.localStore,e,!1).then(()=>If(i,e,t)).catch(ha)}async function TP(n,e){const t=$e(n),i=e.batch.batchId;try{const s=await bA(t.localStore,e);ow(t,i,null),iw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Dl(t,s)}catch(s){await ha(s)}}async function IP(n,e,t){const i=$e(n);try{const s=await function(c,h){const p=$e(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let _;return p.mutationQueue.lookupMutationBatch(v,h).next(T=>(ft(T!==null),_=T.keys(),p.mutationQueue.removeMutationBatch(v,T))).next(()=>p.mutationQueue.performConsistencyCheck(v)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(v,_,h)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,_)).next(()=>p.localDocuments.getDocuments(v,_))})}(i.localStore,e);ow(i,e,t),iw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Dl(i,s)}catch(s){await ha(s)}}function iw(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function ow(n,e,t){const i=$e(n);let s=i.qa[i.currentUser.toKey()];if(s){const l=s.get(e);l&&(t?l.reject(t):l.resolve(),s=s.remove(e)),i.qa[i.currentUser.toKey()]=s}}function If(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Oa.get(e))n.xa.delete(i),t&&n.Ma.Wa(i,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(i=>{n.ka.containsKey(i)||sw(n,i)})}function sw(n,e){n.Na.delete(e.path.canonicalString());const t=n.Ba.get(e);t!==null&&(mp(n.remoteStore,t),n.Ba=n.Ba.remove(e),n.La.delete(t),Tp(n))}function Ty(n,e,t){for(const i of t)i instanceof ew?(n.ka.addReference(i.key,e),xP(n,i)):i instanceof tw?(ve("SyncEngine","Document no longer in limbo: "+i.key),n.ka.removeReference(i.key,e),n.ka.containsKey(i.key)||sw(n,i.key)):Fe()}function xP(n,e){const t=e.key,i=t.path.canonicalString();n.Ba.get(t)||n.Na.has(i)||(ve("SyncEngine","New document in limbo: "+t),n.Na.add(i),Tp(n))}function Tp(n){for(;n.Na.size>0&&n.Ba.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new be(Nt.fromString(e)),i=n.Ka.next();n.La.set(i,new fP(t)),n.Ba=n.Ba.insert(t,i),G0(n.remoteStore,new vo(ii(ap(t.path)),i,"TargetPurposeLimboResolution",$c.oe))}}async function Dl(n,e,t){const i=$e(n),s=[],l=[],c=[];i.xa.isEmpty()||(i.xa.forEach((h,p)=>{c.push(i.Ua(p,e,t).then(v=>{var _;if((v||t)&&i.isPrimaryClient){const T=v?!v.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(v){s.push(v);const T=pp.zi(p.targetId,v);l.push(T)}}))}),await Promise.all(c),i.Ma.R_(s),await async function(p,v){const _=$e(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>J.forEach(v,x=>J.forEach(x.Wi,P=>_.persistence.referenceDelegate.addReference(T,x.targetId,P)).next(()=>J.forEach(x.Gi,P=>_.persistence.referenceDelegate.removeReference(T,x.targetId,P)))))}catch(T){if(!fa(T))throw T;ve("LocalStore","Failed to update sequence numbers: "+T)}for(const T of v){const x=T.targetId;if(!T.fromCache){const P=_.us.get(x),b=P.snapshotVersion,j=P.withLastLimboFreeSnapshotVersion(b);_.us=_.us.insert(x,j)}}}(i.localStore,l))}async function SP(n,e){const t=$e(n);if(!t.currentUser.isEqual(e)){ve("SyncEngine","User change. New user:",e.toKey());const i=await H0(t.localStore,e);t.currentUser=e,function(l,c){l.Qa.forEach(h=>{h.forEach(p=>{p.reject(new Ce(oe.CANCELLED,c))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Dl(t,i.Ts)}}function RP(n,e){const t=$e(n),i=t.La.get(e);if(i&&i.Fa)return Je().add(i.key);{let s=Je();const l=t.Oa.get(e);if(!l)return s;for(const c of l){const h=t.xa.get(c);s=s.unionWith(h.view.fa)}return s}}function aw(n){const e=$e(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=rw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EP.bind(null,e),e.Ma.R_=lP.bind(null,e.eventManager),e.Ma.Wa=uP.bind(null,e.eventManager),e}function kP(n){const e=$e(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IP.bind(null,e),e}class bc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Jc(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return CA(this.persistence,new AA,e.initialUser,this.serializer)}ja(e){return new $0(fp.ei,this.serializer)}za(e){return new MA}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bc.provider={build:()=>new bc};class AP extends bc{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){ft(this.persistence.referenceDelegate instanceof Pc);const i=this.persistence.referenceDelegate.garbageCollector;return new fA(i,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?Bn.withCacheSize(this.cacheSizeBytes):Bn.DEFAULT;return new $0(i=>Pc.ei(i,t),this.serializer)}}class xf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Ey(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=SP.bind(null,this.syncEngine),await rP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new oP}()}createDatastore(e){const t=Jc(e.databaseInfo.databaseId),i=function(l){return new zA(l)}(e.databaseInfo);return function(l,c,h,p){return new HA(l,c,h,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,s,l,c,h){return new WA(i,s,l,c,h)}(this.localStore,this.datastore,e.asyncQueue,t=>Ey(this.syncEngine,t,0),function(){return gy.p()?new gy:new FA}())}createSyncEngine(e,t){return function(s,l,c,h,p,v,_){const T=new pP(s,l,c,h,p,v);return _&&(T.$a=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const l=$e(s);ve("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await bl(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}xf.provider={build:()=>new xf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Oi("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e,t,i,s,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=yn.UNAUTHENTICATED,this.clientId=c0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async c=>{ve("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(ve("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new To;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=wp(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Hh(n,e){n.asyncQueue.verifyOperationInProgress(),ve("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await H0(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Iy(n,e){n.asyncQueue.verifyOperationInProgress();const t=await bP(n);ve("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>vy(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>vy(e.remoteStore,s)),n._onlineComponents=e}async function bP(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ve("FirestoreClient","Using user provided OfflineComponentProvider");try{await Hh(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===oe.FAILED_PRECONDITION||s.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;ta("Error using user provided cache. Falling back to memory cache: "+t),await Hh(n,new bc)}}else ve("FirestoreClient","Using default OfflineComponentProvider"),await Hh(n,new AP(void 0));return n._offlineComponents}async function lw(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ve("FirestoreClient","Using user provided OnlineComponentProvider"),await Iy(n,n._uninitializedComponentsProvider._online)):(ve("FirestoreClient","Using default OnlineComponentProvider"),await Iy(n,new xf))),n._onlineComponents}function DP(n){return lw(n).then(e=>e.syncEngine)}async function NP(n){const e=await lw(n),t=e.eventManager;return t.onListen=mP.bind(null,e.syncEngine),t.onUnlisten=yP.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=gP.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=_P.bind(null,e.syncEngine),t}function OP(n,e,t={}){const i=new To;return n.asyncQueue.enqueueAndForget(async()=>function(l,c,h,p,v){const _=new PP({next:x=>{_.eu(),c.enqueueAndForget(()=>aP(l,T));const P=x.docs.has(h);!P&&x.fromCache?v.reject(new Ce(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&x.fromCache&&p&&p.source==="server"?v.reject(new Ce(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(x)},error:x=>v.reject(x)}),T=new cP(ap(h.path),_,{includeMetadataChanges:!0,ua:!0});return sP(l,T)}(await NP(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(n,e,t){if(!t)throw new Ce(oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function VP(n,e,t,i){if(e===!0&&i===!0)throw new Ce(oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Sy(n){if(!be.isDocumentKey(n))throw new Ce(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Ip(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Fe()}function vl(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ce(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ip(n);throw new Ce(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ry{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ce(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=uw((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Ce(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ce(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ce(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xp{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ry({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ce(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ce(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ry(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new BR;switch(i.type){case"firstParty":return new WR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ce(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=xy.get(t);i&&(ve("ComponentProvider","Removing Datastore"),xy.delete(t),i.terminate())}(this),Promise.resolve()}}function MP(n,e,t,i={}){var s;const l=(n=vl(n,xp))._getSettings(),c=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==c&&ta("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:c,ssl:!1})),i.mockUserToken){let h,p;if(typeof i.mockUserToken=="string")h=i.mockUserToken,p=yn.MOCK_USER;else{h=tx(i.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new Ce(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new yn(v)}n._authCredentials=new $R(new u0(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Sp(this.firestore,e,this._query)}}class mr{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mr(this.firestore,e,this._key)}}class yl extends Sp{constructor(e,t,i){super(e,t,ap(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mr(this.firestore,null,new be(e))}withConverter(e){return new yl(this.firestore,e,this._path)}}function qh(n,e,...t){if(n=gr(n),arguments.length===1&&(e=c0.newId()),LP("doc","path",e),n instanceof xp){const i=Nt.fromString(e,...t);return Sy(i),new mr(n,null,new be(i))}{if(!(n instanceof mr||n instanceof yl))throw new Ce(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Nt.fromString(e,...t));return Sy(i),new mr(n.firestore,n instanceof yl?n.converter:null,new be(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(e=Promise.resolve()){this.Iu=[],this.du=!1,this.Eu=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new W0(this,"async_queue_retry"),this.fu=()=>{const i=$h();i&&ve("AsyncQueue","Visibility state changed to "+i.visibilityState),this.r_.Jo()},this.gu=e;const t=$h();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.du}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.du){this.du=!0,this.Vu=e||!1;const t=$h();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.du)return new Promise(()=>{});const t=new To;return this.yu(()=>this.du&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!fa(e))throw e;ve("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(i=>{this.Au=i,this.Ru=!1;const s=function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),h}(i);throw Oi("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.Ru=!1,i))));return this.gu=t,t}enqueueAfterDelay(e,t,i){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const s=_p.createAndSchedule(this,e,t,i,l=>this.Su(l));return this.Eu.push(s),s}pu(){this.Au&&Fe()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.Eu)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.Eu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Eu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.Eu.indexOf(e);this.Eu.splice(t,1)}}class Rp extends xp{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new ky,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ky(e),this._firestoreClient=void 0,await e}}}function FP(n,e){const t=typeof n=="object"?n:__(),i=typeof n=="string"?n:"(default)",s=Hf(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const l=ZI("firestore");l&&MP(s,...l)}return s}function cw(n){if(n._terminated)throw new Ce(oe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||UP(n),n._firestoreClient}function UP(n){var e,t,i;const s=n._freezeSettings(),l=function(h,p,v,_){return new ak(h,p,v,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,uw(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new CP(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(h){const p=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new aa(un.fromBase64String(e))}catch(t){throw new Ce(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new aa(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ce(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ce(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ce(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return tt(this._lat,e._lat)||tt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==s[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP=/^__.*__$/;class zP{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new us(e,this.data,this.fieldMask,t,this.fieldTransforms):new Pl(e,this.data,t,this.fieldTransforms)}}function hw(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fe()}}class Cp{constructor(e,t,i,s,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Cp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:i,Nu:!1});return s.Bu(e),s}Lu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:i,Nu:!1});return s.Fu(),s}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Dc(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Bu(this.path.get(e))}Bu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(hw(this.Mu)&&jP.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class BP{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Jc(e)}$u(e,t,i,s=!1){return new Cp({Mu:e,methodName:t,Ku:i,path:ln.emptyPath(),Nu:!1,Qu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $P(n){const e=n._freezeSettings(),t=Jc(n._databaseId);return new BP(n._databaseId,!!e.ignoreUndefinedProperties,t)}function HP(n,e,t,i,s,l={}){const c=n.$u(l.merge||l.mergeFields?2:0,e,t,s);gw("Data must be an object, but it was:",c,i);const h=pw(i,c);let p,v;if(l.merge)p=new Ur(c.fieldMask),v=c.fieldTransforms;else if(l.mergeFields){const _=[];for(const T of l.mergeFields){const x=qP(e,T,t);if(!c.contains(x))throw new Ce(oe.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);KP(_,x)||_.push(x)}p=new Ur(_),v=c.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,v=c.fieldTransforms;return new zP(new pr(h),p,v)}function fw(n,e){if(mw(n=gr(n)))return gw("Unsupported field value:",e,n),pw(n,e);if(n instanceof dw)return function(i,s){if(!hw(s.Mu))throw s.qu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qu(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(i,s){const l=[];let c=0;for(const h of i){let p=fw(h,s.ku(c));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),c++}return{arrayValue:{values:l}}}(n,e)}return function(i,s){if((i=gr(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Ck(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=qt.fromDate(i);return{timestampValue:Ac(s.serializer,l)}}if(i instanceof qt){const l=new qt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ac(s.serializer,l)}}if(i instanceof Ap)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof aa)return{bytesValue:V0(s.serializer,i._byteString)};if(i instanceof mr){const l=s.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw s.qu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:dp(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Pp)return function(c,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map(p=>{if(typeof p!="number")throw h.qu("VectorValues must only contain numeric values.");return lp(h.serializer,p)})}}}}}}(i,s);throw s.qu(`Unsupported field value: ${Ip(i)}`)}(n,e)}function pw(n,e){const t={};return d0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):as(n,(i,s)=>{const l=fw(s,e.Ou(i));l!=null&&(t[i]=l)}),{mapValue:{fields:t}}}function mw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof qt||n instanceof Ap||n instanceof aa||n instanceof mr||n instanceof dw||n instanceof Pp)}function gw(n,e,t){if(!mw(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const i=Ip(t);throw i==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+i)}}function qP(n,e,t){if((e=gr(e))instanceof kp)return e._internalPath;if(typeof e=="string")return vw(n,e);throw Dc("Field path arguments must be of type string or ",n,!1,void 0,t)}const WP=new RegExp("[~\\*/\\[\\]]");function vw(n,e,t){if(e.search(WP)>=0)throw Dc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new kp(...e.split("."))._internalPath}catch{throw Dc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Dc(n,e,t,i,s){const l=i&&!i.isEmpty(),c=s!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(l||c)&&(p+=" (found",l&&(p+=` in field ${i}`),c&&(p+=` in document ${s}`),p+=")"),new Ce(oe.INVALID_ARGUMENT,h+n+p)}function KP(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,t,i,s,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new mr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(_w("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class GP extends yw{data(){return super.data()}}function _w(n,e){return typeof e=="string"?vw(n,e):e instanceof kp?e._internalPath:e._delegate._internalPath}class QP{convertValue(e,t="none"){switch(ko(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ro(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Fe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return as(e,(s,l)=>{i[s]=this.convertValue(l,t)}),i}convertVectorValue(e){var t,i,s;const l=(s=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(c=>Lt(c.doubleValue));return new Pp(l)}convertGeoPoint(e){return new Ap(Lt(e.latitude),Lt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=qc(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(hl(e));default:return null}}convertTimestamp(e){const t=So(e);return new qt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Nt.fromString(e);ft(B0(i));const s=new fl(i.get(1),i.get(3)),l=new be(i.popFirst(5));return s.isEqual(t)||Oi(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ww extends yw{constructor(e,t,i,s,l,c){super(e,t,i,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new JP(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(_w("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class JP extends ww{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(n){n=vl(n,mr);const e=vl(n.firestore,Rp);return OP(cw(e),n._key).then(t=>nC(e,n,t))}class eC extends QP{constructor(e){super(),this.firestore=e}convertBytes(e){return new aa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new mr(this.firestore,null,t)}}function Ay(n,e,t){n=vl(n,mr);const i=vl(n.firestore,Rp),s=YP(n.converter,e);return tC(i,[HP($P(i),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,bi.none())])}function tC(n,e){return function(i,s){const l=new To;return i.asyncQueue.enqueueAndForget(async()=>wP(await DP(i),s,l)),l.promise}(cw(n),e)}function nC(n,e,t){const i=t.docs.get(e._key),s=new eC(n);return new ww(n,s,e._key,i,new XP(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){da=s})(ua),ea(new es("firestore",(i,{instanceIdentifier:s,options:l})=>{const c=i.getProvider("app").getImmediate(),h=new Rp(new HR(i.getProvider("auth-internal")),new GR(i.getProvider("app-check-internal")),function(v,_){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new Ce(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fl(v.options.projectId,_)}(c,s),c);return l=Object.assign({useFetchStreams:t},l),h._setSettings(l),h},"PUBLIC").setMultipleInstances(!0)),wo(qv,"4.7.6",e),wo(qv,"4.7.6","esm2017")})();var rC="firebase",iC="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wo(rC,iC,"app");const oC={apiKey:"AIzaSyDrmSpJIywf0ZFc61bJkPVWObxoXxXwLxQ",authDomain:"mediscrape.firebaseapp.com",projectId:"mediscrape",storageBucket:"mediscrape.firebasestorage.app",messagingSenderId:"207817260049",appId:"1:207817260049:web:f23466db3b718b978745b0"},Ew=y_(oC),Yu=jR(Ew),Wh=FP(Ew),sC=n=>{switch(n){case"auth/weak-password":return"Weak password";case"auth/email-already-in-use":return"Email already in use";case"auth/invalid-email":return"Invalid email";case"auth/wrong-password":return"Wrong password";case"auth/user-not-found":return"User not found";default:return"Invalid credential"}},aC=()=>{B.useEffect(()=>{(j=>{localStorage.getItem("userID")&&n("/Landing")})()},[]);const n=r_(),[e,t]=B.useState(null),[i,s]=B.useState(""),[l,c]=B.useState(""),[h,p]=B.useState(""),v=b=>{t(e===b?null:b),s("")},_=async b=>{(await ZP(qh(Wh,"users",b.uid))).exists()||await Ay(qh(Wh,"users",b.uid),{Email:b.email}),qI(b.displayName,b.uid),n("/Landing")},T=async()=>{try{await x1(Yu,l),alert("Reset email sent!"),v("login")}catch{s("Failed to send reset email. Please try again.")}},x=async()=>{try{if(e==="login"){const j=(await R1(Yu,l,h)).user;console.log("Logged in:",j.uid),j.emailVerified?await _(j):s("Please verify your email first!")}else if(e==="signup"){const j=(await S1(Yu,l,h)).user;console.log("Signed up:",j.uid),await Ay(qh(Wh,"users",j.uid),{Email:j.email}),localStorage.setItem("userLevel","Beginner"),await k1(j),alert("Verification email sent! Please verify your email before proceeding."),v("login")}}catch(b){console.error("Error:",b.message);const j=sC(b.code);s(j)}},P=async()=>{try{const b=new Ri,F=(await Q1(Yu,b)).user;console.log("Google Sign-In:",F.uid),await _(F)}catch(b){console.error("Error during Google Sign-In:",b.message),s("Google Sign-In failed. Please try again.")}};return je.jsx("div",{className:"container",children:je.jsxs("div",{className:"auth-panel",children:[je.jsx("div",{className:"intro",children:je.jsx("p",{className:"text",children:"You deserve it!"})}),je.jsx("div",{className:"formBtn",onClick:P,children:"Login with Gmail"}),je.jsx("div",{className:"formBtn",onClick:()=>v("login"),children:"Login with Email"}),e==="login"&&je.jsx(pv,{onSubmit:x,error:i,email:l,setEmail:c,password:h,setPassword:p}),je.jsx("div",{className:"formBtn",onClick:()=>v("signup"),children:"Sign-Up"}),e==="signup"&&je.jsx(pv,{onSubmit:x,error:i,email:l,setEmail:c,password:h,setPassword:p}),je.jsx("div",{id:"forgetPassBtn",onClick:()=>v("forgetpass"),children:"Forget Password"}),e==="forgetpass"&&je.jsxs("div",{className:"form",children:[je.jsx("form",{children:je.jsx(tf,{type:"text",placeholder:"Email",value:l,onChange:b=>c(b.target.value),icon:"fas fa-envelope"})}),je.jsx("div",{id:"goBtn",onClick:T,children:"Go"})]})]})})};var Kh={exports:{}},Gh,Py;function lC(){if(Py)return Gh;Py=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Gh=n,Gh}var Qh,Cy;function uC(){if(Cy)return Qh;Cy=1;var n=lC();function e(){}function t(){}return t.resetWarningCache=e,Qh=function(){function i(c,h,p,v,_,T){if(T!==n){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}i.isRequired=i;function s(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return l.PropTypes=l,l},Qh}var by;function cC(){return by||(by=1,Kh.exports=uC()()),Kh.exports}var dC=cC();const vt=Cf(dC),hC=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function la(n,e,t){const i=fC(n),{webkitRelativePath:s}=n,l=typeof e=="string"?e:typeof s=="string"&&s.length>0?s:`./${n.name}`;return typeof i.path!="string"&&Dy(i,"path",l),Dy(i,"relativePath",l),i}function fC(n){const{name:e}=n;if(e&&e.lastIndexOf(".")!==-1&&!n.type){const i=e.split(".").pop().toLowerCase(),s=hC.get(i);s&&Object.defineProperty(n,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return n}function Dy(n,e,t){Object.defineProperty(n,e,{value:t,writable:!1,configurable:!1,enumerable:!0})}const pC=[".DS_Store","Thumbs.db"];function mC(n){return ss(this,void 0,void 0,function*(){return Nc(n)&&gC(n.dataTransfer)?wC(n.dataTransfer,n.type):vC(n)?yC(n):Array.isArray(n)&&n.every(e=>"getFile"in e&&typeof e.getFile=="function")?_C(n):[]})}function gC(n){return Nc(n)}function vC(n){return Nc(n)&&Nc(n.target)}function Nc(n){return typeof n=="object"&&n!==null}function yC(n){return Sf(n.target.files).map(e=>la(e))}function _C(n){return ss(this,void 0,void 0,function*(){return(yield Promise.all(n.map(t=>t.getFile()))).map(t=>la(t))})}function wC(n,e){return ss(this,void 0,void 0,function*(){if(n.items){const t=Sf(n.items).filter(s=>s.kind==="file");if(e!=="drop")return t;const i=yield Promise.all(t.map(EC));return Ny(Tw(i))}return Ny(Sf(n.files).map(t=>la(t)))})}function Ny(n){return n.filter(e=>pC.indexOf(e.name)===-1)}function Sf(n){if(n===null)return[];const e=[];for(let t=0;t<n.length;t++){const i=n[t];e.push(i)}return e}function EC(n){if(typeof n.webkitGetAsEntry!="function")return Oy(n);const e=n.webkitGetAsEntry();return e&&e.isDirectory?Iw(e):Oy(n,e)}function Tw(n){return n.reduce((e,t)=>[...e,...Array.isArray(t)?Tw(t):[t]],[])}function Oy(n,e){return ss(this,void 0,void 0,function*(){var t;if(globalThis.isSecureContext&&typeof n.getAsFileSystemHandle=="function"){const l=yield n.getAsFileSystemHandle();if(l===null)throw new Error(`${n} is not a File`);if(l!==void 0){const c=yield l.getFile();return c.handle=l,la(c)}}const i=n.getAsFile();if(!i)throw new Error(`${n} is not a File`);return la(i,(t=e==null?void 0:e.fullPath)!==null&&t!==void 0?t:void 0)})}function TC(n){return ss(this,void 0,void 0,function*(){return n.isDirectory?Iw(n):IC(n)})}function Iw(n){const e=n.createReader();return new Promise((t,i)=>{const s=[];function l(){e.readEntries(c=>ss(this,void 0,void 0,function*(){if(c.length){const h=Promise.all(c.map(TC));s.push(h),l()}else try{const h=yield Promise.all(s);t(h)}catch(h){i(h)}}),c=>{i(c)})}l()})}function IC(n){return ss(this,void 0,void 0,function*(){return new Promise((e,t)=>{n.file(i=>{const s=la(i,n.fullPath);e(s)},i=>{t(i)})})})}var Xu={},Ly;function xC(){return Ly||(Ly=1,Xu.__esModule=!0,Xu.default=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(",");if(t.length===0)return!0;var i=n.name||"",s=(n.type||"").toLowerCase(),l=s.replace(/\/.*$/,"");return t.some(function(c){var h=c.trim().toLowerCase();return h.charAt(0)==="."?i.toLowerCase().endsWith(h):h.endsWith("/*")?l===h.replace(/\/.*$/,""):s===h})}return!0}),Xu}var SC=xC();const Yh=Cf(SC);function Vy(n){return AC(n)||kC(n)||Sw(n)||RC()}function RC(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kC(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function AC(n){if(Array.isArray(n))return Rf(n)}function My(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function Fy(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?My(Object(t),!0).forEach(function(i){xw(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):My(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function xw(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function _l(n,e){return bC(n)||CC(n,e)||Sw(n,e)||PC()}function PC(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sw(n,e){if(n){if(typeof n=="string")return Rf(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Rf(n,e)}}function Rf(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function CC(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],s=!0,l=!1,c,h;try{for(t=t.call(n);!(s=(c=t.next()).done)&&(i.push(c.value),!(e&&i.length===e));s=!0);}catch(p){l=!0,h=p}finally{try{!s&&t.return!=null&&t.return()}finally{if(l)throw h}}return i}}function bC(n){if(Array.isArray(n))return n}var DC=typeof Yh=="function"?Yh:Yh.default,NC="file-invalid-type",OC="file-too-large",LC="file-too-small",VC="too-many-files",MC=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=e.split(","),i=t.length>1?"one of ".concat(t.join(", ")):t[0];return{code:NC,message:"File type must be ".concat(i)}},Uy=function(e){return{code:OC,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},jy=function(e){return{code:LC,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},FC={code:VC,message:"Too many files"};function Rw(n,e){var t=n.type==="application/x-moz-file"||DC(n,e);return[t,t?null:MC(e)]}function kw(n,e,t){if(Yo(n.size))if(Yo(e)&&Yo(t)){if(n.size>t)return[!1,Uy(t)];if(n.size<e)return[!1,jy(e)]}else{if(Yo(e)&&n.size<e)return[!1,jy(e)];if(Yo(t)&&n.size>t)return[!1,Uy(t)]}return[!0,null]}function Yo(n){return n!=null}function UC(n){var e=n.files,t=n.accept,i=n.minSize,s=n.maxSize,l=n.multiple,c=n.maxFiles,h=n.validator;return!l&&e.length>1||l&&c>=1&&e.length>c?!1:e.every(function(p){var v=Rw(p,t),_=_l(v,1),T=_[0],x=kw(p,i,s),P=_l(x,1),b=P[0],j=h?h(p):null;return T&&b&&!j})}function Oc(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function Ju(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function zy(n){n.preventDefault()}function jC(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function zC(n){return n.indexOf("Edge/")!==-1}function BC(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return jC(n)||zC(n)}function ei(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(i){for(var s=arguments.length,l=new Array(s>1?s-1:0),c=1;c<s;c++)l[c-1]=arguments[c];return e.some(function(h){return!Oc(i)&&h&&h.apply(void 0,[i].concat(l)),Oc(i)})}}function $C(){return"showOpenFilePicker"in window}function HC(n){if(Yo(n)){var e=Object.entries(n).filter(function(t){var i=_l(t,2),s=i[0],l=i[1],c=!0;return Aw(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),c=!1),(!Array.isArray(l)||!l.every(Pw))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),c=!1),c}).reduce(function(t,i){var s=_l(i,2),l=s[0],c=s[1];return Fy(Fy({},t),{},xw({},l,c))},{});return[{description:"Files",accept:e}]}return n}function qC(n){if(Yo(n))return Object.entries(n).reduce(function(e,t){var i=_l(t,2),s=i[0],l=i[1];return[].concat(Vy(e),[s],Vy(l))},[]).filter(function(e){return Aw(e)||Pw(e)}).join(",")}function WC(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function KC(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}function Aw(n){return n==="audio/*"||n==="video/*"||n==="image/*"||n==="text/*"||n==="application/*"||/\w+\/[-+.\w]+/g.test(n)}function Pw(n){return/^.*\.[\w]+$/.test(n)}var GC=["children"],QC=["open"],YC=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],XC=["refKey","onChange","onClick"];function JC(n){return tb(n)||eb(n)||Cw(n)||ZC()}function ZC(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eb(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function tb(n){if(Array.isArray(n))return kf(n)}function Xh(n,e){return ib(n)||rb(n,e)||Cw(n,e)||nb()}function nb(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cw(n,e){if(n){if(typeof n=="string")return kf(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return kf(n,e)}}function kf(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function rb(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],s=!0,l=!1,c,h;try{for(t=t.call(n);!(s=(c=t.next()).done)&&(i.push(c.value),!(e&&i.length===e));s=!0);}catch(p){l=!0,h=p}finally{try{!s&&t.return!=null&&t.return()}finally{if(l)throw h}}return i}}function ib(n){if(Array.isArray(n))return n}function By(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function Pt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?By(Object(t),!0).forEach(function(i){Af(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):By(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Af(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Lc(n,e){if(n==null)return{};var t=ob(n,e),i,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(s=0;s<l.length;s++)i=l[s],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function ob(n,e){if(n==null)return{};var t={},i=Object.keys(n),s,l;for(l=0;l<i.length;l++)s=i[l],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}var bp=B.forwardRef(function(n,e){var t=n.children,i=Lc(n,GC),s=Dw(i),l=s.open,c=Lc(s,QC);return B.useImperativeHandle(e,function(){return{open:l}},[l]),UE.createElement(B.Fragment,null,t(Pt(Pt({},c),{},{open:l})))});bp.displayName="Dropzone";var bw={disabled:!1,getFilesFromEvent:mC,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};bp.defaultProps=bw;bp.propTypes={children:vt.func,accept:vt.objectOf(vt.arrayOf(vt.string)),multiple:vt.bool,preventDropOnDocument:vt.bool,noClick:vt.bool,noKeyboard:vt.bool,noDrag:vt.bool,noDragEventsBubbling:vt.bool,minSize:vt.number,maxSize:vt.number,maxFiles:vt.number,disabled:vt.bool,getFilesFromEvent:vt.func,onFileDialogCancel:vt.func,onFileDialogOpen:vt.func,useFsAccessApi:vt.bool,autoFocus:vt.bool,onDragEnter:vt.func,onDragLeave:vt.func,onDragOver:vt.func,onDrop:vt.func,onDropAccepted:vt.func,onDropRejected:vt.func,onError:vt.func,validator:vt.func};var Pf={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Dw(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Pt(Pt({},bw),n),t=e.accept,i=e.disabled,s=e.getFilesFromEvent,l=e.maxSize,c=e.minSize,h=e.multiple,p=e.maxFiles,v=e.onDragEnter,_=e.onDragLeave,T=e.onDragOver,x=e.onDrop,P=e.onDropAccepted,b=e.onDropRejected,j=e.onFileDialogCancel,F=e.onFileDialogOpen,W=e.useFsAccessApi,te=e.autoFocus,Z=e.preventDropOnDocument,fe=e.noClick,V=e.noKeyboard,ie=e.noDrag,A=e.noDragEventsBubbling,I=e.onError,S=e.validator,C=B.useMemo(function(){return qC(t)},[t]),O=B.useMemo(function(){return HC(t)},[t]),U=B.useMemo(function(){return typeof F=="function"?F:$y},[F]),k=B.useMemo(function(){return typeof j=="function"?j:$y},[j]),He=B.useRef(null),Le=B.useRef(null),Rt=B.useReducer(sb,Pf),Ge=Xh(Rt,2),se=Ge[0],de=Ge[1],he=se.isFocused,M=se.isFileDialogActive,Y=B.useRef(typeof window<"u"&&window.isSecureContext&&W&&$C()),ye=function(){!Y.current&&M&&setTimeout(function(){if(Le.current){var Ie=Le.current.files;Ie.length||(de({type:"closeDialog"}),k())}},300)};B.useEffect(function(){return window.addEventListener("focus",ye,!1),function(){window.removeEventListener("focus",ye,!1)}},[Le,M,k,Y]);var Pe=B.useRef([]),Ne=function(Ie){He.current&&He.current.contains(Ie.target)||(Ie.preventDefault(),Pe.current=[])};B.useEffect(function(){return Z&&(document.addEventListener("dragover",zy,!1),document.addEventListener("drop",Ne,!1)),function(){Z&&(document.removeEventListener("dragover",zy),document.removeEventListener("drop",Ne))}},[He,Z]),B.useEffect(function(){return!i&&te&&He.current&&He.current.focus(),function(){}},[He,te,i]);var Be=B.useCallback(function(ce){I?I(ce):console.error(ce)},[I]),Qe=B.useCallback(function(ce){ce.preventDefault(),ce.persist(),cn(ce),Pe.current=[].concat(JC(Pe.current),[ce.target]),Ju(ce)&&Promise.resolve(s(ce)).then(function(Ie){if(!(Oc(ce)&&!A)){var De=Ie.length,We=De>0&&UC({files:Ie,accept:C,minSize:c,maxSize:l,multiple:h,maxFiles:p,validator:S}),mt=De>0&&!We;de({isDragAccept:We,isDragReject:mt,isDragActive:!0,type:"setDraggedFiles"}),v&&v(ce)}}).catch(function(Ie){return Be(Ie)})},[s,v,Be,A,C,c,l,h,p,S]),Ye=B.useCallback(function(ce){ce.preventDefault(),ce.persist(),cn(ce);var Ie=Ju(ce);if(Ie&&ce.dataTransfer)try{ce.dataTransfer.dropEffect="copy"}catch{}return Ie&&T&&T(ce),!1},[T,A]),Ue=B.useCallback(function(ce){ce.preventDefault(),ce.persist(),cn(ce);var Ie=Pe.current.filter(function(We){return He.current&&He.current.contains(We)}),De=Ie.indexOf(ce.target);De!==-1&&Ie.splice(De,1),Pe.current=Ie,!(Ie.length>0)&&(de({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Ju(ce)&&_&&_(ce))},[He,_,A]),ht=B.useCallback(function(ce,Ie){var De=[],We=[];ce.forEach(function(mt){var qn=Rw(mt,C),It=Xh(qn,2),Pn=It[0],Cn=It[1],tr=kw(mt,c,l),nr=Xh(tr,2),rr=nr[0],bn=nr[1],ir=S?S(mt):null;if(Pn&&rr&&!ir)De.push(mt);else{var Tn=[Cn,bn];ir&&(Tn=Tn.concat(ir)),We.push({file:mt,errors:Tn.filter(function($r){return $r})})}}),(!h&&De.length>1||h&&p>=1&&De.length>p)&&(De.forEach(function(mt){We.push({file:mt,errors:[FC]})}),De.splice(0)),de({acceptedFiles:De,fileRejections:We,isDragReject:We.length>0,type:"setFiles"}),x&&x(De,We,Ie),We.length>0&&b&&b(We,Ie),De.length>0&&P&&P(De,Ie)},[de,h,C,c,l,p,x,P,b,S]),Zt=B.useCallback(function(ce){ce.preventDefault(),ce.persist(),cn(ce),Pe.current=[],Ju(ce)&&Promise.resolve(s(ce)).then(function(Ie){Oc(ce)&&!A||ht(Ie,ce)}).catch(function(Ie){return Be(Ie)}),de({type:"reset"})},[s,ht,Be,A]),En=B.useCallback(function(){if(Y.current){de({type:"openDialog"}),U();var ce={multiple:h,types:O};window.showOpenFilePicker(ce).then(function(Ie){return s(Ie)}).then(function(Ie){ht(Ie,null),de({type:"closeDialog"})}).catch(function(Ie){WC(Ie)?(k(Ie),de({type:"closeDialog"})):KC(Ie)?(Y.current=!1,Le.current?(Le.current.value=null,Le.current.click()):Be(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):Be(Ie)});return}Le.current&&(de({type:"openDialog"}),U(),Le.current.value=null,Le.current.click())},[de,U,k,W,ht,Be,O,h]),Ut=B.useCallback(function(ce){!He.current||!He.current.isEqualNode(ce.target)||(ce.key===" "||ce.key==="Enter"||ce.keyCode===32||ce.keyCode===13)&&(ce.preventDefault(),En())},[He,En]),er=B.useCallback(function(){de({type:"focus"})},[]),yr=B.useCallback(function(){de({type:"blur"})},[]),_r=B.useCallback(function(){fe||(BC()?setTimeout(En,0):En())},[fe,En]),An=function(Ie){return i?null:Ie},Br=function(Ie){return V?null:An(Ie)},$n=function(Ie){return ie?null:An(Ie)},cn=function(Ie){A&&Ie.stopPropagation()},jt=B.useMemo(function(){return function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ie=ce.refKey,De=Ie===void 0?"ref":Ie,We=ce.role,mt=ce.onKeyDown,qn=ce.onFocus,It=ce.onBlur,Pn=ce.onClick,Cn=ce.onDragEnter,tr=ce.onDragOver,nr=ce.onDragLeave,rr=ce.onDrop,bn=Lc(ce,YC);return Pt(Pt(Af({onKeyDown:Br(ei(mt,Ut)),onFocus:Br(ei(qn,er)),onBlur:Br(ei(It,yr)),onClick:An(ei(Pn,_r)),onDragEnter:$n(ei(Cn,Qe)),onDragOver:$n(ei(tr,Ye)),onDragLeave:$n(ei(nr,Ue)),onDrop:$n(ei(rr,Zt)),role:typeof We=="string"&&We!==""?We:"presentation"},De,He),!i&&!V?{tabIndex:0}:{}),bn)}},[He,Ut,er,yr,_r,Qe,Ye,Ue,Zt,V,ie,i]),Hn=B.useCallback(function(ce){ce.stopPropagation()},[]),wr=B.useMemo(function(){return function(){var ce=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ie=ce.refKey,De=Ie===void 0?"ref":Ie,We=ce.onChange,mt=ce.onClick,qn=Lc(ce,XC),It=Af({accept:C,multiple:h,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:An(ei(We,Zt)),onClick:An(ei(mt,Hn)),tabIndex:-1},De,Le);return Pt(Pt({},It),qn)}},[Le,t,h,Zt,i]);return Pt(Pt({},se),{},{isFocused:he&&!i,getRootProps:jt,getInputProps:wr,rootRef:He,inputRef:Le,open:An(En)})}function sb(n,e){switch(e.type){case"focus":return Pt(Pt({},n),{},{isFocused:!0});case"blur":return Pt(Pt({},n),{},{isFocused:!1});case"openDialog":return Pt(Pt({},Pf),{},{isFileDialogActive:!0});case"closeDialog":return Pt(Pt({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":return Pt(Pt({},n),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Pt(Pt({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return Pt({},Pf);default:return n}}function $y(){}const ab=()=>{const[n,e]=B.useState([]),[t,i]=B.useState(null),[s,l]=B.useState(!1),[c,h]=B.useState(null),[p,v]=B.useState(null),[_,T]=B.useState(!1),x=B.useRef([]),P=B.useCallback(V=>{V.length!==0&&(v(V[0]),e([]),i(null),h(null),T(!1))},[]),b=async()=>{if(!p)return;l(!0),h(null),T(!1);const V=new FormData;V.append("image",p);try{const ie=await fetch("https://mediscrape.onrender.com/MediScrape",{method:"POST",body:V});if(!ie.ok)throw new Error("Failed to process the image.");const A=await ie.json();e(A.medicines||[]),i(A.doctorName||"Not Found"),T(!0)}catch(ie){h(ie.message)}finally{l(!1)}},{getRootProps:j,getInputProps:F,isDragActive:W}=Dw({onDrop:P,accept:{"image/*":[".jpeg",".png",".jpg"]},multiple:!1}),te=(V,ie)=>{const A=[...n];A[V]=ie,e(A)},Z=(V,ie)=>{if(V.key==="Backspace"&&V.target.textContent.trim()===""){V.preventDefault();const A=[...n];A.splice(ie,1),e(A)}},fe=()=>{e([...n,""])};return je.jsxs("div",{className:"container",children:[je.jsx("h1",{children:"Medicine Extractor"}),je.jsxs("div",{...j(),className:`dropzone ${W?"dropzone-active":""}`,children:[je.jsx("input",{...F()}),je.jsx("p",{children:W?"Drop the image here...":"Drag and drop an image, or click to select one (JPEG/PNG)."})]}),p&&je.jsxs("p",{className:"file-info",children:["File selected: ",p.name]}),je.jsx("button",{onClick:b,className:"extractBtn",disabled:!p||s,children:"Extract Medicine"}),s&&je.jsx("p",{className:"message",children:"Processing, please wait..."}),c&&je.jsx("p",{className:"message message-error",children:c}),t&&je.jsxs("div",{className:"message message-text",children:[je.jsx("h3",{children:"Doctor's Name:"}),je.jsx("p",{contentEditable:"true",spellCheck:"false",suppressContentEditableWarning:!0,onBlur:V=>i(V.target.textContent),children:t})]}),n.length>0&&je.jsxs("div",{className:"message message-text",children:[je.jsx("h3",{children:"Validated Medicines:"}),n.map((V,ie)=>je.jsx("div",{className:"editable-div",contentEditable:"true",spellCheck:"false",suppressContentEditableWarning:!0,ref:A=>x.current[ie]=A,onBlur:A=>te(ie,A.target.textContent),onKeyDown:A=>Z(A,ie),children:V},ie))]}),_&&n.length>0&&je.jsx("button",{onClick:fe,className:"addBtn",children:"Add Medicine"}),_&&n.length===0&&je.jsx("p",{className:"message",children:"No valid medicines found in the image."})]})},lb=bI([{path:"/",element:je.jsx(aC,{})},{path:"/Landing",element:je.jsx(ab,{})}]);HE.createRoot(document.getElementById("root")).render(je.jsx(B.StrictMode,{children:je.jsx(HI,{router:lb})}));
