(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function Bf(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Fh={exports:{}},Ja={},jh={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function RT(){if(ev)return Ge;ev=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),T=Symbol.iterator;function I(F){return F===null||typeof F!="object"?null:(F=T&&F[T]||F["@@iterator"],typeof F=="function"?F:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,j={};function V(F,Y,_e){this.props=F,this.context=Y,this.refs=j,this.updater=_e||A}V.prototype.isReactComponent={},V.prototype.setState=function(F,Y){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,Y,"setState")},V.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function q(){}q.prototype=V.prototype;function te(F,Y,_e){this.props=F,this.context=Y,this.refs=j,this.updater=_e||A}var Z=te.prototype=new q;Z.constructor=te,b(Z,V.prototype),Z.isPureReactComponent=!0;var he=Array.isArray,U=Object.prototype.hasOwnProperty,ce={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function x(F,Y,_e){var Oe,Ve={},$e=null,Ye=null;if(Y!=null)for(Oe in Y.ref!==void 0&&(Ye=Y.ref),Y.key!==void 0&&($e=""+Y.key),Y)U.call(Y,Oe)&&!C.hasOwnProperty(Oe)&&(Ve[Oe]=Y[Oe]);var Xe=arguments.length-2;if(Xe===1)Ve.children=_e;else if(1<Xe){for(var ze=Array(Xe),ft=0;ft<Xe;ft++)ze[ft]=arguments[ft+2];Ve.children=ze}if(F&&F.defaultProps)for(Oe in Xe=F.defaultProps,Xe)Ve[Oe]===void 0&&(Ve[Oe]=Xe[Oe]);return{$$typeof:n,type:F,key:$e,ref:Ye,props:Ve,_owner:ce.current}}function S(F,Y){return{$$typeof:n,type:F.type,key:Y,ref:F.ref,props:F.props,_owner:F._owner}}function P(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function O(F){var Y={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(_e){return Y[_e]})}var M=/\/+/g;function k(F,Y){return typeof F=="object"&&F!==null&&F.key!=null?O(""+F.key):Y.toString(36)}function xe(F,Y,_e,Oe,Ve){var $e=typeof F;($e==="undefined"||$e==="boolean")&&(F=null);var Ye=!1;if(F===null)Ye=!0;else switch($e){case"string":case"number":Ye=!0;break;case"object":switch(F.$$typeof){case n:case e:Ye=!0}}if(Ye)return Ye=F,Ve=Ve(Ye),F=Oe===""?"."+k(Ye,0):Oe,he(Ve)?(_e="",F!=null&&(_e=F.replace(M,"$&/")+"/"),xe(Ve,Y,_e,"",function(ft){return ft})):Ve!=null&&(P(Ve)&&(Ve=S(Ve,_e+(!Ve.key||Ye&&Ye.key===Ve.key?"":(""+Ve.key).replace(M,"$&/")+"/")+F)),Y.push(Ve)),1;if(Ye=0,Oe=Oe===""?".":Oe+":",he(F))for(var Xe=0;Xe<F.length;Xe++){$e=F[Xe];var ze=Oe+k($e,Xe);Ye+=xe($e,Y,_e,ze,Ve)}else if(ze=I(F),typeof ze=="function")for(F=ze.call(F),Xe=0;!($e=F.next()).done;)$e=$e.value,ze=Oe+k($e,Xe++),Ye+=xe($e,Y,_e,ze,Ve);else if($e==="object")throw Y=String(F),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Ye}function Ie(F,Y,_e){if(F==null)return F;var Oe=[],Ve=0;return xe(F,Oe,"","",function($e){return Y.call(_e,$e,Ve++)}),Oe}function Ke(F){if(F._status===-1){var Y=F._result;Y=Y(),Y.then(function(_e){(F._status===0||F._status===-1)&&(F._status=1,F._result=_e)},function(_e){(F._status===0||F._status===-1)&&(F._status=2,F._result=_e)}),F._status===-1&&(F._status=0,F._result=Y)}if(F._status===1)return F._result.default;throw F._result}var Qe={current:null},se={transition:null},fe={ReactCurrentDispatcher:Qe,ReactCurrentBatchConfig:se,ReactCurrentOwner:ce};function pe(){throw Error("act(...) is not supported in production builds of React.")}return Ge.Children={map:Ie,forEach:function(F,Y,_e){Ie(F,function(){Y.apply(this,arguments)},_e)},count:function(F){var Y=0;return Ie(F,function(){Y++}),Y},toArray:function(F){return Ie(F,function(Y){return Y})||[]},only:function(F){if(!P(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Ge.Component=V,Ge.Fragment=t,Ge.Profiler=s,Ge.PureComponent=te,Ge.StrictMode=i,Ge.Suspense=p,Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Ge.act=pe,Ge.cloneElement=function(F,Y,_e){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var Oe=b({},F.props),Ve=F.key,$e=F.ref,Ye=F._owner;if(Y!=null){if(Y.ref!==void 0&&($e=Y.ref,Ye=ce.current),Y.key!==void 0&&(Ve=""+Y.key),F.type&&F.type.defaultProps)var Xe=F.type.defaultProps;for(ze in Y)U.call(Y,ze)&&!C.hasOwnProperty(ze)&&(Oe[ze]=Y[ze]===void 0&&Xe!==void 0?Xe[ze]:Y[ze])}var ze=arguments.length-2;if(ze===1)Oe.children=_e;else if(1<ze){Xe=Array(ze);for(var ft=0;ft<ze;ft++)Xe[ft]=arguments[ft+2];Oe.children=Xe}return{$$typeof:n,type:F.type,key:Ve,ref:$e,props:Oe,_owner:Ye}},Ge.createContext=function(F){return F={$$typeof:c,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:a,_context:F},F.Consumer=F},Ge.createElement=x,Ge.createFactory=function(F){var Y=x.bind(null,F);return Y.type=F,Y},Ge.createRef=function(){return{current:null}},Ge.forwardRef=function(F){return{$$typeof:h,render:F}},Ge.isValidElement=P,Ge.lazy=function(F){return{$$typeof:_,_payload:{_status:-1,_result:F},_init:Ke}},Ge.memo=function(F,Y){return{$$typeof:v,type:F,compare:Y===void 0?null:Y}},Ge.startTransition=function(F){var Y=se.transition;se.transition={};try{F()}finally{se.transition=Y}},Ge.unstable_act=pe,Ge.useCallback=function(F,Y){return Qe.current.useCallback(F,Y)},Ge.useContext=function(F){return Qe.current.useContext(F)},Ge.useDebugValue=function(){},Ge.useDeferredValue=function(F){return Qe.current.useDeferredValue(F)},Ge.useEffect=function(F,Y){return Qe.current.useEffect(F,Y)},Ge.useId=function(){return Qe.current.useId()},Ge.useImperativeHandle=function(F,Y,_e){return Qe.current.useImperativeHandle(F,Y,_e)},Ge.useInsertionEffect=function(F,Y){return Qe.current.useInsertionEffect(F,Y)},Ge.useLayoutEffect=function(F,Y){return Qe.current.useLayoutEffect(F,Y)},Ge.useMemo=function(F,Y){return Qe.current.useMemo(F,Y)},Ge.useReducer=function(F,Y,_e){return Qe.current.useReducer(F,Y,_e)},Ge.useRef=function(F){return Qe.current.useRef(F)},Ge.useState=function(F){return Qe.current.useState(F)},Ge.useSyncExternalStore=function(F,Y,_e){return Qe.current.useSyncExternalStore(F,Y,_e)},Ge.useTransition=function(){return Qe.current.useTransition()},Ge.version="18.3.1",Ge}var tv;function $f(){return tv||(tv=1,jh.exports=RT()),jh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function kT(){if(nv)return Ja;nv=1;var n=$f(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function c(h,p,v){var _,T={},I=null,A=null;v!==void 0&&(I=""+v),p.key!==void 0&&(I=""+p.key),p.ref!==void 0&&(A=p.ref);for(_ in p)i.call(p,_)&&!a.hasOwnProperty(_)&&(T[_]=p[_]);if(h&&h.defaultProps)for(_ in p=h.defaultProps,p)T[_]===void 0&&(T[_]=p[_]);return{$$typeof:e,type:h,key:I,ref:A,props:T,_owner:s.current}}return Ja.Fragment=t,Ja.jsx=c,Ja.jsxs=c,Ja}var rv;function AT(){return rv||(rv=1,Fh.exports=kT()),Fh.exports}var oe=AT(),z=$f();const CT=Bf(z);var Qu={},Uh={exports:{}},zn={},zh={exports:{}},Bh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function PT(){return iv||(iv=1,function(n){function e(se,fe){var pe=se.length;se.push(fe);e:for(;0<pe;){var F=pe-1>>>1,Y=se[F];if(0<s(Y,fe))se[F]=fe,se[pe]=Y,pe=F;else break e}}function t(se){return se.length===0?null:se[0]}function i(se){if(se.length===0)return null;var fe=se[0],pe=se.pop();if(pe!==fe){se[0]=pe;e:for(var F=0,Y=se.length,_e=Y>>>1;F<_e;){var Oe=2*(F+1)-1,Ve=se[Oe],$e=Oe+1,Ye=se[$e];if(0>s(Ve,pe))$e<Y&&0>s(Ye,Ve)?(se[F]=Ye,se[$e]=pe,F=$e):(se[F]=Ve,se[Oe]=pe,F=Oe);else if($e<Y&&0>s(Ye,pe))se[F]=Ye,se[$e]=pe,F=$e;else break e}}return fe}function s(se,fe){var pe=se.sortIndex-fe.sortIndex;return pe!==0?pe:se.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var p=[],v=[],_=1,T=null,I=3,A=!1,b=!1,j=!1,V=typeof setTimeout=="function"?setTimeout:null,q=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Z(se){for(var fe=t(v);fe!==null;){if(fe.callback===null)i(v);else if(fe.startTime<=se)i(v),fe.sortIndex=fe.expirationTime,e(p,fe);else break;fe=t(v)}}function he(se){if(j=!1,Z(se),!b)if(t(p)!==null)b=!0,Ke(U);else{var fe=t(v);fe!==null&&Qe(he,fe.startTime-se)}}function U(se,fe){b=!1,j&&(j=!1,q(x),x=-1),A=!0;var pe=I;try{for(Z(fe),T=t(p);T!==null&&(!(T.expirationTime>fe)||se&&!O());){var F=T.callback;if(typeof F=="function"){T.callback=null,I=T.priorityLevel;var Y=F(T.expirationTime<=fe);fe=n.unstable_now(),typeof Y=="function"?T.callback=Y:T===t(p)&&i(p),Z(fe)}else i(p);T=t(p)}if(T!==null)var _e=!0;else{var Oe=t(v);Oe!==null&&Qe(he,Oe.startTime-fe),_e=!1}return _e}finally{T=null,I=pe,A=!1}}var ce=!1,C=null,x=-1,S=5,P=-1;function O(){return!(n.unstable_now()-P<S)}function M(){if(C!==null){var se=n.unstable_now();P=se;var fe=!0;try{fe=C(!0,se)}finally{fe?k():(ce=!1,C=null)}}else ce=!1}var k;if(typeof te=="function")k=function(){te(M)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,Ie=xe.port2;xe.port1.onmessage=M,k=function(){Ie.postMessage(null)}}else k=function(){V(M,0)};function Ke(se){C=se,ce||(ce=!0,k())}function Qe(se,fe){x=V(function(){se(n.unstable_now())},fe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_continueExecution=function(){b||A||(b=!0,Ke(U))},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(se){switch(I){case 1:case 2:case 3:var fe=3;break;default:fe=I}var pe=I;I=fe;try{return se()}finally{I=pe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(se,fe){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var pe=I;I=se;try{return fe()}finally{I=pe}},n.unstable_scheduleCallback=function(se,fe,pe){var F=n.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?F+pe:F):pe=F,se){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=pe+Y,se={id:_++,callback:fe,priorityLevel:se,startTime:pe,expirationTime:Y,sortIndex:-1},pe>F?(se.sortIndex=pe,e(v,se),t(p)===null&&se===t(v)&&(j?(q(x),x=-1):j=!0,Qe(he,pe-F))):(se.sortIndex=Y,e(p,se),b||A||(b=!0,Ke(U))),se},n.unstable_shouldYield=O,n.unstable_wrapCallback=function(se){var fe=I;return function(){var pe=I;I=fe;try{return se.apply(this,arguments)}finally{I=pe}}}}(Bh)),Bh}var ov;function bT(){return ov||(ov=1,zh.exports=PT()),zh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function DT(){if(sv)return zn;sv=1;var n=$f(),e=bT();function t(r){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,s={};function a(r,o){c(r,o),c(r+"Capture",o)}function c(r,o){for(s[r]=o,r=0;r<o.length;r++)i.add(o[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},T={};function I(r){return p.call(T,r)?!0:p.call(_,r)?!1:v.test(r)?T[r]=!0:(_[r]=!0,!1)}function A(r,o,l,d){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function b(r,o,l,d){if(o===null||typeof o>"u"||A(r,o,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function j(r,o,l,d,f,g,w){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=d,this.attributeNamespace=f,this.mustUseProperty=l,this.propertyName=r,this.type=o,this.sanitizeURL=g,this.removeEmptyString=w}var V={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){V[r]=new j(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var o=r[0];V[o]=new j(o,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){V[r]=new j(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){V[r]=new j(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){V[r]=new j(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){V[r]=new j(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){V[r]=new j(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){V[r]=new j(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){V[r]=new j(r,5,!1,r.toLowerCase(),null,!1,!1)});var q=/[\-:]([a-z])/g;function te(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var o=r.replace(q,te);V[o]=new j(o,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var o=r.replace(q,te);V[o]=new j(o,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var o=r.replace(q,te);V[o]=new j(o,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){V[r]=new j(r,1,!1,r.toLowerCase(),null,!1,!1)}),V.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){V[r]=new j(r,1,!1,r.toLowerCase(),null,!0,!0)});function Z(r,o,l,d){var f=V.hasOwnProperty(o)?V[o]:null;(f!==null?f.type!==0:d||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(b(o,l,f,d)&&(l=null),d||f===null?I(o)&&(l===null?r.removeAttribute(o):r.setAttribute(o,""+l)):f.mustUseProperty?r[f.propertyName]=l===null?f.type===3?!1:"":l:(o=f.attributeName,d=f.attributeNamespace,l===null?r.removeAttribute(o):(f=f.type,l=f===3||f===4&&l===!0?"":""+l,d?r.setAttributeNS(d,o,l):r.setAttribute(o,l))))}var he=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,U=Symbol.for("react.element"),ce=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),O=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),Ie=Symbol.for("react.memo"),Ke=Symbol.for("react.lazy"),Qe=Symbol.for("react.offscreen"),se=Symbol.iterator;function fe(r){return r===null||typeof r!="object"?null:(r=se&&r[se]||r["@@iterator"],typeof r=="function"?r:null)}var pe=Object.assign,F;function Y(r){if(F===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);F=o&&o[1]||""}return`
`+F+r}var _e=!1;function Oe(r,o){if(!r||_e)return"";_e=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(K){var d=K}Reflect.construct(r,[],o)}else{try{o.call()}catch(K){d=K}r.call(o.prototype)}else{try{throw Error()}catch(K){d=K}r()}}catch(K){if(K&&d&&typeof K.stack=="string"){for(var f=K.stack.split(`
`),g=d.stack.split(`
`),w=f.length-1,R=g.length-1;1<=w&&0<=R&&f[w]!==g[R];)R--;for(;1<=w&&0<=R;w--,R--)if(f[w]!==g[R]){if(w!==1||R!==1)do if(w--,R--,0>R||f[w]!==g[R]){var D=`
`+f[w].replace(" at new "," at ");return r.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",r.displayName)),D}while(1<=w&&0<=R);break}}}finally{_e=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?Y(r):""}function Ve(r){switch(r.tag){case 5:return Y(r.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return r=Oe(r.type,!1),r;case 11:return r=Oe(r.type.render,!1),r;case 1:return r=Oe(r.type,!0),r;default:return""}}function $e(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case C:return"Fragment";case ce:return"Portal";case S:return"Profiler";case x:return"StrictMode";case k:return"Suspense";case xe:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case O:return(r.displayName||"Context")+".Consumer";case P:return(r._context.displayName||"Context")+".Provider";case M:var o=r.render;return r=r.displayName,r||(r=o.displayName||o.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ie:return o=r.displayName||null,o!==null?o:$e(r.type)||"Memo";case Ke:o=r._payload,r=r._init;try{return $e(r(o))}catch{}}return null}function Ye(r){var o=r.type;switch(r.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=o.render,r=r.displayName||r.name||"",o.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return $e(o);case 8:return o===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Xe(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ze(r){var o=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ft(r){var o=ze(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,o),d=""+r[o];if(!r.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,g=l.set;return Object.defineProperty(r,o,{configurable:!0,get:function(){return f.call(this)},set:function(w){d=""+w,g.call(this,w)}}),Object.defineProperty(r,o,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(w){d=""+w},stopTracking:function(){r._valueTracker=null,delete r[o]}}}}function Zt(r){r._valueTracker||(r._valueTracker=ft(r))}function En(r){if(!r)return!1;var o=r._valueTracker;if(!o)return!0;var l=o.getValue(),d="";return r&&(d=ze(r)?r.checked?"true":"false":r.value),r=d,r!==l?(o.setValue(r),!0):!1}function jt(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function rr(r,o){var l=o.checked;return pe({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function _r(r,o){var l=o.defaultValue==null?"":o.defaultValue,d=o.checked!=null?o.checked:o.defaultChecked;l=Xe(o.value!=null?o.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function wr(r,o){o=o.checked,o!=null&&Z(r,"checked",o,!1)}function An(r,o){wr(r,o);var l=Xe(o.value),d=o.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}o.hasOwnProperty("value")?$n(r,o.type,l):o.hasOwnProperty("defaultValue")&&$n(r,o.type,Xe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(r.defaultChecked=!!o.defaultChecked)}function $r(r,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var d=o.type;if(!(d!=="submit"&&d!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+r._wrapperState.initialValue,l||o===r.value||(r.value=o),r.defaultValue=o}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function $n(r,o,l){(o!=="number"||jt(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var cn=Array.isArray;function Ut(r,o,l,d){if(r=r.options,o){o={};for(var f=0;f<l.length;f++)o["$"+l[f]]=!0;for(l=0;l<r.length;l++)f=o.hasOwnProperty("$"+r[l].value),r[l].selected!==f&&(r[l].selected=f),f&&d&&(r[l].defaultSelected=!0)}else{for(l=""+Xe(l),o=null,f=0;f<r.length;f++){if(r[f].value===l){r[f].selected=!0,d&&(r[f].defaultSelected=!0);return}o!==null||r[f].disabled||(o=r[f])}o!==null&&(o.selected=!0)}}function Hn(r,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return pe({},o,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Er(r,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(cn(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}r._wrapperState={initialValue:Xe(l)}}function de(r,o){var l=Xe(o.value),d=Xe(o.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),o.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function Re(r){var o=r.textContent;o===r._wrapperState.initialValue&&o!==""&&o!==null&&(r.value=o)}function Le(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function qe(r,o){return r==null||r==="http://www.w3.org/1999/xhtml"?Le(o):r==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var gt,Wn=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,d,f){MSApp.execUnsafeLocalFunction(function(){return r(o,l,d,f)})}:r}(function(r,o){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=o;else{for(gt=gt||document.createElement("div"),gt.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=gt.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;o.firstChild;)r.appendChild(o.firstChild)}});function It(r,o){if(o){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=o;return}}r.textContent=o}var Cn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pn=["Webkit","ms","Moz","O"];Object.keys(Cn).forEach(function(r){Pn.forEach(function(o){o=o+r.charAt(0).toUpperCase()+r.substring(1),Cn[o]=Cn[r]})});function ir(r,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||Cn.hasOwnProperty(r)&&Cn[r]?(""+o).trim():o+"px"}function or(r,o){r=r.style;for(var l in o)if(o.hasOwnProperty(l)){var d=l.indexOf("--")===0,f=ir(l,o[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,f):r[l]=f}}var sr=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bn(r,o){if(o){if(sr[r]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function ar(r,o){if(r.indexOf("-")===-1)return typeof o.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tn=null;function Hr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var ci=null,Dn=null,qn=null;function Tr(r){if(r=Ma(r)){if(typeof ci!="function")throw Error(t(280));var o=r.stateNode;o&&(o=cu(o),ci(r.stateNode,r.type,o))}}function xn(r){Dn?qn?qn.push(r):qn=[r]:Dn=r}function Do(){if(Dn){var r=Dn,o=qn;if(qn=Dn=null,Tr(r),o)for(r=0;r<o.length;r++)Tr(o[r])}}function di(r,o){return r(o)}function N(){}var B=!1;function G(r,o,l){if(B)return r(o,l);B=!0;try{return di(r,o,l)}finally{B=!1,(Dn!==null||qn!==null)&&(N(),Do())}}function X(r,o){var l=r.stateNode;if(l===null)return null;var d=cu(l);if(d===null)return null;l=d[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var me=!1;if(h)try{var we={};Object.defineProperty(we,"passive",{get:function(){me=!0}}),window.addEventListener("test",we,we),window.removeEventListener("test",we,we)}catch{me=!1}function Pe(r,o,l,d,f,g,w,R,D){var K=Array.prototype.slice.call(arguments,3);try{o.apply(l,K)}catch(ne){this.onError(ne)}}var ge=!1,Te=null,le=!1,Me=null,We={onError:function(r){ge=!0,Te=r}};function ct(r,o,l,d,f,g,w,R,D){ge=!1,Te=null,Pe.apply(We,arguments)}function Dt(r,o,l,d,f,g,w,R,D){if(ct.apply(this,arguments),ge){if(ge){var K=Te;ge=!1,Te=null}else throw Error(t(198));le||(le=!0,Me=K)}}function et(r){var o=r,l=r;if(r.alternate)for(;o.return;)o=o.return;else{r=o;do o=r,o.flags&4098&&(l=o.return),r=o.return;while(r)}return o.tag===3?l:null}function at(r){if(r.tag===13){var o=r.memoizedState;if(o===null&&(r=r.alternate,r!==null&&(o=r.memoizedState)),o!==null)return o.dehydrated}return null}function dt(r){if(et(r)!==r)throw Error(t(188))}function xr(r){var o=r.alternate;if(!o){if(o=et(r),o===null)throw Error(t(188));return o!==r?null:r}for(var l=r,d=o;;){var f=l.return;if(f===null)break;var g=f.alternate;if(g===null){if(d=f.return,d!==null){l=d;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===l)return dt(f),r;if(g===d)return dt(f),o;g=g.sibling}throw Error(t(188))}if(l.return!==d.return)l=f,d=g;else{for(var w=!1,R=f.child;R;){if(R===l){w=!0,l=f,d=g;break}if(R===d){w=!0,d=f,l=g;break}R=R.sibling}if(!w){for(R=g.child;R;){if(R===l){w=!0,l=g,d=f;break}if(R===d){w=!0,d=g,l=f;break}R=R.sibling}if(!w)throw Error(t(189))}}if(l.alternate!==d)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?r:o}function Ir(r){return r=xr(r),r!==null?dn(r):null}function dn(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var o=dn(r);if(o!==null)return o;r=r.sibling}return null}var en=e.unstable_scheduleCallback,hi=e.unstable_cancelCallback,Wr=e.unstable_shouldYield,Sr=e.unstable_requestPaint,ht=e.unstable_now,fi=e.unstable_getCurrentPriorityLevel,it=e.unstable_ImmediatePriority,wt=e.unstable_UserBlockingPriority,tn=e.unstable_NormalPriority,Rr=e.unstable_LowPriority,Et=e.unstable_IdlePriority,Nn=null,hn=null;function gs(r){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(Nn,r,void 0,(r.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:Bl,Ea=Math.log,zl=Math.LN2;function Bl(r){return r>>>=0,r===0?32:31-(Ea(r)/zl|0)|0}var vs=64,ys=4194304;function Hi(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function No(r,o){var l=r.pendingLanes;if(l===0)return 0;var d=0,f=r.suspendedLanes,g=r.pingedLanes,w=l&268435455;if(w!==0){var R=w&~f;R!==0?d=Hi(R):(g&=w,g!==0&&(d=Hi(g)))}else w=l&~f,w!==0?d=Hi(w):g!==0&&(d=Hi(g));if(d===0)return 0;if(o!==0&&o!==d&&!(o&f)&&(f=d&-d,g=o&-o,f>=g||f===16&&(g&4194240)!==0))return o;if(d&4&&(d|=l&16),o=r.entangledLanes,o!==0)for(r=r.entanglements,o&=d;0<o;)l=31-In(o),f=1<<l,d|=r[l],o&=~f;return d}function pd(r,o){switch(r){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pi(r,o){for(var l=r.suspendedLanes,d=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var w=31-In(g),R=1<<w,D=f[w];D===-1?(!(R&l)||R&d)&&(f[w]=pd(R,o)):D<=o&&(r.expiredLanes|=R),g&=~R}}function Kn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Oo(){var r=vs;return vs<<=1,!(vs&4194240)&&(vs=64),r}function Wi(r){for(var o=[],l=0;31>l;l++)o.push(r);return o}function qi(r,o,l){r.pendingLanes|=o,o!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,o=31-In(o),r[o]=l}function vt(r,o){var l=r.pendingLanes&~o;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=o,r.mutableReadLanes&=o,r.entangledLanes&=o,o=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var f=31-In(l),g=1<<f;o[f]=0,d[f]=-1,r[f]=-1,l&=~g}}function Ki(r,o){var l=r.entangledLanes|=o;for(r=r.entanglements;l;){var d=31-In(l),f=1<<d;f&o|r[d]&o&&(r[d]|=o),l&=~f}}var tt=0;function Gi(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var $l,_s,Hl,Wl,ql,Ta=!1,qr=[],nn=null,kr=null,Ar=null,Qi=new Map,lr=new Map,Kr=[],md="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Kl(r,o){switch(r){case"focusin":case"focusout":nn=null;break;case"dragenter":case"dragleave":kr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":Qi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":lr.delete(o.pointerId)}}function On(r,o,l,d,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:o,domEventName:l,eventSystemFlags:d,nativeEvent:g,targetContainers:[f]},o!==null&&(o=Ma(o),o!==null&&_s(o)),r):(r.eventSystemFlags|=d,o=r.targetContainers,f!==null&&o.indexOf(f)===-1&&o.push(f),r)}function gd(r,o,l,d,f){switch(o){case"focusin":return nn=On(nn,r,o,l,d,f),!0;case"dragenter":return kr=On(kr,r,o,l,d,f),!0;case"mouseover":return Ar=On(Ar,r,o,l,d,f),!0;case"pointerover":var g=f.pointerId;return Qi.set(g,On(Qi.get(g)||null,r,o,l,d,f)),!0;case"gotpointercapture":return g=f.pointerId,lr.set(g,On(lr.get(g)||null,r,o,l,d,f)),!0}return!1}function Gl(r){var o=jo(r.target);if(o!==null){var l=et(o);if(l!==null){if(o=l.tag,o===13){if(o=at(l),o!==null){r.blockedOn=o,ql(r.priority,function(){Hl(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function mi(r){if(r.blockedOn!==null)return!1;for(var o=r.targetContainers;0<o.length;){var l=ws(r.domEventName,r.eventSystemFlags,o[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);Tn=d,l.target.dispatchEvent(d),Tn=null}else return o=Ma(l),o!==null&&_s(o),r.blockedOn=l,!1;o.shift()}return!0}function Lo(r,o,l){mi(r)&&l.delete(o)}function Ql(){Ta=!1,nn!==null&&mi(nn)&&(nn=null),kr!==null&&mi(kr)&&(kr=null),Ar!==null&&mi(Ar)&&(Ar=null),Qi.forEach(Lo),lr.forEach(Lo)}function Cr(r,o){r.blockedOn===o&&(r.blockedOn=null,Ta||(Ta=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ql)))}function Pr(r){function o(f){return Cr(f,r)}if(0<qr.length){Cr(qr[0],r);for(var l=1;l<qr.length;l++){var d=qr[l];d.blockedOn===r&&(d.blockedOn=null)}}for(nn!==null&&Cr(nn,r),kr!==null&&Cr(kr,r),Ar!==null&&Cr(Ar,r),Qi.forEach(o),lr.forEach(o),l=0;l<Kr.length;l++)d=Kr[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<Kr.length&&(l=Kr[0],l.blockedOn===null);)Gl(l),l.blockedOn===null&&Kr.shift()}var gi=he.ReactCurrentBatchConfig,Yi=!0;function St(r,o,l,d){var f=tt,g=gi.transition;gi.transition=null;try{tt=1,xa(r,o,l,d)}finally{tt=f,gi.transition=g}}function vd(r,o,l,d){var f=tt,g=gi.transition;gi.transition=null;try{tt=4,xa(r,o,l,d)}finally{tt=f,gi.transition=g}}function xa(r,o,l,d){if(Yi){var f=ws(r,o,l,d);if(f===null)Ad(r,o,d,Vo,l),Kl(r,d);else if(gd(f,r,o,l,d))d.stopPropagation();else if(Kl(r,d),o&4&&-1<md.indexOf(r)){for(;f!==null;){var g=Ma(f);if(g!==null&&$l(g),g=ws(r,o,l,d),g===null&&Ad(r,o,d,Vo,l),g===f)break;f=g}f!==null&&d.stopPropagation()}else Ad(r,o,d,null,l)}}var Vo=null;function ws(r,o,l,d){if(Vo=null,r=Hr(d),r=jo(r),r!==null)if(o=et(r),o===null)r=null;else if(l=o.tag,l===13){if(r=at(o),r!==null)return r;r=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;r=null}else o!==r&&(r=null);return Vo=r,null}function Ia(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fi()){case it:return 1;case wt:return 4;case tn:case Rr:return 16;case Et:return 536870912;default:return 16}default:return 16}}var Gn=null,Es=null,Ln=null;function Sa(){if(Ln)return Ln;var r,o=Es,l=o.length,d,f="value"in Gn?Gn.value:Gn.textContent,g=f.length;for(r=0;r<l&&o[r]===f[r];r++);var w=l-r;for(d=1;d<=w&&o[l-d]===f[g-d];d++);return Ln=f.slice(r,1<d?1-d:void 0)}function Ts(r){var o=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&o===13&&(r=13)):r=o,r===10&&(r=13),32<=r||r===13?r:0}function Gr(){return!0}function Ra(){return!1}function rn(r){function o(l,d,f,g,w){this._reactName=l,this._targetInst=f,this.type=d,this.nativeEvent=g,this.target=w,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(l=r[R],this[R]=l?l(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Gr:Ra,this.isPropagationStopped=Ra,this}return pe(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Gr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Gr)},persist:function(){},isPersistent:Gr}),o}var br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xs=rn(br),Qr=pe({},br,{view:0,detail:0}),yd=rn(Qr),Is,vi,Xi,Mo=pe({},Qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Xi&&(Xi&&r.type==="mousemove"?(Is=r.screenX-Xi.screenX,vi=r.screenY-Xi.screenY):vi=Is=0,Xi=r),Is)},movementY:function(r){return"movementY"in r?r.movementY:vi}}),Ss=rn(Mo),ka=pe({},Mo,{dataTransfer:0}),Yl=rn(ka),Rs=pe({},Qr,{relatedTarget:0}),ks=rn(Rs),Xl=pe({},br,{animationName:0,elapsedTime:0,pseudoElement:0}),yi=rn(Xl),Jl=pe({},br,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Zl=rn(Jl),eu=pe({},br,{data:0}),Aa=rn(eu),As={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nu(r){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(r):(r=tu[r])?!!o[r]:!1}function Yr(){return nu}var u=pe({},Qr,{key:function(r){if(r.key){var o=As[r.key]||r.key;if(o!=="Unidentified")return o}return r.type==="keypress"?(r=Ts(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Sn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yr,charCode:function(r){return r.type==="keypress"?Ts(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ts(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=rn(u),y=pe({},Mo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=rn(y),$=pe({},Qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yr}),Q=rn($),ue=pe({},br,{propertyName:0,elapsedTime:0,pseudoElement:0}),mt=rn(ue),zt=pe({},Mo,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),ot=rn(zt),Kt=[9,13,27,32],Vt=h&&"CompositionEvent"in window,ur=null;h&&"documentMode"in document&&(ur=document.documentMode);var Qn=h&&"TextEvent"in window&&!ur,Fo=h&&(!Vt||ur&&8<ur&&11>=ur),Cs=" ",Gp=!1;function Qp(r,o){switch(r){case"keyup":return Kt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Ps=!1;function x0(r,o){switch(r){case"compositionend":return Yp(o);case"keypress":return o.which!==32?null:(Gp=!0,Cs);case"textInput":return r=o.data,r===Cs&&Gp?null:r;default:return null}}function I0(r,o){if(Ps)return r==="compositionend"||!Vt&&Qp(r,o)?(r=Sa(),Ln=Es=Gn=null,Ps=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Fo&&o.locale!=="ko"?null:o.data;default:return null}}var S0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xp(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o==="input"?!!S0[r.type]:o==="textarea"}function Jp(r,o,l,d){xn(d),o=au(o,"onChange"),0<o.length&&(l=new xs("onChange","change",null,l,d),r.push({event:l,listeners:o}))}var Ca=null,Pa=null;function R0(r){gm(r,0)}function ru(r){var o=Ls(r);if(En(o))return r}function k0(r,o){if(r==="change")return o}var Zp=!1;if(h){var _d;if(h){var wd="oninput"in document;if(!wd){var em=document.createElement("div");em.setAttribute("oninput","return;"),wd=typeof em.oninput=="function"}_d=wd}else _d=!1;Zp=_d&&(!document.documentMode||9<document.documentMode)}function tm(){Ca&&(Ca.detachEvent("onpropertychange",nm),Pa=Ca=null)}function nm(r){if(r.propertyName==="value"&&ru(Pa)){var o=[];Jp(o,Pa,r,Hr(r)),G(R0,o)}}function A0(r,o,l){r==="focusin"?(tm(),Ca=o,Pa=l,Ca.attachEvent("onpropertychange",nm)):r==="focusout"&&tm()}function C0(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return ru(Pa)}function P0(r,o){if(r==="click")return ru(o)}function b0(r,o){if(r==="input"||r==="change")return ru(o)}function D0(r,o){return r===o&&(r!==0||1/r===1/o)||r!==r&&o!==o}var Dr=typeof Object.is=="function"?Object.is:D0;function ba(r,o){if(Dr(r,o))return!0;if(typeof r!="object"||r===null||typeof o!="object"||o===null)return!1;var l=Object.keys(r),d=Object.keys(o);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var f=l[d];if(!p.call(o,f)||!Dr(r[f],o[f]))return!1}return!0}function rm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function im(r,o){var l=rm(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=o&&d>=o)return{node:l,offset:o-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=rm(l)}}function om(r,o){return r&&o?r===o?!0:r&&r.nodeType===3?!1:o&&o.nodeType===3?om(r,o.parentNode):"contains"in r?r.contains(o):r.compareDocumentPosition?!!(r.compareDocumentPosition(o)&16):!1:!1}function sm(){for(var r=window,o=jt();o instanceof r.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)r=o.contentWindow;else break;o=jt(r.document)}return o}function Ed(r){var o=r&&r.nodeName&&r.nodeName.toLowerCase();return o&&(o==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||o==="textarea"||r.contentEditable==="true")}function N0(r){var o=sm(),l=r.focusedElem,d=r.selectionRange;if(o!==l&&l&&l.ownerDocument&&om(l.ownerDocument.documentElement,l)){if(d!==null&&Ed(l)){if(o=d.start,r=d.end,r===void 0&&(r=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(r,l.value.length);else if(r=(o=l.ownerDocument||document)&&o.defaultView||window,r.getSelection){r=r.getSelection();var f=l.textContent.length,g=Math.min(d.start,f);d=d.end===void 0?g:Math.min(d.end,f),!r.extend&&g>d&&(f=d,d=g,g=f),f=im(l,g);var w=im(l,d);f&&w&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==w.node||r.focusOffset!==w.offset)&&(o=o.createRange(),o.setStart(f.node,f.offset),r.removeAllRanges(),g>d?(r.addRange(o),r.extend(w.node,w.offset)):(o.setEnd(w.node,w.offset),r.addRange(o)))}}for(o=[],r=l;r=r.parentNode;)r.nodeType===1&&o.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)r=o[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var O0=h&&"documentMode"in document&&11>=document.documentMode,bs=null,Td=null,Da=null,xd=!1;function am(r,o,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;xd||bs==null||bs!==jt(d)||(d=bs,"selectionStart"in d&&Ed(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Da&&ba(Da,d)||(Da=d,d=au(Td,"onSelect"),0<d.length&&(o=new xs("onSelect","select",null,o,l),r.push({event:o,listeners:d}),o.target=bs)))}function iu(r,o){var l={};return l[r.toLowerCase()]=o.toLowerCase(),l["Webkit"+r]="webkit"+o,l["Moz"+r]="moz"+o,l}var Ds={animationend:iu("Animation","AnimationEnd"),animationiteration:iu("Animation","AnimationIteration"),animationstart:iu("Animation","AnimationStart"),transitionend:iu("Transition","TransitionEnd")},Id={},lm={};h&&(lm=document.createElement("div").style,"AnimationEvent"in window||(delete Ds.animationend.animation,delete Ds.animationiteration.animation,delete Ds.animationstart.animation),"TransitionEvent"in window||delete Ds.transitionend.transition);function ou(r){if(Id[r])return Id[r];if(!Ds[r])return r;var o=Ds[r],l;for(l in o)if(o.hasOwnProperty(l)&&l in lm)return Id[r]=o[l];return r}var um=ou("animationend"),cm=ou("animationiteration"),dm=ou("animationstart"),hm=ou("transitionend"),fm=new Map,pm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ji(r,o){fm.set(r,o),a(o,[r])}for(var Sd=0;Sd<pm.length;Sd++){var Rd=pm[Sd],L0=Rd.toLowerCase(),V0=Rd[0].toUpperCase()+Rd.slice(1);Ji(L0,"on"+V0)}Ji(um,"onAnimationEnd"),Ji(cm,"onAnimationIteration"),Ji(dm,"onAnimationStart"),Ji("dblclick","onDoubleClick"),Ji("focusin","onFocus"),Ji("focusout","onBlur"),Ji(hm,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Na="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Na));function mm(r,o,l){var d=r.type||"unknown-event";r.currentTarget=l,Dt(d,o,void 0,r),r.currentTarget=null}function gm(r,o){o=(o&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],f=d.event;d=d.listeners;e:{var g=void 0;if(o)for(var w=d.length-1;0<=w;w--){var R=d[w],D=R.instance,K=R.currentTarget;if(R=R.listener,D!==g&&f.isPropagationStopped())break e;mm(f,R,K),g=D}else for(w=0;w<d.length;w++){if(R=d[w],D=R.instance,K=R.currentTarget,R=R.listener,D!==g&&f.isPropagationStopped())break e;mm(f,R,K),g=D}}}if(le)throw r=Me,le=!1,Me=null,r}function Tt(r,o){var l=o[Od];l===void 0&&(l=o[Od]=new Set);var d=r+"__bubble";l.has(d)||(vm(o,r,2,!1),l.add(d))}function kd(r,o,l){var d=0;o&&(d|=4),vm(l,r,d,o)}var su="_reactListening"+Math.random().toString(36).slice(2);function Oa(r){if(!r[su]){r[su]=!0,i.forEach(function(l){l!=="selectionchange"&&(M0.has(l)||kd(l,!1,r),kd(l,!0,r))});var o=r.nodeType===9?r:r.ownerDocument;o===null||o[su]||(o[su]=!0,kd("selectionchange",!1,o))}}function vm(r,o,l,d){switch(Ia(o)){case 1:var f=St;break;case 4:f=vd;break;default:f=xa}l=f.bind(null,o,l,r),f=void 0,!me||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(f=!0),d?f!==void 0?r.addEventListener(o,l,{capture:!0,passive:f}):r.addEventListener(o,l,!0):f!==void 0?r.addEventListener(o,l,{passive:f}):r.addEventListener(o,l,!1)}function Ad(r,o,l,d,f){var g=d;if(!(o&1)&&!(o&2)&&d!==null)e:for(;;){if(d===null)return;var w=d.tag;if(w===3||w===4){var R=d.stateNode.containerInfo;if(R===f||R.nodeType===8&&R.parentNode===f)break;if(w===4)for(w=d.return;w!==null;){var D=w.tag;if((D===3||D===4)&&(D=w.stateNode.containerInfo,D===f||D.nodeType===8&&D.parentNode===f))return;w=w.return}for(;R!==null;){if(w=jo(R),w===null)return;if(D=w.tag,D===5||D===6){d=g=w;continue e}R=R.parentNode}}d=d.return}G(function(){var K=g,ne=Hr(l),ie=[];e:{var ee=fm.get(r);if(ee!==void 0){var ve=xs,Se=r;switch(r){case"keypress":if(Ts(l)===0)break e;case"keydown":case"keyup":ve=m;break;case"focusin":Se="focus",ve=ks;break;case"focusout":Se="blur",ve=ks;break;case"beforeblur":case"afterblur":ve=ks;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ve=Ss;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ve=Yl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ve=Q;break;case um:case cm:case dm:ve=yi;break;case hm:ve=mt;break;case"scroll":ve=yd;break;case"wheel":ve=ot;break;case"copy":case"cut":case"paste":ve=Zl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ve=E}var ke=(o&4)!==0,Ot=!ke&&r==="scroll",H=ke?ee!==null?ee+"Capture":null:ee;ke=[];for(var L=K,W;L!==null;){W=L;var ae=W.stateNode;if(W.tag===5&&ae!==null&&(W=ae,H!==null&&(ae=X(L,H),ae!=null&&ke.push(La(L,ae,W)))),Ot)break;L=L.return}0<ke.length&&(ee=new ve(ee,Se,null,l,ne),ie.push({event:ee,listeners:ke}))}}if(!(o&7)){e:{if(ee=r==="mouseover"||r==="pointerover",ve=r==="mouseout"||r==="pointerout",ee&&l!==Tn&&(Se=l.relatedTarget||l.fromElement)&&(jo(Se)||Se[_i]))break e;if((ve||ee)&&(ee=ne.window===ne?ne:(ee=ne.ownerDocument)?ee.defaultView||ee.parentWindow:window,ve?(Se=l.relatedTarget||l.toElement,ve=K,Se=Se?jo(Se):null,Se!==null&&(Ot=et(Se),Se!==Ot||Se.tag!==5&&Se.tag!==6)&&(Se=null)):(ve=null,Se=K),ve!==Se)){if(ke=Ss,ae="onMouseLeave",H="onMouseEnter",L="mouse",(r==="pointerout"||r==="pointerover")&&(ke=E,ae="onPointerLeave",H="onPointerEnter",L="pointer"),Ot=ve==null?ee:Ls(ve),W=Se==null?ee:Ls(Se),ee=new ke(ae,L+"leave",ve,l,ne),ee.target=Ot,ee.relatedTarget=W,ae=null,jo(ne)===K&&(ke=new ke(H,L+"enter",Se,l,ne),ke.target=W,ke.relatedTarget=Ot,ae=ke),Ot=ae,ve&&Se)t:{for(ke=ve,H=Se,L=0,W=ke;W;W=Ns(W))L++;for(W=0,ae=H;ae;ae=Ns(ae))W++;for(;0<L-W;)ke=Ns(ke),L--;for(;0<W-L;)H=Ns(H),W--;for(;L--;){if(ke===H||H!==null&&ke===H.alternate)break t;ke=Ns(ke),H=Ns(H)}ke=null}else ke=null;ve!==null&&ym(ie,ee,ve,ke,!1),Se!==null&&Ot!==null&&ym(ie,Ot,Se,ke,!0)}}e:{if(ee=K?Ls(K):window,ve=ee.nodeName&&ee.nodeName.toLowerCase(),ve==="select"||ve==="input"&&ee.type==="file")var Ae=k0;else if(Xp(ee))if(Zp)Ae=b0;else{Ae=C0;var be=A0}else(ve=ee.nodeName)&&ve.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(Ae=P0);if(Ae&&(Ae=Ae(r,K))){Jp(ie,Ae,l,ne);break e}be&&be(r,ee,K),r==="focusout"&&(be=ee._wrapperState)&&be.controlled&&ee.type==="number"&&$n(ee,"number",ee.value)}switch(be=K?Ls(K):window,r){case"focusin":(Xp(be)||be.contentEditable==="true")&&(bs=be,Td=K,Da=null);break;case"focusout":Da=Td=bs=null;break;case"mousedown":xd=!0;break;case"contextmenu":case"mouseup":case"dragend":xd=!1,am(ie,l,ne);break;case"selectionchange":if(O0)break;case"keydown":case"keyup":am(ie,l,ne)}var De;if(Vt)e:{switch(r){case"compositionstart":var Ue="onCompositionStart";break e;case"compositionend":Ue="onCompositionEnd";break e;case"compositionupdate":Ue="onCompositionUpdate";break e}Ue=void 0}else Ps?Qp(r,l)&&(Ue="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Ue="onCompositionStart");Ue&&(Fo&&l.locale!=="ko"&&(Ps||Ue!=="onCompositionStart"?Ue==="onCompositionEnd"&&Ps&&(De=Sa()):(Gn=ne,Es="value"in Gn?Gn.value:Gn.textContent,Ps=!0)),be=au(K,Ue),0<be.length&&(Ue=new Aa(Ue,r,null,l,ne),ie.push({event:Ue,listeners:be}),De?Ue.data=De:(De=Yp(l),De!==null&&(Ue.data=De)))),(De=Qn?x0(r,l):I0(r,l))&&(K=au(K,"onBeforeInput"),0<K.length&&(ne=new Aa("onBeforeInput","beforeinput",null,l,ne),ie.push({event:ne,listeners:K}),ne.data=De))}gm(ie,o)})}function La(r,o,l){return{instance:r,listener:o,currentTarget:l}}function au(r,o){for(var l=o+"Capture",d=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=X(r,l),g!=null&&d.unshift(La(r,g,f)),g=X(r,o),g!=null&&d.push(La(r,g,f))),r=r.return}return d}function Ns(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function ym(r,o,l,d,f){for(var g=o._reactName,w=[];l!==null&&l!==d;){var R=l,D=R.alternate,K=R.stateNode;if(D!==null&&D===d)break;R.tag===5&&K!==null&&(R=K,f?(D=X(l,g),D!=null&&w.unshift(La(l,D,R))):f||(D=X(l,g),D!=null&&w.push(La(l,D,R)))),l=l.return}w.length!==0&&r.push({event:o,listeners:w})}var F0=/\r\n?/g,j0=/\u0000|\uFFFD/g;function _m(r){return(typeof r=="string"?r:""+r).replace(F0,`
`).replace(j0,"")}function lu(r,o,l){if(o=_m(o),_m(r)!==o&&l)throw Error(t(425))}function uu(){}var Cd=null,Pd=null;function bd(r,o){return r==="textarea"||r==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Dd=typeof setTimeout=="function"?setTimeout:void 0,U0=typeof clearTimeout=="function"?clearTimeout:void 0,wm=typeof Promise=="function"?Promise:void 0,z0=typeof queueMicrotask=="function"?queueMicrotask:typeof wm<"u"?function(r){return wm.resolve(null).then(r).catch(B0)}:Dd;function B0(r){setTimeout(function(){throw r})}function Nd(r,o){var l=o,d=0;do{var f=l.nextSibling;if(r.removeChild(l),f&&f.nodeType===8)if(l=f.data,l==="/$"){if(d===0){r.removeChild(f),Pr(o);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=f}while(l);Pr(o)}function Zi(r){for(;r!=null;r=r.nextSibling){var o=r.nodeType;if(o===1||o===3)break;if(o===8){if(o=r.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return r}function Em(r){r=r.previousSibling;for(var o=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return r;o--}else l==="/$"&&o++}r=r.previousSibling}return null}var Os=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Os,Va="__reactProps$"+Os,_i="__reactContainer$"+Os,Od="__reactEvents$"+Os,$0="__reactListeners$"+Os,H0="__reactHandles$"+Os;function jo(r){var o=r[Xr];if(o)return o;for(var l=r.parentNode;l;){if(o=l[_i]||l[Xr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(r=Em(r);r!==null;){if(l=r[Xr])return l;r=Em(r)}return o}r=l,l=r.parentNode}return null}function Ma(r){return r=r[Xr]||r[_i],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Ls(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function cu(r){return r[Va]||null}var Ld=[],Vs=-1;function eo(r){return{current:r}}function xt(r){0>Vs||(r.current=Ld[Vs],Ld[Vs]=null,Vs--)}function _t(r,o){Vs++,Ld[Vs]=r.current,r.current=o}var to={},fn=eo(to),Vn=eo(!1),Uo=to;function Ms(r,o){var l=r.type.contextTypes;if(!l)return to;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===o)return d.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in l)f[g]=o[g];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=o,r.__reactInternalMemoizedMaskedChildContext=f),f}function Mn(r){return r=r.childContextTypes,r!=null}function du(){xt(Vn),xt(fn)}function Tm(r,o,l){if(fn.current!==to)throw Error(t(168));_t(fn,o),_t(Vn,l)}function xm(r,o,l){var d=r.stateNode;if(o=o.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var f in d)if(!(f in o))throw Error(t(108,Ye(r)||"Unknown",f));return pe({},l,d)}function hu(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||to,Uo=fn.current,_t(fn,r),_t(Vn,Vn.current),!0}function Im(r,o,l){var d=r.stateNode;if(!d)throw Error(t(169));l?(r=xm(r,o,Uo),d.__reactInternalMemoizedMergedChildContext=r,xt(Vn),xt(fn),_t(fn,r)):xt(Vn),_t(Vn,l)}var wi=null,fu=!1,Vd=!1;function Sm(r){wi===null?wi=[r]:wi.push(r)}function W0(r){fu=!0,Sm(r)}function no(){if(!Vd&&wi!==null){Vd=!0;var r=0,o=tt;try{var l=wi;for(tt=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}wi=null,fu=!1}catch(f){throw wi!==null&&(wi=wi.slice(r+1)),en(it,no),f}finally{tt=o,Vd=!1}}return null}var Fs=[],js=0,pu=null,mu=0,cr=[],dr=0,zo=null,Ei=1,Ti="";function Bo(r,o){Fs[js++]=mu,Fs[js++]=pu,pu=r,mu=o}function Rm(r,o,l){cr[dr++]=Ei,cr[dr++]=Ti,cr[dr++]=zo,zo=r;var d=Ei;r=Ti;var f=32-In(d)-1;d&=~(1<<f),l+=1;var g=32-In(o)+f;if(30<g){var w=f-f%5;g=(d&(1<<w)-1).toString(32),d>>=w,f-=w,Ei=1<<32-In(o)+f|l<<f|d,Ti=g+r}else Ei=1<<g|l<<f|d,Ti=r}function Md(r){r.return!==null&&(Bo(r,1),Rm(r,1,0))}function Fd(r){for(;r===pu;)pu=Fs[--js],Fs[js]=null,mu=Fs[--js],Fs[js]=null;for(;r===zo;)zo=cr[--dr],cr[dr]=null,Ti=cr[--dr],cr[dr]=null,Ei=cr[--dr],cr[dr]=null}var Yn=null,Xn=null,Rt=!1,Nr=null;function km(r,o){var l=mr(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=r,o=r.deletions,o===null?(r.deletions=[l],r.flags|=16):o.push(l)}function Am(r,o){switch(r.tag){case 5:var l=r.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(r.stateNode=o,Yn=r,Xn=Zi(o.firstChild),!0):!1;case 6:return o=r.pendingProps===""||o.nodeType!==3?null:o,o!==null?(r.stateNode=o,Yn=r,Xn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=zo!==null?{id:Ei,overflow:Ti}:null,r.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=mr(18,null,null,0),l.stateNode=o,l.return=r,r.child=l,Yn=r,Xn=null,!0):!1;default:return!1}}function jd(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Ud(r){if(Rt){var o=Xn;if(o){var l=o;if(!Am(r,o)){if(jd(r))throw Error(t(418));o=Zi(l.nextSibling);var d=Yn;o&&Am(r,o)?km(d,l):(r.flags=r.flags&-4097|2,Rt=!1,Yn=r)}}else{if(jd(r))throw Error(t(418));r.flags=r.flags&-4097|2,Rt=!1,Yn=r}}}function Cm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Yn=r}function gu(r){if(r!==Yn)return!1;if(!Rt)return Cm(r),Rt=!0,!1;var o;if((o=r.tag!==3)&&!(o=r.tag!==5)&&(o=r.type,o=o!=="head"&&o!=="body"&&!bd(r.type,r.memoizedProps)),o&&(o=Xn)){if(jd(r))throw Pm(),Error(t(418));for(;o;)km(r,o),o=Zi(o.nextSibling)}if(Cm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,o=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(o===0){Xn=Zi(r.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}r=r.nextSibling}Xn=null}}else Xn=Yn?Zi(r.stateNode.nextSibling):null;return!0}function Pm(){for(var r=Xn;r;)r=Zi(r.nextSibling)}function Us(){Xn=Yn=null,Rt=!1}function zd(r){Nr===null?Nr=[r]:Nr.push(r)}var q0=he.ReactCurrentBatchConfig;function Fa(r,o,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var d=l.stateNode}if(!d)throw Error(t(147,r));var f=d,g=""+r;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===g?o.ref:(o=function(w){var R=f.refs;w===null?delete R[g]:R[g]=w},o._stringRef=g,o)}if(typeof r!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,r))}return r}function vu(r,o){throw r=Object.prototype.toString.call(o),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":r))}function bm(r){var o=r._init;return o(r._payload)}function Dm(r){function o(H,L){if(r){var W=H.deletions;W===null?(H.deletions=[L],H.flags|=16):W.push(L)}}function l(H,L){if(!r)return null;for(;L!==null;)o(H,L),L=L.sibling;return null}function d(H,L){for(H=new Map;L!==null;)L.key!==null?H.set(L.key,L):H.set(L.index,L),L=L.sibling;return H}function f(H,L){return H=co(H,L),H.index=0,H.sibling=null,H}function g(H,L,W){return H.index=W,r?(W=H.alternate,W!==null?(W=W.index,W<L?(H.flags|=2,L):W):(H.flags|=2,L)):(H.flags|=1048576,L)}function w(H){return r&&H.alternate===null&&(H.flags|=2),H}function R(H,L,W,ae){return L===null||L.tag!==6?(L=Dh(W,H.mode,ae),L.return=H,L):(L=f(L,W),L.return=H,L)}function D(H,L,W,ae){var Ae=W.type;return Ae===C?ne(H,L,W.props.children,ae,W.key):L!==null&&(L.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===Ke&&bm(Ae)===L.type)?(ae=f(L,W.props),ae.ref=Fa(H,L,W),ae.return=H,ae):(ae=zu(W.type,W.key,W.props,null,H.mode,ae),ae.ref=Fa(H,L,W),ae.return=H,ae)}function K(H,L,W,ae){return L===null||L.tag!==4||L.stateNode.containerInfo!==W.containerInfo||L.stateNode.implementation!==W.implementation?(L=Nh(W,H.mode,ae),L.return=H,L):(L=f(L,W.children||[]),L.return=H,L)}function ne(H,L,W,ae,Ae){return L===null||L.tag!==7?(L=Yo(W,H.mode,ae,Ae),L.return=H,L):(L=f(L,W),L.return=H,L)}function ie(H,L,W){if(typeof L=="string"&&L!==""||typeof L=="number")return L=Dh(""+L,H.mode,W),L.return=H,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case U:return W=zu(L.type,L.key,L.props,null,H.mode,W),W.ref=Fa(H,null,L),W.return=H,W;case ce:return L=Nh(L,H.mode,W),L.return=H,L;case Ke:var ae=L._init;return ie(H,ae(L._payload),W)}if(cn(L)||fe(L))return L=Yo(L,H.mode,W,null),L.return=H,L;vu(H,L)}return null}function ee(H,L,W,ae){var Ae=L!==null?L.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return Ae!==null?null:R(H,L,""+W,ae);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case U:return W.key===Ae?D(H,L,W,ae):null;case ce:return W.key===Ae?K(H,L,W,ae):null;case Ke:return Ae=W._init,ee(H,L,Ae(W._payload),ae)}if(cn(W)||fe(W))return Ae!==null?null:ne(H,L,W,ae,null);vu(H,W)}return null}function ve(H,L,W,ae,Ae){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return H=H.get(W)||null,R(L,H,""+ae,Ae);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case U:return H=H.get(ae.key===null?W:ae.key)||null,D(L,H,ae,Ae);case ce:return H=H.get(ae.key===null?W:ae.key)||null,K(L,H,ae,Ae);case Ke:var be=ae._init;return ve(H,L,W,be(ae._payload),Ae)}if(cn(ae)||fe(ae))return H=H.get(W)||null,ne(L,H,ae,Ae,null);vu(L,ae)}return null}function Se(H,L,W,ae){for(var Ae=null,be=null,De=L,Ue=L=0,Yt=null;De!==null&&Ue<W.length;Ue++){De.index>Ue?(Yt=De,De=null):Yt=De.sibling;var ut=ee(H,De,W[Ue],ae);if(ut===null){De===null&&(De=Yt);break}r&&De&&ut.alternate===null&&o(H,De),L=g(ut,L,Ue),be===null?Ae=ut:be.sibling=ut,be=ut,De=Yt}if(Ue===W.length)return l(H,De),Rt&&Bo(H,Ue),Ae;if(De===null){for(;Ue<W.length;Ue++)De=ie(H,W[Ue],ae),De!==null&&(L=g(De,L,Ue),be===null?Ae=De:be.sibling=De,be=De);return Rt&&Bo(H,Ue),Ae}for(De=d(H,De);Ue<W.length;Ue++)Yt=ve(De,H,Ue,W[Ue],ae),Yt!==null&&(r&&Yt.alternate!==null&&De.delete(Yt.key===null?Ue:Yt.key),L=g(Yt,L,Ue),be===null?Ae=Yt:be.sibling=Yt,be=Yt);return r&&De.forEach(function(ho){return o(H,ho)}),Rt&&Bo(H,Ue),Ae}function ke(H,L,W,ae){var Ae=fe(W);if(typeof Ae!="function")throw Error(t(150));if(W=Ae.call(W),W==null)throw Error(t(151));for(var be=Ae=null,De=L,Ue=L=0,Yt=null,ut=W.next();De!==null&&!ut.done;Ue++,ut=W.next()){De.index>Ue?(Yt=De,De=null):Yt=De.sibling;var ho=ee(H,De,ut.value,ae);if(ho===null){De===null&&(De=Yt);break}r&&De&&ho.alternate===null&&o(H,De),L=g(ho,L,Ue),be===null?Ae=ho:be.sibling=ho,be=ho,De=Yt}if(ut.done)return l(H,De),Rt&&Bo(H,Ue),Ae;if(De===null){for(;!ut.done;Ue++,ut=W.next())ut=ie(H,ut.value,ae),ut!==null&&(L=g(ut,L,Ue),be===null?Ae=ut:be.sibling=ut,be=ut);return Rt&&Bo(H,Ue),Ae}for(De=d(H,De);!ut.done;Ue++,ut=W.next())ut=ve(De,H,Ue,ut.value,ae),ut!==null&&(r&&ut.alternate!==null&&De.delete(ut.key===null?Ue:ut.key),L=g(ut,L,Ue),be===null?Ae=ut:be.sibling=ut,be=ut);return r&&De.forEach(function(ST){return o(H,ST)}),Rt&&Bo(H,Ue),Ae}function Ot(H,L,W,ae){if(typeof W=="object"&&W!==null&&W.type===C&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case U:e:{for(var Ae=W.key,be=L;be!==null;){if(be.key===Ae){if(Ae=W.type,Ae===C){if(be.tag===7){l(H,be.sibling),L=f(be,W.props.children),L.return=H,H=L;break e}}else if(be.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===Ke&&bm(Ae)===be.type){l(H,be.sibling),L=f(be,W.props),L.ref=Fa(H,be,W),L.return=H,H=L;break e}l(H,be);break}else o(H,be);be=be.sibling}W.type===C?(L=Yo(W.props.children,H.mode,ae,W.key),L.return=H,H=L):(ae=zu(W.type,W.key,W.props,null,H.mode,ae),ae.ref=Fa(H,L,W),ae.return=H,H=ae)}return w(H);case ce:e:{for(be=W.key;L!==null;){if(L.key===be)if(L.tag===4&&L.stateNode.containerInfo===W.containerInfo&&L.stateNode.implementation===W.implementation){l(H,L.sibling),L=f(L,W.children||[]),L.return=H,H=L;break e}else{l(H,L);break}else o(H,L);L=L.sibling}L=Nh(W,H.mode,ae),L.return=H,H=L}return w(H);case Ke:return be=W._init,Ot(H,L,be(W._payload),ae)}if(cn(W))return Se(H,L,W,ae);if(fe(W))return ke(H,L,W,ae);vu(H,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,L!==null&&L.tag===6?(l(H,L.sibling),L=f(L,W),L.return=H,H=L):(l(H,L),L=Dh(W,H.mode,ae),L.return=H,H=L),w(H)):l(H,L)}return Ot}var zs=Dm(!0),Nm=Dm(!1),yu=eo(null),_u=null,Bs=null,Bd=null;function $d(){Bd=Bs=_u=null}function Hd(r){var o=yu.current;xt(yu),r._currentValue=o}function Wd(r,o,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&o)!==o?(r.childLanes|=o,d!==null&&(d.childLanes|=o)):d!==null&&(d.childLanes&o)!==o&&(d.childLanes|=o),r===l)break;r=r.return}}function $s(r,o){_u=r,Bd=Bs=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&o&&(Fn=!0),r.firstContext=null)}function hr(r){var o=r._currentValue;if(Bd!==r)if(r={context:r,memoizedValue:o,next:null},Bs===null){if(_u===null)throw Error(t(308));Bs=r,_u.dependencies={lanes:0,firstContext:r}}else Bs=Bs.next=r;return o}var $o=null;function qd(r){$o===null?$o=[r]:$o.push(r)}function Om(r,o,l,d){var f=o.interleaved;return f===null?(l.next=l,qd(o)):(l.next=f.next,f.next=l),o.interleaved=l,xi(r,d)}function xi(r,o){r.lanes|=o;var l=r.alternate;for(l!==null&&(l.lanes|=o),l=r,r=r.return;r!==null;)r.childLanes|=o,l=r.alternate,l!==null&&(l.childLanes|=o),l=r,r=r.return;return l.tag===3?l.stateNode:null}var ro=!1;function Kd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lm(r,o){r=r.updateQueue,o.updateQueue===r&&(o.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Ii(r,o){return{eventTime:r,lane:o,tag:0,payload:null,callback:null,next:null}}function io(r,o,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,lt&2){var f=d.pending;return f===null?o.next=o:(o.next=f.next,f.next=o),d.pending=o,xi(r,l)}return f=d.interleaved,f===null?(o.next=o,qd(d)):(o.next=f.next,f.next=o),d.interleaved=o,xi(r,l)}function wu(r,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var d=o.lanes;d&=r.pendingLanes,l|=d,o.lanes=l,Ki(r,l)}}function Vm(r,o){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var f=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var w={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};g===null?f=g=w:g=g.next=w,l=l.next}while(l!==null);g===null?f=g=o:g=g.next=o}else f=g=o;l={baseState:d.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=o:r.next=o,l.lastBaseUpdate=o}function Eu(r,o,l,d){var f=r.updateQueue;ro=!1;var g=f.firstBaseUpdate,w=f.lastBaseUpdate,R=f.shared.pending;if(R!==null){f.shared.pending=null;var D=R,K=D.next;D.next=null,w===null?g=K:w.next=K,w=D;var ne=r.alternate;ne!==null&&(ne=ne.updateQueue,R=ne.lastBaseUpdate,R!==w&&(R===null?ne.firstBaseUpdate=K:R.next=K,ne.lastBaseUpdate=D))}if(g!==null){var ie=f.baseState;w=0,ne=K=D=null,R=g;do{var ee=R.lane,ve=R.eventTime;if((d&ee)===ee){ne!==null&&(ne=ne.next={eventTime:ve,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var Se=r,ke=R;switch(ee=o,ve=l,ke.tag){case 1:if(Se=ke.payload,typeof Se=="function"){ie=Se.call(ve,ie,ee);break e}ie=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=ke.payload,ee=typeof Se=="function"?Se.call(ve,ie,ee):Se,ee==null)break e;ie=pe({},ie,ee);break e;case 2:ro=!0}}R.callback!==null&&R.lane!==0&&(r.flags|=64,ee=f.effects,ee===null?f.effects=[R]:ee.push(R))}else ve={eventTime:ve,lane:ee,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ne===null?(K=ne=ve,D=ie):ne=ne.next=ve,w|=ee;if(R=R.next,R===null){if(R=f.shared.pending,R===null)break;ee=R,R=ee.next,ee.next=null,f.lastBaseUpdate=ee,f.shared.pending=null}}while(!0);if(ne===null&&(D=ie),f.baseState=D,f.firstBaseUpdate=K,f.lastBaseUpdate=ne,o=f.shared.interleaved,o!==null){f=o;do w|=f.lane,f=f.next;while(f!==o)}else g===null&&(f.shared.lanes=0);qo|=w,r.lanes=w,r.memoizedState=ie}}function Mm(r,o,l){if(r=o.effects,o.effects=null,r!==null)for(o=0;o<r.length;o++){var d=r[o],f=d.callback;if(f!==null){if(d.callback=null,d=l,typeof f!="function")throw Error(t(191,f));f.call(d)}}}var ja={},Jr=eo(ja),Ua=eo(ja),za=eo(ja);function Ho(r){if(r===ja)throw Error(t(174));return r}function Gd(r,o){switch(_t(za,o),_t(Ua,r),_t(Jr,ja),r=o.nodeType,r){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:qe(null,"");break;default:r=r===8?o.parentNode:o,o=r.namespaceURI||null,r=r.tagName,o=qe(o,r)}xt(Jr),_t(Jr,o)}function Hs(){xt(Jr),xt(Ua),xt(za)}function Fm(r){Ho(za.current);var o=Ho(Jr.current),l=qe(o,r.type);o!==l&&(_t(Ua,r),_t(Jr,l))}function Qd(r){Ua.current===r&&(xt(Jr),xt(Ua))}var At=eo(0);function Tu(r){for(var o=r;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Yd=[];function Xd(){for(var r=0;r<Yd.length;r++)Yd[r]._workInProgressVersionPrimary=null;Yd.length=0}var xu=he.ReactCurrentDispatcher,Jd=he.ReactCurrentBatchConfig,Wo=0,Ct=null,Bt=null,Gt=null,Iu=!1,Ba=!1,$a=0,K0=0;function pn(){throw Error(t(321))}function Zd(r,o){if(o===null)return!1;for(var l=0;l<o.length&&l<r.length;l++)if(!Dr(r[l],o[l]))return!1;return!0}function eh(r,o,l,d,f,g){if(Wo=g,Ct=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,xu.current=r===null||r.memoizedState===null?X0:J0,r=l(d,f),Ba){g=0;do{if(Ba=!1,$a=0,25<=g)throw Error(t(301));g+=1,Gt=Bt=null,o.updateQueue=null,xu.current=Z0,r=l(d,f)}while(Ba)}if(xu.current=ku,o=Bt!==null&&Bt.next!==null,Wo=0,Gt=Bt=Ct=null,Iu=!1,o)throw Error(t(300));return r}function th(){var r=$a!==0;return $a=0,r}function Zr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?Ct.memoizedState=Gt=r:Gt=Gt.next=r,Gt}function fr(){if(Bt===null){var r=Ct.alternate;r=r!==null?r.memoizedState:null}else r=Bt.next;var o=Gt===null?Ct.memoizedState:Gt.next;if(o!==null)Gt=o,Bt=r;else{if(r===null)throw Error(t(310));Bt=r,r={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},Gt===null?Ct.memoizedState=Gt=r:Gt=Gt.next=r}return Gt}function Ha(r,o){return typeof o=="function"?o(r):o}function nh(r){var o=fr(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=Bt,f=d.baseQueue,g=l.pending;if(g!==null){if(f!==null){var w=f.next;f.next=g.next,g.next=w}d.baseQueue=f=g,l.pending=null}if(f!==null){g=f.next,d=d.baseState;var R=w=null,D=null,K=g;do{var ne=K.lane;if((Wo&ne)===ne)D!==null&&(D=D.next={lane:0,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null}),d=K.hasEagerState?K.eagerState:r(d,K.action);else{var ie={lane:ne,action:K.action,hasEagerState:K.hasEagerState,eagerState:K.eagerState,next:null};D===null?(R=D=ie,w=d):D=D.next=ie,Ct.lanes|=ne,qo|=ne}K=K.next}while(K!==null&&K!==g);D===null?w=d:D.next=R,Dr(d,o.memoizedState)||(Fn=!0),o.memoizedState=d,o.baseState=w,o.baseQueue=D,l.lastRenderedState=d}if(r=l.interleaved,r!==null){f=r;do g=f.lane,Ct.lanes|=g,qo|=g,f=f.next;while(f!==r)}else f===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function rh(r){var o=fr(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=r;var d=l.dispatch,f=l.pending,g=o.memoizedState;if(f!==null){l.pending=null;var w=f=f.next;do g=r(g,w.action),w=w.next;while(w!==f);Dr(g,o.memoizedState)||(Fn=!0),o.memoizedState=g,o.baseQueue===null&&(o.baseState=g),l.lastRenderedState=g}return[g,d]}function jm(){}function Um(r,o){var l=Ct,d=fr(),f=o(),g=!Dr(d.memoizedState,f);if(g&&(d.memoizedState=f,Fn=!0),d=d.queue,ih($m.bind(null,l,d,r),[r]),d.getSnapshot!==o||g||Gt!==null&&Gt.memoizedState.tag&1){if(l.flags|=2048,Wa(9,Bm.bind(null,l,d,f,o),void 0,null),Qt===null)throw Error(t(349));Wo&30||zm(l,o,f)}return f}function zm(r,o,l){r.flags|=16384,r={getSnapshot:o,value:l},o=Ct.updateQueue,o===null?(o={lastEffect:null,stores:null},Ct.updateQueue=o,o.stores=[r]):(l=o.stores,l===null?o.stores=[r]:l.push(r))}function Bm(r,o,l,d){o.value=l,o.getSnapshot=d,Hm(o)&&Wm(r)}function $m(r,o,l){return l(function(){Hm(o)&&Wm(r)})}function Hm(r){var o=r.getSnapshot;r=r.value;try{var l=o();return!Dr(r,l)}catch{return!0}}function Wm(r){var o=xi(r,1);o!==null&&Mr(o,r,1,-1)}function qm(r){var o=Zr();return typeof r=="function"&&(r=r()),o.memoizedState=o.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:r},o.queue=r,r=r.dispatch=Y0.bind(null,Ct,r),[o.memoizedState,r]}function Wa(r,o,l,d){return r={tag:r,create:o,destroy:l,deps:d,next:null},o=Ct.updateQueue,o===null?(o={lastEffect:null,stores:null},Ct.updateQueue=o,o.lastEffect=r.next=r):(l=o.lastEffect,l===null?o.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,o.lastEffect=r)),r}function Km(){return fr().memoizedState}function Su(r,o,l,d){var f=Zr();Ct.flags|=r,f.memoizedState=Wa(1|o,l,void 0,d===void 0?null:d)}function Ru(r,o,l,d){var f=fr();d=d===void 0?null:d;var g=void 0;if(Bt!==null){var w=Bt.memoizedState;if(g=w.destroy,d!==null&&Zd(d,w.deps)){f.memoizedState=Wa(o,l,g,d);return}}Ct.flags|=r,f.memoizedState=Wa(1|o,l,g,d)}function Gm(r,o){return Su(8390656,8,r,o)}function ih(r,o){return Ru(2048,8,r,o)}function Qm(r,o){return Ru(4,2,r,o)}function Ym(r,o){return Ru(4,4,r,o)}function Xm(r,o){if(typeof o=="function")return r=r(),o(r),function(){o(null)};if(o!=null)return r=r(),o.current=r,function(){o.current=null}}function Jm(r,o,l){return l=l!=null?l.concat([r]):null,Ru(4,4,Xm.bind(null,o,r),l)}function oh(){}function Zm(r,o){var l=fr();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&Zd(o,d[1])?d[0]:(l.memoizedState=[r,o],r)}function eg(r,o){var l=fr();o=o===void 0?null:o;var d=l.memoizedState;return d!==null&&o!==null&&Zd(o,d[1])?d[0]:(r=r(),l.memoizedState=[r,o],r)}function tg(r,o,l){return Wo&21?(Dr(l,o)||(l=Oo(),Ct.lanes|=l,qo|=l,r.baseState=!0),o):(r.baseState&&(r.baseState=!1,Fn=!0),r.memoizedState=l)}function G0(r,o){var l=tt;tt=l!==0&&4>l?l:4,r(!0);var d=Jd.transition;Jd.transition={};try{r(!1),o()}finally{tt=l,Jd.transition=d}}function ng(){return fr().memoizedState}function Q0(r,o,l){var d=lo(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},rg(r))ig(o,l);else if(l=Om(r,o,l,d),l!==null){var f=kn();Mr(l,r,d,f),og(l,o,d)}}function Y0(r,o,l){var d=lo(r),f={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(rg(r))ig(o,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=o.lastRenderedReducer,g!==null))try{var w=o.lastRenderedState,R=g(w,l);if(f.hasEagerState=!0,f.eagerState=R,Dr(R,w)){var D=o.interleaved;D===null?(f.next=f,qd(o)):(f.next=D.next,D.next=f),o.interleaved=f;return}}catch{}finally{}l=Om(r,o,f,d),l!==null&&(f=kn(),Mr(l,r,d,f),og(l,o,d))}}function rg(r){var o=r.alternate;return r===Ct||o!==null&&o===Ct}function ig(r,o){Ba=Iu=!0;var l=r.pending;l===null?o.next=o:(o.next=l.next,l.next=o),r.pending=o}function og(r,o,l){if(l&4194240){var d=o.lanes;d&=r.pendingLanes,l|=d,o.lanes=l,Ki(r,l)}}var ku={readContext:hr,useCallback:pn,useContext:pn,useEffect:pn,useImperativeHandle:pn,useInsertionEffect:pn,useLayoutEffect:pn,useMemo:pn,useReducer:pn,useRef:pn,useState:pn,useDebugValue:pn,useDeferredValue:pn,useTransition:pn,useMutableSource:pn,useSyncExternalStore:pn,useId:pn,unstable_isNewReconciler:!1},X0={readContext:hr,useCallback:function(r,o){return Zr().memoizedState=[r,o===void 0?null:o],r},useContext:hr,useEffect:Gm,useImperativeHandle:function(r,o,l){return l=l!=null?l.concat([r]):null,Su(4194308,4,Xm.bind(null,o,r),l)},useLayoutEffect:function(r,o){return Su(4194308,4,r,o)},useInsertionEffect:function(r,o){return Su(4,2,r,o)},useMemo:function(r,o){var l=Zr();return o=o===void 0?null:o,r=r(),l.memoizedState=[r,o],r},useReducer:function(r,o,l){var d=Zr();return o=l!==void 0?l(o):o,d.memoizedState=d.baseState=o,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:o},d.queue=r,r=r.dispatch=Q0.bind(null,Ct,r),[d.memoizedState,r]},useRef:function(r){var o=Zr();return r={current:r},o.memoizedState=r},useState:qm,useDebugValue:oh,useDeferredValue:function(r){return Zr().memoizedState=r},useTransition:function(){var r=qm(!1),o=r[0];return r=G0.bind(null,r[1]),Zr().memoizedState=r,[o,r]},useMutableSource:function(){},useSyncExternalStore:function(r,o,l){var d=Ct,f=Zr();if(Rt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),Qt===null)throw Error(t(349));Wo&30||zm(d,o,l)}f.memoizedState=l;var g={value:l,getSnapshot:o};return f.queue=g,Gm($m.bind(null,d,g,r),[r]),d.flags|=2048,Wa(9,Bm.bind(null,d,g,l,o),void 0,null),l},useId:function(){var r=Zr(),o=Qt.identifierPrefix;if(Rt){var l=Ti,d=Ei;l=(d&~(1<<32-In(d)-1)).toString(32)+l,o=":"+o+"R"+l,l=$a++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=K0++,o=":"+o+"r"+l.toString(32)+":";return r.memoizedState=o},unstable_isNewReconciler:!1},J0={readContext:hr,useCallback:Zm,useContext:hr,useEffect:ih,useImperativeHandle:Jm,useInsertionEffect:Qm,useLayoutEffect:Ym,useMemo:eg,useReducer:nh,useRef:Km,useState:function(){return nh(Ha)},useDebugValue:oh,useDeferredValue:function(r){var o=fr();return tg(o,Bt.memoizedState,r)},useTransition:function(){var r=nh(Ha)[0],o=fr().memoizedState;return[r,o]},useMutableSource:jm,useSyncExternalStore:Um,useId:ng,unstable_isNewReconciler:!1},Z0={readContext:hr,useCallback:Zm,useContext:hr,useEffect:ih,useImperativeHandle:Jm,useInsertionEffect:Qm,useLayoutEffect:Ym,useMemo:eg,useReducer:rh,useRef:Km,useState:function(){return rh(Ha)},useDebugValue:oh,useDeferredValue:function(r){var o=fr();return Bt===null?o.memoizedState=r:tg(o,Bt.memoizedState,r)},useTransition:function(){var r=rh(Ha)[0],o=fr().memoizedState;return[r,o]},useMutableSource:jm,useSyncExternalStore:Um,useId:ng,unstable_isNewReconciler:!1};function Or(r,o){if(r&&r.defaultProps){o=pe({},o),r=r.defaultProps;for(var l in r)o[l]===void 0&&(o[l]=r[l]);return o}return o}function sh(r,o,l,d){o=r.memoizedState,l=l(d,o),l=l==null?o:pe({},o,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Au={isMounted:function(r){return(r=r._reactInternals)?et(r)===r:!1},enqueueSetState:function(r,o,l){r=r._reactInternals;var d=kn(),f=lo(r),g=Ii(d,f);g.payload=o,l!=null&&(g.callback=l),o=io(r,g,f),o!==null&&(Mr(o,r,f,d),wu(o,r,f))},enqueueReplaceState:function(r,o,l){r=r._reactInternals;var d=kn(),f=lo(r),g=Ii(d,f);g.tag=1,g.payload=o,l!=null&&(g.callback=l),o=io(r,g,f),o!==null&&(Mr(o,r,f,d),wu(o,r,f))},enqueueForceUpdate:function(r,o){r=r._reactInternals;var l=kn(),d=lo(r),f=Ii(l,d);f.tag=2,o!=null&&(f.callback=o),o=io(r,f,d),o!==null&&(Mr(o,r,d,l),wu(o,r,d))}};function sg(r,o,l,d,f,g,w){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,g,w):o.prototype&&o.prototype.isPureReactComponent?!ba(l,d)||!ba(f,g):!0}function ag(r,o,l){var d=!1,f=to,g=o.contextType;return typeof g=="object"&&g!==null?g=hr(g):(f=Mn(o)?Uo:fn.current,d=o.contextTypes,g=(d=d!=null)?Ms(r,f):to),o=new o(l,g),r.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Au,r.stateNode=o,o._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),o}function lg(r,o,l,d){r=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,d),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,d),o.state!==r&&Au.enqueueReplaceState(o,o.state,null)}function ah(r,o,l,d){var f=r.stateNode;f.props=l,f.state=r.memoizedState,f.refs={},Kd(r);var g=o.contextType;typeof g=="object"&&g!==null?f.context=hr(g):(g=Mn(o)?Uo:fn.current,f.context=Ms(r,g)),f.state=r.memoizedState,g=o.getDerivedStateFromProps,typeof g=="function"&&(sh(r,o,g,l),f.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(o=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),o!==f.state&&Au.enqueueReplaceState(f,f.state,null),Eu(r,l,f,d),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function Ws(r,o){try{var l="",d=o;do l+=Ve(d),d=d.return;while(d);var f=l}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:o,stack:f,digest:null}}function lh(r,o,l){return{value:r,source:null,stack:l??null,digest:o??null}}function uh(r,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var eT=typeof WeakMap=="function"?WeakMap:Map;function ug(r,o,l){l=Ii(-1,l),l.tag=3,l.payload={element:null};var d=o.value;return l.callback=function(){Lu||(Lu=!0,Ih=d),uh(r,o)},l}function cg(r,o,l){l=Ii(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var f=o.value;l.payload=function(){return d(f)},l.callback=function(){uh(r,o)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(l.callback=function(){uh(r,o),typeof d!="function"&&(so===null?so=new Set([this]):so.add(this));var w=o.stack;this.componentDidCatch(o.value,{componentStack:w!==null?w:""})}),l}function dg(r,o,l){var d=r.pingCache;if(d===null){d=r.pingCache=new eT;var f=new Set;d.set(o,f)}else f=d.get(o),f===void 0&&(f=new Set,d.set(o,f));f.has(l)||(f.add(l),r=pT.bind(null,r,o,l),o.then(r,r))}function hg(r){do{var o;if((o=r.tag===13)&&(o=r.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return r;r=r.return}while(r!==null);return null}function fg(r,o,l,d,f){return r.mode&1?(r.flags|=65536,r.lanes=f,r):(r===o?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=Ii(-1,1),o.tag=2,io(l,o,1))),l.lanes|=1),r)}var tT=he.ReactCurrentOwner,Fn=!1;function Rn(r,o,l,d){o.child=r===null?Nm(o,null,l,d):zs(o,r.child,l,d)}function pg(r,o,l,d,f){l=l.render;var g=o.ref;return $s(o,f),d=eh(r,o,l,d,g,f),l=th(),r!==null&&!Fn?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~f,Si(r,o,f)):(Rt&&l&&Md(o),o.flags|=1,Rn(r,o,d,f),o.child)}function mg(r,o,l,d,f){if(r===null){var g=l.type;return typeof g=="function"&&!bh(g)&&g.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=g,gg(r,o,g,d,f)):(r=zu(l.type,null,d,o,o.mode,f),r.ref=o.ref,r.return=o,o.child=r)}if(g=r.child,!(r.lanes&f)){var w=g.memoizedProps;if(l=l.compare,l=l!==null?l:ba,l(w,d)&&r.ref===o.ref)return Si(r,o,f)}return o.flags|=1,r=co(g,d),r.ref=o.ref,r.return=o,o.child=r}function gg(r,o,l,d,f){if(r!==null){var g=r.memoizedProps;if(ba(g,d)&&r.ref===o.ref)if(Fn=!1,o.pendingProps=d=g,(r.lanes&f)!==0)r.flags&131072&&(Fn=!0);else return o.lanes=r.lanes,Si(r,o,f)}return ch(r,o,l,d,f)}function vg(r,o,l){var d=o.pendingProps,f=d.children,g=r!==null?r.memoizedState:null;if(d.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},_t(Ks,Jn),Jn|=l;else{if(!(l&1073741824))return r=g!==null?g.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:r,cachePool:null,transitions:null},o.updateQueue=null,_t(Ks,Jn),Jn|=r,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=g!==null?g.baseLanes:l,_t(Ks,Jn),Jn|=d}else g!==null?(d=g.baseLanes|l,o.memoizedState=null):d=l,_t(Ks,Jn),Jn|=d;return Rn(r,o,f,l),o.child}function yg(r,o){var l=o.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function ch(r,o,l,d,f){var g=Mn(l)?Uo:fn.current;return g=Ms(o,g),$s(o,f),l=eh(r,o,l,d,g,f),d=th(),r!==null&&!Fn?(o.updateQueue=r.updateQueue,o.flags&=-2053,r.lanes&=~f,Si(r,o,f)):(Rt&&d&&Md(o),o.flags|=1,Rn(r,o,l,f),o.child)}function _g(r,o,l,d,f){if(Mn(l)){var g=!0;hu(o)}else g=!1;if($s(o,f),o.stateNode===null)Pu(r,o),ag(o,l,d),ah(o,l,d,f),d=!0;else if(r===null){var w=o.stateNode,R=o.memoizedProps;w.props=R;var D=w.context,K=l.contextType;typeof K=="object"&&K!==null?K=hr(K):(K=Mn(l)?Uo:fn.current,K=Ms(o,K));var ne=l.getDerivedStateFromProps,ie=typeof ne=="function"||typeof w.getSnapshotBeforeUpdate=="function";ie||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(R!==d||D!==K)&&lg(o,w,d,K),ro=!1;var ee=o.memoizedState;w.state=ee,Eu(o,d,w,f),D=o.memoizedState,R!==d||ee!==D||Vn.current||ro?(typeof ne=="function"&&(sh(o,l,ne,d),D=o.memoizedState),(R=ro||sg(o,l,R,d,ee,D,K))?(ie||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=d,o.memoizedState=D),w.props=d,w.state=D,w.context=K,d=R):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),d=!1)}else{w=o.stateNode,Lm(r,o),R=o.memoizedProps,K=o.type===o.elementType?R:Or(o.type,R),w.props=K,ie=o.pendingProps,ee=w.context,D=l.contextType,typeof D=="object"&&D!==null?D=hr(D):(D=Mn(l)?Uo:fn.current,D=Ms(o,D));var ve=l.getDerivedStateFromProps;(ne=typeof ve=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(R!==ie||ee!==D)&&lg(o,w,d,D),ro=!1,ee=o.memoizedState,w.state=ee,Eu(o,d,w,f);var Se=o.memoizedState;R!==ie||ee!==Se||Vn.current||ro?(typeof ve=="function"&&(sh(o,l,ve,d),Se=o.memoizedState),(K=ro||sg(o,l,K,d,ee,Se,D)||!1)?(ne||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(d,Se,D),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(d,Se,D)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||R===r.memoizedProps&&ee===r.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&ee===r.memoizedState||(o.flags|=1024),o.memoizedProps=d,o.memoizedState=Se),w.props=d,w.state=Se,w.context=D,d=K):(typeof w.componentDidUpdate!="function"||R===r.memoizedProps&&ee===r.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&ee===r.memoizedState||(o.flags|=1024),d=!1)}return dh(r,o,l,d,g,f)}function dh(r,o,l,d,f,g){yg(r,o);var w=(o.flags&128)!==0;if(!d&&!w)return f&&Im(o,l,!1),Si(r,o,g);d=o.stateNode,tT.current=o;var R=w&&typeof l.getDerivedStateFromError!="function"?null:d.render();return o.flags|=1,r!==null&&w?(o.child=zs(o,r.child,null,g),o.child=zs(o,null,R,g)):Rn(r,o,R,g),o.memoizedState=d.state,f&&Im(o,l,!0),o.child}function wg(r){var o=r.stateNode;o.pendingContext?Tm(r,o.pendingContext,o.pendingContext!==o.context):o.context&&Tm(r,o.context,!1),Gd(r,o.containerInfo)}function Eg(r,o,l,d,f){return Us(),zd(f),o.flags|=256,Rn(r,o,l,d),o.child}var hh={dehydrated:null,treeContext:null,retryLane:0};function fh(r){return{baseLanes:r,cachePool:null,transitions:null}}function Tg(r,o,l){var d=o.pendingProps,f=At.current,g=!1,w=(o.flags&128)!==0,R;if((R=w)||(R=r!==null&&r.memoizedState===null?!1:(f&2)!==0),R?(g=!0,o.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),_t(At,f&1),r===null)return Ud(o),r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(o.mode&1?r.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(w=d.children,r=d.fallback,g?(d=o.mode,g=o.child,w={mode:"hidden",children:w},!(d&1)&&g!==null?(g.childLanes=0,g.pendingProps=w):g=Bu(w,d,0,null),r=Yo(r,d,l,null),g.return=o,r.return=o,g.sibling=r,o.child=g,o.child.memoizedState=fh(l),o.memoizedState=hh,r):ph(o,w));if(f=r.memoizedState,f!==null&&(R=f.dehydrated,R!==null))return nT(r,o,w,d,R,f,l);if(g){g=d.fallback,w=o.mode,f=r.child,R=f.sibling;var D={mode:"hidden",children:d.children};return!(w&1)&&o.child!==f?(d=o.child,d.childLanes=0,d.pendingProps=D,o.deletions=null):(d=co(f,D),d.subtreeFlags=f.subtreeFlags&14680064),R!==null?g=co(R,g):(g=Yo(g,w,l,null),g.flags|=2),g.return=o,d.return=o,d.sibling=g,o.child=d,d=g,g=o.child,w=r.child.memoizedState,w=w===null?fh(l):{baseLanes:w.baseLanes|l,cachePool:null,transitions:w.transitions},g.memoizedState=w,g.childLanes=r.childLanes&~l,o.memoizedState=hh,d}return g=r.child,r=g.sibling,d=co(g,{mode:"visible",children:d.children}),!(o.mode&1)&&(d.lanes=l),d.return=o,d.sibling=null,r!==null&&(l=o.deletions,l===null?(o.deletions=[r],o.flags|=16):l.push(r)),o.child=d,o.memoizedState=null,d}function ph(r,o){return o=Bu({mode:"visible",children:o},r.mode,0,null),o.return=r,r.child=o}function Cu(r,o,l,d){return d!==null&&zd(d),zs(o,r.child,null,l),r=ph(o,o.pendingProps.children),r.flags|=2,o.memoizedState=null,r}function nT(r,o,l,d,f,g,w){if(l)return o.flags&256?(o.flags&=-257,d=lh(Error(t(422))),Cu(r,o,w,d)):o.memoizedState!==null?(o.child=r.child,o.flags|=128,null):(g=d.fallback,f=o.mode,d=Bu({mode:"visible",children:d.children},f,0,null),g=Yo(g,f,w,null),g.flags|=2,d.return=o,g.return=o,d.sibling=g,o.child=d,o.mode&1&&zs(o,r.child,null,w),o.child.memoizedState=fh(w),o.memoizedState=hh,g);if(!(o.mode&1))return Cu(r,o,w,null);if(f.data==="$!"){if(d=f.nextSibling&&f.nextSibling.dataset,d)var R=d.dgst;return d=R,g=Error(t(419)),d=lh(g,d,void 0),Cu(r,o,w,d)}if(R=(w&r.childLanes)!==0,Fn||R){if(d=Qt,d!==null){switch(w&-w){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(d.suspendedLanes|w)?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,xi(r,f),Mr(d,r,f,-1))}return Ph(),d=lh(Error(t(421))),Cu(r,o,w,d)}return f.data==="$?"?(o.flags|=128,o.child=r.child,o=mT.bind(null,r),f._reactRetry=o,null):(r=g.treeContext,Xn=Zi(f.nextSibling),Yn=o,Rt=!0,Nr=null,r!==null&&(cr[dr++]=Ei,cr[dr++]=Ti,cr[dr++]=zo,Ei=r.id,Ti=r.overflow,zo=o),o=ph(o,d.children),o.flags|=4096,o)}function xg(r,o,l){r.lanes|=o;var d=r.alternate;d!==null&&(d.lanes|=o),Wd(r.return,o,l)}function mh(r,o,l,d,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:f}:(g.isBackwards=o,g.rendering=null,g.renderingStartTime=0,g.last=d,g.tail=l,g.tailMode=f)}function Ig(r,o,l){var d=o.pendingProps,f=d.revealOrder,g=d.tail;if(Rn(r,o,d.children,l),d=At.current,d&2)d=d&1|2,o.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=o.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&xg(r,l,o);else if(r.tag===19)xg(r,l,o);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===o)break e;for(;r.sibling===null;){if(r.return===null||r.return===o)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(_t(At,d),!(o.mode&1))o.memoizedState=null;else switch(f){case"forwards":for(l=o.child,f=null;l!==null;)r=l.alternate,r!==null&&Tu(r)===null&&(f=l),l=l.sibling;l=f,l===null?(f=o.child,o.child=null):(f=l.sibling,l.sibling=null),mh(o,!1,f,l,g);break;case"backwards":for(l=null,f=o.child,o.child=null;f!==null;){if(r=f.alternate,r!==null&&Tu(r)===null){o.child=f;break}r=f.sibling,f.sibling=l,l=f,f=r}mh(o,!0,l,null,g);break;case"together":mh(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Pu(r,o){!(o.mode&1)&&r!==null&&(r.alternate=null,o.alternate=null,o.flags|=2)}function Si(r,o,l){if(r!==null&&(o.dependencies=r.dependencies),qo|=o.lanes,!(l&o.childLanes))return null;if(r!==null&&o.child!==r.child)throw Error(t(153));if(o.child!==null){for(r=o.child,l=co(r,r.pendingProps),o.child=l,l.return=o;r.sibling!==null;)r=r.sibling,l=l.sibling=co(r,r.pendingProps),l.return=o;l.sibling=null}return o.child}function rT(r,o,l){switch(o.tag){case 3:wg(o),Us();break;case 5:Fm(o);break;case 1:Mn(o.type)&&hu(o);break;case 4:Gd(o,o.stateNode.containerInfo);break;case 10:var d=o.type._context,f=o.memoizedProps.value;_t(yu,d._currentValue),d._currentValue=f;break;case 13:if(d=o.memoizedState,d!==null)return d.dehydrated!==null?(_t(At,At.current&1),o.flags|=128,null):l&o.child.childLanes?Tg(r,o,l):(_t(At,At.current&1),r=Si(r,o,l),r!==null?r.sibling:null);_t(At,At.current&1);break;case 19:if(d=(l&o.childLanes)!==0,r.flags&128){if(d)return Ig(r,o,l);o.flags|=128}if(f=o.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),_t(At,At.current),d)break;return null;case 22:case 23:return o.lanes=0,vg(r,o,l)}return Si(r,o,l)}var Sg,gh,Rg,kg;Sg=function(r,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},gh=function(){},Rg=function(r,o,l,d){var f=r.memoizedProps;if(f!==d){r=o.stateNode,Ho(Jr.current);var g=null;switch(l){case"input":f=rr(r,f),d=rr(r,d),g=[];break;case"select":f=pe({},f,{value:void 0}),d=pe({},d,{value:void 0}),g=[];break;case"textarea":f=Hn(r,f),d=Hn(r,d),g=[];break;default:typeof f.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=uu)}bn(l,d);var w;l=null;for(K in f)if(!d.hasOwnProperty(K)&&f.hasOwnProperty(K)&&f[K]!=null)if(K==="style"){var R=f[K];for(w in R)R.hasOwnProperty(w)&&(l||(l={}),l[w]="")}else K!=="dangerouslySetInnerHTML"&&K!=="children"&&K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&K!=="autoFocus"&&(s.hasOwnProperty(K)?g||(g=[]):(g=g||[]).push(K,null));for(K in d){var D=d[K];if(R=f!=null?f[K]:void 0,d.hasOwnProperty(K)&&D!==R&&(D!=null||R!=null))if(K==="style")if(R){for(w in R)!R.hasOwnProperty(w)||D&&D.hasOwnProperty(w)||(l||(l={}),l[w]="");for(w in D)D.hasOwnProperty(w)&&R[w]!==D[w]&&(l||(l={}),l[w]=D[w])}else l||(g||(g=[]),g.push(K,l)),l=D;else K==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,R=R?R.__html:void 0,D!=null&&R!==D&&(g=g||[]).push(K,D)):K==="children"?typeof D!="string"&&typeof D!="number"||(g=g||[]).push(K,""+D):K!=="suppressContentEditableWarning"&&K!=="suppressHydrationWarning"&&(s.hasOwnProperty(K)?(D!=null&&K==="onScroll"&&Tt("scroll",r),g||R===D||(g=[])):(g=g||[]).push(K,D))}l&&(g=g||[]).push("style",l);var K=g;(o.updateQueue=K)&&(o.flags|=4)}},kg=function(r,o,l,d){l!==d&&(o.flags|=4)};function qa(r,o){if(!Rt)switch(r.tailMode){case"hidden":o=r.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?o||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function mn(r){var o=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(o)for(var f=r.child;f!==null;)l|=f.lanes|f.childLanes,d|=f.subtreeFlags&14680064,d|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)l|=f.lanes|f.childLanes,d|=f.subtreeFlags,d|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=d,r.childLanes=l,o}function iT(r,o,l){var d=o.pendingProps;switch(Fd(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mn(o),null;case 1:return Mn(o.type)&&du(),mn(o),null;case 3:return d=o.stateNode,Hs(),xt(Vn),xt(fn),Xd(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(gu(o)?o.flags|=4:r===null||r.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,Nr!==null&&(kh(Nr),Nr=null))),gh(r,o),mn(o),null;case 5:Qd(o);var f=Ho(za.current);if(l=o.type,r!==null&&o.stateNode!=null)Rg(r,o,l,d,f),r.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!d){if(o.stateNode===null)throw Error(t(166));return mn(o),null}if(r=Ho(Jr.current),gu(o)){d=o.stateNode,l=o.type;var g=o.memoizedProps;switch(d[Xr]=o,d[Va]=g,r=(o.mode&1)!==0,l){case"dialog":Tt("cancel",d),Tt("close",d);break;case"iframe":case"object":case"embed":Tt("load",d);break;case"video":case"audio":for(f=0;f<Na.length;f++)Tt(Na[f],d);break;case"source":Tt("error",d);break;case"img":case"image":case"link":Tt("error",d),Tt("load",d);break;case"details":Tt("toggle",d);break;case"input":_r(d,g),Tt("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!g.multiple},Tt("invalid",d);break;case"textarea":Er(d,g),Tt("invalid",d)}bn(l,g),f=null;for(var w in g)if(g.hasOwnProperty(w)){var R=g[w];w==="children"?typeof R=="string"?d.textContent!==R&&(g.suppressHydrationWarning!==!0&&lu(d.textContent,R,r),f=["children",R]):typeof R=="number"&&d.textContent!==""+R&&(g.suppressHydrationWarning!==!0&&lu(d.textContent,R,r),f=["children",""+R]):s.hasOwnProperty(w)&&R!=null&&w==="onScroll"&&Tt("scroll",d)}switch(l){case"input":Zt(d),$r(d,g,!0);break;case"textarea":Zt(d),Re(d);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(d.onclick=uu)}d=f,o.updateQueue=d,d!==null&&(o.flags|=4)}else{w=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Le(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=w.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=w.createElement(l,{is:d.is}):(r=w.createElement(l),l==="select"&&(w=r,d.multiple?w.multiple=!0:d.size&&(w.size=d.size))):r=w.createElementNS(r,l),r[Xr]=o,r[Va]=d,Sg(r,o,!1,!1),o.stateNode=r;e:{switch(w=ar(l,d),l){case"dialog":Tt("cancel",r),Tt("close",r),f=d;break;case"iframe":case"object":case"embed":Tt("load",r),f=d;break;case"video":case"audio":for(f=0;f<Na.length;f++)Tt(Na[f],r);f=d;break;case"source":Tt("error",r),f=d;break;case"img":case"image":case"link":Tt("error",r),Tt("load",r),f=d;break;case"details":Tt("toggle",r),f=d;break;case"input":_r(r,d),f=rr(r,d),Tt("invalid",r);break;case"option":f=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},f=pe({},d,{value:void 0}),Tt("invalid",r);break;case"textarea":Er(r,d),f=Hn(r,d),Tt("invalid",r);break;default:f=d}bn(l,f),R=f;for(g in R)if(R.hasOwnProperty(g)){var D=R[g];g==="style"?or(r,D):g==="dangerouslySetInnerHTML"?(D=D?D.__html:void 0,D!=null&&Wn(r,D)):g==="children"?typeof D=="string"?(l!=="textarea"||D!=="")&&It(r,D):typeof D=="number"&&It(r,""+D):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(s.hasOwnProperty(g)?D!=null&&g==="onScroll"&&Tt("scroll",r):D!=null&&Z(r,g,D,w))}switch(l){case"input":Zt(r),$r(r,d,!1);break;case"textarea":Zt(r),Re(r);break;case"option":d.value!=null&&r.setAttribute("value",""+Xe(d.value));break;case"select":r.multiple=!!d.multiple,g=d.value,g!=null?Ut(r,!!d.multiple,g,!1):d.defaultValue!=null&&Ut(r,!!d.multiple,d.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=uu)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return mn(o),null;case 6:if(r&&o.stateNode!=null)kg(r,o,r.memoizedProps,d);else{if(typeof d!="string"&&o.stateNode===null)throw Error(t(166));if(l=Ho(za.current),Ho(Jr.current),gu(o)){if(d=o.stateNode,l=o.memoizedProps,d[Xr]=o,(g=d.nodeValue!==l)&&(r=Yn,r!==null))switch(r.tag){case 3:lu(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&lu(d.nodeValue,l,(r.mode&1)!==0)}g&&(o.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[Xr]=o,o.stateNode=d}return mn(o),null;case 13:if(xt(At),d=o.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Rt&&Xn!==null&&o.mode&1&&!(o.flags&128))Pm(),Us(),o.flags|=98560,g=!1;else if(g=gu(o),d!==null&&d.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[Xr]=o}else Us(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;mn(o),g=!1}else Nr!==null&&(kh(Nr),Nr=null),g=!0;if(!g)return o.flags&65536?o:null}return o.flags&128?(o.lanes=l,o):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(o.child.flags|=8192,o.mode&1&&(r===null||At.current&1?$t===0&&($t=3):Ph())),o.updateQueue!==null&&(o.flags|=4),mn(o),null);case 4:return Hs(),gh(r,o),r===null&&Oa(o.stateNode.containerInfo),mn(o),null;case 10:return Hd(o.type._context),mn(o),null;case 17:return Mn(o.type)&&du(),mn(o),null;case 19:if(xt(At),g=o.memoizedState,g===null)return mn(o),null;if(d=(o.flags&128)!==0,w=g.rendering,w===null)if(d)qa(g,!1);else{if($t!==0||r!==null&&r.flags&128)for(r=o.child;r!==null;){if(w=Tu(r),w!==null){for(o.flags|=128,qa(g,!1),d=w.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),o.subtreeFlags=0,d=l,l=o.child;l!==null;)g=l,r=d,g.flags&=14680066,w=g.alternate,w===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=w.childLanes,g.lanes=w.lanes,g.child=w.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=w.memoizedProps,g.memoizedState=w.memoizedState,g.updateQueue=w.updateQueue,g.type=w.type,r=w.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return _t(At,At.current&1|2),o.child}r=r.sibling}g.tail!==null&&ht()>Gs&&(o.flags|=128,d=!0,qa(g,!1),o.lanes=4194304)}else{if(!d)if(r=Tu(w),r!==null){if(o.flags|=128,d=!0,l=r.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),qa(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!Rt)return mn(o),null}else 2*ht()-g.renderingStartTime>Gs&&l!==1073741824&&(o.flags|=128,d=!0,qa(g,!1),o.lanes=4194304);g.isBackwards?(w.sibling=o.child,o.child=w):(l=g.last,l!==null?l.sibling=w:o.child=w,g.last=w)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=ht(),o.sibling=null,l=At.current,_t(At,d?l&1|2:l&1),o):(mn(o),null);case 22:case 23:return Ch(),d=o.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(o.flags|=8192),d&&o.mode&1?Jn&1073741824&&(mn(o),o.subtreeFlags&6&&(o.flags|=8192)):mn(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function oT(r,o){switch(Fd(o),o.tag){case 1:return Mn(o.type)&&du(),r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 3:return Hs(),xt(Vn),xt(fn),Xd(),r=o.flags,r&65536&&!(r&128)?(o.flags=r&-65537|128,o):null;case 5:return Qd(o),null;case 13:if(xt(At),r=o.memoizedState,r!==null&&r.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Us()}return r=o.flags,r&65536?(o.flags=r&-65537|128,o):null;case 19:return xt(At),null;case 4:return Hs(),null;case 10:return Hd(o.type._context),null;case 22:case 23:return Ch(),null;case 24:return null;default:return null}}var bu=!1,gn=!1,sT=typeof WeakSet=="function"?WeakSet:Set,Ee=null;function qs(r,o){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){Nt(r,o,d)}else l.current=null}function vh(r,o,l){try{l()}catch(d){Nt(r,o,d)}}var Ag=!1;function aT(r,o){if(Cd=Yi,r=sm(),Ed(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var f=d.anchorOffset,g=d.focusNode;d=d.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var w=0,R=-1,D=-1,K=0,ne=0,ie=r,ee=null;t:for(;;){for(var ve;ie!==l||f!==0&&ie.nodeType!==3||(R=w+f),ie!==g||d!==0&&ie.nodeType!==3||(D=w+d),ie.nodeType===3&&(w+=ie.nodeValue.length),(ve=ie.firstChild)!==null;)ee=ie,ie=ve;for(;;){if(ie===r)break t;if(ee===l&&++K===f&&(R=w),ee===g&&++ne===d&&(D=w),(ve=ie.nextSibling)!==null)break;ie=ee,ee=ie.parentNode}ie=ve}l=R===-1||D===-1?null:{start:R,end:D}}else l=null}l=l||{start:0,end:0}}else l=null;for(Pd={focusedElem:r,selectionRange:l},Yi=!1,Ee=o;Ee!==null;)if(o=Ee,r=o.child,(o.subtreeFlags&1028)!==0&&r!==null)r.return=o,Ee=r;else for(;Ee!==null;){o=Ee;try{var Se=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Se!==null){var ke=Se.memoizedProps,Ot=Se.memoizedState,H=o.stateNode,L=H.getSnapshotBeforeUpdate(o.elementType===o.type?ke:Or(o.type,ke),Ot);H.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var W=o.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ae){Nt(o,o.return,ae)}if(r=o.sibling,r!==null){r.return=o.return,Ee=r;break}Ee=o.return}return Se=Ag,Ag=!1,Se}function Ka(r,o,l){var d=o.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var f=d=d.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&vh(o,l,g)}f=f.next}while(f!==d)}}function Du(r,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==o)}}function yh(r){var o=r.ref;if(o!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof o=="function"?o(r):o.current=r}}function Cg(r){var o=r.alternate;o!==null&&(r.alternate=null,Cg(o)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(o=r.stateNode,o!==null&&(delete o[Xr],delete o[Va],delete o[Od],delete o[$0],delete o[H0])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Pg(r){return r.tag===5||r.tag===3||r.tag===4}function bg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Pg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function _h(r,o,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(r,o):l.insertBefore(r,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(r,l)):(o=l,o.appendChild(r)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=uu));else if(d!==4&&(r=r.child,r!==null))for(_h(r,o,l),r=r.sibling;r!==null;)_h(r,o,l),r=r.sibling}function wh(r,o,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,o?l.insertBefore(r,o):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(wh(r,o,l),r=r.sibling;r!==null;)wh(r,o,l),r=r.sibling}var on=null,Lr=!1;function oo(r,o,l){for(l=l.child;l!==null;)Dg(r,o,l),l=l.sibling}function Dg(r,o,l){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(Nn,l)}catch{}switch(l.tag){case 5:gn||qs(l,o);case 6:var d=on,f=Lr;on=null,oo(r,o,l),on=d,Lr=f,on!==null&&(Lr?(r=on,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):on.removeChild(l.stateNode));break;case 18:on!==null&&(Lr?(r=on,l=l.stateNode,r.nodeType===8?Nd(r.parentNode,l):r.nodeType===1&&Nd(r,l),Pr(r)):Nd(on,l.stateNode));break;case 4:d=on,f=Lr,on=l.stateNode.containerInfo,Lr=!0,oo(r,o,l),on=d,Lr=f;break;case 0:case 11:case 14:case 15:if(!gn&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){f=d=d.next;do{var g=f,w=g.destroy;g=g.tag,w!==void 0&&(g&2||g&4)&&vh(l,o,w),f=f.next}while(f!==d)}oo(r,o,l);break;case 1:if(!gn&&(qs(l,o),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(R){Nt(l,o,R)}oo(r,o,l);break;case 21:oo(r,o,l);break;case 22:l.mode&1?(gn=(d=gn)||l.memoizedState!==null,oo(r,o,l),gn=d):oo(r,o,l);break;default:oo(r,o,l)}}function Ng(r){var o=r.updateQueue;if(o!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new sT),o.forEach(function(d){var f=gT.bind(null,r,d);l.has(d)||(l.add(d),d.then(f,f))})}}function Vr(r,o){var l=o.deletions;if(l!==null)for(var d=0;d<l.length;d++){var f=l[d];try{var g=r,w=o,R=w;e:for(;R!==null;){switch(R.tag){case 5:on=R.stateNode,Lr=!1;break e;case 3:on=R.stateNode.containerInfo,Lr=!0;break e;case 4:on=R.stateNode.containerInfo,Lr=!0;break e}R=R.return}if(on===null)throw Error(t(160));Dg(g,w,f),on=null,Lr=!1;var D=f.alternate;D!==null&&(D.return=null),f.return=null}catch(K){Nt(f,o,K)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Og(o,r),o=o.sibling}function Og(r,o){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Vr(o,r),ei(r),d&4){try{Ka(3,r,r.return),Du(3,r)}catch(ke){Nt(r,r.return,ke)}try{Ka(5,r,r.return)}catch(ke){Nt(r,r.return,ke)}}break;case 1:Vr(o,r),ei(r),d&512&&l!==null&&qs(l,l.return);break;case 5:if(Vr(o,r),ei(r),d&512&&l!==null&&qs(l,l.return),r.flags&32){var f=r.stateNode;try{It(f,"")}catch(ke){Nt(r,r.return,ke)}}if(d&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,w=l!==null?l.memoizedProps:g,R=r.type,D=r.updateQueue;if(r.updateQueue=null,D!==null)try{R==="input"&&g.type==="radio"&&g.name!=null&&wr(f,g),ar(R,w);var K=ar(R,g);for(w=0;w<D.length;w+=2){var ne=D[w],ie=D[w+1];ne==="style"?or(f,ie):ne==="dangerouslySetInnerHTML"?Wn(f,ie):ne==="children"?It(f,ie):Z(f,ne,ie,K)}switch(R){case"input":An(f,g);break;case"textarea":de(f,g);break;case"select":var ee=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var ve=g.value;ve!=null?Ut(f,!!g.multiple,ve,!1):ee!==!!g.multiple&&(g.defaultValue!=null?Ut(f,!!g.multiple,g.defaultValue,!0):Ut(f,!!g.multiple,g.multiple?[]:"",!1))}f[Va]=g}catch(ke){Nt(r,r.return,ke)}}break;case 6:if(Vr(o,r),ei(r),d&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(ke){Nt(r,r.return,ke)}}break;case 3:if(Vr(o,r),ei(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{Pr(o.containerInfo)}catch(ke){Nt(r,r.return,ke)}break;case 4:Vr(o,r),ei(r);break;case 13:Vr(o,r),ei(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(xh=ht())),d&4&&Ng(r);break;case 22:if(ne=l!==null&&l.memoizedState!==null,r.mode&1?(gn=(K=gn)||ne,Vr(o,r),gn=K):Vr(o,r),ei(r),d&8192){if(K=r.memoizedState!==null,(r.stateNode.isHidden=K)&&!ne&&r.mode&1)for(Ee=r,ne=r.child;ne!==null;){for(ie=Ee=ne;Ee!==null;){switch(ee=Ee,ve=ee.child,ee.tag){case 0:case 11:case 14:case 15:Ka(4,ee,ee.return);break;case 1:qs(ee,ee.return);var Se=ee.stateNode;if(typeof Se.componentWillUnmount=="function"){d=ee,l=ee.return;try{o=d,Se.props=o.memoizedProps,Se.state=o.memoizedState,Se.componentWillUnmount()}catch(ke){Nt(d,l,ke)}}break;case 5:qs(ee,ee.return);break;case 22:if(ee.memoizedState!==null){Mg(ie);continue}}ve!==null?(ve.return=ee,Ee=ve):Mg(ie)}ne=ne.sibling}e:for(ne=null,ie=r;;){if(ie.tag===5){if(ne===null){ne=ie;try{f=ie.stateNode,K?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(R=ie.stateNode,D=ie.memoizedProps.style,w=D!=null&&D.hasOwnProperty("display")?D.display:null,R.style.display=ir("display",w))}catch(ke){Nt(r,r.return,ke)}}}else if(ie.tag===6){if(ne===null)try{ie.stateNode.nodeValue=K?"":ie.memoizedProps}catch(ke){Nt(r,r.return,ke)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===r)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===r)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===r)break e;ne===ie&&(ne=null),ie=ie.return}ne===ie&&(ne=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:Vr(o,r),ei(r),d&4&&Ng(r);break;case 21:break;default:Vr(o,r),ei(r)}}function ei(r){var o=r.flags;if(o&2){try{e:{for(var l=r.return;l!==null;){if(Pg(l)){var d=l;break e}l=l.return}throw Error(t(160))}switch(d.tag){case 5:var f=d.stateNode;d.flags&32&&(It(f,""),d.flags&=-33);var g=bg(r);wh(r,g,f);break;case 3:case 4:var w=d.stateNode.containerInfo,R=bg(r);_h(r,R,w);break;default:throw Error(t(161))}}catch(D){Nt(r,r.return,D)}r.flags&=-3}o&4096&&(r.flags&=-4097)}function lT(r,o,l){Ee=r,Lg(r)}function Lg(r,o,l){for(var d=(r.mode&1)!==0;Ee!==null;){var f=Ee,g=f.child;if(f.tag===22&&d){var w=f.memoizedState!==null||bu;if(!w){var R=f.alternate,D=R!==null&&R.memoizedState!==null||gn;R=bu;var K=gn;if(bu=w,(gn=D)&&!K)for(Ee=f;Ee!==null;)w=Ee,D=w.child,w.tag===22&&w.memoizedState!==null?Fg(f):D!==null?(D.return=w,Ee=D):Fg(f);for(;g!==null;)Ee=g,Lg(g),g=g.sibling;Ee=f,bu=R,gn=K}Vg(r)}else f.subtreeFlags&8772&&g!==null?(g.return=f,Ee=g):Vg(r)}}function Vg(r){for(;Ee!==null;){var o=Ee;if(o.flags&8772){var l=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:gn||Du(5,o);break;case 1:var d=o.stateNode;if(o.flags&4&&!gn)if(l===null)d.componentDidMount();else{var f=o.elementType===o.type?l.memoizedProps:Or(o.type,l.memoizedProps);d.componentDidUpdate(f,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var g=o.updateQueue;g!==null&&Mm(o,g,d);break;case 3:var w=o.updateQueue;if(w!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}Mm(o,w,l)}break;case 5:var R=o.stateNode;if(l===null&&o.flags&4){l=R;var D=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":D.autoFocus&&l.focus();break;case"img":D.src&&(l.src=D.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var K=o.alternate;if(K!==null){var ne=K.memoizedState;if(ne!==null){var ie=ne.dehydrated;ie!==null&&Pr(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}gn||o.flags&512&&yh(o)}catch(ee){Nt(o,o.return,ee)}}if(o===r){Ee=null;break}if(l=o.sibling,l!==null){l.return=o.return,Ee=l;break}Ee=o.return}}function Mg(r){for(;Ee!==null;){var o=Ee;if(o===r){Ee=null;break}var l=o.sibling;if(l!==null){l.return=o.return,Ee=l;break}Ee=o.return}}function Fg(r){for(;Ee!==null;){var o=Ee;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Du(4,o)}catch(D){Nt(o,l,D)}break;case 1:var d=o.stateNode;if(typeof d.componentDidMount=="function"){var f=o.return;try{d.componentDidMount()}catch(D){Nt(o,f,D)}}var g=o.return;try{yh(o)}catch(D){Nt(o,g,D)}break;case 5:var w=o.return;try{yh(o)}catch(D){Nt(o,w,D)}}}catch(D){Nt(o,o.return,D)}if(o===r){Ee=null;break}var R=o.sibling;if(R!==null){R.return=o.return,Ee=R;break}Ee=o.return}}var uT=Math.ceil,Nu=he.ReactCurrentDispatcher,Eh=he.ReactCurrentOwner,pr=he.ReactCurrentBatchConfig,lt=0,Qt=null,Mt=null,sn=0,Jn=0,Ks=eo(0),$t=0,Ga=null,qo=0,Ou=0,Th=0,Qa=null,jn=null,xh=0,Gs=1/0,Ri=null,Lu=!1,Ih=null,so=null,Vu=!1,ao=null,Mu=0,Ya=0,Sh=null,Fu=-1,ju=0;function kn(){return lt&6?ht():Fu!==-1?Fu:Fu=ht()}function lo(r){return r.mode&1?lt&2&&sn!==0?sn&-sn:q0.transition!==null?(ju===0&&(ju=Oo()),ju):(r=tt,r!==0||(r=window.event,r=r===void 0?16:Ia(r.type)),r):1}function Mr(r,o,l,d){if(50<Ya)throw Ya=0,Sh=null,Error(t(185));qi(r,l,d),(!(lt&2)||r!==Qt)&&(r===Qt&&(!(lt&2)&&(Ou|=l),$t===4&&uo(r,sn)),Un(r,d),l===1&&lt===0&&!(o.mode&1)&&(Gs=ht()+500,fu&&no()))}function Un(r,o){var l=r.callbackNode;pi(r,o);var d=No(r,r===Qt?sn:0);if(d===0)l!==null&&hi(l),r.callbackNode=null,r.callbackPriority=0;else if(o=d&-d,r.callbackPriority!==o){if(l!=null&&hi(l),o===1)r.tag===0?W0(Ug.bind(null,r)):Sm(Ug.bind(null,r)),z0(function(){!(lt&6)&&no()}),l=null;else{switch(Gi(d)){case 1:l=it;break;case 4:l=wt;break;case 16:l=tn;break;case 536870912:l=Et;break;default:l=tn}l=Gg(l,jg.bind(null,r))}r.callbackPriority=o,r.callbackNode=l}}function jg(r,o){if(Fu=-1,ju=0,lt&6)throw Error(t(327));var l=r.callbackNode;if(Qs()&&r.callbackNode!==l)return null;var d=No(r,r===Qt?sn:0);if(d===0)return null;if(d&30||d&r.expiredLanes||o)o=Uu(r,d);else{o=d;var f=lt;lt|=2;var g=Bg();(Qt!==r||sn!==o)&&(Ri=null,Gs=ht()+500,Go(r,o));do try{hT();break}catch(R){zg(r,R)}while(!0);$d(),Nu.current=g,lt=f,Mt!==null?o=0:(Qt=null,sn=0,o=$t)}if(o!==0){if(o===2&&(f=Kn(r),f!==0&&(d=f,o=Rh(r,f))),o===1)throw l=Ga,Go(r,0),uo(r,d),Un(r,ht()),l;if(o===6)uo(r,d);else{if(f=r.current.alternate,!(d&30)&&!cT(f)&&(o=Uu(r,d),o===2&&(g=Kn(r),g!==0&&(d=g,o=Rh(r,g))),o===1))throw l=Ga,Go(r,0),uo(r,d),Un(r,ht()),l;switch(r.finishedWork=f,r.finishedLanes=d,o){case 0:case 1:throw Error(t(345));case 2:Qo(r,jn,Ri);break;case 3:if(uo(r,d),(d&130023424)===d&&(o=xh+500-ht(),10<o)){if(No(r,0)!==0)break;if(f=r.suspendedLanes,(f&d)!==d){kn(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=Dd(Qo.bind(null,r,jn,Ri),o);break}Qo(r,jn,Ri);break;case 4:if(uo(r,d),(d&4194240)===d)break;for(o=r.eventTimes,f=-1;0<d;){var w=31-In(d);g=1<<w,w=o[w],w>f&&(f=w),d&=~g}if(d=f,d=ht()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*uT(d/1960))-d,10<d){r.timeoutHandle=Dd(Qo.bind(null,r,jn,Ri),d);break}Qo(r,jn,Ri);break;case 5:Qo(r,jn,Ri);break;default:throw Error(t(329))}}}return Un(r,ht()),r.callbackNode===l?jg.bind(null,r):null}function Rh(r,o){var l=Qa;return r.current.memoizedState.isDehydrated&&(Go(r,o).flags|=256),r=Uu(r,o),r!==2&&(o=jn,jn=l,o!==null&&kh(o)),r}function kh(r){jn===null?jn=r:jn.push.apply(jn,r)}function cT(r){for(var o=r;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var f=l[d],g=f.getSnapshot;f=f.value;try{if(!Dr(g(),f))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function uo(r,o){for(o&=~Th,o&=~Ou,r.suspendedLanes|=o,r.pingedLanes&=~o,r=r.expirationTimes;0<o;){var l=31-In(o),d=1<<l;r[l]=-1,o&=~d}}function Ug(r){if(lt&6)throw Error(t(327));Qs();var o=No(r,0);if(!(o&1))return Un(r,ht()),null;var l=Uu(r,o);if(r.tag!==0&&l===2){var d=Kn(r);d!==0&&(o=d,l=Rh(r,d))}if(l===1)throw l=Ga,Go(r,0),uo(r,o),Un(r,ht()),l;if(l===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=o,Qo(r,jn,Ri),Un(r,ht()),null}function Ah(r,o){var l=lt;lt|=1;try{return r(o)}finally{lt=l,lt===0&&(Gs=ht()+500,fu&&no())}}function Ko(r){ao!==null&&ao.tag===0&&!(lt&6)&&Qs();var o=lt;lt|=1;var l=pr.transition,d=tt;try{if(pr.transition=null,tt=1,r)return r()}finally{tt=d,pr.transition=l,lt=o,!(lt&6)&&no()}}function Ch(){Jn=Ks.current,xt(Ks)}function Go(r,o){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,U0(l)),Mt!==null)for(l=Mt.return;l!==null;){var d=l;switch(Fd(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&du();break;case 3:Hs(),xt(Vn),xt(fn),Xd();break;case 5:Qd(d);break;case 4:Hs();break;case 13:xt(At);break;case 19:xt(At);break;case 10:Hd(d.type._context);break;case 22:case 23:Ch()}l=l.return}if(Qt=r,Mt=r=co(r.current,null),sn=Jn=o,$t=0,Ga=null,Th=Ou=qo=0,jn=Qa=null,$o!==null){for(o=0;o<$o.length;o++)if(l=$o[o],d=l.interleaved,d!==null){l.interleaved=null;var f=d.next,g=l.pending;if(g!==null){var w=g.next;g.next=f,d.next=w}l.pending=d}$o=null}return r}function zg(r,o){do{var l=Mt;try{if($d(),xu.current=ku,Iu){for(var d=Ct.memoizedState;d!==null;){var f=d.queue;f!==null&&(f.pending=null),d=d.next}Iu=!1}if(Wo=0,Gt=Bt=Ct=null,Ba=!1,$a=0,Eh.current=null,l===null||l.return===null){$t=1,Ga=o,Mt=null;break}e:{var g=r,w=l.return,R=l,D=o;if(o=sn,R.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var K=D,ne=R,ie=ne.tag;if(!(ne.mode&1)&&(ie===0||ie===11||ie===15)){var ee=ne.alternate;ee?(ne.updateQueue=ee.updateQueue,ne.memoizedState=ee.memoizedState,ne.lanes=ee.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var ve=hg(w);if(ve!==null){ve.flags&=-257,fg(ve,w,R,g,o),ve.mode&1&&dg(g,K,o),o=ve,D=K;var Se=o.updateQueue;if(Se===null){var ke=new Set;ke.add(D),o.updateQueue=ke}else Se.add(D);break e}else{if(!(o&1)){dg(g,K,o),Ph();break e}D=Error(t(426))}}else if(Rt&&R.mode&1){var Ot=hg(w);if(Ot!==null){!(Ot.flags&65536)&&(Ot.flags|=256),fg(Ot,w,R,g,o),zd(Ws(D,R));break e}}g=D=Ws(D,R),$t!==4&&($t=2),Qa===null?Qa=[g]:Qa.push(g),g=w;do{switch(g.tag){case 3:g.flags|=65536,o&=-o,g.lanes|=o;var H=ug(g,D,o);Vm(g,H);break e;case 1:R=D;var L=g.type,W=g.stateNode;if(!(g.flags&128)&&(typeof L.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(so===null||!so.has(W)))){g.flags|=65536,o&=-o,g.lanes|=o;var ae=cg(g,R,o);Vm(g,ae);break e}}g=g.return}while(g!==null)}Hg(l)}catch(Ae){o=Ae,Mt===l&&l!==null&&(Mt=l=l.return);continue}break}while(!0)}function Bg(){var r=Nu.current;return Nu.current=ku,r===null?ku:r}function Ph(){($t===0||$t===3||$t===2)&&($t=4),Qt===null||!(qo&268435455)&&!(Ou&268435455)||uo(Qt,sn)}function Uu(r,o){var l=lt;lt|=2;var d=Bg();(Qt!==r||sn!==o)&&(Ri=null,Go(r,o));do try{dT();break}catch(f){zg(r,f)}while(!0);if($d(),lt=l,Nu.current=d,Mt!==null)throw Error(t(261));return Qt=null,sn=0,$t}function dT(){for(;Mt!==null;)$g(Mt)}function hT(){for(;Mt!==null&&!Wr();)$g(Mt)}function $g(r){var o=Kg(r.alternate,r,Jn);r.memoizedProps=r.pendingProps,o===null?Hg(r):Mt=o,Eh.current=null}function Hg(r){var o=r;do{var l=o.alternate;if(r=o.return,o.flags&32768){if(l=oT(l,o),l!==null){l.flags&=32767,Mt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{$t=6,Mt=null;return}}else if(l=iT(l,o,Jn),l!==null){Mt=l;return}if(o=o.sibling,o!==null){Mt=o;return}Mt=o=r}while(o!==null);$t===0&&($t=5)}function Qo(r,o,l){var d=tt,f=pr.transition;try{pr.transition=null,tt=1,fT(r,o,l,d)}finally{pr.transition=f,tt=d}return null}function fT(r,o,l,d){do Qs();while(ao!==null);if(lt&6)throw Error(t(327));l=r.finishedWork;var f=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=l.lanes|l.childLanes;if(vt(r,g),r===Qt&&(Mt=Qt=null,sn=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||Vu||(Vu=!0,Gg(tn,function(){return Qs(),null})),g=(l.flags&15990)!==0,l.subtreeFlags&15990||g){g=pr.transition,pr.transition=null;var w=tt;tt=1;var R=lt;lt|=4,Eh.current=null,aT(r,l),Og(l,r),N0(Pd),Yi=!!Cd,Pd=Cd=null,r.current=l,lT(l),Sr(),lt=R,tt=w,pr.transition=g}else r.current=l;if(Vu&&(Vu=!1,ao=r,Mu=f),g=r.pendingLanes,g===0&&(so=null),gs(l.stateNode),Un(r,ht()),o!==null)for(d=r.onRecoverableError,l=0;l<o.length;l++)f=o[l],d(f.value,{componentStack:f.stack,digest:f.digest});if(Lu)throw Lu=!1,r=Ih,Ih=null,r;return Mu&1&&r.tag!==0&&Qs(),g=r.pendingLanes,g&1?r===Sh?Ya++:(Ya=0,Sh=r):Ya=0,no(),null}function Qs(){if(ao!==null){var r=Gi(Mu),o=pr.transition,l=tt;try{if(pr.transition=null,tt=16>r?16:r,ao===null)var d=!1;else{if(r=ao,ao=null,Mu=0,lt&6)throw Error(t(331));var f=lt;for(lt|=4,Ee=r.current;Ee!==null;){var g=Ee,w=g.child;if(Ee.flags&16){var R=g.deletions;if(R!==null){for(var D=0;D<R.length;D++){var K=R[D];for(Ee=K;Ee!==null;){var ne=Ee;switch(ne.tag){case 0:case 11:case 15:Ka(8,ne,g)}var ie=ne.child;if(ie!==null)ie.return=ne,Ee=ie;else for(;Ee!==null;){ne=Ee;var ee=ne.sibling,ve=ne.return;if(Cg(ne),ne===K){Ee=null;break}if(ee!==null){ee.return=ve,Ee=ee;break}Ee=ve}}}var Se=g.alternate;if(Se!==null){var ke=Se.child;if(ke!==null){Se.child=null;do{var Ot=ke.sibling;ke.sibling=null,ke=Ot}while(ke!==null)}}Ee=g}}if(g.subtreeFlags&2064&&w!==null)w.return=g,Ee=w;else e:for(;Ee!==null;){if(g=Ee,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Ka(9,g,g.return)}var H=g.sibling;if(H!==null){H.return=g.return,Ee=H;break e}Ee=g.return}}var L=r.current;for(Ee=L;Ee!==null;){w=Ee;var W=w.child;if(w.subtreeFlags&2064&&W!==null)W.return=w,Ee=W;else e:for(w=L;Ee!==null;){if(R=Ee,R.flags&2048)try{switch(R.tag){case 0:case 11:case 15:Du(9,R)}}catch(Ae){Nt(R,R.return,Ae)}if(R===w){Ee=null;break e}var ae=R.sibling;if(ae!==null){ae.return=R.return,Ee=ae;break e}Ee=R.return}}if(lt=f,no(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(Nn,r)}catch{}d=!0}return d}finally{tt=l,pr.transition=o}}return!1}function Wg(r,o,l){o=Ws(l,o),o=ug(r,o,1),r=io(r,o,1),o=kn(),r!==null&&(qi(r,1,o),Un(r,o))}function Nt(r,o,l){if(r.tag===3)Wg(r,r,l);else for(;o!==null;){if(o.tag===3){Wg(o,r,l);break}else if(o.tag===1){var d=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(so===null||!so.has(d))){r=Ws(l,r),r=cg(o,r,1),o=io(o,r,1),r=kn(),o!==null&&(qi(o,1,r),Un(o,r));break}}o=o.return}}function pT(r,o,l){var d=r.pingCache;d!==null&&d.delete(o),o=kn(),r.pingedLanes|=r.suspendedLanes&l,Qt===r&&(sn&l)===l&&($t===4||$t===3&&(sn&130023424)===sn&&500>ht()-xh?Go(r,0):Th|=l),Un(r,o)}function qg(r,o){o===0&&(r.mode&1?(o=ys,ys<<=1,!(ys&130023424)&&(ys=4194304)):o=1);var l=kn();r=xi(r,o),r!==null&&(qi(r,o,l),Un(r,l))}function mT(r){var o=r.memoizedState,l=0;o!==null&&(l=o.retryLane),qg(r,l)}function gT(r,o){var l=0;switch(r.tag){case 13:var d=r.stateNode,f=r.memoizedState;f!==null&&(l=f.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(t(314))}d!==null&&d.delete(o),qg(r,l)}var Kg;Kg=function(r,o,l){if(r!==null)if(r.memoizedProps!==o.pendingProps||Vn.current)Fn=!0;else{if(!(r.lanes&l)&&!(o.flags&128))return Fn=!1,rT(r,o,l);Fn=!!(r.flags&131072)}else Fn=!1,Rt&&o.flags&1048576&&Rm(o,mu,o.index);switch(o.lanes=0,o.tag){case 2:var d=o.type;Pu(r,o),r=o.pendingProps;var f=Ms(o,fn.current);$s(o,l),f=eh(null,o,d,r,f,l);var g=th();return o.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Mn(d)?(g=!0,hu(o)):g=!1,o.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Kd(o),f.updater=Au,o.stateNode=f,f._reactInternals=o,ah(o,d,r,l),o=dh(null,o,d,!0,g,l)):(o.tag=0,Rt&&g&&Md(o),Rn(null,o,f,l),o=o.child),o;case 16:d=o.elementType;e:{switch(Pu(r,o),r=o.pendingProps,f=d._init,d=f(d._payload),o.type=d,f=o.tag=yT(d),r=Or(d,r),f){case 0:o=ch(null,o,d,r,l);break e;case 1:o=_g(null,o,d,r,l);break e;case 11:o=pg(null,o,d,r,l);break e;case 14:o=mg(null,o,d,Or(d.type,r),l);break e}throw Error(t(306,d,""))}return o;case 0:return d=o.type,f=o.pendingProps,f=o.elementType===d?f:Or(d,f),ch(r,o,d,f,l);case 1:return d=o.type,f=o.pendingProps,f=o.elementType===d?f:Or(d,f),_g(r,o,d,f,l);case 3:e:{if(wg(o),r===null)throw Error(t(387));d=o.pendingProps,g=o.memoizedState,f=g.element,Lm(r,o),Eu(o,d,null,l);var w=o.memoizedState;if(d=w.element,g.isDehydrated)if(g={element:d,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},o.updateQueue.baseState=g,o.memoizedState=g,o.flags&256){f=Ws(Error(t(423)),o),o=Eg(r,o,d,l,f);break e}else if(d!==f){f=Ws(Error(t(424)),o),o=Eg(r,o,d,l,f);break e}else for(Xn=Zi(o.stateNode.containerInfo.firstChild),Yn=o,Rt=!0,Nr=null,l=Nm(o,null,d,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Us(),d===f){o=Si(r,o,l);break e}Rn(r,o,d,l)}o=o.child}return o;case 5:return Fm(o),r===null&&Ud(o),d=o.type,f=o.pendingProps,g=r!==null?r.memoizedProps:null,w=f.children,bd(d,f)?w=null:g!==null&&bd(d,g)&&(o.flags|=32),yg(r,o),Rn(r,o,w,l),o.child;case 6:return r===null&&Ud(o),null;case 13:return Tg(r,o,l);case 4:return Gd(o,o.stateNode.containerInfo),d=o.pendingProps,r===null?o.child=zs(o,null,d,l):Rn(r,o,d,l),o.child;case 11:return d=o.type,f=o.pendingProps,f=o.elementType===d?f:Or(d,f),pg(r,o,d,f,l);case 7:return Rn(r,o,o.pendingProps,l),o.child;case 8:return Rn(r,o,o.pendingProps.children,l),o.child;case 12:return Rn(r,o,o.pendingProps.children,l),o.child;case 10:e:{if(d=o.type._context,f=o.pendingProps,g=o.memoizedProps,w=f.value,_t(yu,d._currentValue),d._currentValue=w,g!==null)if(Dr(g.value,w)){if(g.children===f.children&&!Vn.current){o=Si(r,o,l);break e}}else for(g=o.child,g!==null&&(g.return=o);g!==null;){var R=g.dependencies;if(R!==null){w=g.child;for(var D=R.firstContext;D!==null;){if(D.context===d){if(g.tag===1){D=Ii(-1,l&-l),D.tag=2;var K=g.updateQueue;if(K!==null){K=K.shared;var ne=K.pending;ne===null?D.next=D:(D.next=ne.next,ne.next=D),K.pending=D}}g.lanes|=l,D=g.alternate,D!==null&&(D.lanes|=l),Wd(g.return,l,o),R.lanes|=l;break}D=D.next}}else if(g.tag===10)w=g.type===o.type?null:g.child;else if(g.tag===18){if(w=g.return,w===null)throw Error(t(341));w.lanes|=l,R=w.alternate,R!==null&&(R.lanes|=l),Wd(w,l,o),w=g.sibling}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===o){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}Rn(r,o,f.children,l),o=o.child}return o;case 9:return f=o.type,d=o.pendingProps.children,$s(o,l),f=hr(f),d=d(f),o.flags|=1,Rn(r,o,d,l),o.child;case 14:return d=o.type,f=Or(d,o.pendingProps),f=Or(d.type,f),mg(r,o,d,f,l);case 15:return gg(r,o,o.type,o.pendingProps,l);case 17:return d=o.type,f=o.pendingProps,f=o.elementType===d?f:Or(d,f),Pu(r,o),o.tag=1,Mn(d)?(r=!0,hu(o)):r=!1,$s(o,l),ag(o,d,f),ah(o,d,f,l),dh(null,o,d,!0,r,l);case 19:return Ig(r,o,l);case 22:return vg(r,o,l)}throw Error(t(156,o.tag))};function Gg(r,o){return en(r,o)}function vT(r,o,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(r,o,l,d){return new vT(r,o,l,d)}function bh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function yT(r){if(typeof r=="function")return bh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===M)return 11;if(r===Ie)return 14}return 2}function co(r,o){var l=r.alternate;return l===null?(l=mr(r.tag,o,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=o,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,o=r.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function zu(r,o,l,d,f,g){var w=2;if(d=r,typeof r=="function")bh(r)&&(w=1);else if(typeof r=="string")w=5;else e:switch(r){case C:return Yo(l.children,f,g,o);case x:w=8,f|=8;break;case S:return r=mr(12,l,o,f|2),r.elementType=S,r.lanes=g,r;case k:return r=mr(13,l,o,f),r.elementType=k,r.lanes=g,r;case xe:return r=mr(19,l,o,f),r.elementType=xe,r.lanes=g,r;case Qe:return Bu(l,f,g,o);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case P:w=10;break e;case O:w=9;break e;case M:w=11;break e;case Ie:w=14;break e;case Ke:w=16,d=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return o=mr(w,l,o,f),o.elementType=r,o.type=d,o.lanes=g,o}function Yo(r,o,l,d){return r=mr(7,r,d,o),r.lanes=l,r}function Bu(r,o,l,d){return r=mr(22,r,d,o),r.elementType=Qe,r.lanes=l,r.stateNode={isHidden:!1},r}function Dh(r,o,l){return r=mr(6,r,null,o),r.lanes=l,r}function Nh(r,o,l){return o=mr(4,r.children!==null?r.children:[],r.key,o),o.lanes=l,o.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},o}function _T(r,o,l,d,f){this.tag=o,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wi(0),this.expirationTimes=Wi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wi(0),this.identifierPrefix=d,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function Oh(r,o,l,d,f,g,w,R,D){return r=new _T(r,o,l,R,D),o===1?(o=1,g===!0&&(o|=8)):o=0,g=mr(3,null,null,o),r.current=g,g.stateNode=r,g.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kd(g),r}function wT(r,o,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ce,key:d==null?null:""+d,children:r,containerInfo:o,implementation:l}}function Qg(r){if(!r)return to;r=r._reactInternals;e:{if(et(r)!==r||r.tag!==1)throw Error(t(170));var o=r;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Mn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(r.tag===1){var l=r.type;if(Mn(l))return xm(r,l,o)}return o}function Yg(r,o,l,d,f,g,w,R,D){return r=Oh(l,d,!0,r,f,g,w,R,D),r.context=Qg(null),l=r.current,d=kn(),f=lo(l),g=Ii(d,f),g.callback=o??null,io(l,g,f),r.current.lanes=f,qi(r,f,d),Un(r,d),r}function $u(r,o,l,d){var f=o.current,g=kn(),w=lo(f);return l=Qg(l),o.context===null?o.context=l:o.pendingContext=l,o=Ii(g,w),o.payload={element:r},d=d===void 0?null:d,d!==null&&(o.callback=d),r=io(f,o,w),r!==null&&(Mr(r,f,w,g),wu(r,f,w)),w}function Hu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Xg(r,o){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<o?l:o}}function Lh(r,o){Xg(r,o),(r=r.alternate)&&Xg(r,o)}function ET(){return null}var Jg=typeof reportError=="function"?reportError:function(r){console.error(r)};function Vh(r){this._internalRoot=r}Wu.prototype.render=Vh.prototype.render=function(r){var o=this._internalRoot;if(o===null)throw Error(t(409));$u(r,o,null,null)},Wu.prototype.unmount=Vh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var o=r.containerInfo;Ko(function(){$u(null,r,null,null)}),o[_i]=null}};function Wu(r){this._internalRoot=r}Wu.prototype.unstable_scheduleHydration=function(r){if(r){var o=Wl();r={blockedOn:null,target:r,priority:o};for(var l=0;l<Kr.length&&o!==0&&o<Kr[l].priority;l++);Kr.splice(l,0,r),l===0&&Gl(r)}};function Mh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function qu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Zg(){}function TT(r,o,l,d,f){if(f){if(typeof d=="function"){var g=d;d=function(){var K=Hu(w);g.call(K)}}var w=Yg(o,d,r,0,null,!1,!1,"",Zg);return r._reactRootContainer=w,r[_i]=w.current,Oa(r.nodeType===8?r.parentNode:r),Ko(),w}for(;f=r.lastChild;)r.removeChild(f);if(typeof d=="function"){var R=d;d=function(){var K=Hu(D);R.call(K)}}var D=Oh(r,0,!1,null,null,!1,!1,"",Zg);return r._reactRootContainer=D,r[_i]=D.current,Oa(r.nodeType===8?r.parentNode:r),Ko(function(){$u(o,D,l,d)}),D}function Ku(r,o,l,d,f){var g=l._reactRootContainer;if(g){var w=g;if(typeof f=="function"){var R=f;f=function(){var D=Hu(w);R.call(D)}}$u(o,w,r,f)}else w=TT(l,o,r,f,d);return Hu(w)}$l=function(r){switch(r.tag){case 3:var o=r.stateNode;if(o.current.memoizedState.isDehydrated){var l=Hi(o.pendingLanes);l!==0&&(Ki(o,l|1),Un(o,ht()),!(lt&6)&&(Gs=ht()+500,no()))}break;case 13:Ko(function(){var d=xi(r,1);if(d!==null){var f=kn();Mr(d,r,1,f)}}),Lh(r,1)}},_s=function(r){if(r.tag===13){var o=xi(r,134217728);if(o!==null){var l=kn();Mr(o,r,134217728,l)}Lh(r,134217728)}},Hl=function(r){if(r.tag===13){var o=lo(r),l=xi(r,o);if(l!==null){var d=kn();Mr(l,r,o,d)}Lh(r,o)}},Wl=function(){return tt},ql=function(r,o){var l=tt;try{return tt=r,o()}finally{tt=l}},ci=function(r,o,l){switch(o){case"input":if(An(r,l),o=l.name,l.type==="radio"&&o!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var d=l[o];if(d!==r&&d.form===r.form){var f=cu(d);if(!f)throw Error(t(90));En(d),An(d,f)}}}break;case"textarea":de(r,l);break;case"select":o=l.value,o!=null&&Ut(r,!!l.multiple,o,!1)}},di=Ah,N=Ko;var xT={usingClientEntryPoint:!1,Events:[Ma,Ls,cu,xn,Do,Ah]},Xa={findFiberByHostInstance:jo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},IT={bundleType:Xa.bundleType,version:Xa.version,rendererPackageName:Xa.rendererPackageName,rendererConfig:Xa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:he.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Ir(r),r===null?null:r.stateNode},findFiberByHostInstance:Xa.findFiberByHostInstance||ET,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gu.isDisabled&&Gu.supportsFiber)try{Nn=Gu.inject(IT),hn=Gu}catch{}}return zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xT,zn.createPortal=function(r,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mh(o))throw Error(t(200));return wT(r,o,null,l)},zn.createRoot=function(r,o){if(!Mh(r))throw Error(t(299));var l=!1,d="",f=Jg;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onRecoverableError!==void 0&&(f=o.onRecoverableError)),o=Oh(r,1,!1,null,null,l,!1,d,f),r[_i]=o.current,Oa(r.nodeType===8?r.parentNode:r),new Vh(o)},zn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var o=r._reactInternals;if(o===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Ir(o),r=r===null?null:r.stateNode,r},zn.flushSync=function(r){return Ko(r)},zn.hydrate=function(r,o,l){if(!qu(o))throw Error(t(200));return Ku(null,r,o,!0,l)},zn.hydrateRoot=function(r,o,l){if(!Mh(r))throw Error(t(405));var d=l!=null&&l.hydratedSources||null,f=!1,g="",w=Jg;if(l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onRecoverableError!==void 0&&(w=l.onRecoverableError)),o=Yg(o,null,r,1,l??null,f,!1,g,w),r[_i]=o.current,Oa(r),d)for(r=0;r<d.length;r++)l=d[r],f=l._getVersion,f=f(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,f]:o.mutableSourceEagerHydrationData.push(l,f);return new Wu(o)},zn.render=function(r,o,l){if(!qu(o))throw Error(t(200));return Ku(null,r,o,!1,l)},zn.unmountComponentAtNode=function(r){if(!qu(r))throw Error(t(40));return r._reactRootContainer?(Ko(function(){Ku(null,null,r,!1,function(){r._reactRootContainer=null,r[_i]=null})}),!0):!1},zn.unstable_batchedUpdates=Ah,zn.unstable_renderSubtreeIntoContainer=function(r,o,l,d){if(!qu(l))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Ku(r,o,l,!1,d)},zn.version="18.3.1-next-f1338f8080-20240426",zn}var av;function v_(){if(av)return Uh.exports;av=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Uh.exports=DT(),Uh.exports}var lv;function NT(){if(lv)return Qu;lv=1;var n=v_();return Qu.createRoot=n.createRoot,Qu.hydrateRoot=n.hydrateRoot,Qu}var OT=NT(),Za={},uv;function LT(){if(uv)return Za;uv=1,Object.defineProperty(Za,"__esModule",{value:!0}),Za.parse=c,Za.serialize=v;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const I=function(){};return I.prototype=Object.create(null),I})();function c(I,A){const b=new a,j=I.length;if(j<2)return b;const V=(A==null?void 0:A.decode)||_;let q=0;do{const te=I.indexOf("=",q);if(te===-1)break;const Z=I.indexOf(";",q),he=Z===-1?j:Z;if(te>he){q=I.lastIndexOf(";",te-1)+1;continue}const U=h(I,q,te),ce=p(I,te,U),C=I.slice(U,ce);if(b[C]===void 0){let x=h(I,te+1,he),S=p(I,he,x);const P=V(I.slice(x,S));b[C]=P}q=he+1}while(q<j);return b}function h(I,A,b){do{const j=I.charCodeAt(A);if(j!==32&&j!==9)return A}while(++A<b);return b}function p(I,A,b){for(;A>b;){const j=I.charCodeAt(--A);if(j!==32&&j!==9)return A+1}return b}function v(I,A,b){const j=(b==null?void 0:b.encode)||encodeURIComponent;if(!n.test(I))throw new TypeError(`argument name is invalid: ${I}`);const V=j(A);if(!e.test(V))throw new TypeError(`argument val is invalid: ${A}`);let q=I+"="+V;if(!b)return q;if(b.maxAge!==void 0){if(!Number.isInteger(b.maxAge))throw new TypeError(`option maxAge is invalid: ${b.maxAge}`);q+="; Max-Age="+b.maxAge}if(b.domain){if(!t.test(b.domain))throw new TypeError(`option domain is invalid: ${b.domain}`);q+="; Domain="+b.domain}if(b.path){if(!i.test(b.path))throw new TypeError(`option path is invalid: ${b.path}`);q+="; Path="+b.path}if(b.expires){if(!T(b.expires)||!Number.isFinite(b.expires.valueOf()))throw new TypeError(`option expires is invalid: ${b.expires}`);q+="; Expires="+b.expires.toUTCString()}if(b.httpOnly&&(q+="; HttpOnly"),b.secure&&(q+="; Secure"),b.partitioned&&(q+="; Partitioned"),b.priority)switch(typeof b.priority=="string"?b.priority.toLowerCase():void 0){case"low":q+="; Priority=Low";break;case"medium":q+="; Priority=Medium";break;case"high":q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${b.priority}`)}if(b.sameSite)switch(typeof b.sameSite=="string"?b.sameSite.toLowerCase():b.sameSite){case!0:case"strict":q+="; SameSite=Strict";break;case"lax":q+="; SameSite=Lax";break;case"none":q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${b.sameSite}`)}return q}function _(I){if(I.indexOf("%")===-1)return I;try{return decodeURIComponent(I)}catch{return I}}function T(I){return s.call(I)==="[object Date]"}return Za}LT();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var cv="popstate";function VT(n={}){function e(s,a){let{pathname:c="/",search:h="",hash:p=""}=Fi(s.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),gl("",{pathname:c,search:h,hash:p},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(s,a){let c=s.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let p=s.location.href,v=p.indexOf("#");h=v===-1?p:p.slice(0,v)}return h+"#"+(typeof a=="string"?a:So(a))}function i(s,a){Jt(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return FT(e,t,i,n)}function rt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Jt(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function MT(){return Math.random().toString(36).substring(2,10)}function dv(n,e){return{usr:n.state,key:n.key,idx:e}}function gl(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Fi(e):e,state:t,key:e&&e.key||i||MT()}}function So({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Fi(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function FT(n,e,t,i={}){let{window:s=document.defaultView,v5Compat:a=!1}=i,c=s.history,h="POP",p=null,v=_();v==null&&(v=0,c.replaceState({...c.state,idx:v},""));function _(){return(c.state||{idx:null}).idx}function T(){h="POP";let V=_(),q=V==null?null:V-v;v=V,p&&p({action:h,location:j.location,delta:q})}function I(V,q){h="PUSH";let te=gl(j.location,V,q);t&&t(te,V),v=_()+1;let Z=dv(te,v),he=j.createHref(te);try{c.pushState(Z,"",he)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;s.location.assign(he)}a&&p&&p({action:h,location:j.location,delta:1})}function A(V,q){h="REPLACE";let te=gl(j.location,V,q);t&&t(te,V),v=_();let Z=dv(te,v),he=j.createHref(te);c.replaceState(Z,"",he),a&&p&&p({action:h,location:j.location,delta:0})}function b(V){let q=s.location.origin!=="null"?s.location.origin:s.location.href,te=typeof V=="string"?V:So(V);return te=te.replace(/ $/,"%20"),rt(q,`No window.location.(origin|href) available to create URL for href: ${te}`),new URL(te,q)}let j={get action(){return h},get location(){return n(s,c)},listen(V){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(cv,T),p=V,()=>{s.removeEventListener(cv,T),p=null}},createHref(V){return e(s,V)},createURL:b,encodeLocation(V){let q=b(V);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:I,replace:A,go(V){return c.go(V)}};return j}var jT=new Set(["lazy","caseSensitive","path","id","index","children"]);function UT(n){return n.index===!0}function wc(n,e,t=[],i={}){return n.map((s,a)=>{let c=[...t,String(a)],h=typeof s.id=="string"?s.id:c.join("-");if(rt(s.index!==!0||!s.children,"Cannot specify children on an index route"),rt(!i[h],`Found a route id collision on id "${h}".  Route id's must be globally unique within Data Router usages`),UT(s)){let p={...s,...e(s),id:h};return i[h]=p,p}else{let p={...s,...e(s),id:h,children:void 0};return i[h]=p,s.children&&(p.children=wc(s.children,e,c,i)),p}})}function mo(n,e,t="/"){return ac(n,e,t,!1)}function ac(n,e,t,i){let s=typeof e=="string"?Fi(e):e,a=Br(s.pathname||"/",t);if(a==null)return null;let c=y_(n);BT(c);let h=null;for(let p=0;h==null&&p<c.length;++p){let v=ZT(a);h=XT(c[p],v,i)}return h}function zT(n,e){let{route:t,pathname:i,params:s}=n;return{id:t.id,pathname:i,params:s,data:e[t.id],handle:t.handle}}function y_(n,e=[],t=[],i=""){let s=(a,c,h)=>{let p={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:c,route:a};p.relativePath.startsWith("/")&&(rt(p.relativePath.startsWith(i),`Absolute route path "${p.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(i.length));let v=ri([i,p.relativePath]),_=t.concat(p);a.children&&a.children.length>0&&(rt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),y_(a.children,e,_,v)),!(a.path==null&&!a.index)&&e.push({path:v,score:QT(v,a.index),routesMeta:_})};return n.forEach((a,c)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))s(a,c);else for(let p of __(a.path))s(a,c,p)}),e}function __(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(i.length===0)return s?[a,""]:[a];let c=__(i.join("/")),h=[];return h.push(...c.map(p=>p===""?a:[a,p].join("/"))),s&&h.push(...c),h.map(p=>n.startsWith("/")&&p===""?"/":p)}function BT(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:YT(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var $T=/^:[\w-]+$/,HT=3,WT=2,qT=1,KT=10,GT=-2,hv=n=>n==="*";function QT(n,e){let t=n.split("/"),i=t.length;return t.some(hv)&&(i+=GT),e&&(i+=WT),t.filter(s=>!hv(s)).reduce((s,a)=>s+($T.test(a)?HT:a===""?qT:KT),i)}function YT(n,e){return n.length===e.length&&n.slice(0,-1).every((i,s)=>i===e[s])?n[n.length-1]-e[e.length-1]:0}function XT(n,e,t=!1){let{routesMeta:i}=n,s={},a="/",c=[];for(let h=0;h<i.length;++h){let p=i[h],v=h===i.length-1,_=a==="/"?e:e.slice(a.length)||"/",T=Ec({path:p.relativePath,caseSensitive:p.caseSensitive,end:v},_),I=p.route;if(!T&&v&&t&&!i[i.length-1].route.index&&(T=Ec({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!T)return null;Object.assign(s,T.params),c.push({params:s,pathname:ri([a,T.pathname]),pathnameBase:nx(ri([a,T.pathnameBase])),route:I}),T.pathnameBase!=="/"&&(a=ri([a,T.pathnameBase]))}return c}function Ec(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=JT(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],c=a.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:i.reduce((v,{paramName:_,isOptional:T},I)=>{if(_==="*"){let b=h[I]||"";c=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const A=h[I];return T&&!A?v[_]=void 0:v[_]=(A||"").replace(/%2F/g,"/"),v},{}),pathname:a,pathnameBase:c,pattern:n}}function JT(n,e=!1,t=!0){Jt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,p)=>(i.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),i]}function ZT(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jt(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Br(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function ex(n,e="/"){let{pathname:t,search:i="",hash:s=""}=typeof n=="string"?Fi(n):n;return{pathname:t?t.startsWith("/")?t:tx(t,e):e,search:rx(i),hash:ix(s)}}function tx(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function $h(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function w_(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Hf(n){let e=w_(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function Wf(n,e,t,i=!1){let s;typeof n=="string"?s=Fi(n):(s={...n},rt(!s.pathname||!s.pathname.includes("?"),$h("?","pathname","search",s)),rt(!s.pathname||!s.pathname.includes("#"),$h("#","pathname","hash",s)),rt(!s.search||!s.search.includes("#"),$h("#","search","hash",s)));let a=n===""||s.pathname==="",c=a?"/":s.pathname,h;if(c==null)h=t;else{let T=e.length-1;if(!i&&c.startsWith("..")){let I=c.split("/");for(;I[0]==="..";)I.shift(),T-=1;s.pathname=I.join("/")}h=T>=0?e[T]:"/"}let p=ex(s,h),v=c&&c!=="/"&&c.endsWith("/"),_=(a||c===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(v||_)&&(p.pathname+="/"),p}var ri=n=>n.join("/").replace(/\/\/+/g,"/"),nx=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),rx=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ix=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Tc=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Kc(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var E_=["POST","PUT","PATCH","DELETE"],ox=new Set(E_),sx=["GET",...E_],ax=new Set(sx),lx=new Set([301,302,303,307,308]),ux=new Set([307,308]),Hh={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},cx={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},el={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},qf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dx=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),T_="remix-router-transitions",x_=Symbol("ResetLoaderData");function hx(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";rt(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let i=n.mapRouteProperties||dx,s={},a=wc(n.routes,i,void 0,s),c,h=n.basename||"/",p=n.dataStrategy||vx,v=n.patchRoutesOnNavigation,_={...n.future},T=null,I=new Set,A=null,b=null,j=null,V=n.hydrationData!=null,q=mo(a,n.history.location,h),te=null;if(q==null&&!v){let N=gr(404,{pathname:n.history.location.pathname}),{matches:B,route:G}=xv(a);q=B,te={[G.id]:N}}q&&!n.hydrationData&&Tr(q,a,n.history.location.pathname).active&&(q=null);let Z;if(q)if(q.some(N=>N.route.lazy))Z=!1;else if(!q.some(N=>N.route.loader))Z=!0;else{let N=n.hydrationData?n.hydrationData.loaderData:null,B=n.hydrationData?n.hydrationData.errors:null;if(B){let G=q.findIndex(X=>B[X.route.id]!==void 0);Z=q.slice(0,G+1).every(X=>!df(X.route,N,B))}else Z=q.every(G=>!df(G.route,N,B))}else{Z=!1,q=[];let N=Tr(null,a,n.history.location.pathname);N.active&&N.matches&&(q=N.matches)}let he,U={historyAction:n.history.action,location:n.history.location,matches:q,initialized:Z,navigation:Hh,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||te,fetchers:new Map,blockers:new Map},ce="POP",C=!1,x,S=!1,P=new Map,O=null,M=!1,k=!1,xe=new Set,Ie=new Map,Ke=0,Qe=-1,se=new Map,fe=new Set,pe=new Map,F=new Map,Y=new Set,_e=new Map,Oe,Ve=null;function $e(){if(T=n.history.listen(({action:N,location:B,delta:G})=>{if(Oe){Oe(),Oe=void 0;return}Jt(_e.size===0||G!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let X=ar({currentLocation:U.location,nextLocation:B,historyAction:N});if(X&&G!=null){let me=new Promise(we=>{Oe=we});n.history.go(G*-1),bn(X,{state:"blocked",location:B,proceed(){bn(X,{state:"proceeding",proceed:void 0,reset:void 0,location:B}),me.then(()=>n.history.go(G))},reset(){let we=new Map(U.blockers);we.set(X,el),ze({blockers:we})}});return}return jt(N,B)}),t){Ax(e,P);let N=()=>Cx(e,P);e.addEventListener("pagehide",N),O=()=>e.removeEventListener("pagehide",N)}return U.initialized||jt("POP",U.location,{initialHydration:!0}),he}function Ye(){T&&T(),O&&O(),I.clear(),x&&x.abort(),U.fetchers.forEach((N,B)=>gt(B)),U.blockers.forEach((N,B)=>sr(B))}function Xe(N){return I.add(N),()=>I.delete(N)}function ze(N,B={}){U={...U,...N};let G=[],X=[];U.fetchers.forEach((me,we)=>{me.state==="idle"&&(Y.has(we)?G.push(we):X.push(we))}),Y.forEach(me=>{!U.fetchers.has(me)&&!Ie.has(me)&&G.push(me)}),[...I].forEach(me=>me(U,{deletedFetchers:G,viewTransitionOpts:B.viewTransitionOpts,flushSync:B.flushSync===!0})),G.forEach(me=>gt(me)),X.forEach(me=>U.fetchers.delete(me))}function ft(N,B,{flushSync:G}={}){var le,Me;let X=U.actionData!=null&&U.navigation.formMethod!=null&&Fr(U.navigation.formMethod)&&U.navigation.state==="loading"&&((le=N.state)==null?void 0:le._isRedirect)!==!0,me;B.actionData?Object.keys(B.actionData).length>0?me=B.actionData:me=null:X?me=U.actionData:me=null;let we=B.loaderData?Ev(U.loaderData,B.loaderData,B.matches||[],B.errors):U.loaderData,Pe=U.blockers;Pe.size>0&&(Pe=new Map(Pe),Pe.forEach((We,ct)=>Pe.set(ct,el)));let ge=C===!0||U.navigation.formMethod!=null&&Fr(U.navigation.formMethod)&&((Me=N.state)==null?void 0:Me._isRedirect)!==!0;c&&(a=c,c=void 0),M||ce==="POP"||(ce==="PUSH"?n.history.push(N,N.state):ce==="REPLACE"&&n.history.replace(N,N.state));let Te;if(ce==="POP"){let We=P.get(U.location.pathname);We&&We.has(N.pathname)?Te={currentLocation:U.location,nextLocation:N}:P.has(N.pathname)&&(Te={currentLocation:N,nextLocation:U.location})}else if(S){let We=P.get(U.location.pathname);We?We.add(N.pathname):(We=new Set([N.pathname]),P.set(U.location.pathname,We)),Te={currentLocation:U.location,nextLocation:N}}ze({...B,actionData:me,loaderData:we,historyAction:ce,location:N,initialized:!0,navigation:Hh,revalidation:"idle",restoreScrollPosition:qn(N,B.matches||U.matches),preventScrollReset:ge,blockers:Pe},{viewTransitionOpts:Te,flushSync:G===!0}),ce="POP",C=!1,S=!1,M=!1,k=!1,Ve==null||Ve.resolve(),Ve=null}async function Zt(N,B){if(typeof N=="number"){n.history.go(N);return}let G=cf(U.location,U.matches,h,N,B==null?void 0:B.fromRouteId,B==null?void 0:B.relative),{path:X,submission:me,error:we}=fv(!1,G,B),Pe=U.location,ge=gl(U.location,X,B&&B.state);ge={...ge,...n.history.encodeLocation(ge)};let Te=B&&B.replace!=null?B.replace:void 0,le="PUSH";Te===!0?le="REPLACE":Te===!1||me!=null&&Fr(me.formMethod)&&me.formAction===U.location.pathname+U.location.search&&(le="REPLACE");let Me=B&&"preventScrollReset"in B?B.preventScrollReset===!0:void 0,We=(B&&B.flushSync)===!0,ct=ar({currentLocation:Pe,nextLocation:ge,historyAction:le});if(ct){bn(ct,{state:"blocked",location:ge,proceed(){bn(ct,{state:"proceeding",proceed:void 0,reset:void 0,location:ge}),Zt(N,B)},reset(){let Dt=new Map(U.blockers);Dt.set(ct,el),ze({blockers:Dt})}});return}await jt(le,ge,{submission:me,pendingError:we,preventScrollReset:Me,replace:B&&B.replace,enableViewTransition:B&&B.viewTransition,flushSync:We})}function En(){Ve||(Ve=Px()),de(),ze({revalidation:"loading"});let N=Ve.promise;return U.navigation.state==="submitting"?N:U.navigation.state==="idle"?(jt(U.historyAction,U.location,{startUninterruptedRevalidation:!0}),N):(jt(ce||U.historyAction,U.navigation.location,{overrideNavigation:U.navigation,enableViewTransition:S===!0}),N)}async function jt(N,B,G){x&&x.abort(),x=null,ce=N,M=(G&&G.startUninterruptedRevalidation)===!0,Dn(U.location,U.matches),C=(G&&G.preventScrollReset)===!0,S=(G&&G.enableViewTransition)===!0;let X=c||a,me=G&&G.overrideNavigation,we=mo(X,B,h),Pe=(G&&G.flushSync)===!0,ge=Tr(we,X,B.pathname);if(ge.active&&ge.matches&&(we=ge.matches),!we){let{error:et,notFoundMatches:at,route:dt}=Tn(B.pathname);ft(B,{matches:at,loaderData:{},errors:{[dt.id]:et}},{flushSync:Pe});return}if(U.initialized&&!k&&xx(U.location,B)&&!(G&&G.submission&&Fr(G.submission.formMethod))){ft(B,{matches:we},{flushSync:Pe});return}x=new AbortController;let Te=Ys(n.history,B,x.signal,G&&G.submission),le;if(G&&G.pendingError)le=[Jo(we).route.id,{type:"error",error:G.pendingError}];else if(G&&G.submission&&Fr(G.submission.formMethod)){let et=await rr(Te,B,G.submission,we,ge.active,{replace:G.replace,flushSync:Pe});if(et.shortCircuited)return;if(et.pendingActionResult){let[at,dt]=et.pendingActionResult;if(Zn(dt)&&Kc(dt.error)&&dt.error.status===404){x=null,ft(B,{matches:et.matches,loaderData:{},errors:{[at]:dt.error}});return}}we=et.matches||we,le=et.pendingActionResult,me=Wh(B,G.submission),Pe=!1,ge.active=!1,Te=Ys(n.history,Te.url,Te.signal)}let{shortCircuited:Me,matches:We,loaderData:ct,errors:Dt}=await _r(Te,B,we,ge.active,me,G&&G.submission,G&&G.fetcherSubmission,G&&G.replace,G&&G.initialHydration===!0,Pe,le);Me||(x=null,ft(B,{matches:We||we,...Tv(le),loaderData:ct,errors:Dt}))}async function rr(N,B,G,X,me,we={}){de();let Pe=Rx(B,G);if(ze({navigation:Pe},{flushSync:we.flushSync===!0}),me){let le=await xn(X,B.pathname,N.signal);if(le.type==="aborted")return{shortCircuited:!0};if(le.type==="error"){let Me=Jo(le.partialMatches).route.id;return{matches:le.partialMatches,pendingActionResult:[Me,{type:"error",error:le.error}]}}else if(le.matches)X=le.matches;else{let{notFoundMatches:Me,error:We,route:ct}=Tn(B.pathname);return{matches:Me,pendingActionResult:[ct.id,{type:"error",error:We}]}}}let ge,Te=rl(X,B);if(!Te.route.action&&!Te.route.lazy)ge={type:"error",error:gr(405,{method:N.method,pathname:B.pathname,routeId:Te.route.id})};else if(ge=(await Hn("action",U,N,[Te],X,null))[Te.route.id],N.signal.aborted)return{shortCircuited:!0};if(es(ge)){let le;return we&&we.replace!=null?le=we.replace:le=yv(ge.response.headers.get("Location"),new URL(N.url),h)===U.location.pathname+U.location.search,await Ut(N,ge,!0,{submission:G,replace:le}),{shortCircuited:!0}}if(Zn(ge)){let le=Jo(X,Te.route.id);return(we&&we.replace)!==!0&&(ce="PUSH"),{matches:X,pendingActionResult:[le.route.id,ge]}}return{matches:X,pendingActionResult:[Te.route.id,ge]}}async function _r(N,B,G,X,me,we,Pe,ge,Te,le,Me){let We=me||Wh(B,we),ct=we||Pe||Sv(We),Dt=!M&&!Te;if(X){if(Dt){let wt=wr(Me);ze({navigation:We,...wt!==void 0?{actionData:wt}:{}},{flushSync:le})}let it=await xn(G,B.pathname,N.signal);if(it.type==="aborted")return{shortCircuited:!0};if(it.type==="error"){let wt=Jo(it.partialMatches).route.id;return{matches:it.partialMatches,loaderData:{},errors:{[wt]:it.error}}}else if(it.matches)G=it.matches;else{let{error:wt,notFoundMatches:tn,route:Rr}=Tn(B.pathname);return{matches:tn,loaderData:{},errors:{[Rr.id]:wt}}}}let et=c||a,[at,dt]=mv(n.history,U,G,ct,B,Te===!0,k,xe,Y,pe,fe,et,h,Me);if(Qe=++Ke,at.length===0&&dt.length===0){let it=Pn();return ft(B,{matches:G,loaderData:{},errors:Me&&Zn(Me[1])?{[Me[0]]:Me[1].error}:null,...Tv(Me),...it?{fetchers:new Map(U.fetchers)}:{}},{flushSync:le}),{shortCircuited:!0}}if(Dt){let it={};if(!X){it.navigation=We;let wt=wr(Me);wt!==void 0&&(it.actionData=wt)}dt.length>0&&(it.fetchers=An(dt)),ze(it,{flushSync:le})}dt.forEach(it=>{It(it.key),it.controller&&Ie.set(it.key,it.controller)});let xr=()=>dt.forEach(it=>It(it.key));x&&x.signal.addEventListener("abort",xr);let{loaderResults:Ir,fetcherResults:dn}=await Er(U,G,at,dt,N);if(N.signal.aborted)return{shortCircuited:!0};x&&x.signal.removeEventListener("abort",xr),dt.forEach(it=>Ie.delete(it.key));let en=Yu(Ir);if(en)return await Ut(N,en.result,!0,{replace:ge}),{shortCircuited:!0};if(en=Yu(dn),en)return fe.add(en.key),await Ut(N,en.result,!0,{replace:ge}),{shortCircuited:!0};let{loaderData:hi,errors:Wr}=wv(U,G,Ir,Me,dt,dn);Te&&U.errors&&(Wr={...U.errors,...Wr});let Sr=Pn(),ht=ir(Qe),fi=Sr||ht||dt.length>0;return{matches:G,loaderData:hi,errors:Wr,...fi?{fetchers:new Map(U.fetchers)}:{}}}function wr(N){if(N&&!Zn(N[1]))return{[N[0]]:N[1].data};if(U.actionData)return Object.keys(U.actionData).length===0?null:U.actionData}function An(N){return N.forEach(B=>{let G=U.fetchers.get(B.key),X=tl(void 0,G?G.data:void 0);U.fetchers.set(B.key,X)}),new Map(U.fetchers)}async function $r(N,B,G,X){It(N);let me=(X&&X.flushSync)===!0,we=c||a,Pe=cf(U.location,U.matches,h,G,B,X==null?void 0:X.relative),ge=mo(we,Pe,h),Te=Tr(ge,we,Pe);if(Te.active&&Te.matches&&(ge=Te.matches),!ge){Le(N,B,gr(404,{pathname:Pe}),{flushSync:me});return}let{path:le,submission:Me,error:We}=fv(!0,Pe,X);if(We){Le(N,B,We,{flushSync:me});return}let ct=rl(ge,le),Dt=(X&&X.preventScrollReset)===!0;if(Me&&Fr(Me.formMethod)){await $n(N,B,le,ct,ge,Te.active,me,Dt,Me);return}pe.set(N,{routeId:B,path:le}),await cn(N,B,le,ct,ge,Te.active,me,Dt,Me)}async function $n(N,B,G,X,me,we,Pe,ge,Te){de(),pe.delete(N);function le(Et){if(!Et.route.action&&!Et.route.lazy){let Nn=gr(405,{method:Te.formMethod,pathname:G,routeId:B});return Le(N,B,Nn,{flushSync:Pe}),!0}return!1}if(!we&&le(X))return;let Me=U.fetchers.get(N);Re(N,kx(Te,Me),{flushSync:Pe});let We=new AbortController,ct=Ys(n.history,G,We.signal,Te);if(we){let Et=await xn(me,G,ct.signal);if(Et.type==="aborted")return;if(Et.type==="error"){Le(N,B,Et.error,{flushSync:Pe});return}else if(Et.matches){if(me=Et.matches,X=rl(me,G),le(X))return}else{Le(N,B,gr(404,{pathname:G}),{flushSync:Pe});return}}Ie.set(N,We);let Dt=Ke,at=(await Hn("action",U,ct,[X],me,N))[X.route.id];if(ct.signal.aborted){Ie.get(N)===We&&Ie.delete(N);return}if(Y.has(N)){if(es(at)||Zn(at)){Re(N,po(void 0));return}}else{if(es(at))if(Ie.delete(N),Qe>Dt){Re(N,po(void 0));return}else return fe.add(N),Re(N,tl(Te)),Ut(ct,at,!1,{fetcherSubmission:Te,preventScrollReset:ge});if(Zn(at)){Le(N,B,at.error);return}}let dt=U.navigation.location||U.location,xr=Ys(n.history,dt,We.signal),Ir=c||a,dn=U.navigation.state!=="idle"?mo(Ir,U.navigation.location,h):U.matches;rt(dn,"Didn't find any matches after fetcher action");let en=++Ke;se.set(N,en);let hi=tl(Te,at.data);U.fetchers.set(N,hi);let[Wr,Sr]=mv(n.history,U,dn,Te,dt,!1,k,xe,Y,pe,fe,Ir,h,[X.route.id,at]);Sr.filter(Et=>Et.key!==N).forEach(Et=>{let Nn=Et.key,hn=U.fetchers.get(Nn),gs=tl(void 0,hn?hn.data:void 0);U.fetchers.set(Nn,gs),It(Nn),Et.controller&&Ie.set(Nn,Et.controller)}),ze({fetchers:new Map(U.fetchers)});let ht=()=>Sr.forEach(Et=>It(Et.key));We.signal.addEventListener("abort",ht);let{loaderResults:fi,fetcherResults:it}=await Er(U,dn,Wr,Sr,xr);if(We.signal.aborted)return;We.signal.removeEventListener("abort",ht),se.delete(N),Ie.delete(N),Sr.forEach(Et=>Ie.delete(Et.key));let wt=Yu(fi);if(wt)return Ut(xr,wt.result,!1,{preventScrollReset:ge});if(wt=Yu(it),wt)return fe.add(wt.key),Ut(xr,wt.result,!1,{preventScrollReset:ge});let{loaderData:tn,errors:Rr}=wv(U,dn,fi,void 0,Sr,it);if(U.fetchers.has(N)){let Et=po(at.data);U.fetchers.set(N,Et)}ir(en),U.navigation.state==="loading"&&en>Qe?(rt(ce,"Expected pending action"),x&&x.abort(),ft(U.navigation.location,{matches:dn,loaderData:tn,errors:Rr,fetchers:new Map(U.fetchers)})):(ze({errors:Rr,loaderData:Ev(U.loaderData,tn,dn,Rr),fetchers:new Map(U.fetchers)}),k=!1)}async function cn(N,B,G,X,me,we,Pe,ge,Te){let le=U.fetchers.get(N);Re(N,tl(Te,le?le.data:void 0),{flushSync:Pe});let Me=new AbortController,We=Ys(n.history,G,Me.signal);if(we){let at=await xn(me,G,We.signal);if(at.type==="aborted")return;if(at.type==="error"){Le(N,B,at.error,{flushSync:Pe});return}else if(at.matches)me=at.matches,X=rl(me,G);else{Le(N,B,gr(404,{pathname:G}),{flushSync:Pe});return}}Ie.set(N,Me);let ct=Ke,et=(await Hn("loader",U,We,[X],me,N))[X.route.id];if(Ie.get(N)===Me&&Ie.delete(N),!We.signal.aborted){if(Y.has(N)){Re(N,po(void 0));return}if(es(et))if(Qe>ct){Re(N,po(void 0));return}else{fe.add(N),await Ut(We,et,!1,{preventScrollReset:ge});return}if(Zn(et)){Le(N,B,et.error);return}Re(N,po(et.data))}}async function Ut(N,B,G,{submission:X,fetcherSubmission:me,preventScrollReset:we,replace:Pe}={}){B.response.headers.has("X-Remix-Revalidate")&&(k=!0);let ge=B.response.headers.get("Location");rt(ge,"Expected a Location header on the redirect Response"),ge=yv(ge,new URL(N.url),h);let Te=gl(U.location,ge,{_isRedirect:!0});if(t){let et=!1;if(B.response.headers.has("X-Remix-Reload-Document"))et=!0;else if(qf.test(ge)){const at=n.history.createURL(ge);et=at.origin!==e.location.origin||Br(at.pathname,h)==null}if(et){Pe?e.location.replace(ge):e.location.assign(ge);return}}x=null;let le=Pe===!0||B.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Me,formAction:We,formEncType:ct}=U.navigation;!X&&!me&&Me&&We&&ct&&(X=Sv(U.navigation));let Dt=X||me;if(ux.has(B.response.status)&&Dt&&Fr(Dt.formMethod))await jt(le,Te,{submission:{...Dt,formAction:ge},preventScrollReset:we||C,enableViewTransition:G?S:void 0});else{let et=Wh(Te,X);await jt(le,Te,{overrideNavigation:et,fetcherSubmission:me,preventScrollReset:we||C,enableViewTransition:G?S:void 0})}}async function Hn(N,B,G,X,me,we){let Pe,ge={};try{Pe=await yx(p,N,B,G,X,me,we,s,i)}catch(Te){return X.forEach(le=>{ge[le.route.id]={type:"error",error:Te}}),ge}for(let[Te,le]of Object.entries(Pe))if(Ix(le)){let Me=le.result;ge[Te]={type:"redirect",response:Ex(Me,G,Te,me,h)}}else ge[Te]=await wx(le);return ge}async function Er(N,B,G,X,me){let we=Hn("loader",N,me,G,B,null),Pe=Promise.all(X.map(async le=>{if(le.matches&&le.match&&le.controller){let We=(await Hn("loader",N,Ys(n.history,le.path,le.controller.signal),[le.match],le.matches,le.key))[le.match.route.id];return{[le.key]:We}}else return Promise.resolve({[le.key]:{type:"error",error:gr(404,{pathname:le.path})}})})),ge=await we,Te=(await Pe).reduce((le,Me)=>Object.assign(le,Me),{});return{loaderResults:ge,fetcherResults:Te}}function de(){k=!0,pe.forEach((N,B)=>{Ie.has(B)&&xe.add(B),It(B)})}function Re(N,B,G={}){U.fetchers.set(N,B),ze({fetchers:new Map(U.fetchers)},{flushSync:(G&&G.flushSync)===!0})}function Le(N,B,G,X={}){let me=Jo(U.matches,B);gt(N),ze({errors:{[me.route.id]:G},fetchers:new Map(U.fetchers)},{flushSync:(X&&X.flushSync)===!0})}function qe(N){return F.set(N,(F.get(N)||0)+1),Y.has(N)&&Y.delete(N),U.fetchers.get(N)||cx}function gt(N){let B=U.fetchers.get(N);Ie.has(N)&&!(B&&B.state==="loading"&&se.has(N))&&It(N),pe.delete(N),se.delete(N),fe.delete(N),Y.delete(N),xe.delete(N),U.fetchers.delete(N)}function Wn(N){let B=(F.get(N)||0)-1;B<=0?(F.delete(N),Y.add(N)):F.set(N,B),ze({fetchers:new Map(U.fetchers)})}function It(N){let B=Ie.get(N);B&&(B.abort(),Ie.delete(N))}function Cn(N){for(let B of N){let G=qe(B),X=po(G.data);U.fetchers.set(B,X)}}function Pn(){let N=[],B=!1;for(let G of fe){let X=U.fetchers.get(G);rt(X,`Expected fetcher: ${G}`),X.state==="loading"&&(fe.delete(G),N.push(G),B=!0)}return Cn(N),B}function ir(N){let B=[];for(let[G,X]of se)if(X<N){let me=U.fetchers.get(G);rt(me,`Expected fetcher: ${G}`),me.state==="loading"&&(It(G),se.delete(G),B.push(G))}return Cn(B),B.length>0}function or(N,B){let G=U.blockers.get(N)||el;return _e.get(N)!==B&&_e.set(N,B),G}function sr(N){U.blockers.delete(N),_e.delete(N)}function bn(N,B){let G=U.blockers.get(N)||el;rt(G.state==="unblocked"&&B.state==="blocked"||G.state==="blocked"&&B.state==="blocked"||G.state==="blocked"&&B.state==="proceeding"||G.state==="blocked"&&B.state==="unblocked"||G.state==="proceeding"&&B.state==="unblocked",`Invalid blocker state transition: ${G.state} -> ${B.state}`);let X=new Map(U.blockers);X.set(N,B),ze({blockers:X})}function ar({currentLocation:N,nextLocation:B,historyAction:G}){if(_e.size===0)return;_e.size>1&&Jt(!1,"A router only supports one blocker at a time");let X=Array.from(_e.entries()),[me,we]=X[X.length-1],Pe=U.blockers.get(me);if(!(Pe&&Pe.state==="proceeding")&&we({currentLocation:N,nextLocation:B,historyAction:G}))return me}function Tn(N){let B=gr(404,{pathname:N}),G=c||a,{matches:X,route:me}=xv(G);return{notFoundMatches:X,route:me,error:B}}function Hr(N,B,G){if(A=N,j=B,b=G||null,!V&&U.navigation===Hh){V=!0;let X=qn(U.location,U.matches);X!=null&&ze({restoreScrollPosition:X})}return()=>{A=null,j=null,b=null}}function ci(N,B){return b&&b(N,B.map(X=>zT(X,U.loaderData)))||N.key}function Dn(N,B){if(A&&j){let G=ci(N,B);A[G]=j()}}function qn(N,B){if(A){let G=ci(N,B),X=A[G];if(typeof X=="number")return X}return null}function Tr(N,B,G){if(v)if(N){if(Object.keys(N[0].params).length>0)return{active:!0,matches:ac(B,G,h,!0)}}else return{active:!0,matches:ac(B,G,h,!0)||[]};return{active:!1,matches:null}}async function xn(N,B,G){if(!v)return{type:"success",matches:N};let X=N;for(;;){let me=c==null,we=c||a,Pe=s;try{await v({path:B,matches:X,patch:(le,Me)=>{G.aborted||vv(le,Me,we,Pe,i)}})}catch(le){return{type:"error",error:le,partialMatches:X}}finally{me&&!G.aborted&&(a=[...a])}if(G.aborted)return{type:"aborted"};let ge=mo(we,B,h);if(ge)return{type:"success",matches:ge};let Te=ac(we,B,h,!0);if(!Te||X.length===Te.length&&X.every((le,Me)=>le.route.id===Te[Me].route.id))return{type:"success",matches:null};X=Te}}function Do(N){s={},c=wc(N,i,void 0,s)}function di(N,B){let G=c==null;vv(N,B,c||a,s,i),G&&(a=[...a],ze({}))}return he={get basename(){return h},get future(){return _},get state(){return U},get routes(){return a},get window(){return e},initialize:$e,subscribe:Xe,enableScrollRestoration:Hr,navigate:Zt,fetch:$r,revalidate:En,createHref:N=>n.history.createHref(N),encodeLocation:N=>n.history.encodeLocation(N),getFetcher:qe,deleteFetcher:Wn,dispose:Ye,getBlocker:or,deleteBlocker:sr,patchRoutes:di,_internalFetchControllers:Ie,_internalSetRoutes:Do},he}function fx(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function cf(n,e,t,i,s,a){let c,h;if(s){c=[];for(let v of e)if(c.push(v),v.route.id===s){h=v;break}}else c=e,h=e[e.length-1];let p=Wf(i||".",Hf(c),Br(n.pathname,t)||n.pathname,a==="path");if(i==null&&(p.search=n.search,p.hash=n.hash),(i==null||i===""||i===".")&&h){let v=Kf(p.search);if(h.route.index&&!v)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!h.route.index&&v){let _=new URLSearchParams(p.search),T=_.getAll("index");_.delete("index"),T.filter(A=>A).forEach(A=>_.append("index",A));let I=_.toString();p.search=I?`?${I}`:""}}return t!=="/"&&(p.pathname=p.pathname==="/"?t:ri([t,p.pathname])),So(p)}function fv(n,e,t){if(!t||!fx(t))return{path:e};if(t.formMethod&&!Sx(t.formMethod))return{path:e,error:gr(405,{method:t.formMethod})};let i=()=>({path:e,error:gr(400,{type:"invalid-body"})}),a=(t.formMethod||"get").toUpperCase(),c=S_(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Fr(a))return i();let T=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((I,[A,b])=>`${I}${A}=${b}
`,""):String(t.body);return{path:e,submission:{formMethod:a,formAction:c,formEncType:t.formEncType,formData:void 0,json:void 0,text:T}}}else if(t.formEncType==="application/json"){if(!Fr(a))return i();try{let T=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:a,formAction:c,formEncType:t.formEncType,formData:void 0,json:T,text:void 0}}}catch{return i()}}}rt(typeof FormData=="function","FormData is not available in this environment");let h,p;if(t.formData)h=hf(t.formData),p=t.formData;else if(t.body instanceof FormData)h=hf(t.body),p=t.body;else if(t.body instanceof URLSearchParams)h=t.body,p=_v(h);else if(t.body==null)h=new URLSearchParams,p=new FormData;else try{h=new URLSearchParams(t.body),p=_v(h)}catch{return i()}let v={formMethod:a,formAction:c,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(Fr(v.formMethod))return{path:e,submission:v};let _=Fi(e);return n&&_.search&&Kf(_.search)&&h.append("index",""),_.search=`?${h}`,{path:So(_),submission:v}}function pv(n,e,t=!1){let i=n.findIndex(s=>s.route.id===e);return i>=0?n.slice(0,t?i+1:i):n}function mv(n,e,t,i,s,a,c,h,p,v,_,T,I,A){let b=A?Zn(A[1])?A[1].error:A[1].data:void 0,j=n.createURL(e.location),V=n.createURL(s),q=t;a&&e.errors?q=pv(t,Object.keys(e.errors)[0],!0):A&&Zn(A[1])&&(q=pv(t,A[0]));let te=A?A[1].statusCode:void 0,Z=te&&te>=400,he=q.filter((ce,C)=>{let{route:x}=ce;if(x.lazy)return!0;if(x.loader==null)return!1;if(a)return df(x,e.loaderData,e.errors);if(px(e.loaderData,e.matches[C],ce))return!0;let S=e.matches[C],P=ce;return gv(ce,{currentUrl:j,currentParams:S.params,nextUrl:V,nextParams:P.params,...i,actionResult:b,actionStatus:te,defaultShouldRevalidate:Z?!1:c||j.pathname+j.search===V.pathname+V.search||j.search!==V.search||mx(S,P)})}),U=[];return v.forEach((ce,C)=>{if(a||!t.some(M=>M.route.id===ce.routeId)||p.has(C))return;let x=mo(T,ce.path,I);if(!x){U.push({key:C,routeId:ce.routeId,path:ce.path,matches:null,match:null,controller:null});return}let S=e.fetchers.get(C),P=rl(x,ce.path),O=!1;_.has(C)?O=!1:h.has(C)?(h.delete(C),O=!0):S&&S.state!=="idle"&&S.data===void 0?O=c:O=gv(P,{currentUrl:j,currentParams:e.matches[e.matches.length-1].params,nextUrl:V,nextParams:t[t.length-1].params,...i,actionResult:b,actionStatus:te,defaultShouldRevalidate:Z?!1:c}),O&&U.push({key:C,routeId:ce.routeId,path:ce.path,matches:x,match:P,controller:new AbortController})}),[he,U]}function df(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let i=e!=null&&e[n.id]!==void 0,s=t!=null&&t[n.id]!==void 0;return!i&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!i&&!s}function px(n,e,t){let i=!e||t.route.id!==e.route.id,s=!n.hasOwnProperty(t.route.id);return i||s}function mx(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function gv(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function vv(n,e,t,i,s){let a;if(n){let p=i[n];rt(p,`No route found to patch children into: routeId = ${n}`),p.children||(p.children=[]),a=p.children}else a=t;let c=e.filter(p=>!a.some(v=>I_(p,v))),h=wc(c,s,[n||"_","patch",String((a==null?void 0:a.length)||"0")],i);a.push(...h)}function I_(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,i)=>{var s;return(s=e.children)==null?void 0:s.some(a=>I_(t,a))}):!1}async function gx(n,e,t){if(!n.lazy)return;let i=await n.lazy();if(!n.lazy)return;let s=t[n.id];rt(s,"No route found in manifest");let a={};for(let c in i){let p=s[c]!==void 0&&c!=="hasErrorBoundary";Jt(!p,`Route "${s.id}" has a static property "${c}" defined but its lazy function is also returning a value for this property. The lazy route property "${c}" will be ignored.`),!p&&!jT.has(c)&&(a[c]=i[c])}Object.assign(s,a),Object.assign(s,{...e(s),lazy:void 0})}async function vx({matches:n}){let e=n.filter(i=>i.shouldLoad);return(await Promise.all(e.map(i=>i.resolve()))).reduce((i,s,a)=>Object.assign(i,{[e[a].route.id]:s}),{})}async function yx(n,e,t,i,s,a,c,h,p,v){let _=a.map(A=>A.route.lazy?gx(A.route,p,h):void 0),T=a.map((A,b)=>{let j=_[b],V=s.some(te=>te.route.id===A.route.id);return{...A,shouldLoad:V,resolve:async te=>(te&&i.method==="GET"&&(A.route.lazy||A.route.loader)&&(V=!0),V?_x(e,i,A,j,te,v):Promise.resolve({type:"data",result:void 0}))}}),I=await n({matches:T,request:i,params:a[0].params,fetcherKey:c,context:v});try{await Promise.all(_)}catch{}return I}async function _x(n,e,t,i,s,a){let c,h,p=v=>{let _,T=new Promise((b,j)=>_=j);h=()=>_(),e.signal.addEventListener("abort",h);let I=b=>typeof v!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${t.route.id}]`)):v({request:e,params:t.params,context:a},...b!==void 0?[b]:[]),A=(async()=>{try{return{type:"data",result:await(s?s(j=>I(j)):I())}}catch(b){return{type:"error",result:b}}})();return Promise.race([A,T])};try{let v=t.route[n];if(i)if(v){let _,[T]=await Promise.all([p(v).catch(I=>{_=I}),i]);if(_!==void 0)throw _;c=T}else if(await i,v=t.route[n],v)c=await p(v);else if(n==="action"){let _=new URL(e.url),T=_.pathname+_.search;throw gr(405,{method:e.method,pathname:T,routeId:t.route.id})}else return{type:"data",result:void 0};else if(v)c=await p(v);else{let _=new URL(e.url),T=_.pathname+_.search;throw gr(404,{pathname:T})}}catch(v){return{type:"error",result:v}}finally{h&&e.signal.removeEventListener("abort",h)}return c}async function wx(n){var i,s,a,c;let{result:e,type:t}=n;if(R_(e)){let h;try{let p=e.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?e.body==null?h=null:h=await e.json():h=await e.text()}catch(p){return{type:"error",error:p}}return t==="error"?{type:"error",error:new Tc(e.status,e.statusText,h),statusCode:e.status,headers:e.headers}:{type:"data",data:h,statusCode:e.status,headers:e.headers}}if(t==="error"){if(Iv(e)){if(e.data instanceof Error)return{type:"error",error:e.data,statusCode:(i=e.init)==null?void 0:i.status};e=new Tc(((s=e.init)==null?void 0:s.status)||500,void 0,e.data)}return{type:"error",error:e,statusCode:Kc(e)?e.status:void 0}}return Iv(e)?{type:"data",data:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(c=e.init)!=null&&c.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function Ex(n,e,t,i,s){let a=n.headers.get("Location");if(rt(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!qf.test(a)){let c=i.slice(0,i.findIndex(h=>h.route.id===t)+1);a=cf(new URL(e.url),c,s,a),n.headers.set("Location",a)}return n}function yv(n,e,t){if(qf.test(n)){let i=n,s=i.startsWith("//")?new URL(e.protocol+i):new URL(i),a=Br(s.pathname,t)!=null;if(s.origin===e.origin&&a)return s.pathname+s.search+s.hash}return n}function Ys(n,e,t,i){let s=n.createURL(S_(e)).toString(),a={signal:t};if(i&&Fr(i.formMethod)){let{formMethod:c,formEncType:h}=i;a.method=c.toUpperCase(),h==="application/json"?(a.headers=new Headers({"Content-Type":h}),a.body=JSON.stringify(i.json)):h==="text/plain"?a.body=i.text:h==="application/x-www-form-urlencoded"&&i.formData?a.body=hf(i.formData):a.body=i.formData}return new Request(s,a)}function hf(n){let e=new URLSearchParams;for(let[t,i]of n.entries())e.append(t,typeof i=="string"?i:i.name);return e}function _v(n){let e=new FormData;for(let[t,i]of n.entries())e.append(t,i);return e}function Tx(n,e,t,i=!1,s=!1){let a={},c=null,h,p=!1,v={},_=t&&Zn(t[1])?t[1].error:void 0;return n.forEach(T=>{if(!(T.route.id in e))return;let I=T.route.id,A=e[I];if(rt(!es(A),"Cannot handle redirect results in processLoaderData"),Zn(A)){let b=A.error;if(_!==void 0&&(b=_,_=void 0),c=c||{},s)c[I]=b;else{let j=Jo(n,I);c[j.route.id]==null&&(c[j.route.id]=b)}i||(a[I]=x_),p||(p=!0,h=Kc(A.error)?A.error.status:500),A.headers&&(v[I]=A.headers)}else a[I]=A.data,A.statusCode&&A.statusCode!==200&&!p&&(h=A.statusCode),A.headers&&(v[I]=A.headers)}),_!==void 0&&t&&(c={[t[0]]:_},a[t[0]]=void 0),{loaderData:a,errors:c,statusCode:h||200,loaderHeaders:v}}function wv(n,e,t,i,s,a){let{loaderData:c,errors:h}=Tx(e,t,i);return s.forEach(p=>{let{key:v,match:_,controller:T}=p,I=a[v];if(rt(I,"Did not find corresponding fetcher result"),!(T&&T.signal.aborted))if(Zn(I)){let A=Jo(n.matches,_==null?void 0:_.route.id);h&&h[A.route.id]||(h={...h,[A.route.id]:I.error}),n.fetchers.delete(v)}else if(es(I))rt(!1,"Unhandled fetcher revalidation redirect");else{let A=po(I.data);n.fetchers.set(v,A)}}),{loaderData:c,errors:h}}function Ev(n,e,t,i){let s=Object.entries(e).filter(([,a])=>a!==x_).reduce((a,[c,h])=>(a[c]=h,a),{});for(let a of t){let c=a.route.id;if(!e.hasOwnProperty(c)&&n.hasOwnProperty(c)&&a.route.loader&&(s[c]=n[c]),i&&i.hasOwnProperty(c))break}return s}function Tv(n){return n?Zn(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function Jo(n,e){return(e?n.slice(0,n.findIndex(i=>i.route.id===e)+1):[...n]).reverse().find(i=>i.route.hasErrorBoundary===!0)||n[0]}function xv(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function gr(n,{pathname:e,routeId:t,method:i,type:s,message:a}={}){let c="Unknown Server Error",h="Unknown @remix-run/router error";return n===400?(c="Bad Request",i&&e&&t?h=`You made a ${i} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:s==="invalid-body"&&(h="Unable to encode submission body")):n===403?(c="Forbidden",h=`Route "${t}" does not match URL "${e}"`):n===404?(c="Not Found",h=`No route matches URL "${e}"`):n===405&&(c="Method Not Allowed",i&&e&&t?h=`You made a ${i.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:i&&(h=`Invalid request method "${i.toUpperCase()}"`)),new Tc(n||500,c,new Error(h),!0)}function Yu(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[i,s]=e[t];if(es(s))return{key:i,result:s}}}function S_(n){let e=typeof n=="string"?Fi(n):n;return So({...e,hash:""})}function xx(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function Ix(n){return R_(n.result)&&lx.has(n.result.status)}function Zn(n){return n.type==="error"}function es(n){return(n&&n.type)==="redirect"}function Iv(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function R_(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function Sx(n){return ax.has(n.toUpperCase())}function Fr(n){return ox.has(n.toUpperCase())}function Kf(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function rl(n,e){let t=typeof e=="string"?Fi(e).search:e.search;if(n[n.length-1].route.index&&Kf(t||""))return n[n.length-1];let i=w_(n);return i[i.length-1]}function Sv(n){let{formMethod:e,formAction:t,formEncType:i,text:s,formData:a,json:c}=n;if(!(!e||!t||!i)){if(s!=null)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:void 0,text:s};if(a!=null)return{formMethod:e,formAction:t,formEncType:i,formData:a,json:void 0,text:void 0};if(c!==void 0)return{formMethod:e,formAction:t,formEncType:i,formData:void 0,json:c,text:void 0}}}function Wh(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function Rx(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function tl(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function kx(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function po(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function Ax(n,e){try{let t=n.sessionStorage.getItem(T_);if(t){let i=JSON.parse(t);for(let[s,a]of Object.entries(i||{}))a&&Array.isArray(a)&&e.set(s,new Set(a||[]))}}catch{}}function Cx(n,e){if(e.size>0){let t={};for(let[i,s]of e)t[i]=[...s];try{n.sessionStorage.setItem(T_,JSON.stringify(t))}catch(i){Jt(!1,`Failed to save applied view transitions in sessionStorage (${i}).`)}}}function Px(){let n,e,t=new Promise((i,s)=>{n=async a=>{i(a);try{await t}catch{}},e=async a=>{s(a);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var us=z.createContext(null);us.displayName="DataRouter";var kl=z.createContext(null);kl.displayName="DataRouterState";var Gf=z.createContext({isTransitioning:!1});Gf.displayName="ViewTransition";var k_=z.createContext(new Map);k_.displayName="Fetchers";var bx=z.createContext(null);bx.displayName="Await";var ui=z.createContext(null);ui.displayName="Navigation";var Gc=z.createContext(null);Gc.displayName="Location";var ji=z.createContext({outlet:null,matches:[],isDataRoute:!1});ji.displayName="Route";var Qf=z.createContext(null);Qf.displayName="RouteError";function Dx(n,{relative:e}={}){rt(Al(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=z.useContext(ui),{hash:s,pathname:a,search:c}=Pl(n,{relative:e}),h=a;return t!=="/"&&(h=a==="/"?t:ri([t,a])),i.createHref({pathname:h,search:c,hash:s})}function Al(){return z.useContext(Gc)!=null}function cs(){return rt(Al(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(Gc).location}var A_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function C_(n){z.useContext(ui).static||z.useLayoutEffect(n)}function Cl(){let{isDataRoute:n}=z.useContext(ji);return n?Wx():Nx()}function Nx(){rt(Al(),"useNavigate() may be used only in the context of a <Router> component.");let n=z.useContext(us),{basename:e,navigator:t}=z.useContext(ui),{matches:i}=z.useContext(ji),{pathname:s}=cs(),a=JSON.stringify(Hf(i)),c=z.useRef(!1);return C_(()=>{c.current=!0}),z.useCallback((p,v={})=>{if(Jt(c.current,A_),!c.current)return;if(typeof p=="number"){t.go(p);return}let _=Wf(p,JSON.parse(a),s,v.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ri([e,_.pathname])),(v.replace?t.replace:t.push)(_,v.state,v)},[e,t,a,s,n])}z.createContext(null);function Pl(n,{relative:e}={}){let{matches:t}=z.useContext(ji),{pathname:i}=cs(),s=JSON.stringify(Hf(t));return z.useMemo(()=>Wf(n,JSON.parse(s),i,e==="path"),[n,s,i,e])}function Ox(n,e,t,i){rt(Al(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=z.useContext(ui),{matches:a}=z.useContext(ji),c=a[a.length-1],h=c?c.params:{},p=c?c.pathname:"/",v=c?c.pathnameBase:"/",_=c&&c.route;{let q=_&&_.path||"";P_(p,!_||q.endsWith("*")||q.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${q}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${q}"> to <Route path="${q==="/"?"*":`${q}/*`}">.`)}let T=cs(),I;I=T;let A=I.pathname||"/",b=A;if(v!=="/"){let q=v.replace(/^\//,"").split("/");b="/"+A.replace(/^\//,"").split("/").slice(q.length).join("/")}let j=mo(n,{pathname:b});return Jt(_||j!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Jt(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),jx(j&&j.map(q=>Object.assign({},q,{params:Object.assign({},h,q.params),pathname:ri([v,s.encodeLocation?s.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?v:ri([v,s.encodeLocation?s.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),a,t,i)}function Lx(){let n=Hx(),e=Kc(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=z.createElement(z.Fragment,null,z.createElement("p",null,"💿 Hey developer 👋"),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:a},"ErrorBoundary")," or"," ",z.createElement("code",{style:a},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),t?z.createElement("pre",{style:s},t):null,c)}var Vx=z.createElement(Lx,null),Mx=class extends z.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?z.createElement(ji.Provider,{value:this.props.routeContext},z.createElement(Qf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Fx({routeContext:n,match:e,children:t}){let i=z.useContext(us);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(ji.Provider,{value:n},t)}function jx(n,e=[],t=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let p=s.findIndex(v=>v.route.id&&(a==null?void 0:a[v.route.id])!==void 0);rt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let c=!1,h=-1;if(t)for(let p=0;p<s.length;p++){let v=s[p];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(h=p),v.route.id){let{loaderData:_,errors:T}=t,I=v.route.loader&&!_.hasOwnProperty(v.route.id)&&(!T||T[v.route.id]===void 0);if(v.route.lazy||I){c=!0,h>=0?s=s.slice(0,h+1):s=[s[0]];break}}}return s.reduceRight((p,v,_)=>{let T,I=!1,A=null,b=null;t&&(T=a&&v.route.id?a[v.route.id]:void 0,A=v.route.errorElement||Vx,c&&(h<0&&_===0?(P_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,b=null):h===_&&(I=!0,b=v.route.hydrateFallbackElement||null)));let j=e.concat(s.slice(0,_+1)),V=()=>{let q;return T?q=A:I?q=b:v.route.Component?q=z.createElement(v.route.Component,null):v.route.element?q=v.route.element:q=p,z.createElement(Fx,{match:v,routeContext:{outlet:p,matches:j,isDataRoute:t!=null},children:q})};return t&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?z.createElement(Mx,{location:t.location,revalidation:t.revalidation,component:A,error:T,children:V(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):V()},null)}function Yf(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ux(n){let e=z.useContext(us);return rt(e,Yf(n)),e}function zx(n){let e=z.useContext(kl);return rt(e,Yf(n)),e}function Bx(n){let e=z.useContext(ji);return rt(e,Yf(n)),e}function Xf(n){let e=Bx(n),t=e.matches[e.matches.length-1];return rt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function $x(){return Xf("useRouteId")}function Hx(){var i;let n=z.useContext(Qf),e=zx("useRouteError"),t=Xf("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function Wx(){let{router:n}=Ux("useNavigate"),e=Xf("useNavigate"),t=z.useRef(!1);return C_(()=>{t.current=!0}),z.useCallback(async(s,a={})=>{Jt(t.current,A_),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...a}))},[n,e])}var Rv={};function P_(n,e,t){!e&&!Rv[n]&&(Rv[n]=!0,Jt(!1,t))}var kv={};function Av(n,e){!n&&!kv[e]&&(kv[e]=!0,console.warn(e))}function qx(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&Jt(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:z.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&Jt(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:z.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&Jt(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:z.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var Kx=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=i=>{this.status==="pending"&&(this.status="resolved",e(i))},this.reject=i=>{this.status==="pending"&&(this.status="rejected",t(i))}})}};function Gx({router:n,flushSync:e}){let[t,i]=z.useState(n.state),[s,a]=z.useState(),[c,h]=z.useState({isTransitioning:!1}),[p,v]=z.useState(),[_,T]=z.useState(),[I,A]=z.useState(),b=z.useRef(new Map),j=z.useCallback((Z,{deletedFetchers:he,flushSync:U,viewTransitionOpts:ce})=>{Z.fetchers.forEach((x,S)=>{x.data!==void 0&&b.current.set(S,x.data)}),he.forEach(x=>b.current.delete(x)),Av(U===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let C=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(Av(ce==null||C,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!ce||!C){e&&U?e(()=>i(Z)):z.startTransition(()=>i(Z));return}if(e&&U){e(()=>{_&&(p&&p.resolve(),_.skipTransition()),h({isTransitioning:!0,flushSync:!0,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation})});let x=n.window.document.startViewTransition(()=>{e(()=>i(Z))});x.finished.finally(()=>{e(()=>{v(void 0),T(void 0),a(void 0),h({isTransitioning:!1})})}),e(()=>T(x));return}_?(p&&p.resolve(),_.skipTransition(),A({state:Z,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation})):(a(Z),h({isTransitioning:!0,flushSync:!1,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation}))},[n.window,e,_,p]);z.useLayoutEffect(()=>n.subscribe(j),[n,j]),z.useEffect(()=>{c.isTransitioning&&!c.flushSync&&v(new Kx)},[c]),z.useEffect(()=>{if(p&&s&&n.window){let Z=s,he=p.promise,U=n.window.document.startViewTransition(async()=>{z.startTransition(()=>i(Z)),await he});U.finished.finally(()=>{v(void 0),T(void 0),a(void 0),h({isTransitioning:!1})}),T(U)}},[s,p,n.window]),z.useEffect(()=>{p&&s&&t.location.key===s.location.key&&p.resolve()},[p,_,t.location,s]),z.useEffect(()=>{!c.isTransitioning&&I&&(a(I.state),h({isTransitioning:!0,flushSync:!1,currentLocation:I.currentLocation,nextLocation:I.nextLocation}),A(void 0))},[c.isTransitioning,I]);let V=z.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:Z=>n.navigate(Z),push:(Z,he,U)=>n.navigate(Z,{state:he,preventScrollReset:U==null?void 0:U.preventScrollReset}),replace:(Z,he,U)=>n.navigate(Z,{replace:!0,state:he,preventScrollReset:U==null?void 0:U.preventScrollReset})}),[n]),q=n.basename||"/",te=z.useMemo(()=>({router:n,navigator:V,static:!1,basename:q}),[n,V,q]);return z.createElement(z.Fragment,null,z.createElement(us.Provider,{value:te},z.createElement(kl.Provider,{value:t},z.createElement(k_.Provider,{value:b.current},z.createElement(Gf.Provider,{value:c},z.createElement(Xx,{basename:q,location:t.location,navigationType:t.historyAction,navigator:V},z.createElement(Qx,{routes:n.routes,future:n.future,state:t})))))),null)}var Qx=z.memo(Yx);function Yx({routes:n,future:e,state:t}){return Ox(n,void 0,t,e)}function Xx({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:s,static:a=!1}){rt(!Al(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=z.useMemo(()=>({basename:c,navigator:s,static:a,future:{}}),[c,s,a]);typeof t=="string"&&(t=Fi(t));let{pathname:p="/",search:v="",hash:_="",state:T=null,key:I="default"}=t,A=z.useMemo(()=>{let b=Br(p,c);return b==null?null:{location:{pathname:b,search:v,hash:_,state:T,key:I},navigationType:i}},[c,p,v,_,T,I,i]);return Jt(A!=null,`<Router basename="${c}"> is not able to match the URL "${p}${v}${_}" because it does not start with the basename, so the <Router> won't render anything.`),A==null?null:z.createElement(ui.Provider,{value:h},z.createElement(Gc.Provider,{children:e,value:A}))}var lc="get",uc="application/x-www-form-urlencoded";function Qc(n){return n!=null&&typeof n.tagName=="string"}function Jx(n){return Qc(n)&&n.tagName.toLowerCase()==="button"}function Zx(n){return Qc(n)&&n.tagName.toLowerCase()==="form"}function eI(n){return Qc(n)&&n.tagName.toLowerCase()==="input"}function tI(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function nI(n,e){return n.button===0&&(!e||e==="_self")&&!tI(n)}var Xu=null;function rI(){if(Xu===null)try{new FormData(document.createElement("form"),0),Xu=!1}catch{Xu=!0}return Xu}var iI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qh(n){return n!=null&&!iI.has(n)?(Jt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uc}"`),null):n}function oI(n,e){let t,i,s,a,c;if(Zx(n)){let h=n.getAttribute("action");i=h?Br(h,e):null,t=n.getAttribute("method")||lc,s=qh(n.getAttribute("enctype"))||uc,a=new FormData(n)}else if(Jx(n)||eI(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||h.getAttribute("action");if(i=p?Br(p,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||lc,s=qh(n.getAttribute("formenctype"))||qh(h.getAttribute("enctype"))||uc,a=new FormData(h,n),!rI()){let{name:v,type:_,value:T}=n;if(_==="image"){let I=v?`${v}.`:"";a.append(`${I}x`,"0"),a.append(`${I}y`,"0")}else v&&a.append(v,T)}}else{if(Qc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=lc,i=null,s=uc,c=n}return a&&s==="text/plain"&&(c=a,a=void 0),{action:i,method:t.toLowerCase(),encType:s,formData:a,body:c}}function Jf(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function sI(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aI(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function lI(n,e,t){let i=await Promise.all(n.map(async s=>{let a=e.routes[s.route.id];if(a){let c=await sI(a,t);return c.links?c.links():[]}return[]}));return hI(i.flat(1).filter(aI).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Cv(n,e,t,i,s,a){let c=(p,v)=>t[v]?p.route.id!==t[v].route.id:!0,h=(p,v)=>{var _;return t[v].pathname!==p.pathname||((_=t[v].route.path)==null?void 0:_.endsWith("*"))&&t[v].params["*"]!==p.params["*"]};return a==="assets"?e.filter((p,v)=>c(p,v)||h(p,v)):a==="data"?e.filter((p,v)=>{var T;let _=i.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(c(p,v)||h(p,v))return!0;if(p.route.shouldRevalidate){let I=p.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((T=t[0])==null?void 0:T.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function uI(n,e){return cI(n.map(t=>{let i=e.routes[t.route.id];if(!i)return[];let s=[i.module];return i.imports&&(s=s.concat(i.imports)),s}).flat(1))}function cI(n){return[...new Set(n)]}function dI(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function hI(n,e){let t=new Set;return new Set(e),n.reduce((i,s)=>{let a=JSON.stringify(dI(s));return t.has(a)||(t.add(a),i.push({key:a,link:s})),i},[])}function fI(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function pI(){let n=z.useContext(us);return Jf(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function mI(){let n=z.useContext(kl);return Jf(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Zf=z.createContext(void 0);Zf.displayName="FrameworkContext";function b_(){let n=z.useContext(Zf);return Jf(n,"You must render this element inside a <HydratedRouter> element"),n}function gI(n,e){let t=z.useContext(Zf),[i,s]=z.useState(!1),[a,c]=z.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:v,onMouseLeave:_,onTouchStart:T}=e,I=z.useRef(null);z.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let j=q=>{q.forEach(te=>{c(te.isIntersecting)})},V=new IntersectionObserver(j,{threshold:.5});return I.current&&V.observe(I.current),()=>{V.disconnect()}}},[n]),z.useEffect(()=>{if(i){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[i]);let A=()=>{s(!0)},b=()=>{s(!1),c(!1)};return t?n!=="intent"?[a,I,{}]:[a,I,{onFocus:nl(h,A),onBlur:nl(p,b),onMouseEnter:nl(v,A),onMouseLeave:nl(_,b),onTouchStart:nl(T,A)}]:[!1,I,{}]}function nl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function vI({page:n,...e}){let{router:t}=pI(),i=z.useMemo(()=>mo(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?z.createElement(_I,{page:n,matches:i,...e}):null}function yI(n){let{manifest:e,routeModules:t}=b_(),[i,s]=z.useState([]);return z.useEffect(()=>{let a=!1;return lI(n,e,t).then(c=>{a||s(c)}),()=>{a=!0}},[n,e,t]),i}function _I({page:n,matches:e,...t}){let i=cs(),{manifest:s,routeModules:a}=b_(),{loaderData:c,matches:h}=mI(),p=z.useMemo(()=>Cv(n,e,h,s,i,"data"),[n,e,h,s,i]),v=z.useMemo(()=>Cv(n,e,h,s,i,"assets"),[n,e,h,s,i]),_=z.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let A=new Set,b=!1;if(e.forEach(V=>{var te;let q=s.routes[V.route.id];!q||!q.hasLoader||(!p.some(Z=>Z.route.id===V.route.id)&&V.route.id in c&&((te=a[V.route.id])!=null&&te.shouldRevalidate)||q.hasClientLoader?b=!0:A.add(V.route.id))}),A.size===0)return[];let j=fI(n);return b&&A.size>0&&j.searchParams.set("_routes",e.filter(V=>A.has(V.route.id)).map(V=>V.route.id).join(",")),[j.pathname+j.search]},[c,i,s,p,e,n,a]),T=z.useMemo(()=>uI(v,s),[v,s]),I=yI(v);return z.createElement(z.Fragment,null,_.map(A=>z.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...t})),T.map(A=>z.createElement("link",{key:A,rel:"modulepreload",href:A,...t})),I.map(({key:A,link:b})=>z.createElement("link",{key:A,...b})))}function wI(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var D_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{D_&&(window.__reactRouterVersion="7.1.3")}catch{}function EI(n,e){return hx({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:VT({window:e==null?void 0:e.window}),hydrationData:TI(),routes:n,mapRouteProperties:qx,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function TI(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:xI(n.errors)}),n}function xI(n){if(!n)return null;let e=Object.entries(n),t={};for(let[i,s]of e)if(s&&s.__type==="RouteErrorResponse")t[i]=new Tc(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let a=window[s.__subType];if(typeof a=="function")try{let c=new a(s.message);c.stack="",t[i]=c}catch{}}if(t[i]==null){let a=new Error(s.message);a.stack="",t[i]=a}}else t[i]=s;return t}var N_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,O_=z.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:s,reloadDocument:a,replace:c,state:h,target:p,to:v,preventScrollReset:_,viewTransition:T,...I},A){let{basename:b}=z.useContext(ui),j=typeof v=="string"&&N_.test(v),V,q=!1;if(typeof v=="string"&&j&&(V=v,D_))try{let S=new URL(window.location.href),P=v.startsWith("//")?new URL(S.protocol+v):new URL(v),O=Br(P.pathname,b);P.origin===S.origin&&O!=null?v=O+P.search+P.hash:q=!0}catch{Jt(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=Dx(v,{relative:s}),[Z,he,U]=gI(i,I),ce=kI(v,{replace:c,state:h,target:p,preventScrollReset:_,relative:s,viewTransition:T});function C(S){e&&e(S),S.defaultPrevented||ce(S)}let x=z.createElement("a",{...I,...U,href:V||te,onClick:q||a?e:C,ref:wI(A,he),target:p,"data-discover":!j&&t==="render"?"true":void 0});return Z&&!j?z.createElement(z.Fragment,null,x,z.createElement(vI,{page:te})):x});O_.displayName="Link";var II=z.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:s=!1,style:a,to:c,viewTransition:h,children:p,...v},_){let T=Pl(c,{relative:v.relative}),I=cs(),A=z.useContext(kl),{navigator:b,basename:j}=z.useContext(ui),V=A!=null&&DI(T)&&h===!0,q=b.encodeLocation?b.encodeLocation(T).pathname:T.pathname,te=I.pathname,Z=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;t||(te=te.toLowerCase(),Z=Z?Z.toLowerCase():null,q=q.toLowerCase()),Z&&j&&(Z=Br(Z,j)||Z);const he=q!=="/"&&q.endsWith("/")?q.length-1:q.length;let U=te===q||!s&&te.startsWith(q)&&te.charAt(he)==="/",ce=Z!=null&&(Z===q||!s&&Z.startsWith(q)&&Z.charAt(q.length)==="/"),C={isActive:U,isPending:ce,isTransitioning:V},x=U?e:void 0,S;typeof i=="function"?S=i(C):S=[i,U?"active":null,ce?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let P=typeof a=="function"?a(C):a;return z.createElement(O_,{...v,"aria-current":x,className:S,ref:_,style:P,to:c,viewTransition:h},typeof p=="function"?p(C):p)});II.displayName="NavLink";var SI=z.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:s,state:a,method:c=lc,action:h,onSubmit:p,relative:v,preventScrollReset:_,viewTransition:T,...I},A)=>{let b=PI(),j=bI(h,{relative:v}),V=c.toLowerCase()==="get"?"get":"post",q=typeof h=="string"&&N_.test(h),te=Z=>{if(p&&p(Z),Z.defaultPrevented)return;Z.preventDefault();let he=Z.nativeEvent.submitter,U=(he==null?void 0:he.getAttribute("formmethod"))||c;b(he||Z.currentTarget,{fetcherKey:e,method:U,navigate:t,replace:s,state:a,relative:v,preventScrollReset:_,viewTransition:T})};return z.createElement("form",{ref:A,method:V,action:j,onSubmit:i?p:te,...I,"data-discover":!q&&n==="render"?"true":void 0})});SI.displayName="Form";function RI(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function L_(n){let e=z.useContext(us);return rt(e,RI(n)),e}function kI(n,{target:e,replace:t,state:i,preventScrollReset:s,relative:a,viewTransition:c}={}){let h=Cl(),p=cs(),v=Pl(n,{relative:a});return z.useCallback(_=>{if(nI(_,e)){_.preventDefault();let T=t!==void 0?t:So(p)===So(v);h(n,{replace:T,state:i,preventScrollReset:s,relative:a,viewTransition:c})}},[p,h,v,t,i,e,n,s,a,c])}var AI=0,CI=()=>`__${String(++AI)}__`;function PI(){let{router:n}=L_("useSubmit"),{basename:e}=z.useContext(ui),t=$x();return z.useCallback(async(i,s={})=>{let{action:a,method:c,encType:h,formData:p,body:v}=oI(i,e);if(s.navigate===!1){let _=s.fetcherKey||CI();await n.fetch(_,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:p,body:v,formMethod:s.method||c,formEncType:s.encType||h,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:p,body:v,formMethod:s.method||c,formEncType:s.encType||h,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function bI(n,{relative:e}={}){let{basename:t}=z.useContext(ui),i=z.useContext(ji);rt(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),a={...Pl(n||".",{relative:e})},c=cs();if(n==null){a.search=c.search;let h=new URLSearchParams(a.search),p=h.getAll("index");if(p.some(_=>_==="")){h.delete("index"),p.filter(T=>T).forEach(T=>h.append("index",T));let _=h.toString();a.search=_?`?${_}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:ri([t,a.pathname])),So(a)}function DI(n,e={}){let t=z.useContext(Gf);rt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=L_("useViewTransitionState"),s=Pl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=Br(t.currentLocation.pathname,i)||t.currentLocation.pathname,c=Br(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Ec(s.pathname,c)!=null||Ec(s.pathname,a)!=null}new TextEncoder;var NI=v_();/**
 * react-router v7.1.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function OI(n){return z.createElement(Gx,{flushSync:NI.flushSync,...n})}const ff=({type:n,placeholder:e,icon:t,value:i,onChange:s,id:a})=>oe.jsxs("div",{className:"input-form",children:[oe.jsx("span",{children:oe.jsx("i",{className:t})}),oe.jsx("input",{type:n,placeholder:e,value:i,onChange:s,id:a,required:!0,autoComplete:"off",minLength:n==="password"?6:void 0})]}),Pv=({onSubmit:n,error:e,email:t,setEmail:i,password:s,setPassword:a})=>{const c=()=>{!t||!s?setError("Please fill in all fields"):n()};return oe.jsxs("div",{className:"form",children:[oe.jsxs("form",{children:[oe.jsx(ff,{type:"text",placeholder:"Email",value:t,onChange:h=>i(h.target.value),icon:"fas fa-envelope"}),oe.jsx(ff,{type:"password",placeholder:"Password",value:s,onChange:h=>a(h.target.value),icon:"fa-solid fa-lock"})]}),e&&oe.jsx("div",{className:"error",children:e}),oe.jsx("div",{id:"goBtn",onClick:c,children:"Go"})]})},LI=(n,e)=>{localStorage.setItem("userName",n),localStorage.setItem("userID",e)};var bv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let s=n.charCodeAt(i);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},VI=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const s=n[t++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[i++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],c=n[t++],h=n[t++],p=((s&7)<<18|(a&63)<<12|(c&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const a=n[t++],c=n[t++];e[i++]=String.fromCharCode((s&15)<<12|(a&63)<<6|c&63)}}return e.join("")},M_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<n.length;s+=3){const a=n[s],c=s+1<n.length,h=c?n[s+1]:0,p=s+2<n.length,v=p?n[s+2]:0,_=a>>2,T=(a&3)<<4|h>>4;let I=(h&15)<<2|v>>6,A=v&63;p||(A=64,c||(I=64)),i.push(t[_],t[T],t[I],t[A])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(V_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):VI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],h=s<n.length?t[n.charAt(s)]:0;++s;const v=s<n.length?t[n.charAt(s)]:64;++s;const T=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||h==null||v==null||T==null)throw new MI;const I=a<<2|h>>4;if(i.push(I),v!==64){const A=h<<4&240|v>>2;if(i.push(A),T!==64){const b=v<<6&192|T;i.push(b)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class MI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FI=function(n){const e=V_(n);return M_.encodeByteArray(e,!0)},xc=function(n){return FI(n).replace(/\./g,"")},F_=function(n){try{return M_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI=()=>jI().__FIREBASE_DEFAULTS__,zI=()=>{if(typeof process>"u"||typeof bv>"u")return;const n=bv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},BI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&F_(n[1]);return e&&JSON.parse(e)},Yc=()=>{try{return UI()||zI()||BI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},j_=n=>{var e,t;return(t=(e=Yc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},$I=n=>{const e=j_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},U_=()=>{var n;return(n=Yc())===null||n===void 0?void 0:n.config},z_=n=>{var e;return(e=Yc())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[xc(JSON.stringify(t)),xc(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function KI(){var n;const e=(n=Yc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function YI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XI(){const n=wn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function JI(){return!KI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZI(){try{return typeof indexedDB=="object"}catch{return!1}}function eS(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="FirebaseError";class Ui extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=tS,Object.setPrototypeOf(this,Ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,bl.prototype.create)}}class bl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],c=a?nS(a,i):"Error",h=`${this.serviceName}: ${c} (${s}).`;return new Ui(s,h,i)}}function nS(n,e){return n.replace(rS,(t,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const rS=/\{\$([^}]+)}/g;function iS(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ic(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const s of t){if(!i.includes(s))return!1;const a=n[s],c=e[s];if(Dv(a)&&Dv(c)){if(!Ic(a,c))return!1}else if(a!==c)return!1}for(const s of i)if(!t.includes(s))return!1;return!0}function Dv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dl(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function il(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[s,a]=i.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function ol(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function oS(n,e){const t=new sS(n,e);return t.subscribe.bind(t)}class sS{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let s;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");aS(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:i},s.next===void 0&&(s.next=Kh),s.error===void 0&&(s.error=Kh),s.complete===void 0&&(s.complete=Kh);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aS(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Kh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(n){return n&&n._delegate?n._delegate:n}class is{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new HI;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cS(e))try{this.getOrInitializeService({instanceIdentifier:Xo})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});i.resolve(a)}catch{}}}}clearInstance(e=Xo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xo){return this.instances.has(e)}getOptions(e=Xo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[a,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);i===h&&c.resolve(s)}return s}onInit(e,t){var i;const s=this.normalizeInstanceIdentifier(t),a=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(s,a);const c=this.instances.get(s);return c&&e(c,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const s of i)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:uS(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Xo){return this.component?this.component.multipleInstances?e:Xo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uS(n){return n===Xo?void 0:n}function cS(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new lS(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Je||(Je={}));const hS={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},fS=Je.INFO,pS={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},mS=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),s=pS[e];if(s)console[s](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ep{constructor(e){this.name=e,this._logLevel=fS,this._logHandler=mS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}const gS=(n,e)=>e.some(t=>n instanceof t);let Nv,Ov;function vS(){return Nv||(Nv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yS(){return Ov||(Ov=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const B_=new WeakMap,pf=new WeakMap,$_=new WeakMap,Gh=new WeakMap,tp=new WeakMap;function _S(n){const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",c)},a=()=>{t(wo(n.result)),s()},c=()=>{i(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&B_.set(t,n)}).catch(()=>{}),tp.set(e,n),e}function wS(n){if(pf.has(n))return;const e=new Promise((t,i)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",c),n.removeEventListener("abort",c)},a=()=>{t(),s()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",c),n.addEventListener("abort",c)});pf.set(n,e)}let mf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return pf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||$_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return wo(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function ES(n){mf=n(mf)}function TS(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Qh(this),e,...t);return $_.set(i,e.sort?e.sort():[e]),wo(i)}:yS().includes(n)?function(...e){return n.apply(Qh(this),e),wo(B_.get(this))}:function(...e){return wo(n.apply(Qh(this),e))}}function xS(n){return typeof n=="function"?TS(n):(n instanceof IDBTransaction&&wS(n),gS(n,vS())?new Proxy(n,mf):n)}function wo(n){if(n instanceof IDBRequest)return _S(n);if(Gh.has(n))return Gh.get(n);const e=xS(n);return e!==n&&(Gh.set(n,e),tp.set(e,n)),e}const Qh=n=>tp.get(n);function IS(n,e,{blocked:t,upgrade:i,blocking:s,terminated:a}={}){const c=indexedDB.open(n,e),h=wo(c);return i&&c.addEventListener("upgradeneeded",p=>{i(wo(c.result),p.oldVersion,p.newVersion,wo(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),h.then(p=>{a&&p.addEventListener("close",()=>a()),s&&p.addEventListener("versionchange",v=>s(v.oldVersion,v.newVersion,v))}).catch(()=>{}),h}const SS=["get","getKey","getAll","getAllKeys","count"],RS=["put","add","delete","clear"],Yh=new Map;function Lv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Yh.get(e))return Yh.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,s=RS.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(s||SS.includes(t)))return;const a=async function(c,...h){const p=this.transaction(c,s?"readwrite":"readonly");let v=p.store;return i&&(v=v.index(h.shift())),(await Promise.all([v[t](...h),s&&p.done]))[0]};return Yh.set(e,a),a}ES(n=>({...n,get:(e,t,i)=>Lv(e,t)||n.get(e,t,i),has:(e,t)=>!!Lv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(AS(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function AS(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gf="@firebase/app",Vv="0.11.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni=new ep("@firebase/app"),CS="@firebase/app-compat",PS="@firebase/analytics-compat",bS="@firebase/analytics",DS="@firebase/app-check-compat",NS="@firebase/app-check",OS="@firebase/auth",LS="@firebase/auth-compat",VS="@firebase/database",MS="@firebase/data-connect",FS="@firebase/database-compat",jS="@firebase/functions",US="@firebase/functions-compat",zS="@firebase/installations",BS="@firebase/installations-compat",$S="@firebase/messaging",HS="@firebase/messaging-compat",WS="@firebase/performance",qS="@firebase/performance-compat",KS="@firebase/remote-config",GS="@firebase/remote-config-compat",QS="@firebase/storage",YS="@firebase/storage-compat",XS="@firebase/firestore",JS="@firebase/vertexai",ZS="@firebase/firestore-compat",eR="firebase",tR="11.3.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf="[DEFAULT]",nR={[gf]:"fire-core",[CS]:"fire-core-compat",[bS]:"fire-analytics",[PS]:"fire-analytics-compat",[NS]:"fire-app-check",[DS]:"fire-app-check-compat",[OS]:"fire-auth",[LS]:"fire-auth-compat",[VS]:"fire-rtdb",[MS]:"fire-data-connect",[FS]:"fire-rtdb-compat",[jS]:"fire-fn",[US]:"fire-fn-compat",[zS]:"fire-iid",[BS]:"fire-iid-compat",[$S]:"fire-fcm",[HS]:"fire-fcm-compat",[WS]:"fire-perf",[qS]:"fire-perf-compat",[KS]:"fire-rc",[GS]:"fire-rc-compat",[QS]:"fire-gcs",[YS]:"fire-gcs-compat",[XS]:"fire-fst",[ZS]:"fire-fst-compat",[JS]:"fire-vertex","fire-js":"fire-js",[eR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sc=new Map,rR=new Map,yf=new Map;function Mv(n,e){try{n.container.addComponent(e)}catch(t){Ni.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function oa(n){const e=n.name;if(yf.has(e))return Ni.debug(`There were multiple attempts to register component ${e}.`),!1;yf.set(e,n);for(const t of Sc.values())Mv(t,n);for(const t of rR.values())Mv(t,n);return!0}function np(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function er(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Eo=new bl("app","Firebase",iR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Eo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=tR;function H_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:vf,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw Eo.create("bad-app-name",{appName:String(s)});if(t||(t=U_()),!t)throw Eo.create("no-options");const a=Sc.get(s);if(a){if(Ic(t,a.options)&&Ic(i,a.config))return a;throw Eo.create("duplicate-app",{appName:s})}const c=new dS(s);for(const p of yf.values())c.addComponent(p);const h=new oR(t,i,c);return Sc.set(s,h),h}function W_(n=vf){const e=Sc.get(n);if(!e&&n===vf&&U_())return H_();if(!e)throw Eo.create("no-app",{appName:n});return e}function To(n,e,t){var i;let s=(i=nR[n])!==null&&i!==void 0?i:n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const h=[`Unable to register library "${s}" with version "${e}":`];a&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ni.warn(h.join(" "));return}oa(new is(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="firebase-heartbeat-database",aR=1,vl="firebase-heartbeat-store";let Xh=null;function q_(){return Xh||(Xh=IS(sR,aR,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(vl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Eo.create("idb-open",{originalErrorMessage:n.message})})),Xh}async function lR(n){try{const t=(await q_()).transaction(vl),i=await t.objectStore(vl).get(K_(n));return await t.done,i}catch(e){if(e instanceof Ui)Ni.warn(e.message);else{const t=Eo.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ni.warn(t.message)}}}async function Fv(n,e){try{const i=(await q_()).transaction(vl,"readwrite");await i.objectStore(vl).put(e,K_(n)),await i.done}catch(t){if(t instanceof Ui)Ni.warn(t.message);else{const i=Eo.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ni.warn(i.message)}}}function K_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR=1024,cR=30;class dR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new fR(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=jv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>cR){const c=pR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ni.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=jv(),{heartbeatsToSend:i,unsentEntries:s}=hR(this._heartbeatsCache.heartbeats),a=xc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Ni.warn(t),""}}}function jv(){return new Date().toISOString().substring(0,10)}function hR(n,e=uR){const t=[];let i=n.slice();for(const s of n){const a=t.find(c=>c.agent===s.agent);if(a){if(a.dates.push(s.date),Uv(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),Uv(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class fR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZI()?eS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await lR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Fv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Fv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Uv(n){return xc(JSON.stringify({version:2,heartbeats:n})).length}function pR(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(n){oa(new is("platform-logger",e=>new kS(e),"PRIVATE")),oa(new is("heartbeat",e=>new dR(e),"PRIVATE")),To(gf,Vv,n),To(gf,Vv,"esm2017"),To("fire-js","")}mR("");function rp(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(n);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(t[i[s]]=n[i[s]]);return t}function ds(n,e,t,i){function s(a){return a instanceof t?a:new t(function(c){c(a)})}return new(t||(t=Promise))(function(a,c){function h(_){try{v(i.next(_))}catch(T){c(T)}}function p(_){try{v(i.throw(_))}catch(T){c(T)}}function v(_){_.done?a(_.value):s(_.value).then(h,p)}v((i=i.apply(n,e||[])).next())})}function G_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gR=G_,Q_=new bl("auth","Firebase",G_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rc=new ep("@firebase/auth");function vR(n,...e){Rc.logLevel<=Je.WARN&&Rc.warn(`Auth (${pa}): ${n}`,...e)}function cc(n,...e){Rc.logLevel<=Je.ERROR&&Rc.error(`Auth (${pa}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yr(n,...e){throw op(n,...e)}function Ur(n,...e){return op(n,...e)}function ip(n,e,t){const i=Object.assign(Object.assign({},gR()),{[e]:t});return new bl("auth","Firebase",i).create(e,{appName:n.name})}function bi(n){return ip(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yR(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&yr(n,"argument-error"),ip(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function op(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Q_.create(n,...e)}function Fe(n,e,...t){if(!n)throw op(e,...t)}function Ai(n){const e="INTERNAL ASSERTION FAILED: "+n;throw cc(e),new Error(e)}function Oi(n,e){n||Ai(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _f(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function _R(){return zv()==="http:"||zv()==="https:"}function zv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_R()||QI()||"connection"in navigator)?navigator.onLine:!0}function ER(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Oi(t>e,"Short delay should be less than long delay!"),this.isMobile=qI()||YI()}get(){return wR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(n,e){Oi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=new Nl(3e4,6e4);function zi(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Bi(n,e,t,i,s={}){return X_(n,s,async()=>{let a={},c={};i&&(e==="GET"?c=i:a={body:JSON.stringify(i)});const h=Dl(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const v=Object.assign({method:e,headers:p},a);return GI()||(v.referrerPolicy="no-referrer"),Y_.fetch()(J_(n,n.config.apiHost,t,h),v)})}async function X_(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},TR),e);try{const s=new SR(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const c=await a.json();if("needConfirmation"in c)throw Ju(n,"account-exists-with-different-credential",c);if(a.ok&&!("errorMessage"in c))return c;{const h=a.ok?c.errorMessage:c.error.message,[p,v]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ju(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw Ju(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw Ju(n,"user-disabled",c);const _=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw ip(n,_,v);yr(n,_)}}catch(s){if(s instanceof Ui)throw s;yr(n,"network-request-failed",{message:String(s)})}}async function Ol(n,e,t,i,s={}){const a=await Bi(n,e,t,i,s);return"mfaPendingCredential"in a&&yr(n,"multi-factor-auth-required",{_serverResponse:a}),a}function J_(n,e,t,i){const s=`${e}${t}?${i}`;return n.config.emulator?sp(n.config,s):`${n.config.apiScheme}://${s}`}function IR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class SR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Ur(this.auth,"network-request-failed")),xR.get())})}}function Ju(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const s=Ur(n,e,i);return s.customData._tokenResponse=t,s}function Bv(n){return n!==void 0&&n.enterprise!==void 0}class RR{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return IR(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function kR(n,e){return Bi(n,"GET","/v2/recaptchaConfig",zi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AR(n,e){return Bi(n,"POST","/v1/accounts:delete",e)}async function Z_(n,e){return Bi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function CR(n,e=!1){const t=nr(n),i=await t.getIdToken(e),s=ap(i);Fe(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,c=a==null?void 0:a.sign_in_provider;return{claims:s,token:i,authTime:cl(Jh(s.auth_time)),issuedAtTime:cl(Jh(s.iat)),expirationTime:cl(Jh(s.exp)),signInProvider:c||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Jh(n){return Number(n)*1e3}function ap(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return cc("JWT malformed, contained fewer than 3 sections"),null;try{const s=F_(t);return s?JSON.parse(s):(cc("Failed to decode base64 JWT payload"),null)}catch(s){return cc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function $v(n){const e=ap(n);return Fe(e,"internal-error"),Fe(typeof e.exp<"u","internal-error"),Fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yl(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Ui&&PR(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function PR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=cl(this.lastLoginAt),this.creationTime=cl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kc(n){var e;const t=n.auth,i=await n.getIdToken(),s=await yl(n,Z_(t,{idToken:i}));Fe(s==null?void 0:s.users.length,t,"internal-error");const a=s.users[0];n._notifyReloadListener(a);const c=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?ew(a.providerUserInfo):[],h=NR(n.providerData,c),p=n.isAnonymous,v=!(n.email&&a.passwordHash)&&!(h!=null&&h.length),_=p?v:!1,T={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new wf(a.createdAt,a.lastLoginAt),isAnonymous:_};Object.assign(n,T)}async function DR(n){const e=nr(n);await kc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function NR(n,e){return[...n.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function ew(n){return n.map(e=>{var{providerId:t}=e,i=rp(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OR(n,e){const t=await X_(n,{},async()=>{const i=Dl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,c=J_(n,s,"/v1/token",`key=${a}`),h=await n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",Y_.fetch()(c,{method:"POST",headers:h,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function LR(n,e){return Bi(n,"POST","/v2/accounts:revokeToken",zi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Fe(e.idToken,"internal-error"),Fe(typeof e.idToken<"u","internal-error"),Fe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$v(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Fe(e.length!==0,"internal-error");const t=$v(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:s,expiresIn:a}=await OR(e,t);this.updateTokensAndExpiration(i,s,Number(a))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:s,expirationTime:a}=t,c=new ta;return i&&(Fe(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),s&&(Fe(typeof s=="string","internal-error",{appName:e}),c.accessToken=s),a&&(Fe(typeof a=="number","internal-error",{appName:e}),c.expirationTime=a),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ta,this.toJSON())}_performRefresh(){return Ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fo(n,e){Fe(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ci{constructor(e){var{uid:t,auth:i,stsTokenManager:s}=e,a=rp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new bR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new wf(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await yl(this,this.stsTokenManager.getToken(this.auth,e));return Fe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return CR(this,e)}reload(){return DR(this)}_assign(e){this!==e&&(Fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ci(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await kc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(er(this.auth.app))return Promise.reject(bi(this.auth));const e=await this.getIdToken();return await yl(this,AR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,s,a,c,h,p,v,_;const T=(i=t.displayName)!==null&&i!==void 0?i:void 0,I=(s=t.email)!==null&&s!==void 0?s:void 0,A=(a=t.phoneNumber)!==null&&a!==void 0?a:void 0,b=(c=t.photoURL)!==null&&c!==void 0?c:void 0,j=(h=t.tenantId)!==null&&h!==void 0?h:void 0,V=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,q=(v=t.createdAt)!==null&&v!==void 0?v:void 0,te=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:Z,emailVerified:he,isAnonymous:U,providerData:ce,stsTokenManager:C}=t;Fe(Z&&C,e,"internal-error");const x=ta.fromJSON(this.name,C);Fe(typeof Z=="string",e,"internal-error"),fo(T,e.name),fo(I,e.name),Fe(typeof he=="boolean",e,"internal-error"),Fe(typeof U=="boolean",e,"internal-error"),fo(A,e.name),fo(b,e.name),fo(j,e.name),fo(V,e.name),fo(q,e.name),fo(te,e.name);const S=new Ci({uid:Z,auth:e,email:I,emailVerified:he,displayName:T,isAnonymous:U,photoURL:b,phoneNumber:A,tenantId:j,stsTokenManager:x,createdAt:q,lastLoginAt:te});return ce&&Array.isArray(ce)&&(S.providerData=ce.map(P=>Object.assign({},P))),V&&(S._redirectEventId=V),S}static async _fromIdTokenResponse(e,t,i=!1){const s=new ta;s.updateFromServerResponse(t);const a=new Ci({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await kc(a),a}static async _fromGetAccountInfoResponse(e,t,i){const s=t.users[0];Fe(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?ew(s.providerUserInfo):[],c=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),h=new ta;h.updateFromIdToken(i);const p=new Ci({uid:s.localId,auth:e,stsTokenManager:h,isAnonymous:c}),v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new wf(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(p,v),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=new Map;function Pi(n){Oi(n instanceof Function,"Expected a class definition");let e=Hv.get(n);return e?(Oi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Hv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}tw.type="NONE";const Wv=tw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dc(n,e,t){return`firebase:${n}:${e}:${t}`}class na{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:s,name:a}=this.auth;this.fullUserKey=dc(this.userKey,s.apiKey,a),this.fullPersistenceKey=dc("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ci._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new na(Pi(Wv),e,i);const s=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let a=s[0]||Pi(Wv);const c=dc(i,e.config.apiKey,e.name);let h=null;for(const v of t)try{const _=await v._get(c);if(_){const T=Ci._fromJSON(e,_);v!==a&&(h=T),a=v;break}}catch{}const p=s.filter(v=>v._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new na(a,e,i):(a=p[0],h&&await a._set(c,h.toJSON()),await Promise.all(t.map(async v=>{if(v!==a)try{await v._remove(c)}catch{}})),new na(a,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ow(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aw(e))return"Blackberry";if(lw(e))return"Webos";if(rw(e))return"Safari";if((e.includes("chrome/")||iw(e))&&!e.includes("edge/"))return"Chrome";if(sw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function nw(n=wn()){return/firefox\//i.test(n)}function rw(n=wn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iw(n=wn()){return/crios\//i.test(n)}function ow(n=wn()){return/iemobile/i.test(n)}function sw(n=wn()){return/android/i.test(n)}function aw(n=wn()){return/blackberry/i.test(n)}function lw(n=wn()){return/webos/i.test(n)}function lp(n=wn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function VR(n=wn()){var e;return lp(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function MR(){return XI()&&document.documentMode===10}function uw(n=wn()){return lp(n)||sw(n)||lw(n)||aw(n)||/windows phone/i.test(n)||ow(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(n,e=[]){let t;switch(n){case"Browser":t=qv(wn());break;case"Worker":t=`${qv(wn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${pa}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=a=>new Promise((c,h)=>{try{const p=e(a);c(p)}catch(p){h(p)}});i.onAbort=t,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jR(n,e={}){return Bi(n,"GET","/v2/passwordPolicy",zi(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=6;class zR{constructor(e){var t,i,s,a;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:UR,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,s,a,c,h;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(s=p.containsLowercaseLetter)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(a=p.containsUppercaseLetter)!==null&&a!==void 0?a:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(h=p.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,t,i,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kv(this),this.idTokenSubscription=new Kv(this),this.beforeStateQueue=new FR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Q_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Pi(t)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await na.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Z_(this,{idToken:e}),i=await Ci._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(er(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,h=s==null?void 0:s._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===h)&&(p!=null&&p.user)&&(s=p.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await kc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=ER()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(er(this.app))return Promise.reject(bi(this));const t=e?nr(e):null;return t&&Fe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return er(this.app)?Promise.reject(bi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return er(this.app)?Promise.reject(bi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jR(this),t=new zR(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new bl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await LR(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Pi(e)||this._popupRedirectResolver;Fe(t,this,"argument-error"),this.redirectPersistenceManager=await na.create(this,[Pi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Fe(h,this,"internal-error"),h.then(()=>{c||a(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,s);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){var e;if(er(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&vR(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function $i(n){return nr(n)}class Kv{constructor(e){this.auth=e,this.observer=null,this.addObserver=oS(t=>this.observer=t)}get next(){return Fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function $R(n){Xc=n}function dw(n){return Xc.loadJS(n)}function HR(){return Xc.recaptchaEnterpriseScript}function WR(){return Xc.gapiScript}function qR(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class KR{constructor(){this.enterprise=new GR}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class GR{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const QR="recaptcha-enterprise",hw="NO_RECAPTCHA";class YR{constructor(e){this.type=QR,this.auth=$i(e)}async verify(e="verify",t=!1){async function i(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(c,h)=>{kR(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const v=new RR(p);return a.tenantId==null?a._agentRecaptchaConfig=v:a._tenantRecaptchaConfigs[a.tenantId]=v,c(v.siteKey)}}).catch(p=>{h(p)})})}function s(a,c,h){const p=window.grecaptcha;Bv(p)?p.enterprise.ready(()=>{p.enterprise.execute(a,{action:e}).then(v=>{c(v)}).catch(()=>{c(hw)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new KR().execute("siteKey",{action:"verify"}):new Promise((a,c)=>{i(this.auth).then(h=>{if(!t&&Bv(window.grecaptcha))s(h,a,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=HR();p.length!==0&&(p+=h),dw(p).then(()=>{s(h,a,c)}).catch(v=>{c(v)})}}).catch(h=>{c(h)})})}}async function Gv(n,e,t,i=!1,s=!1){const a=new YR(n);let c;if(s)c=hw;else try{c=await a.verify(t)}catch{c=await a.verify(t,!0)}const h=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const p=h.phoneEnrollmentInfo.phoneNumber,v=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:v,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const p=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function Ac(n,e,t,i,s){var a;if(!((a=n._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Gv(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await Gv(n,e,t,t==="getOobCode");return i(n,h)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XR(n,e){const t=np(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(Ic(a,e??{}))return s;yr(s,"already-initialized")}return t.initialize({options:e})}function JR(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Pi);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function ZR(n,e,t){const i=$i(n);Fe(i._canInitEmulator,i,"emulator-config-failed"),Fe(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const s=!1,a=fw(e),{host:c,port:h}=ek(e),p=h===null?"":`:${h}`;i.config.emulator={url:`${a}//${c}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:h,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})}),tk()}function fw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function ek(n){const e=fw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(i);if(s){const a=s[1];return{host:a,port:Qv(i.substr(a.length+1))}}else{const[a,c]=i.split(":");return{host:a,port:Qv(c)}}}function Qv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function tk(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ai("not implemented")}_getIdTokenResponse(e){return Ai("not implemented")}_linkToIdToken(e,t){return Ai("not implemented")}_getReauthenticationResolver(e){return Ai("not implemented")}}async function nk(n,e){return Bi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rk(n,e){return Ol(n,"POST","/v1/accounts:signInWithPassword",zi(n,e))}async function pw(n,e){return Bi(n,"POST","/v1/accounts:sendOobCode",zi(n,e))}async function ik(n,e){return pw(n,e)}async function ok(n,e){return pw(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sk(n,e){return Ol(n,"POST","/v1/accounts:signInWithEmailLink",zi(n,e))}async function ak(n,e){return Ol(n,"POST","/v1/accounts:signInWithEmailLink",zi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l extends up{constructor(e,t,i,s=null){super("password",i),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new _l(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new _l(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ac(e,t,"signInWithPassword",rk);case"emailLink":return sk(e,{email:this._email,oobCode:this._password});default:yr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ac(e,i,"signUpPassword",nk);case"emailLink":return ak(e,{idToken:t,email:this._email,oobCode:this._password});default:yr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ra(n,e){return Ol(n,"POST","/v1/accounts:signInWithIdp",zi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk="http://localhost";class os extends up{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new os(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):yr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:s}=t,a=rp(t,["providerId","signInMethod"]);if(!i||!s)return null;const c=new os(i,s);return c.idToken=a.idToken||void 0,c.accessToken=a.accessToken||void 0,c.secret=a.secret,c.nonce=a.nonce,c.pendingToken=a.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return ra(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,ra(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ra(e,t)}buildRequest(){const e={requestUri:lk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Dl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ck(n){const e=il(ol(n)).link,t=e?il(ol(e)).deep_link_id:null,i=il(ol(n)).deep_link_id;return(i?il(ol(i)).link:null)||i||t||e||n}class cp{constructor(e){var t,i,s,a,c,h;const p=il(ol(e)),v=(t=p.apiKey)!==null&&t!==void 0?t:null,_=(i=p.oobCode)!==null&&i!==void 0?i:null,T=uk((s=p.mode)!==null&&s!==void 0?s:null);Fe(v&&_&&T,"argument-error"),this.apiKey=v,this.operation=T,this.code=_,this.continueUrl=(a=p.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(c=p.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(h=p.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const t=ck(e);try{return new cp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(){this.providerId=ma.PROVIDER_ID}static credential(e,t){return _l._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=cp.parseLink(t);return Fe(i,"argument-error"),_l._fromEmailAndCode(e,i.code,i.tenantId)}}ma.PROVIDER_ID="password";ma.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ma.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll extends dp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go extends Ll{constructor(){super("facebook.com")}static credential(e){return os._fromParams({providerId:go.PROVIDER_ID,signInMethod:go.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return go.credentialFromTaggedObject(e)}static credentialFromError(e){return go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return go.credential(e.oauthAccessToken)}catch{return null}}}go.FACEBOOK_SIGN_IN_METHOD="facebook.com";go.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki extends Ll{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return os._fromParams({providerId:ki.PROVIDER_ID,signInMethod:ki.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ki.credentialFromTaggedObject(e)}static credentialFromError(e){return ki.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return ki.credential(t,i)}catch{return null}}}ki.GOOGLE_SIGN_IN_METHOD="google.com";ki.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends Ll{constructor(){super("github.com")}static credential(e){return os._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vo.credential(e.oauthAccessToken)}catch{return null}}}vo.GITHUB_SIGN_IN_METHOD="github.com";vo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo extends Ll{constructor(){super("twitter.com")}static credential(e,t){return os._fromParams({providerId:yo.PROVIDER_ID,signInMethod:yo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return yo.credentialFromTaggedObject(e)}static credentialFromError(e){return yo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return yo.credential(t,i)}catch{return null}}}yo.TWITTER_SIGN_IN_METHOD="twitter.com";yo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dk(n,e){return Ol(n,"POST","/v1/accounts:signUp",zi(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,s=!1){const a=await Ci._fromIdTokenResponse(e,i,s),c=Yv(i);return new ss({user:a,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const s=Yv(i);return new ss({user:e,providerId:s,_tokenResponse:i,operationType:t})}}function Yv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc extends Ui{constructor(e,t,i,s){var a;super(t.code,t.message),this.operationType=i,this.user=s,Object.setPrototypeOf(this,Cc.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,s){return new Cc(e,t,i,s)}}function mw(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Cc._fromErrorAndOperation(n,a,e,i):a})}async function hk(n,e,t=!1){const i=await yl(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return ss._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fk(n,e,t=!1){const{auth:i}=n;if(er(i.app))return Promise.reject(bi(i));const s="reauthenticate";try{const a=await yl(n,mw(i,s,e,n),t);Fe(a.idToken,i,"internal-error");const c=ap(a.idToken);Fe(c,i,"internal-error");const{sub:h}=c;return Fe(n.uid===h,i,"user-mismatch"),ss._forOperation(n,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&yr(i,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gw(n,e,t=!1){if(er(n.app))return Promise.reject(bi(n));const i="signIn",s=await mw(n,i,e),a=await ss._fromIdTokenResponse(n,i,s);return t||await n._updateCurrentUser(a.user),a}async function pk(n,e){return gw($i(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vw(n){const e=$i(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function mk(n,e,t){const i=$i(n);await Ac(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",ok)}async function gk(n,e,t){if(er(n.app))return Promise.reject(bi(n));const i=$i(n),c=await Ac(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dk).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&vw(n),p}),h=await ss._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function vk(n,e,t){return er(n.app)?Promise.reject(bi(n)):pk(nr(n),ma.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&vw(n),i})}async function yk(n,e){const t=nr(n),s={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()},{email:a}=await ik(t.auth,s);a!==n.email&&await n.reload()}function _k(n,e,t,i){return nr(n).onIdTokenChanged(e,t,i)}function wk(n,e,t){return nr(n).beforeAuthStateChanged(e,t)}const Pc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Pc,"1"),this.storage.removeItem(Pc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek=1e3,Tk=10;class _w extends yw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=uw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),s=this.localCache[t];i!==s&&e(t,s,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},a=this.storage.getItem(i);MR()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Tk):s()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},Ek)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}_w.type="LOCAL";const xk=_w;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww extends yw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}ww.type="SESSION";const Ew=ww;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const i=new Jc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:s,data:a}=t.data,c=this.handlersMap[s];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const h=Array.from(c).map(async v=>v(t.origin,a)),p=await Ik(h);t.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hp(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,c;return new Promise((h,p)=>{const v=hp("",20);s.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:s,onMessage(T){const I=T;if(I.data.eventId===v)switch(I.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(I.data.response);break;default:clearTimeout(_),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(c),s.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[s.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(){return window}function Rk(n){ii().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(){return typeof ii().WorkerGlobalScope<"u"&&typeof ii().importScripts=="function"}async function kk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ak(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Ck(){return Tw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="firebaseLocalStorageDb",Pk=1,bc="firebaseLocalStorage",Iw="fbase_key";class Vl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Zc(n,e){return n.transaction([bc],e?"readwrite":"readonly").objectStore(bc)}function bk(){const n=indexedDB.deleteDatabase(xw);return new Vl(n).toPromise()}function Ef(){const n=indexedDB.open(xw,Pk);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(bc,{keyPath:Iw})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(bc)?e(i):(i.close(),await bk(),e(await Ef()))})})}async function Xv(n,e,t){const i=Zc(n,!0).put({[Iw]:e,value:t});return new Vl(i).toPromise()}async function Dk(n,e){const t=Zc(n,!1).get(e),i=await new Vl(t).toPromise();return i===void 0?null:i.value}function Jv(n,e){const t=Zc(n,!0).delete(e);return new Vl(t).toPromise()}const Nk=800,Ok=3;class Sw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ef(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>Ok)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Tw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jc._getInstance(Ck()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await kk(),!this.activeServiceWorker)return;this.sender=new Sk(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Ak()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ef();return await Xv(e,Pc,"1"),await Jv(e,Pc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Xv(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>Dk(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Jv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=Zc(s,!1).getAll();return new Vl(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Nk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Sw.type="LOCAL";const Lk=Sw;new Nl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(n,e){return e?Pi(e):(Fe(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp extends up{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ra(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ra(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ra(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Vk(n){return gw(n.auth,new fp(n),n.bypassAuthState)}function Mk(n){const{auth:e,user:t}=n;return Fe(t,e,"internal-error"),fk(t,new fp(n),n.bypassAuthState)}async function Fk(n){const{auth:e,user:t}=n;return Fe(t,e,"internal-error"),hk(t,new fp(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,t,i,s,a=!1){this.auth=e,this.resolver=i,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:s,tenantId:a,error:c,type:h}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Vk;case"linkViaPopup":case"linkViaRedirect":return Fk;case"reauthViaPopup":case"reauthViaRedirect":return Mk;default:yr(this.auth,"internal-error")}}resolve(e){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Oi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=new Nl(2e3,1e4);async function Uk(n,e,t){if(er(n.app))return Promise.reject(Ur(n,"operation-not-supported-in-this-environment"));const i=$i(n);yR(n,e,dp);const s=Rw(i,t);return new ts(i,"signInViaPopup",e,s).executeNotNull()}class ts extends kw{constructor(e,t,i,s,a){super(e,t,s,a),this.provider=i,this.authWindow=null,this.pollId=null,ts.currentPopupAction&&ts.currentPopupAction.cancel(),ts.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Fe(e,this.auth,"internal-error"),e}async onExecution(){Oi(this.filter.length===1,"Popup operations only handle one event");const e=hp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Ur(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ur(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ts.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ur(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jk.get())};e()}}ts.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zk="pendingRedirect",hc=new Map;class Bk extends kw{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=hc.get(this.auth._key());if(!e){try{const i=await $k(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}hc.set(this.auth._key(),e)}return this.bypassAuthState||hc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $k(n,e){const t=qk(e),i=Wk(n);if(!await i._isAvailable())return!1;const s=await i._get(t)==="true";return await i._remove(t),s}function Hk(n,e){hc.set(n._key(),e)}function Wk(n){return Pi(n._redirectPersistence)}function qk(n){return dc(zk,n.config.apiKey,n.name)}async function Kk(n,e,t=!1){if(er(n.app))return Promise.reject(bi(n));const i=$i(n),s=Rw(i,e),c=await new Bk(i,s,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk=10*60*1e3;class Qk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Yk(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!Aw(e)){const s=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Ur(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Gk&&this.cachedEventUids.clear(),this.cachedEventUids.has(Zv(e))}saveEventToCache(e){this.cachedEventUids.add(Zv(e)),this.lastProcessedEventTime=Date.now()}}function Zv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Aw({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Yk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Aw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xk(n,e={}){return Bi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zk=/^https?/;async function eA(n){if(n.config.emulator)return;const{authorizedDomains:e}=await Xk(n);for(const t of e)try{if(tA(t))return}catch{}yr(n,"unauthorized-domain")}function tA(n){const e=_f(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!Zk.test(t))return!1;if(Jk.test(n))return i===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA=new Nl(3e4,6e4);function ey(){const n=ii().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function rA(n){return new Promise((e,t)=>{var i,s,a;function c(){ey(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ey(),t(Ur(n,"network-request-failed"))},timeout:nA.get()})}if(!((s=(i=ii().gapi)===null||i===void 0?void 0:i.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=ii().gapi)===null||a===void 0)&&a.load)c();else{const h=qR("iframefcb");return ii()[h]=()=>{gapi.load?c():t(Ur(n,"network-request-failed"))},dw(`${WR()}?onload=${h}`).catch(p=>t(p))}}).catch(e=>{throw fc=null,e})}let fc=null;function iA(n){return fc=fc||rA(n),fc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=new Nl(5e3,15e3),sA="__/auth/iframe",aA="emulator/auth/iframe",lA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cA(n){const e=n.config;Fe(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?sp(e,aA):`https://${n.config.authDomain}/${sA}`,i={apiKey:e.apiKey,appName:n.name,v:pa},s=uA.get(n.config.apiHost);s&&(i.eid=s);const a=n._getFrameworks();return a.length&&(i.fw=a.join(",")),`${t}?${Dl(i).slice(1)}`}async function dA(n){const e=await iA(n),t=ii().gapi;return Fe(t,n,"internal-error"),e.open({where:document.body,url:cA(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lA,dontclear:!0},i=>new Promise(async(s,a)=>{await i.restyle({setHideOnLeave:!1});const c=Ur(n,"network-request-failed"),h=ii().setTimeout(()=>{a(c)},oA.get());function p(){ii().clearTimeout(h),s(i)}i.ping(p).then(p,()=>{a(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},fA=500,pA=600,mA="_blank",gA="http://localhost";class ty{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function vA(n,e,t,i=fA,s=pA){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const p=Object.assign(Object.assign({},hA),{width:i.toString(),height:s.toString(),top:a,left:c}),v=wn().toLowerCase();t&&(h=iw(v)?mA:t),nw(v)&&(e=e||gA,p.scrollbars="yes");const _=Object.entries(p).reduce((I,[A,b])=>`${I}${A}=${b},`,"");if(VR(v)&&h!=="_self")return yA(e||"",h),new ty(null);const T=window.open(e||"",h,_);Fe(T,n,"popup-blocked");try{T.focus()}catch{}return new ty(T)}function yA(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A="__/auth/handler",wA="emulator/auth/handler",EA=encodeURIComponent("fac");async function ny(n,e,t,i,s,a){Fe(n.config.authDomain,n,"auth-domain-config-required"),Fe(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:pa,eventId:s};if(e instanceof dp){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",iS(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,T]of Object.entries({}))c[_]=T}if(e instanceof Ll){const _=e.getScopes().filter(T=>T!=="");_.length>0&&(c.scopes=_.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const p=await n._getAppCheckToken(),v=p?`#${EA}=${encodeURIComponent(p)}`:"";return`${TA(n)}?${Dl(h).slice(1)}${v}`}function TA({config:n}){return n.emulator?sp(n,wA):`https://${n.authDomain}/${_A}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh="webStorageSupport";class xA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ew,this._completeRedirectFn=Kk,this._overrideRedirectResult=Hk}async _openPopup(e,t,i,s){var a;Oi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const c=await ny(e,t,i,_f(),s);return vA(e,c,hp())}async _openRedirect(e,t,i,s){await this._originValidation(e);const a=await ny(e,t,i,_f(),s);return Rk(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(Oi(a,"If manager is not set, promise should be"),a)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await dA(e),i=new Qk(e);return t.register("authEvent",s=>(Fe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Zh,{type:Zh},s=>{var a;const c=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[Zh];c!==void 0&&t(!!c),yr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=eA(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return uw()||rw()||lp()}}const IA=xA;var ry="@firebase/auth",iy="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kA(n){oa(new is("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;Fe(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cw(n)},v=new BR(i,s,a,p);return JR(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),oa(new is("auth-internal",e=>{const t=$i(e.getProvider("auth").getImmediate());return(i=>new SA(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),To(ry,iy,RA(n)),To(ry,iy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA=5*60,CA=z_("authIdTokenMaxAge")||AA;let oy=null;const PA=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>CA)return;const s=t==null?void 0:t.token;oy!==s&&(oy=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function bA(n=W_()){const e=np(n,"auth");if(e.isInitialized())return e.getImmediate();const t=XR(n,{popupRedirectResolver:IA,persistence:[Lk,xk,Ew]}),i=z_("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(i,location.origin);if(location.origin===a.origin){const c=PA(a.toString());wk(t,c,()=>c(t.currentUser)),_k(t,h=>c(h))}}const s=j_("auth");return s&&ZR(t,`http://${s}`),t}function DA(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}$R({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=s=>{const a=Ur("internal-error");a.customData=s,t(a)},i.type="text/javascript",i.charset="UTF-8",DA().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kA("Browser");var sy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xo,Cw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,x){function S(){}S.prototype=x.prototype,C.D=x.prototype,C.prototype=new S,C.prototype.constructor=C,C.C=function(P,O,M){for(var k=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)k[xe-2]=arguments[xe];return x.prototype[O].apply(P,k)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,x,S){S||(S=0);var P=Array(16);if(typeof x=="string")for(var O=0;16>O;++O)P[O]=x.charCodeAt(S++)|x.charCodeAt(S++)<<8|x.charCodeAt(S++)<<16|x.charCodeAt(S++)<<24;else for(O=0;16>O;++O)P[O]=x[S++]|x[S++]<<8|x[S++]<<16|x[S++]<<24;x=C.g[0],S=C.g[1],O=C.g[2];var M=C.g[3],k=x+(M^S&(O^M))+P[0]+3614090360&4294967295;x=S+(k<<7&4294967295|k>>>25),k=M+(O^x&(S^O))+P[1]+3905402710&4294967295,M=x+(k<<12&4294967295|k>>>20),k=O+(S^M&(x^S))+P[2]+606105819&4294967295,O=M+(k<<17&4294967295|k>>>15),k=S+(x^O&(M^x))+P[3]+3250441966&4294967295,S=O+(k<<22&4294967295|k>>>10),k=x+(M^S&(O^M))+P[4]+4118548399&4294967295,x=S+(k<<7&4294967295|k>>>25),k=M+(O^x&(S^O))+P[5]+1200080426&4294967295,M=x+(k<<12&4294967295|k>>>20),k=O+(S^M&(x^S))+P[6]+2821735955&4294967295,O=M+(k<<17&4294967295|k>>>15),k=S+(x^O&(M^x))+P[7]+4249261313&4294967295,S=O+(k<<22&4294967295|k>>>10),k=x+(M^S&(O^M))+P[8]+1770035416&4294967295,x=S+(k<<7&4294967295|k>>>25),k=M+(O^x&(S^O))+P[9]+2336552879&4294967295,M=x+(k<<12&4294967295|k>>>20),k=O+(S^M&(x^S))+P[10]+4294925233&4294967295,O=M+(k<<17&4294967295|k>>>15),k=S+(x^O&(M^x))+P[11]+2304563134&4294967295,S=O+(k<<22&4294967295|k>>>10),k=x+(M^S&(O^M))+P[12]+1804603682&4294967295,x=S+(k<<7&4294967295|k>>>25),k=M+(O^x&(S^O))+P[13]+4254626195&4294967295,M=x+(k<<12&4294967295|k>>>20),k=O+(S^M&(x^S))+P[14]+2792965006&4294967295,O=M+(k<<17&4294967295|k>>>15),k=S+(x^O&(M^x))+P[15]+1236535329&4294967295,S=O+(k<<22&4294967295|k>>>10),k=x+(O^M&(S^O))+P[1]+4129170786&4294967295,x=S+(k<<5&4294967295|k>>>27),k=M+(S^O&(x^S))+P[6]+3225465664&4294967295,M=x+(k<<9&4294967295|k>>>23),k=O+(x^S&(M^x))+P[11]+643717713&4294967295,O=M+(k<<14&4294967295|k>>>18),k=S+(M^x&(O^M))+P[0]+3921069994&4294967295,S=O+(k<<20&4294967295|k>>>12),k=x+(O^M&(S^O))+P[5]+3593408605&4294967295,x=S+(k<<5&4294967295|k>>>27),k=M+(S^O&(x^S))+P[10]+38016083&4294967295,M=x+(k<<9&4294967295|k>>>23),k=O+(x^S&(M^x))+P[15]+3634488961&4294967295,O=M+(k<<14&4294967295|k>>>18),k=S+(M^x&(O^M))+P[4]+3889429448&4294967295,S=O+(k<<20&4294967295|k>>>12),k=x+(O^M&(S^O))+P[9]+568446438&4294967295,x=S+(k<<5&4294967295|k>>>27),k=M+(S^O&(x^S))+P[14]+3275163606&4294967295,M=x+(k<<9&4294967295|k>>>23),k=O+(x^S&(M^x))+P[3]+4107603335&4294967295,O=M+(k<<14&4294967295|k>>>18),k=S+(M^x&(O^M))+P[8]+1163531501&4294967295,S=O+(k<<20&4294967295|k>>>12),k=x+(O^M&(S^O))+P[13]+2850285829&4294967295,x=S+(k<<5&4294967295|k>>>27),k=M+(S^O&(x^S))+P[2]+4243563512&4294967295,M=x+(k<<9&4294967295|k>>>23),k=O+(x^S&(M^x))+P[7]+1735328473&4294967295,O=M+(k<<14&4294967295|k>>>18),k=S+(M^x&(O^M))+P[12]+2368359562&4294967295,S=O+(k<<20&4294967295|k>>>12),k=x+(S^O^M)+P[5]+4294588738&4294967295,x=S+(k<<4&4294967295|k>>>28),k=M+(x^S^O)+P[8]+2272392833&4294967295,M=x+(k<<11&4294967295|k>>>21),k=O+(M^x^S)+P[11]+1839030562&4294967295,O=M+(k<<16&4294967295|k>>>16),k=S+(O^M^x)+P[14]+4259657740&4294967295,S=O+(k<<23&4294967295|k>>>9),k=x+(S^O^M)+P[1]+2763975236&4294967295,x=S+(k<<4&4294967295|k>>>28),k=M+(x^S^O)+P[4]+1272893353&4294967295,M=x+(k<<11&4294967295|k>>>21),k=O+(M^x^S)+P[7]+4139469664&4294967295,O=M+(k<<16&4294967295|k>>>16),k=S+(O^M^x)+P[10]+3200236656&4294967295,S=O+(k<<23&4294967295|k>>>9),k=x+(S^O^M)+P[13]+681279174&4294967295,x=S+(k<<4&4294967295|k>>>28),k=M+(x^S^O)+P[0]+3936430074&4294967295,M=x+(k<<11&4294967295|k>>>21),k=O+(M^x^S)+P[3]+3572445317&4294967295,O=M+(k<<16&4294967295|k>>>16),k=S+(O^M^x)+P[6]+76029189&4294967295,S=O+(k<<23&4294967295|k>>>9),k=x+(S^O^M)+P[9]+3654602809&4294967295,x=S+(k<<4&4294967295|k>>>28),k=M+(x^S^O)+P[12]+3873151461&4294967295,M=x+(k<<11&4294967295|k>>>21),k=O+(M^x^S)+P[15]+530742520&4294967295,O=M+(k<<16&4294967295|k>>>16),k=S+(O^M^x)+P[2]+3299628645&4294967295,S=O+(k<<23&4294967295|k>>>9),k=x+(O^(S|~M))+P[0]+4096336452&4294967295,x=S+(k<<6&4294967295|k>>>26),k=M+(S^(x|~O))+P[7]+1126891415&4294967295,M=x+(k<<10&4294967295|k>>>22),k=O+(x^(M|~S))+P[14]+2878612391&4294967295,O=M+(k<<15&4294967295|k>>>17),k=S+(M^(O|~x))+P[5]+4237533241&4294967295,S=O+(k<<21&4294967295|k>>>11),k=x+(O^(S|~M))+P[12]+1700485571&4294967295,x=S+(k<<6&4294967295|k>>>26),k=M+(S^(x|~O))+P[3]+2399980690&4294967295,M=x+(k<<10&4294967295|k>>>22),k=O+(x^(M|~S))+P[10]+4293915773&4294967295,O=M+(k<<15&4294967295|k>>>17),k=S+(M^(O|~x))+P[1]+2240044497&4294967295,S=O+(k<<21&4294967295|k>>>11),k=x+(O^(S|~M))+P[8]+1873313359&4294967295,x=S+(k<<6&4294967295|k>>>26),k=M+(S^(x|~O))+P[15]+4264355552&4294967295,M=x+(k<<10&4294967295|k>>>22),k=O+(x^(M|~S))+P[6]+2734768916&4294967295,O=M+(k<<15&4294967295|k>>>17),k=S+(M^(O|~x))+P[13]+1309151649&4294967295,S=O+(k<<21&4294967295|k>>>11),k=x+(O^(S|~M))+P[4]+4149444226&4294967295,x=S+(k<<6&4294967295|k>>>26),k=M+(S^(x|~O))+P[11]+3174756917&4294967295,M=x+(k<<10&4294967295|k>>>22),k=O+(x^(M|~S))+P[2]+718787259&4294967295,O=M+(k<<15&4294967295|k>>>17),k=S+(M^(O|~x))+P[9]+3951481745&4294967295,C.g[0]=C.g[0]+x&4294967295,C.g[1]=C.g[1]+(O+(k<<21&4294967295|k>>>11))&4294967295,C.g[2]=C.g[2]+O&4294967295,C.g[3]=C.g[3]+M&4294967295}i.prototype.u=function(C,x){x===void 0&&(x=C.length);for(var S=x-this.blockSize,P=this.B,O=this.h,M=0;M<x;){if(O==0)for(;M<=S;)s(this,C,M),M+=this.blockSize;if(typeof C=="string"){for(;M<x;)if(P[O++]=C.charCodeAt(M++),O==this.blockSize){s(this,P),O=0;break}}else for(;M<x;)if(P[O++]=C[M++],O==this.blockSize){s(this,P),O=0;break}}this.h=O,this.o+=x},i.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var x=1;x<C.length-8;++x)C[x]=0;var S=8*this.o;for(x=C.length-8;x<C.length;++x)C[x]=S&255,S/=256;for(this.u(C),C=Array(16),x=S=0;4>x;++x)for(var P=0;32>P;P+=8)C[S++]=this.g[x]>>>P&255;return C};function a(C,x){var S=h;return Object.prototype.hasOwnProperty.call(S,C)?S[C]:S[C]=x(C)}function c(C,x){this.h=x;for(var S=[],P=!0,O=C.length-1;0<=O;O--){var M=C[O]|0;P&&M==x||(S[O]=M,P=!1)}this.g=S}var h={};function p(C){return-128<=C&&128>C?a(C,function(x){return new c([x|0],0>x?-1:0)}):new c([C|0],0>C?-1:0)}function v(C){if(isNaN(C)||!isFinite(C))return T;if(0>C)return V(v(-C));for(var x=[],S=1,P=0;C>=S;P++)x[P]=C/S|0,S*=4294967296;return new c(x,0)}function _(C,x){if(C.length==0)throw Error("number format error: empty string");if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(C.charAt(0)=="-")return V(_(C.substring(1),x));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=v(Math.pow(x,8)),P=T,O=0;O<C.length;O+=8){var M=Math.min(8,C.length-O),k=parseInt(C.substring(O,O+M),x);8>M?(M=v(Math.pow(x,M)),P=P.j(M).add(v(k))):(P=P.j(S),P=P.add(v(k)))}return P}var T=p(0),I=p(1),A=p(16777216);n=c.prototype,n.m=function(){if(j(this))return-V(this).m();for(var C=0,x=1,S=0;S<this.g.length;S++){var P=this.i(S);C+=(0<=P?P:4294967296+P)*x,x*=4294967296}return C},n.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(b(this))return"0";if(j(this))return"-"+V(this).toString(C);for(var x=v(Math.pow(C,6)),S=this,P="";;){var O=he(S,x).g;S=q(S,O.j(x));var M=((0<S.g.length?S.g[0]:S.h)>>>0).toString(C);if(S=O,b(S))return M+P;for(;6>M.length;)M="0"+M;P=M+P}},n.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function b(C){if(C.h!=0)return!1;for(var x=0;x<C.g.length;x++)if(C.g[x]!=0)return!1;return!0}function j(C){return C.h==-1}n.l=function(C){return C=q(this,C),j(C)?-1:b(C)?0:1};function V(C){for(var x=C.g.length,S=[],P=0;P<x;P++)S[P]=~C.g[P];return new c(S,~C.h).add(I)}n.abs=function(){return j(this)?V(this):this},n.add=function(C){for(var x=Math.max(this.g.length,C.g.length),S=[],P=0,O=0;O<=x;O++){var M=P+(this.i(O)&65535)+(C.i(O)&65535),k=(M>>>16)+(this.i(O)>>>16)+(C.i(O)>>>16);P=k>>>16,M&=65535,k&=65535,S[O]=k<<16|M}return new c(S,S[S.length-1]&-2147483648?-1:0)};function q(C,x){return C.add(V(x))}n.j=function(C){if(b(this)||b(C))return T;if(j(this))return j(C)?V(this).j(V(C)):V(V(this).j(C));if(j(C))return V(this.j(V(C)));if(0>this.l(A)&&0>C.l(A))return v(this.m()*C.m());for(var x=this.g.length+C.g.length,S=[],P=0;P<2*x;P++)S[P]=0;for(P=0;P<this.g.length;P++)for(var O=0;O<C.g.length;O++){var M=this.i(P)>>>16,k=this.i(P)&65535,xe=C.i(O)>>>16,Ie=C.i(O)&65535;S[2*P+2*O]+=k*Ie,te(S,2*P+2*O),S[2*P+2*O+1]+=M*Ie,te(S,2*P+2*O+1),S[2*P+2*O+1]+=k*xe,te(S,2*P+2*O+1),S[2*P+2*O+2]+=M*xe,te(S,2*P+2*O+2)}for(P=0;P<x;P++)S[P]=S[2*P+1]<<16|S[2*P];for(P=x;P<2*x;P++)S[P]=0;return new c(S,0)};function te(C,x){for(;(C[x]&65535)!=C[x];)C[x+1]+=C[x]>>>16,C[x]&=65535,x++}function Z(C,x){this.g=C,this.h=x}function he(C,x){if(b(x))throw Error("division by zero");if(b(C))return new Z(T,T);if(j(C))return x=he(V(C),x),new Z(V(x.g),V(x.h));if(j(x))return x=he(C,V(x)),new Z(V(x.g),x.h);if(30<C.g.length){if(j(C)||j(x))throw Error("slowDivide_ only works with positive integers.");for(var S=I,P=x;0>=P.l(C);)S=U(S),P=U(P);var O=ce(S,1),M=ce(P,1);for(P=ce(P,2),S=ce(S,2);!b(P);){var k=M.add(P);0>=k.l(C)&&(O=O.add(S),M=k),P=ce(P,1),S=ce(S,1)}return x=q(C,O.j(x)),new Z(O,x)}for(O=T;0<=C.l(x);){for(S=Math.max(1,Math.floor(C.m()/x.m())),P=Math.ceil(Math.log(S)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),M=v(S),k=M.j(x);j(k)||0<k.l(C);)S-=P,M=v(S),k=M.j(x);b(M)&&(M=I),O=O.add(M),C=q(C,k)}return new Z(O,C)}n.A=function(C){return he(this,C).h},n.and=function(C){for(var x=Math.max(this.g.length,C.g.length),S=[],P=0;P<x;P++)S[P]=this.i(P)&C.i(P);return new c(S,this.h&C.h)},n.or=function(C){for(var x=Math.max(this.g.length,C.g.length),S=[],P=0;P<x;P++)S[P]=this.i(P)|C.i(P);return new c(S,this.h|C.h)},n.xor=function(C){for(var x=Math.max(this.g.length,C.g.length),S=[],P=0;P<x;P++)S[P]=this.i(P)^C.i(P);return new c(S,this.h^C.h)};function U(C){for(var x=C.g.length+1,S=[],P=0;P<x;P++)S[P]=C.i(P)<<1|C.i(P-1)>>>31;return new c(S,C.h)}function ce(C,x){var S=x>>5;x%=32;for(var P=C.g.length-S,O=[],M=0;M<P;M++)O[M]=0<x?C.i(M+S)>>>x|C.i(M+S+1)<<32-x:C.i(M+S);return new c(O,C.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Cw=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=v,c.fromString=_,xo=c}).apply(typeof sy<"u"?sy:typeof self<"u"?self:typeof window<"u"?window:{});var Zu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pw,sl,bw,pc,Tf,Dw,Nw,Ow;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,y){return u==Array.prototype||u==Object.prototype||(u[m]=y.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zu=="object"&&Zu];for(var m=0;m<u.length;++m){var y=u[m];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var i=t(this);function s(u,m){if(m)e:{var y=i;u=u.split(".");for(var E=0;E<u.length-1;E++){var $=u[E];if(!($ in y))break e;y=y[$]}u=u[u.length-1],E=y[u],m=m(E),m!=E&&m!=null&&e(y,u,{configurable:!0,writable:!0,value:m})}}function a(u,m){u instanceof String&&(u+="");var y=0,E=!1,$={next:function(){if(!E&&y<u.length){var Q=y++;return{value:m(Q,u[Q]),done:!1}}return E=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}s("Array.prototype.values",function(u){return u||function(){return a(this,function(m,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,y){return u.call.apply(u.bind,arguments)}function T(u,m,y){if(!u)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,E),u.apply(m,$)}}return function(){return u.apply(m,arguments)}}function I(u,m,y){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:T,I.apply(null,arguments)}function A(u,m){var y=Array.prototype.slice.call(arguments,1);return function(){var E=y.slice();return E.push.apply(E,arguments),u.apply(this,E)}}function b(u,m){function y(){}y.prototype=m.prototype,u.aa=m.prototype,u.prototype=new y,u.prototype.constructor=u,u.Qb=function(E,$,Q){for(var ue=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)ue[mt-2]=arguments[mt];return m.prototype[$].apply(E,ue)}}function j(u){const m=u.length;if(0<m){const y=Array(m);for(let E=0;E<m;E++)y[E]=u[E];return y}return[]}function V(u,m){for(let y=1;y<arguments.length;y++){const E=arguments[y];if(p(E)){const $=u.length||0,Q=E.length||0;u.length=$+Q;for(let ue=0;ue<Q;ue++)u[$+ue]=E[ue]}else u.push(E)}}class q{constructor(m,y){this.i=m,this.j=y,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function te(u){return/^[\s\xa0]*$/.test(u)}function Z(){var u=h.navigator;return u&&(u=u.userAgent)?u:""}function he(u){return he[" "](u),u}he[" "]=function(){};var U=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function ce(u,m,y){for(const E in u)m.call(y,u[E],E,u)}function C(u,m){for(const y in u)m.call(void 0,u[y],y,u)}function x(u){const m={};for(const y in u)m[y]=u[y];return m}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(u,m){let y,E;for(let $=1;$<arguments.length;$++){E=arguments[$];for(y in E)u[y]=E[y];for(let Q=0;Q<S.length;Q++)y=S[Q],Object.prototype.hasOwnProperty.call(E,y)&&(u[y]=E[y])}}function O(u){var m=1;u=u.split(":");const y=[];for(;0<m&&u.length;)y.push(u.shift()),m--;return u.length&&y.push(u.join(":")),y}function M(u){h.setTimeout(()=>{throw u},0)}function k(){var u=fe;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class xe{constructor(){this.h=this.g=null}add(m,y){const E=Ie.get();E.set(m,y),this.h?this.h.next=E:this.g=E,this.h=E}}var Ie=new q(()=>new Ke,u=>u.reset());class Ke{constructor(){this.next=this.g=this.h=null}set(m,y){this.h=m,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Qe,se=!1,fe=new xe,pe=()=>{const u=h.Promise.resolve(void 0);Qe=()=>{u.then(F)}};var F=()=>{for(var u;u=k();){try{u.h.call(u.g)}catch(y){M(y)}var m=Ie;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}se=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _e(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}_e.prototype.h=function(){this.defaultPrevented=!0};var Oe=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const y=()=>{};h.addEventListener("test",y,m),h.removeEventListener("test",y,m)}catch{}return u}();function Ve(u,m){if(_e.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var y=this.type=u.type,E=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(U){e:{try{he(m.nodeName);var $=!0;break e}catch{}$=!1}$||(m=null)}}else y=="mouseover"?m=u.fromElement:y=="mouseout"&&(m=u.toElement);this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:$e[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ve.aa.h.call(this)}}b(Ve,_e);var $e={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ye="closure_listenable_"+(1e6*Math.random()|0),Xe=0;function ze(u,m,y,E,$){this.listener=u,this.proxy=null,this.src=m,this.type=y,this.capture=!!E,this.ha=$,this.key=++Xe,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Zt(u){this.src=u,this.g={},this.h=0}Zt.prototype.add=function(u,m,y,E,$){var Q=u.toString();u=this.g[Q],u||(u=this.g[Q]=[],this.h++);var ue=jt(u,m,E,$);return-1<ue?(m=u[ue],y||(m.fa=!1)):(m=new ze(m,this.src,Q,!!E,$),m.fa=y,u.push(m)),m};function En(u,m){var y=m.type;if(y in u.g){var E=u.g[y],$=Array.prototype.indexOf.call(E,m,void 0),Q;(Q=0<=$)&&Array.prototype.splice.call(E,$,1),Q&&(ft(m),u.g[y].length==0&&(delete u.g[y],u.h--))}}function jt(u,m,y,E){for(var $=0;$<u.length;++$){var Q=u[$];if(!Q.da&&Q.listener==m&&Q.capture==!!y&&Q.ha==E)return $}return-1}var rr="closure_lm_"+(1e6*Math.random()|0),_r={};function wr(u,m,y,E,$){if(Array.isArray(m)){for(var Q=0;Q<m.length;Q++)wr(u,m[Q],y,E,$);return null}return y=Re(y),u&&u[Ye]?u.K(m,y,v(E)?!!E.capture:!1,$):An(u,m,y,!1,E,$)}function An(u,m,y,E,$,Q){if(!m)throw Error("Invalid event type");var ue=v($)?!!$.capture:!!$,mt=Er(u);if(mt||(u[rr]=mt=new Zt(u)),y=mt.add(m,y,E,ue,Q),y.proxy)return y;if(E=$r(),y.proxy=E,E.src=u,E.listener=y,u.addEventListener)Oe||($=ue),$===void 0&&($=!1),u.addEventListener(m.toString(),E,$);else if(u.attachEvent)u.attachEvent(Ut(m.toString()),E);else if(u.addListener&&u.removeListener)u.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return y}function $r(){function u(y){return m.call(u.src,u.listener,y)}const m=Hn;return u}function $n(u,m,y,E,$){if(Array.isArray(m))for(var Q=0;Q<m.length;Q++)$n(u,m[Q],y,E,$);else E=v(E)?!!E.capture:!!E,y=Re(y),u&&u[Ye]?(u=u.i,m=String(m).toString(),m in u.g&&(Q=u.g[m],y=jt(Q,y,E,$),-1<y&&(ft(Q[y]),Array.prototype.splice.call(Q,y,1),Q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Er(u))&&(m=u.g[m.toString()],u=-1,m&&(u=jt(m,y,E,$)),(y=-1<u?m[u]:null)&&cn(y))}function cn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ye])En(m.i,u);else{var y=u.type,E=u.proxy;m.removeEventListener?m.removeEventListener(y,E,u.capture):m.detachEvent?m.detachEvent(Ut(y),E):m.addListener&&m.removeListener&&m.removeListener(E),(y=Er(m))?(En(y,u),y.h==0&&(y.src=null,m[rr]=null)):ft(u)}}}function Ut(u){return u in _r?_r[u]:_r[u]="on"+u}function Hn(u,m){if(u.da)u=!0;else{m=new Ve(m,this);var y=u.listener,E=u.ha||u.src;u.fa&&cn(u),u=y.call(E,m)}return u}function Er(u){return u=u[rr],u instanceof Zt?u:null}var de="__closure_events_fn_"+(1e9*Math.random()>>>0);function Re(u){return typeof u=="function"?u:(u[de]||(u[de]=function(m){return u.handleEvent(m)}),u[de])}function Le(){Y.call(this),this.i=new Zt(this),this.M=this,this.F=null}b(Le,Y),Le.prototype[Ye]=!0,Le.prototype.removeEventListener=function(u,m,y,E){$n(this,u,m,y,E)};function qe(u,m){var y,E=u.F;if(E)for(y=[];E;E=E.F)y.push(E);if(u=u.M,E=m.type||m,typeof m=="string")m=new _e(m,u);else if(m instanceof _e)m.target=m.target||u;else{var $=m;m=new _e(E,u),P(m,$)}if($=!0,y)for(var Q=y.length-1;0<=Q;Q--){var ue=m.g=y[Q];$=gt(ue,E,!0,m)&&$}if(ue=m.g=u,$=gt(ue,E,!0,m)&&$,$=gt(ue,E,!1,m)&&$,y)for(Q=0;Q<y.length;Q++)ue=m.g=y[Q],$=gt(ue,E,!1,m)&&$}Le.prototype.N=function(){if(Le.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var y=u.g[m],E=0;E<y.length;E++)ft(y[E]);delete u.g[m],u.h--}}this.F=null},Le.prototype.K=function(u,m,y,E){return this.i.add(String(u),m,!1,y,E)},Le.prototype.L=function(u,m,y,E){return this.i.add(String(u),m,!0,y,E)};function gt(u,m,y,E){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var $=!0,Q=0;Q<m.length;++Q){var ue=m[Q];if(ue&&!ue.da&&ue.capture==y){var mt=ue.listener,zt=ue.ha||ue.src;ue.fa&&En(u.i,ue),$=mt.call(zt,E)!==!1&&$}}return $&&!E.defaultPrevented}function Wn(u,m,y){if(typeof u=="function")y&&(u=I(u,y));else if(u&&typeof u.handleEvent=="function")u=I(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:h.setTimeout(u,m||0)}function It(u){u.g=Wn(()=>{u.g=null,u.i&&(u.i=!1,It(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Cn extends Y{constructor(m,y){super(),this.m=m,this.l=y,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:It(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pn(u){Y.call(this),this.h=u,this.g={}}b(Pn,Y);var ir=[];function or(u){ce(u.g,function(m,y){this.g.hasOwnProperty(y)&&cn(m)},u),u.g={}}Pn.prototype.N=function(){Pn.aa.N.call(this),or(this)},Pn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sr=h.JSON.stringify,bn=h.JSON.parse,ar=class{stringify(u){return h.JSON.stringify(u,void 0)}parse(u){return h.JSON.parse(u,void 0)}};function Tn(){}Tn.prototype.h=null;function Hr(u){return u.h||(u.h=u.i())}function ci(){}var Dn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function qn(){_e.call(this,"d")}b(qn,_e);function Tr(){_e.call(this,"c")}b(Tr,_e);var xn={},Do=null;function di(){return Do=Do||new Le}xn.La="serverreachability";function N(u){_e.call(this,xn.La,u)}b(N,_e);function B(u){const m=di();qe(m,new N(m))}xn.STAT_EVENT="statevent";function G(u,m){_e.call(this,xn.STAT_EVENT,u),this.stat=m}b(G,_e);function X(u){const m=di();qe(m,new G(m,u))}xn.Ma="timingevent";function me(u,m){_e.call(this,xn.Ma,u),this.size=m}b(me,_e);function we(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){u()},m)}function Pe(){this.g=!0}Pe.prototype.xa=function(){this.g=!1};function ge(u,m,y,E,$,Q){u.info(function(){if(u.g)if(Q)for(var ue="",mt=Q.split("&"),zt=0;zt<mt.length;zt++){var ot=mt[zt].split("=");if(1<ot.length){var Kt=ot[0];ot=ot[1];var Vt=Kt.split("_");ue=2<=Vt.length&&Vt[1]=="type"?ue+(Kt+"="+ot+"&"):ue+(Kt+"=redacted&")}}else ue=null;else ue=Q;return"XMLHTTP REQ ("+E+") [attempt "+$+"]: "+m+`
`+y+`
`+ue})}function Te(u,m,y,E,$,Q,ue){u.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+$+"]: "+m+`
`+y+`
`+Q+" "+ue})}function le(u,m,y,E){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+We(u,y)+(E?" "+E:"")})}function Me(u,m){u.info(function(){return"TIMEOUT: "+m})}Pe.prototype.info=function(){};function We(u,m){if(!u.g)return m;if(!m)return null;try{var y=JSON.parse(m);if(y){for(u=0;u<y.length;u++)if(Array.isArray(y[u])){var E=y[u];if(!(2>E.length)){var $=E[1];if(Array.isArray($)&&!(1>$.length)){var Q=$[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ue=1;ue<$.length;ue++)$[ue]=""}}}}return sr(y)}catch{return m}}var ct={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Dt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},et;function at(){}b(at,Tn),at.prototype.g=function(){return new XMLHttpRequest},at.prototype.i=function(){return{}},et=new at;function dt(u,m,y,E){this.j=u,this.i=m,this.l=y,this.R=E||1,this.U=new Pn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xr}function xr(){this.i=null,this.g="",this.h=!1}var Ir={},dn={};function en(u,m,y){u.L=1,u.v=Ki(Kn(m)),u.m=y,u.P=!0,hi(u,null)}function hi(u,m){u.F=Date.now(),ht(u),u.A=Kn(u.v);var y=u.A,E=u.R;Array.isArray(E)||(E=[String(E)]),Qi(y.i,"t",E),u.C=0,y=u.j.J,u.h=new xr,u.g=eu(u.j,y?m:null,!u.m),0<u.O&&(u.M=new Cn(I(u.Y,u,u.g),u.O)),m=u.U,y=u.g,E=u.ca;var $="readystatechange";Array.isArray($)||($&&(ir[0]=$.toString()),$=ir);for(var Q=0;Q<$.length;Q++){var ue=wr(y,$[Q],E||m.handleEvent,!1,m.h||m);if(!ue)break;m.g[ue.key]=ue}m=u.H?x(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),B(),ge(u.i,u.u,u.A,u.l,u.R,u.m)}dt.prototype.ca=function(u){u=u.target;const m=this.M;m&&Ln(u)==3?m.j():this.Y(u)},dt.prototype.Y=function(u){try{if(u==this.g)e:{const Vt=Ln(this.g);var m=this.g.Ba();const ur=this.g.Z();if(!(3>Vt)&&(Vt!=3||this.g&&(this.h.h||this.g.oa()||Sa(this.g)))){this.J||Vt!=4||m==7||(m==8||0>=ur?B(3):B(2)),it(this);var y=this.g.Z();this.X=y;t:if(Wr(this)){var E=Sa(this.g);u="";var $=E.length,Q=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tn(this),wt(this);var ue="";break t}this.h.i=new h.TextDecoder}for(m=0;m<$;m++)this.h.h=!0,u+=this.h.i.decode(E[m],{stream:!(Q&&m==$-1)});E.length=0,this.h.g+=u,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=y==200,Te(this.i,this.u,this.A,this.l,this.R,Vt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var mt,zt=this.g;if((mt=zt.g?zt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(mt)){var ot=mt;break t}}ot=null}if(y=ot)le(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rr(this,y);else{this.o=!1,this.s=3,X(12),tn(this),wt(this);break e}}if(this.P){y=!0;let Qn;for(;!this.J&&this.C<ue.length;)if(Qn=Sr(this,ue),Qn==dn){Vt==4&&(this.s=4,X(14),y=!1),le(this.i,this.l,null,"[Incomplete Response]");break}else if(Qn==Ir){this.s=4,X(15),le(this.i,this.l,ue,"[Invalid Chunk]"),y=!1;break}else le(this.i,this.l,Qn,null),Rr(this,Qn);if(Wr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Vt!=4||ue.length!=0||this.h.h||(this.s=1,X(16),y=!1),this.o=this.o&&y,!y)le(this.i,this.l,ue,"[Invalid Chunked Response]"),tn(this),wt(this);else if(0<ue.length&&!this.W){this.W=!0;var Kt=this.j;Kt.g==this&&Kt.ba&&!Kt.M&&(Kt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),ka(Kt),Kt.M=!0,X(11))}}else le(this.i,this.l,ue,null),Rr(this,ue);Vt==4&&tn(this),this.o&&!this.J&&(Vt==4?ks(this.j,this):(this.o=!1,ht(this)))}else Ts(this.g),y==400&&0<ue.indexOf("Unknown SID")?(this.s=3,X(12)):(this.s=0,X(13)),tn(this),wt(this)}}}catch{}finally{}};function Wr(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Sr(u,m){var y=u.C,E=m.indexOf(`
`,y);return E==-1?dn:(y=Number(m.substring(y,E)),isNaN(y)?Ir:(E+=1,E+y>m.length?dn:(m=m.slice(E,E+y),u.C=E+y,m)))}dt.prototype.cancel=function(){this.J=!0,tn(this)};function ht(u){u.S=Date.now()+u.I,fi(u,u.I)}function fi(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=we(I(u.ba,u),m)}function it(u){u.B&&(h.clearTimeout(u.B),u.B=null)}dt.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Me(this.i,this.A),this.L!=2&&(B(),X(17)),tn(this),this.s=2,wt(this)):fi(this,this.S-u)};function wt(u){u.j.G==0||u.J||ks(u.j,u)}function tn(u){it(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,or(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Rr(u,m){try{var y=u.j;if(y.G!=0&&(y.g==u||In(y.h,u))){if(!u.K&&In(y.h,u)&&y.G==3){try{var E=y.Da.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var $=E;if($[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<u.F)Rs(y),br(y);else break e;Ss(y),X(18)}}else y.za=$[1],0<y.za-y.T&&37500>$[2]&&y.F&&y.v==0&&!y.C&&(y.C=we(I(y.Za,y),6e3));if(1>=gs(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else yi(y,11)}else if((u.K||y.g==u)&&Rs(y),!te(m))for($=y.Da.g.parse(m),m=0;m<$.length;m++){let ot=$[m];if(y.T=ot[0],ot=ot[1],y.G==2)if(ot[0]=="c"){y.K=ot[1],y.ia=ot[2];const Kt=ot[3];Kt!=null&&(y.la=Kt,y.j.info("VER="+y.la));const Vt=ot[4];Vt!=null&&(y.Aa=Vt,y.j.info("SVER="+y.Aa));const ur=ot[5];ur!=null&&typeof ur=="number"&&0<ur&&(E=1.5*ur,y.L=E,y.j.info("backChannelRequestTimeoutMs_="+E)),E=y;const Qn=u.g;if(Qn){const Fo=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fo){var Q=E.h;Q.g||Fo.indexOf("spdy")==-1&&Fo.indexOf("quic")==-1&&Fo.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Ea(Q,Q.h),Q.h=null))}if(E.D){const Cs=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;Cs&&(E.ya=Cs,vt(E.I,E.D,Cs))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-u.F,y.j.info("Handshake RTT: "+y.R+"ms")),E=y;var ue=u;if(E.qa=Zl(E,E.J?E.ia:null,E.W),ue.K){zl(E.h,ue);var mt=ue,zt=E.L;zt&&(mt.I=zt),mt.B&&(it(mt),ht(mt)),E.g=ue}else Mo(E);0<y.i.length&&Qr(y)}else ot[0]!="stop"&&ot[0]!="close"||yi(y,7);else y.G==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?yi(y,7):rn(y):ot[0]!="noop"&&y.l&&y.l.ta(ot),y.v=0)}}B(4)}catch{}}var Et=class{constructor(u,m){this.g=u,this.map=m}};function Nn(u){this.l=u||10,h.PerformanceNavigationTiming?(u=h.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function gs(u){return u.h?1:u.g?u.g.size:0}function In(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ea(u,m){u.g?u.g.add(m):u.h=m}function zl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Nn.prototype.cancel=function(){if(this.i=Bl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Bl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const y of u.g.values())m=m.concat(y.D);return m}return j(u.i)}function vs(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],y=u.length,E=0;E<y;E++)m.push(u[E]);return m}m=[],y=0;for(E in u)m[y++]=u[E];return m}function ys(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var y=0;y<u;y++)m.push(y);return m}m=[],y=0;for(const E in u)m[y++]=E;return m}}}function Hi(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var y=ys(u),E=vs(u),$=E.length,Q=0;Q<$;Q++)m.call(void 0,E[Q],y&&y[Q],u)}var No=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pd(u,m){if(u){u=u.split("&");for(var y=0;y<u.length;y++){var E=u[y].indexOf("="),$=null;if(0<=E){var Q=u[y].substring(0,E);$=u[y].substring(E+1)}else Q=u[y];m(Q,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function pi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof pi){this.h=u.h,Oo(this,u.j),this.o=u.o,this.g=u.g,Wi(this,u.s),this.l=u.l;var m=u.i,y=new qr;y.i=m.i,m.g&&(y.g=new Map(m.g),y.h=m.h),qi(this,y),this.m=u.m}else u&&(m=String(u).match(No))?(this.h=!1,Oo(this,m[1]||"",!0),this.o=tt(m[2]||""),this.g=tt(m[3]||"",!0),Wi(this,m[4]),this.l=tt(m[5]||"",!0),qi(this,m[6]||"",!0),this.m=tt(m[7]||"")):(this.h=!1,this.i=new qr(null,this.h))}pi.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Gi(m,_s,!0),":");var y=this.g;return(y||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Gi(m,_s,!0),"@"),u.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&u.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&u.push("/"),u.push(Gi(y,y.charAt(0)=="/"?Wl:Hl,!0))),(y=this.i.toString())&&u.push("?",y),(y=this.m)&&u.push("#",Gi(y,Ta)),u.join("")};function Kn(u){return new pi(u)}function Oo(u,m,y){u.j=y?tt(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Wi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function qi(u,m,y){m instanceof qr?(u.i=m,Kr(u.i,u.h)):(y||(m=Gi(m,ql)),u.i=new qr(m,u.h))}function vt(u,m,y){u.i.set(m,y)}function Ki(u){return vt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function tt(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Gi(u,m,y){return typeof u=="string"?(u=encodeURI(u).replace(m,$l),y&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function $l(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var _s=/[#\/\?@]/g,Hl=/[#\?:]/g,Wl=/[#\?]/g,ql=/[#\?@]/g,Ta=/#/g;function qr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function nn(u){u.g||(u.g=new Map,u.h=0,u.i&&pd(u.i,function(m,y){u.add(decodeURIComponent(m.replace(/\+/g," ")),y)}))}n=qr.prototype,n.add=function(u,m){nn(this),this.i=null,u=lr(this,u);var y=this.g.get(u);return y||this.g.set(u,y=[]),y.push(m),this.h+=1,this};function kr(u,m){nn(u),m=lr(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ar(u,m){return nn(u),m=lr(u,m),u.g.has(m)}n.forEach=function(u,m){nn(this),this.g.forEach(function(y,E){y.forEach(function($){u.call(m,$,E,this)},this)},this)},n.na=function(){nn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),y=[];for(let E=0;E<m.length;E++){const $=u[E];for(let Q=0;Q<$.length;Q++)y.push(m[E])}return y},n.V=function(u){nn(this);let m=[];if(typeof u=="string")Ar(this,u)&&(m=m.concat(this.g.get(lr(this,u))));else{u=Array.from(this.g.values());for(let y=0;y<u.length;y++)m=m.concat(u[y])}return m},n.set=function(u,m){return nn(this),this.i=null,u=lr(this,u),Ar(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Qi(u,m,y){kr(u,m),0<y.length&&(u.i=null,u.g.set(lr(u,m),j(y)),u.h+=y.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var y=0;y<m.length;y++){var E=m[y];const Q=encodeURIComponent(String(E)),ue=this.V(E);for(E=0;E<ue.length;E++){var $=Q;ue[E]!==""&&($+="="+encodeURIComponent(String(ue[E]))),u.push($)}}return this.i=u.join("&")};function lr(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Kr(u,m){m&&!u.j&&(nn(u),u.i=null,u.g.forEach(function(y,E){var $=E.toLowerCase();E!=$&&(kr(this,E),Qi(this,$,y))},u)),u.j=m}function md(u,m){const y=new Pe;if(h.Image){const E=new Image;E.onload=A(On,y,"TestLoadImage: loaded",!0,m,E),E.onerror=A(On,y,"TestLoadImage: error",!1,m,E),E.onabort=A(On,y,"TestLoadImage: abort",!1,m,E),E.ontimeout=A(On,y,"TestLoadImage: timeout",!1,m,E),h.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=u}else m(!1)}function Kl(u,m){const y=new Pe,E=new AbortController,$=setTimeout(()=>{E.abort(),On(y,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:E.signal}).then(Q=>{clearTimeout($),Q.ok?On(y,"TestPingServer: ok",!0,m):On(y,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout($),On(y,"TestPingServer: error",!1,m)})}function On(u,m,y,E,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),E(y)}catch{}}function gd(){this.g=new ar}function Gl(u,m,y){const E=y||"";try{Hi(u,function($,Q){let ue=$;v($)&&(ue=sr($)),m.push(E+Q+"="+encodeURIComponent(ue))})}catch($){throw m.push(E+"type="+encodeURIComponent("_badmap")),$}}function mi(u){this.l=u.Ub||null,this.j=u.eb||!1}b(mi,Tn),mi.prototype.g=function(){return new Lo(this.l,this.j)},mi.prototype.i=function(u){return function(){return u}}({});function Lo(u,m){Le.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(Lo,Le),n=Lo.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Pr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||h).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Cr(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Pr(this)),this.g&&(this.readyState=3,Pr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ql(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ql(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Cr(this):Pr(this),this.readyState==3&&Ql(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Cr(this))},n.Qa=function(u){this.g&&(this.response=u,Cr(this))},n.ga=function(){this.g&&Cr(this)};function Cr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Pr(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var y=m.next();!y.done;)y=y.value,u.push(y[0]+": "+y[1]),y=m.next();return u.join(`\r
`)};function Pr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Lo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function gi(u){let m="";return ce(u,function(y,E){m+=E,m+=":",m+=y,m+=`\r
`}),m}function Yi(u,m,y){e:{for(E in y){var E=!1;break e}E=!0}E||(y=gi(y),typeof u=="string"?y!=null&&encodeURIComponent(String(y)):vt(u,m,y))}function St(u){Le.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(St,Le);var vd=/^https?$/i,xa=["POST","PUT"];n=St.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,y,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():et.g(),this.v=this.o?Hr(this.o):Hr(et),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(Q){Vo(this,Q);return}if(u=y||"",y=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var $ in E)y.set($,E[$]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const Q of E.keys())y.set(Q,E.get(Q));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(y.keys()).find(Q=>Q.toLowerCase()=="content-type"),$=h.FormData&&u instanceof h.FormData,!(0<=Array.prototype.indexOf.call(xa,m,void 0))||E||$||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ue]of y)this.g.setRequestHeader(Q,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Es(this),this.u=!0,this.g.send(u),this.u=!1}catch(Q){Vo(this,Q)}};function Vo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,ws(u),Gn(u)}function ws(u){u.A||(u.A=!0,qe(u,"complete"),qe(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,qe(this,"complete"),qe(this,"abort"),Gn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gn(this,!0)),St.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ia(this):this.bb())},n.bb=function(){Ia(this)};function Ia(u){if(u.h&&typeof c<"u"&&(!u.v[1]||Ln(u)!=4||u.Z()!=2)){if(u.u&&Ln(u)==4)Wn(u.Ea,0,u);else if(qe(u,"readystatechange"),Ln(u)==4){u.h=!1;try{const ue=u.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var y;if(!(y=m)){var E;if(E=ue===0){var $=String(u.D).match(No)[1]||null;!$&&h.self&&h.self.location&&($=h.self.location.protocol.slice(0,-1)),E=!vd.test($?$.toLowerCase():"")}y=E}if(y)qe(u,"complete"),qe(u,"success");else{u.m=6;try{var Q=2<Ln(u)?u.g.statusText:""}catch{Q=""}u.l=Q+" ["+u.Z()+"]",ws(u)}}finally{Gn(u)}}}}function Gn(u,m){if(u.g){Es(u);const y=u.g,E=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||qe(u,"ready");try{y.onreadystatechange=E}catch{}}}function Es(u){u.I&&(h.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Ln(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),bn(m)}};function Sa(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ts(u){const m={};u=(u.g&&2<=Ln(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<u.length;E++){if(te(u[E]))continue;var y=O(u[E]);const $=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const Q=m[$]||[];m[$]=Q,Q.push(y)}C(m,function(E){return E.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gr(u,m,y){return y&&y.internalChannelParams&&y.internalChannelParams[u]||m}function Ra(u){this.Aa=0,this.i=[],this.j=new Pe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gr("baseRetryDelayMs",5e3,u),this.cb=Gr("retryDelaySeedMs",1e4,u),this.Wa=Gr("forwardChannelMaxRetries",2,u),this.wa=Gr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Nn(u&&u.concurrentRequestLimit),this.Da=new gd,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ra.prototype,n.la=8,n.G=1,n.connect=function(u,m,y,E){X(0),this.W=u,this.H=m||{},y&&E!==void 0&&(this.H.OSID=y,this.H.OAID=E),this.F=this.X,this.I=Zl(this,null,this.W),Qr(this)};function rn(u){if(xs(u),u.G==3){var m=u.U++,y=Kn(u.I);if(vt(y,"SID",u.K),vt(y,"RID",m),vt(y,"TYPE","terminate"),vi(u,y),m=new dt(u,u.j,m),m.L=2,m.v=Ki(Kn(y)),y=!1,h.navigator&&h.navigator.sendBeacon)try{y=h.navigator.sendBeacon(m.v.toString(),"")}catch{}!y&&h.Image&&(new Image().src=m.v,y=!0),y||(m.g=eu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ht(m)}Jl(u)}function br(u){u.g&&(ka(u),u.g.cancel(),u.g=null)}function xs(u){br(u),u.u&&(h.clearTimeout(u.u),u.u=null),Rs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&h.clearTimeout(u.s),u.s=null)}function Qr(u){if(!hn(u.h)&&!u.s){u.s=!0;var m=u.Ga;Qe||pe(),se||(Qe(),se=!0),fe.add(m,u),u.B=0}}function yd(u,m){return gs(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=we(I(u.Ga,u,m),Xl(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const $=new dt(this,this.j,u);let Q=this.o;if(this.S&&(Q?(Q=x(Q),P(Q,this.S)):Q=this.S),this.m!==null||this.O||($.H=Q,Q=null),this.P)e:{for(var m=0,y=0;y<this.i.length;y++){t:{var E=this.i[y];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(m+=E,4096<m){m=y;break e}if(m===4096||y===this.i.length-1){m=y+1;break e}}m=1e3}else m=1e3;m=Xi(this,$,m),y=Kn(this.I),vt(y,"RID",u),vt(y,"CVER",22),this.D&&vt(y,"X-HTTP-Session-Id",this.D),vi(this,y),Q&&(this.O?m="headers="+encodeURIComponent(String(gi(Q)))+"&"+m:this.m&&Yi(y,this.m,Q)),Ea(this.h,$),this.Ua&&vt(y,"TYPE","init"),this.P?(vt(y,"$req",m),vt(y,"SID","null"),$.T=!0,en($,y,null)):en($,y,m),this.G=2}}else this.G==3&&(u?Is(this,u):this.i.length==0||hn(this.h)||Is(this))};function Is(u,m){var y;m?y=m.l:y=u.U++;const E=Kn(u.I);vt(E,"SID",u.K),vt(E,"RID",y),vt(E,"AID",u.T),vi(u,E),u.m&&u.o&&Yi(E,u.m,u.o),y=new dt(u,u.j,y,u.B+1),u.m===null&&(y.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Xi(u,y,1e3),y.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ea(u.h,y),en(y,E,m)}function vi(u,m){u.H&&ce(u.H,function(y,E){vt(m,E,y)}),u.l&&Hi({},function(y,E){vt(m,E,y)})}function Xi(u,m,y){y=Math.min(u.i.length,y);var E=u.l?I(u.l.Na,u.l,u):null;e:{var $=u.i;let Q=-1;for(;;){const ue=["count="+y];Q==-1?0<y?(Q=$[0].g,ue.push("ofs="+Q)):Q=0:ue.push("ofs="+Q);let mt=!0;for(let zt=0;zt<y;zt++){let ot=$[zt].g;const Kt=$[zt].map;if(ot-=Q,0>ot)Q=Math.max(0,$[zt].g-100),mt=!1;else try{Gl(Kt,ue,"req"+ot+"_")}catch{E&&E(Kt)}}if(mt){E=ue.join("&");break e}}}return u=u.i.splice(0,y),m.D=u,E}function Mo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Qe||pe(),se||(Qe(),se=!0),fe.add(m,u),u.v=0}}function Ss(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=we(I(u.Fa,u),Xl(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Yl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=we(I(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,X(10),br(this),Yl(this))};function ka(u){u.A!=null&&(h.clearTimeout(u.A),u.A=null)}function Yl(u){u.g=new dt(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Kn(u.qa);vt(m,"RID","rpc"),vt(m,"SID",u.K),vt(m,"AID",u.T),vt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&vt(m,"TO",u.ja),vt(m,"TYPE","xmlhttp"),vi(u,m),u.m&&u.o&&Yi(m,u.m,u.o),u.L&&(u.g.I=u.L);var y=u.g;u=u.ia,y.L=1,y.v=Ki(Kn(m)),y.m=null,y.P=!0,hi(y,u)}n.Za=function(){this.C!=null&&(this.C=null,br(this),Ss(this),X(19))};function Rs(u){u.C!=null&&(h.clearTimeout(u.C),u.C=null)}function ks(u,m){var y=null;if(u.g==m){Rs(u),ka(u),u.g=null;var E=2}else if(In(u.h,m))y=m.D,zl(u.h,m),E=1;else return;if(u.G!=0){if(m.o)if(E==1){y=m.m?m.m.length:0,m=Date.now()-m.F;var $=u.B;E=di(),qe(E,new me(E,y)),Qr(u)}else Mo(u);else if($=m.s,$==3||$==0&&0<m.X||!(E==1&&yd(u,m)||E==2&&Ss(u)))switch(y&&0<y.length&&(m=u.h,m.i=m.i.concat(y)),$){case 1:yi(u,5);break;case 4:yi(u,10);break;case 3:yi(u,6);break;default:yi(u,2)}}}function Xl(u,m){let y=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(y*=2),y*m}function yi(u,m){if(u.j.info("Error code "+m),m==2){var y=I(u.fb,u),E=u.Xa;const $=!E;E=new pi(E||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||Oo(E,"https"),Ki(E),$?md(E.toString(),y):Kl(E.toString(),y)}else X(2);u.G=0,u.l&&u.l.sa(m),Jl(u),xs(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),X(2)):(this.j.info("Failed to ping google.com"),X(1))};function Jl(u){if(u.G=0,u.ka=[],u.l){const m=Bl(u.h);(m.length!=0||u.i.length!=0)&&(V(u.ka,m),V(u.ka,u.i),u.h.i.length=0,j(u.i),u.i.length=0),u.l.ra()}}function Zl(u,m,y){var E=y instanceof pi?Kn(y):new pi(y);if(E.g!="")m&&(E.g=m+"."+E.g),Wi(E,E.s);else{var $=h.location;E=$.protocol,m=m?m+"."+$.hostname:$.hostname,$=+$.port;var Q=new pi(null);E&&Oo(Q,E),m&&(Q.g=m),$&&Wi(Q,$),y&&(Q.l=y),E=Q}return y=u.D,m=u.ya,y&&m&&vt(E,y,m),vt(E,"VER",u.la),vi(u,E),E}function eu(u,m,y){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new St(new mi({eb:y})):new St(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Aa(){}n=Aa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function As(){}As.prototype.g=function(u,m){return new Sn(u,m)};function Sn(u,m){Le.call(this),this.g=new Ra(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!te(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!te(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Yr(this)}b(Sn,Le),Sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Sn.prototype.close=function(){rn(this.g)},Sn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var y={};y.__data__=u,u=y}else this.u&&(y={},y.__data__=sr(u),u=y);m.i.push(new Et(m.Ya++,u)),m.G==3&&Qr(m)},Sn.prototype.N=function(){this.g.l=null,delete this.j,rn(this.g),delete this.g,Sn.aa.N.call(this)};function tu(u){qn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const y in m){u=y;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(tu,qn);function nu(){Tr.call(this),this.status=1}b(nu,Tr);function Yr(u){this.g=u}b(Yr,Aa),Yr.prototype.ua=function(){qe(this.g,"a")},Yr.prototype.ta=function(u){qe(this.g,new tu(u))},Yr.prototype.sa=function(u){qe(this.g,new nu)},Yr.prototype.ra=function(){qe(this.g,"b")},As.prototype.createWebChannel=As.prototype.g,Sn.prototype.send=Sn.prototype.o,Sn.prototype.open=Sn.prototype.m,Sn.prototype.close=Sn.prototype.close,Ow=function(){return new As},Nw=function(){return di()},Dw=xn,Tf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ct.NO_ERROR=0,ct.TIMEOUT=8,ct.HTTP_ERROR=6,pc=ct,Dt.COMPLETE="complete",bw=Dt,ci.EventType=Dn,Dn.OPEN="a",Dn.CLOSE="b",Dn.ERROR="c",Dn.MESSAGE="d",Le.prototype.listen=Le.prototype.K,sl=ci,St.prototype.listenOnce=St.prototype.L,St.prototype.getLastError=St.prototype.Ka,St.prototype.getLastErrorCode=St.prototype.Ba,St.prototype.getStatus=St.prototype.Z,St.prototype.getResponseJson=St.prototype.Oa,St.prototype.getResponseText=St.prototype.oa,St.prototype.send=St.prototype.ea,St.prototype.setWithCredentials=St.prototype.Ha,Pw=St}).apply(typeof Zu<"u"?Zu:typeof self<"u"?self:typeof window<"u"?window:{});const ay="@firebase/firestore",ly="4.7.8";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}yn.UNAUTHENTICATED=new yn(null),yn.GOOGLE_CREDENTIALS=new yn("google-credentials-uid"),yn.FIRST_PARTY=new yn("first-party-uid"),yn.MOCK_USER=new yn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ga="11.3.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=new ep("@firebase/firestore");function Xs(){return as.logLevel}function ye(n,...e){if(as.logLevel<=Je.DEBUG){const t=e.map(pp);as.debug(`Firestore (${ga}): ${n}`,...t)}}function Li(n,...e){if(as.logLevel<=Je.ERROR){const t=e.map(pp);as.error(`Firestore (${ga}): ${n}`,...t)}}function sa(n,...e){if(as.logLevel<=Je.WARN){const t=e.map(pp);as.warn(`Firestore (${ga}): ${n}`,...t)}}function pp(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function je(n="Unexpected state"){const e=`FIRESTORE (${ga}) INTERNAL ASSERTION FAILED: `+n;throw Li(e),new Error(e)}function pt(n,e){n||je()}function He(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ce extends Ui{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(yn.UNAUTHENTICATED))}shutdown(){}}class OA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class LA{constructor(e){this.t=e,this.currentUser=yn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){pt(this.o===void 0);let i=this.i;const s=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let a=new Di;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Di,e.enqueueRetryable(()=>s(this.currentUser))};const c=()=>{const p=a;e.enqueueRetryable(async()=>{await p.promise,await s(this.currentUser)})},h=p=>{ye("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>h(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(ye("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Di)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ye("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(pt(typeof i.accessToken=="string"),new Lw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return pt(e===null||typeof e=="string"),new yn(e)}}class VA{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=yn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class MA{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new VA(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(yn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FA{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,er(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){pt(this.o===void 0);const i=a=>{a.error!=null&&ye("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.R;return this.R=a.token,ye("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const s=a=>{ye("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):ye("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new uy(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(pt(typeof t.token=="string"),this.R=t.token,new uy(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const s=jA(40);for(let a=0;a<s.length;++a)i.length<20&&s[a]<t&&(i+=e.charAt(s[a]%62))}return i}}function nt(n,e){return n<e?-1:n>e?1:0}function aa(n,e,t){return n.length===e.length&&n.every((i,s)=>t(i,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy=-62135596800,dy=1e6;class Wt{static now(){return Wt.fromMillis(Date.now())}static fromDate(e){return Wt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*dy);return new Wt(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ce(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ce(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<cy)throw new Ce(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ce(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/dy}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-cy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{static fromTimestamp(e){return new Be(e)}static min(){return new Be(new Wt(0,0))}static max(){return new Be(new Wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy="__name__";class ni{constructor(e,t,i){t===void 0?t=0:t>e.length&&je(),i===void 0?i=e.length-t:i>e.length-t&&je(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return ni.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ni?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let s=0;s<i;s++){const a=ni.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return Math.sign(e.length-t.length)}static compareSegments(e,t){const i=ni.isNumericId(e),s=ni.isNumericId(t);return i&&!s?-1:!i&&s?1:i&&s?ni.extractNumericId(e).compare(ni.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xo.fromString(e.substring(4,e.length-2))}}class kt extends ni{construct(e,t,i){return new kt(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Ce(re.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(s=>s.length>0))}return new kt(t)}static emptyPath(){return new kt([])}}const UA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ln extends ni{construct(e,t,i){return new ln(e,t,i)}static isValidIdentifier(e){return UA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ln.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hy}static keyField(){return new ln([hy])}static fromServerFormat(e){const t=[];let i="",s=0;const a=()=>{if(i.length===0)throw new Ce(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;s<e.length;){const h=e[s];if(h==="\\"){if(s+1===e.length)throw new Ce(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ce(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,s+=2}else h==="`"?(c=!c,s++):h!=="."||c?(i+=h,s++):(a(),s++)}if(a(),c)throw new Ce(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ln(t)}static emptyPath(){return new ln([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(kt.fromString(e))}static fromName(e){return new Ne(kt.fromString(e).popFirst(5))}static empty(){return new Ne(kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return kt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new kt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=-1;function zA(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,s=Be.fromTimestamp(i===1e9?new Wt(t+1,0):new Wt(t,i));return new Ro(s,Ne.empty(),e)}function BA(n){return new Ro(n.readTime,n.key,wl)}class Ro{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Ro(Be.min(),Ne.empty(),wl)}static max(){return new Ro(Be.max(),Ne.empty(),wl)}}function $A(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ne.comparator(n.documentKey,e.documentKey),t!==0?t:nt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function va(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==HA)throw n;ye("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J((i,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):J.reject(t)}static resolve(e){return new J((t,i)=>{t(e)})}static reject(e){return new J((t,i)=>{i(e)})}static waitFor(e){return new J((t,i)=>{let s=0,a=0,c=!1;e.forEach(h=>{++s,h.next(()=>{++a,c&&a===s&&t()},p=>i(p))}),c=!0,a===s&&t()})}static or(e){let t=J.resolve(!1);for(const i of e)t=t.next(s=>s?J.resolve(s):i());return t}static forEach(e,t){const i=[];return e.forEach((s,a)=>{i.push(t.call(this,s,a))}),this.waitFor(i)}static mapArray(e,t){return new J((i,s)=>{const a=e.length,c=new Array(a);let h=0;for(let p=0;p<a;p++){const v=p;t(e[v]).next(_=>{c[v]=_,++h,h===a&&i(c)},_=>s(_))}})}static doWhile(e,t){return new J((i,s)=>{const a=()=>{e()===!0?t().next(()=>{a()},s):i()};a()})}}function qA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ya(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ed.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mp=-1;function td(n){return n==null}function Dc(n){return n===0&&1/n==-1/0}function KA(n){return typeof n=="number"&&Number.isInteger(n)&&!Dc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="";function GA(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=fy(e)),e=QA(n.get(t),e);return fy(e)}function QA(n,e){let t=e;const i=n.length;for(let s=0;s<i;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case Mw:t+="";break;default:t+=a}}return t}function fy(n){return n+Mw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function hs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Fw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,t){this.comparator=e,this.root=t||an.EMPTY}insert(e,t){return new bt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,an.BLACK,null,null))}remove(e){return new bt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,an.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return t+i.left.size;s<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ec(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ec(this.root,e,this.comparator,!1)}getReverseIterator(){return new ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ec(this.root,e,this.comparator,!0)}}class ec{constructor(e,t,i,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class an{constructor(e,t,i,s,a){this.key=e,this.value=t,this.color=i??an.RED,this.left=s??an.EMPTY,this.right=a??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,s,a){return new an(e??this.key,t??this.value,i??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let s=this;const a=i(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,i),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,i)),s.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return an.EMPTY;i=s.right.min(),s=s.copy(i.key,i.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw je();const e=this.left.check();if(e!==this.right.check())throw je();return e+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw je()}get value(){throw je()}get color(){throw je()}get left(){throw je()}get right(){throw je()}copy(e,t,i,s,a){return this}insert(e,t,i){return new an(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new bt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const s=i.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new my(this.data.getIterator())}getIteratorFrom(e){return new my(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=i.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new qt(this.comparator);return t.data=e,t}}class my{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.fields=e,e.sort(ln.comparator)}static empty(){return new jr([])}unionWith(e){let t=new qt(ln.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new jr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return aa(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new jw("Invalid base64 string: "+a):a}}(e);return new un(t)}static fromUint8Array(e){const t=function(s){let a="";for(let c=0;c<s.length;++c)a+=String.fromCharCode(s[c]);return a}(e);return new un(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let s=0;s<t.length;s++)i[s]=t.charCodeAt(s);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const YA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ko(n){if(pt(!!n),typeof n=="string"){let e=0;const t=YA.exec(n);if(pt(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Lt(n.seconds),nanos:Lt(n.nanos)}}function Lt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ao(n){return typeof n=="string"?un.fromBase64String(n):un.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw="server_timestamp",zw="__type__",Bw="__previous_value__",$w="__local_write_time__";function gp(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[zw])===null||t===void 0?void 0:t.stringValue)===Uw}function nd(n){const e=n.mapValue.fields[Bw];return gp(e)?nd(e):e}function El(n){const e=ko(n.mapValue.fields[$w].timestampValue);return new Wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,t,i,s,a,c,h,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=s,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=v}}const Nc="(default)";class Tl{constructor(e,t){this.projectId=e,this.database=t||Nc}static empty(){return new Tl("","")}get isDefaultDatabase(){return this.database===Nc}isEqual(e){return e instanceof Tl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw="__type__",JA="__max__",tc={mapValue:{}},Ww="__vector__",Oc="value";function Co(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?gp(n)?4:eC(n)?9007199254740991:ZA(n)?10:11:je()}function ai(n,e){if(n===e)return!0;const t=Co(n);if(t!==Co(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return El(n).isEqual(El(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const c=ko(s.timestampValue),h=ko(a.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,a){return Ao(s.bytesValue).isEqual(Ao(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return Lt(s.geoPointValue.latitude)===Lt(a.geoPointValue.latitude)&&Lt(s.geoPointValue.longitude)===Lt(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Lt(s.integerValue)===Lt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const c=Lt(s.doubleValue),h=Lt(a.doubleValue);return c===h?Dc(c)===Dc(h):isNaN(c)&&isNaN(h)}return!1}(n,e);case 9:return aa(n.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:case 11:return function(s,a){const c=s.mapValue.fields||{},h=a.mapValue.fields||{};if(py(c)!==py(h))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(h[p]===void 0||!ai(c[p],h[p])))return!1;return!0}(n,e);default:return je()}}function xl(n,e){return(n.values||[]).find(t=>ai(t,e))!==void 0}function la(n,e){if(n===e)return 0;const t=Co(n),i=Co(e);if(t!==i)return nt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return nt(n.booleanValue,e.booleanValue);case 2:return function(a,c){const h=Lt(a.integerValue||a.doubleValue),p=Lt(c.integerValue||c.doubleValue);return h<p?-1:h>p?1:h===p?0:isNaN(h)?isNaN(p)?0:-1:1}(n,e);case 3:return gy(n.timestampValue,e.timestampValue);case 4:return gy(El(n),El(e));case 5:return nt(n.stringValue,e.stringValue);case 6:return function(a,c){const h=Ao(a),p=Ao(c);return h.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(a,c){const h=a.split("/"),p=c.split("/");for(let v=0;v<h.length&&v<p.length;v++){const _=nt(h[v],p[v]);if(_!==0)return _}return nt(h.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,c){const h=nt(Lt(a.latitude),Lt(c.latitude));return h!==0?h:nt(Lt(a.longitude),Lt(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return vy(n.arrayValue,e.arrayValue);case 10:return function(a,c){var h,p,v,_;const T=a.fields||{},I=c.fields||{},A=(h=T[Oc])===null||h===void 0?void 0:h.arrayValue,b=(p=I[Oc])===null||p===void 0?void 0:p.arrayValue,j=nt(((v=A==null?void 0:A.values)===null||v===void 0?void 0:v.length)||0,((_=b==null?void 0:b.values)===null||_===void 0?void 0:_.length)||0);return j!==0?j:vy(A,b)}(n.mapValue,e.mapValue);case 11:return function(a,c){if(a===tc.mapValue&&c===tc.mapValue)return 0;if(a===tc.mapValue)return 1;if(c===tc.mapValue)return-1;const h=a.fields||{},p=Object.keys(h),v=c.fields||{},_=Object.keys(v);p.sort(),_.sort();for(let T=0;T<p.length&&T<_.length;++T){const I=nt(p[T],_[T]);if(I!==0)return I;const A=la(h[p[T]],v[_[T]]);if(A!==0)return A}return nt(p.length,_.length)}(n.mapValue,e.mapValue);default:throw je()}}function gy(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return nt(n,e);const t=ko(n),i=ko(e),s=nt(t.seconds,i.seconds);return s!==0?s:nt(t.nanos,i.nanos)}function vy(n,e){const t=n.values||[],i=e.values||[];for(let s=0;s<t.length&&s<i.length;++s){const a=la(t[s],i[s]);if(a)return a}return nt(t.length,i.length)}function ua(n){return xf(n)}function xf(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=ko(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ao(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Ne.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",s=!0;for(const a of t.values||[])s?s=!1:i+=",",i+=xf(a);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const c of i)a?a=!1:s+=",",s+=`${c}:${xf(t.fields[c])}`;return s+"}"}(n.mapValue):je()}function mc(n){switch(Co(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=nd(n);return e?16+mc(e):16;case 5:return 2*n.stringValue.length;case 6:return Ao(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((s,a)=>s+mc(a),0)}(n.arrayValue);case 10:case 11:return function(i){let s=0;return hs(i.fields,(a,c)=>{s+=a.length+mc(c)}),s}(n.mapValue);default:throw je()}}function If(n){return!!n&&"integerValue"in n}function vp(n){return!!n&&"arrayValue"in n}function yy(n){return!!n&&"nullValue"in n}function _y(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function gc(n){return!!n&&"mapValue"in n}function ZA(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Hw])===null||t===void 0?void 0:t.stringValue)===Ww}function dl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return hs(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=dl(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=dl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function eC(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===JA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.value=e}static empty(){return new vr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!gc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=dl(t)}setAll(e){let t=ln.emptyPath(),i={},s=[];e.forEach((c,h)=>{if(!t.isImmediateParentOf(h)){const p=this.getFieldsMap(t);this.applyChanges(p,i,s),i={},s=[],t=h.popLast()}c?i[h.lastSegment()]=dl(c):s.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,s)}delete(e){const t=this.field(e.popLast());gc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let s=t.mapValue.fields[e.get(i)];gc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,i){hs(t,(s,a)=>e[s]=a);for(const s of i)delete e[s]}clone(){return new vr(dl(this.value))}}function qw(n){const e=[];return hs(n.fields,(t,i)=>{const s=new ln([t]);if(gc(i)){const a=qw(i.mapValue).fields;if(a.length===0)e.push(s);else for(const c of a)e.push(s.child(c))}else e.push(s)}),new jr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,t,i,s,a,c,h){this.key=e,this.documentType=t,this.version=i,this.readTime=s,this.createTime=a,this.data=c,this.documentState=h}static newInvalidDocument(e){return new _n(e,0,Be.min(),Be.min(),Be.min(),vr.empty(),0)}static newFoundDocument(e,t,i,s){return new _n(e,1,t,Be.min(),i,s,0)}static newNoDocument(e,t){return new _n(e,2,t,Be.min(),Be.min(),vr.empty(),0)}static newUnknownDocument(e,t){return new _n(e,3,t,Be.min(),Be.min(),vr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,t){this.position=e,this.inclusive=t}}function wy(n,e,t){let i=0;for(let s=0;s<n.position.length;s++){const a=e[s],c=n.position[s];if(a.field.isKeyField()?i=Ne.comparator(Ne.fromName(c.referenceValue),t.key):i=la(c,t.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function Ey(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ai(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,t="asc"){this.field=e,this.dir=t}}function tC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{}class Ht extends Kw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new rC(e,t,i):t==="array-contains"?new sC(e,i):t==="in"?new aC(e,i):t==="not-in"?new lC(e,i):t==="array-contains-any"?new uC(e,i):new Ht(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new iC(e,i):new oC(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(la(t,this.value)):t!==null&&Co(this.value)===Co(t)&&this.matchesComparison(la(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return je()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends Kw{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new li(e,t)}matches(e){return Gw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Gw(n){return n.op==="and"}function Qw(n){return nC(n)&&Gw(n)}function nC(n){for(const e of n.filters)if(e instanceof li)return!1;return!0}function Sf(n){if(n instanceof Ht)return n.field.canonicalString()+n.op.toString()+ua(n.value);if(Qw(n))return n.filters.map(e=>Sf(e)).join(",");{const e=n.filters.map(t=>Sf(t)).join(",");return`${n.op}(${e})`}}function Yw(n,e){return n instanceof Ht?function(i,s){return s instanceof Ht&&i.op===s.op&&i.field.isEqual(s.field)&&ai(i.value,s.value)}(n,e):n instanceof li?function(i,s){return s instanceof li&&i.op===s.op&&i.filters.length===s.filters.length?i.filters.reduce((a,c,h)=>a&&Yw(c,s.filters[h]),!0):!1}(n,e):void je()}function Xw(n){return n instanceof Ht?function(t){return`${t.field.canonicalString()} ${t.op} ${ua(t.value)}`}(n):n instanceof li?function(t){return t.op.toString()+" {"+t.getFilters().map(Xw).join(" ,")+"}"}(n):"Filter"}class rC extends Ht{constructor(e,t,i){super(e,t,i),this.key=Ne.fromName(i.referenceValue)}matches(e){const t=Ne.comparator(e.key,this.key);return this.matchesComparison(t)}}class iC extends Ht{constructor(e,t){super(e,"in",t),this.keys=Jw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class oC extends Ht{constructor(e,t){super(e,"not-in",t),this.keys=Jw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Jw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Ne.fromName(i.referenceValue))}class sC extends Ht{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return vp(t)&&xl(t.arrayValue,this.value)}}class aC extends Ht{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&xl(this.value.arrayValue,t)}}class lC extends Ht{constructor(e,t){super(e,"not-in",t)}matches(e){if(xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!xl(this.value.arrayValue,t)}}class uC extends Ht{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!vp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>xl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,t=null,i=[],s=[],a=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=s,this.limit=a,this.startAt=c,this.endAt=h,this.le=null}}function Ty(n,e=null,t=[],i=[],s=null,a=null,c=null){return new cC(n,e,t,i,s,a,c)}function yp(n){const e=He(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Sf(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),td(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>ua(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>ua(i)).join(",")),e.le=t}return e.le}function _p(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!tC(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Yw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Ey(n.startAt,e.startAt)&&Ey(n.endAt,e.endAt)}function Rf(n){return Ne.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,t=null,i=[],s=[],a=null,c="F",h=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=s,this.limit=a,this.limitType=c,this.startAt=h,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function dC(n,e,t,i,s,a,c,h){return new rd(n,e,t,i,s,a,c,h)}function wp(n){return new rd(n)}function xy(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function hC(n){return n.collectionGroup!==null}function hl(n){const e=He(n);if(e.he===null){e.he=[];const t=new Set;for(const a of e.explicitOrderBy)e.he.push(a),t.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new qt(ln.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(v=>{v.isInequality()&&(h=h.add(v.field))})}),h})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.he.push(new Vc(a,i))}),t.has(ln.keyField().canonicalString())||e.he.push(new Vc(ln.keyField(),i))}return e.he}function oi(n){const e=He(n);return e.Pe||(e.Pe=fC(e,hl(n))),e.Pe}function fC(n,e){if(n.limitType==="F")return Ty(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new Vc(s.field,a)});const t=n.endAt?new Lc(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Lc(n.startAt.position,n.startAt.inclusive):null;return Ty(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function kf(n,e,t){return new rd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function id(n,e){return _p(oi(n),oi(e))&&n.limitType===e.limitType}function Zw(n){return`${yp(oi(n))}|lt:${n.limitType}`}function Js(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(s=>Xw(s)).join(", ")}]`),td(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(s=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(s)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>ua(s)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>ua(s)).join(",")),`Target(${i})`}(oi(n))}; limitType=${n.limitType})`}function od(n,e){return e.isFoundDocument()&&function(i,s){const a=s.key.path;return i.collectionGroup!==null?s.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Ne.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(n,e)&&function(i,s){for(const a of hl(i))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,e)&&function(i,s){for(const a of i.filters)if(!a.matches(s))return!1;return!0}(n,e)&&function(i,s){return!(i.startAt&&!function(c,h,p){const v=wy(c,h,p);return c.inclusive?v<=0:v<0}(i.startAt,hl(i),s)||i.endAt&&!function(c,h,p){const v=wy(c,h,p);return c.inclusive?v>=0:v>0}(i.endAt,hl(i),s))}(n,e)}function pC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function eE(n){return(e,t)=>{let i=!1;for(const s of hl(n)){const a=mC(s,e,t);if(a!==0)return a;i=i||s.field.isKeyField()}return 0}}function mC(n,e,t){const i=n.field.isKeyField()?Ne.comparator(e.key,t.key):function(a,c,h){const p=c.data.field(a),v=h.data.field(a);return p!==null&&v!==null?la(p,v):je()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return je()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[s,a]of i)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return i.length===1?delete this.inner[t]:i.splice(s,1),this.innerSize--,!0;return!1}forEach(e){hs(this.inner,(t,i)=>{for(const[s,a]of i)e(s,a)})}isEmpty(){return Fw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=new bt(Ne.comparator);function Vi(){return gC}const tE=new bt(Ne.comparator);function al(...n){let e=tE;for(const t of n)e=e.insert(t.key,t);return e}function nE(n){let e=tE;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function ns(){return fl()}function rE(){return fl()}function fl(){return new fs(n=>n.toString(),(n,e)=>n.isEqual(e))}const vC=new bt(Ne.comparator),yC=new qt(Ne.comparator);function Ze(...n){let e=yC;for(const t of n)e=e.add(t);return e}const _C=new qt(nt);function wC(){return _C}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dc(e)?"-0":e}}function iE(n){return{integerValue:""+n}}function EC(n,e){return KA(e)?iE(e):Ep(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(){this._=void 0}}function TC(n,e,t){return n instanceof Mc?function(s,a){const c={fields:{[zw]:{stringValue:Uw},[$w]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&gp(a)&&(a=nd(a)),a&&(c.fields[Bw]=a),{mapValue:c}}(t,e):n instanceof Il?sE(n,e):n instanceof Sl?aE(n,e):function(s,a){const c=oE(s,a),h=Iy(c)+Iy(s.Ie);return If(c)&&If(s.Ie)?iE(h):Ep(s.serializer,h)}(n,e)}function xC(n,e,t){return n instanceof Il?sE(n,e):n instanceof Sl?aE(n,e):t}function oE(n,e){return n instanceof Fc?function(i){return If(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class Mc extends sd{}class Il extends sd{constructor(e){super(),this.elements=e}}function sE(n,e){const t=lE(e);for(const i of n.elements)t.some(s=>ai(s,i))||t.push(i);return{arrayValue:{values:t}}}class Sl extends sd{constructor(e){super(),this.elements=e}}function aE(n,e){let t=lE(e);for(const i of n.elements)t=t.filter(s=>!ai(s,i));return{arrayValue:{values:t}}}class Fc extends sd{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Iy(n){return Lt(n.integerValue||n.doubleValue)}function lE(n){return vp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function IC(n,e){return n.field.isEqual(e.field)&&function(i,s){return i instanceof Il&&s instanceof Il||i instanceof Sl&&s instanceof Sl?aa(i.elements,s.elements,ai):i instanceof Fc&&s instanceof Fc?ai(i.Ie,s.Ie):i instanceof Mc&&s instanceof Mc}(n.transform,e.transform)}class SC{constructor(e,t){this.version=e,this.transformResults=t}}class zr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new zr}static exists(e){return new zr(void 0,e)}static updateTime(e){return new zr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class ad{}function uE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Tp(n.key,zr.none()):new Ml(n.key,n.data,zr.none());{const t=n.data,i=vr.empty();let s=new qt(ln.comparator);for(let a of e.fields)if(!s.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?i.delete(a):i.set(a,c),s=s.add(a)}return new ps(n.key,i,new jr(s.toArray()),zr.none())}}function RC(n,e,t){n instanceof Ml?function(s,a,c){const h=s.value.clone(),p=Ry(s.fieldTransforms,a,c.transformResults);h.setAll(p),a.convertToFoundDocument(c.version,h).setHasCommittedMutations()}(n,e,t):n instanceof ps?function(s,a,c){if(!vc(s.precondition,a))return void a.convertToUnknownDocument(c.version);const h=Ry(s.fieldTransforms,a,c.transformResults),p=a.data;p.setAll(cE(s)),p.setAll(h),a.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(s,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function pl(n,e,t,i){return n instanceof Ml?function(a,c,h,p){if(!vc(a.precondition,c))return h;const v=a.value.clone(),_=ky(a.fieldTransforms,p,c);return v.setAll(_),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),null}(n,e,t,i):n instanceof ps?function(a,c,h,p){if(!vc(a.precondition,c))return h;const v=ky(a.fieldTransforms,p,c),_=c.data;return _.setAll(cE(a)),_.setAll(v),c.convertToFoundDocument(c.version,_).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(T=>T.field))}(n,e,t,i):function(a,c,h){return vc(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h}(n,e,t)}function kC(n,e){let t=null;for(const i of n.fieldTransforms){const s=e.data.field(i.field),a=oE(i.transform,s||null);a!=null&&(t===null&&(t=vr.empty()),t.set(i.field,a))}return t||null}function Sy(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,s){return i===void 0&&s===void 0||!(!i||!s)&&aa(i,s,(a,c)=>IC(a,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Ml extends ad{constructor(e,t,i,s=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ps extends ad{constructor(e,t,i,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function cE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Ry(n,e,t){const i=new Map;pt(n.length===t.length);for(let s=0;s<t.length;s++){const a=n[s],c=a.transform,h=e.data.field(a.field);i.set(a.field,xC(c,h,t[s]))}return i}function ky(n,e,t){const i=new Map;for(const s of n){const a=s.transform,c=t.data.field(s.field);i.set(s.field,TC(a,c,e))}return i}class Tp extends ad{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class AC extends ad{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e,t,i,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=s}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&RC(a,e,i[s])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=pl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=pl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=rE();return this.mutations.forEach(s=>{const a=e.get(s.key),c=a.overlayedDocument;let h=this.applyToLocalView(c,a.mutatedFields);h=t.has(s.key)?null:h;const p=uE(c,h);p!==null&&i.set(s.key,p),c.isValidDocument()||c.convertToNoDocument(Be.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ze())}isEqual(e){return this.batchId===e.batchId&&aa(this.mutations,e.mutations,(t,i)=>Sy(t,i))&&aa(this.baseMutations,e.baseMutations,(t,i)=>Sy(t,i))}}class xp{constructor(e,t,i,s){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=s}static from(e,t,i){pt(e.mutations.length===i.length);let s=function(){return vC}();const a=e.mutations;for(let c=0;c<a.length;c++)s=s.insert(a[c].key,i[c].version);return new xp(e,t,i,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft,st;function DC(n){switch(n){case re.OK:return je();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return je()}}function dE(n){if(n===void 0)return Li("GRPC error has no .code"),re.UNKNOWN;switch(n){case Ft.OK:return re.OK;case Ft.CANCELLED:return re.CANCELLED;case Ft.UNKNOWN:return re.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return re.INTERNAL;case Ft.UNAVAILABLE:return re.UNAVAILABLE;case Ft.UNAUTHENTICATED:return re.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case Ft.NOT_FOUND:return re.NOT_FOUND;case Ft.ALREADY_EXISTS:return re.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return re.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case Ft.ABORTED:return re.ABORTED;case Ft.OUT_OF_RANGE:return re.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return re.UNIMPLEMENTED;case Ft.DATA_LOSS:return re.DATA_LOSS;default:return je()}}(st=Ft||(Ft={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=new xo([4294967295,4294967295],0);function Ay(n){const e=NC().encode(n),t=new Cw;return t.update(e),new Uint8Array(t.digest())}function Cy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new xo([t,i],0),new xo([s,a],0)]}class Ip{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new ll(`Invalid padding: ${t}`);if(i<0)throw new ll(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ll(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new ll(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=xo.fromNumber(this.Ee)}Ae(e,t,i){let s=e.add(t.multiply(xo.fromNumber(i)));return s.compare(OC)===1&&(s=new xo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=Ay(e),[i,s]=Cy(t);for(let a=0;a<this.hashCount;a++){const c=this.Ae(i,s,a);if(!this.Re(c))return!1}return!0}static create(e,t,i){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new Ip(a,s,t);return i.forEach(h=>c.insert(h)),c}insert(e){if(this.Ee===0)return;const t=Ay(e),[i,s]=Cy(t);for(let a=0;a<this.hashCount;a++){const c=this.Ae(i,s,a);this.Ve(c)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,t,i,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const s=new Map;return s.set(e,Fl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new ld(Be.min(),s,new bt(nt),Vi(),Ze())}}class Fl{constructor(e,t,i,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Fl(i,t,Ze(),Ze(),Ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,t,i,s){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=s}}class hE{constructor(e,t){this.targetId=e,this.ge=t}}class fE{constructor(e,t,i=un.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=s}}class Py{constructor(){this.pe=0,this.ye=by(),this.we=un.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ze(),t=Ze(),i=Ze();return this.ye.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:i=i.add(s);break;default:je()}}),new Fl(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=by()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,pt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class LC{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Vi(),this.$e=nc(),this.Ke=nc(),this.Ue=new bt(nt)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:je()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,s)=>{this.Je(s)&&t(s)})}Ze(e){const t=e.targetId,i=e.ge.count,s=this.Xe(t);if(s){const a=s.target;if(Rf(a))if(i===0){const c=new Ne(a.path);this.ze(t,c,_n.newNoDocument(c,Be.min()))}else pt(i===1);else{const c=this.et(t);if(c!==i){const h=this.tt(e),p=h?this.nt(h,e,c):1;if(p!==0){this.Ye(t);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,v)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:s=0},hashCount:a=0}=t;let c,h;try{c=Ao(i).toUint8Array()}catch(p){if(p instanceof jw)return sa("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{h=new Ip(c,s,a)}catch(p){return sa(p instanceof ll?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return h.Ee===0?null:h}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let s=0;return i.forEach(a=>{const c=this.ke.it(),h=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.ze(t,a,null),s++)}),s}ot(e){const t=new Map;this.qe.forEach((a,c)=>{const h=this.Xe(c);if(h){if(a.current&&Rf(h.target)){const p=new Ne(h.target.path);this._t(p).has(c)||this.ut(c,p)||this.ze(c,p,_n.newNoDocument(p,e))}a.ve&&(t.set(c,a.Fe()),a.Me())}});let i=Ze();this.Ke.forEach((a,c)=>{let h=!0;c.forEachWhile(p=>{const v=this.Xe(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(a))}),this.Qe.forEach((a,c)=>c.setReadTime(e));const s=new ld(e,t,this.Ue,this.Qe,i);return this.Qe=Vi(),this.$e=nc(),this.Ke=nc(),this.Ue=new bt(nt),s}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const s=this.He(e);this.ut(e,t)?s.xe(t,1):s.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new Py,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new qt(nt),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new qt(nt),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ye("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Py),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function nc(){return new bt(Ne.comparator)}function by(){return new bt(Ne.comparator)}const VC={asc:"ASCENDING",desc:"DESCENDING"},MC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FC={and:"AND",or:"OR"};class jC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Af(n,e){return n.useProto3Json||td(e)?e:{value:e}}function jc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function UC(n,e){return jc(n,e.toTimestamp())}function si(n){return pt(!!n),Be.fromTimestamp(function(t){const i=ko(t);return new Wt(i.seconds,i.nanos)}(n))}function Sp(n,e){return Cf(n,e).canonicalString()}function Cf(n,e){const t=function(s){return new kt(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function mE(n){const e=kt.fromString(n);return pt(wE(e)),e}function Pf(n,e){return Sp(n.databaseId,e.path)}function ef(n,e){const t=mE(e);if(t.get(1)!==n.databaseId.projectId)throw new Ce(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ce(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ne(vE(t))}function gE(n,e){return Sp(n.databaseId,e)}function zC(n){const e=mE(n);return e.length===4?kt.emptyPath():vE(e)}function bf(n){return new kt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vE(n){return pt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function Dy(n,e,t){return{name:Pf(n,e),fields:t.value.mapValue.fields}}function BC(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:je()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(v,_){return v.useProto3Json?(pt(_===void 0||typeof _=="string"),un.fromBase64String(_||"")):(pt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),un.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&function(v){const _=v.code===void 0?re.UNKNOWN:dE(v.code);return new Ce(_,v.message||"")}(c);t=new fE(i,s,a,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const s=ef(n,i.document.name),a=si(i.document.updateTime),c=i.document.createTime?si(i.document.createTime):Be.min(),h=new vr({mapValue:{fields:i.document.fields}}),p=_n.newFoundDocument(s,a,c,h),v=i.targetIds||[],_=i.removedTargetIds||[];t=new yc(v,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const s=ef(n,i.document),a=i.readTime?si(i.readTime):Be.min(),c=_n.newNoDocument(s,a),h=i.removedTargetIds||[];t=new yc([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const s=ef(n,i.document),a=i.removedTargetIds||[];t=new yc([],a,s,null)}else{if(!("filter"in e))return je();{e.filter;const i=e.filter;i.targetId;const{count:s=0,unchangedNames:a}=i,c=new bC(s,a),h=i.targetId;t=new hE(h,c)}}return t}function $C(n,e){let t;if(e instanceof Ml)t={update:Dy(n,e.key,e.value)};else if(e instanceof Tp)t={delete:Pf(n,e.key)};else if(e instanceof ps)t={update:Dy(n,e.key,e.data),updateMask:JC(e.fieldMask)};else{if(!(e instanceof AC))return je();t={verify:Pf(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(a,c){const h=c.transform;if(h instanceof Mc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Il)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Sl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Fc)return{fieldPath:c.field.canonicalString(),increment:h.Ie};throw je()}(0,i))),e.precondition.isNone||(t.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:UC(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:je()}(n,e.precondition)),t}function HC(n,e){return n&&n.length>0?(pt(e!==void 0),n.map(t=>function(s,a){let c=s.updateTime?si(s.updateTime):si(a);return c.isEqual(Be.min())&&(c=si(a)),new SC(c,s.transformResults||[])}(t,e))):[]}function WC(n,e){return{documents:[gE(n,e.path)]}}function qC(n,e){const t={structuredQuery:{}},i=e.path;let s;e.collectionGroup!==null?(s=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=gE(n,s);const a=function(v){if(v.length!==0)return _E(li.create(v,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const c=function(v){if(v.length!==0)return v.map(_=>function(I){return{field:Zs(I.field),direction:QC(I.dir)}}(_))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=Af(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ht:t,parent:s}}function KC(n){let e=zC(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let s=null;if(i>0){pt(i===1);const _=t.from[0];_.allDescendants?s=_.collectionId:e=e.child(_.collectionId)}let a=[];t.where&&(a=function(T){const I=yE(T);return I instanceof li&&Qw(I)?I.getFilters():[I]}(t.where));let c=[];t.orderBy&&(c=function(T){return T.map(I=>function(b){return new Vc(ea(b.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(I))}(t.orderBy));let h=null;t.limit&&(h=function(T){let I;return I=typeof T=="object"?T.value:T,td(I)?null:I}(t.limit));let p=null;t.startAt&&(p=function(T){const I=!!T.before,A=T.values||[];return new Lc(A,I)}(t.startAt));let v=null;return t.endAt&&(v=function(T){const I=!T.before,A=T.values||[];return new Lc(A,I)}(t.endAt)),dC(e,s,c,a,h,"F",p,v)}function GC(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return je()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function yE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=ea(t.unaryFilter.field);return Ht.create(i,"==",{doubleValue:NaN});case"IS_NULL":const s=ea(t.unaryFilter.field);return Ht.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ea(t.unaryFilter.field);return Ht.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=ea(t.unaryFilter.field);return Ht.create(c,"!=",{nullValue:"NULL_VALUE"});default:return je()}}(n):n.fieldFilter!==void 0?function(t){return Ht.create(ea(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return je()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return li.create(t.compositeFilter.filters.map(i=>yE(i)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return je()}}(t.compositeFilter.op))}(n):je()}function QC(n){return VC[n]}function YC(n){return MC[n]}function XC(n){return FC[n]}function Zs(n){return{fieldPath:n.canonicalString()}}function ea(n){return ln.fromServerFormat(n.fieldPath)}function _E(n){return n instanceof Ht?function(t){if(t.op==="=="){if(_y(t.value))return{unaryFilter:{field:Zs(t.field),op:"IS_NAN"}};if(yy(t.value))return{unaryFilter:{field:Zs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(_y(t.value))return{unaryFilter:{field:Zs(t.field),op:"IS_NOT_NAN"}};if(yy(t.value))return{unaryFilter:{field:Zs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zs(t.field),op:YC(t.op),value:t.value}}}(n):n instanceof li?function(t){const i=t.getFilters().map(s=>_E(s));return i.length===1?i[0]:{compositeFilter:{op:XC(t.op),filters:i}}}(n):je()}function JC(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function wE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,t,i,s,a=Be.min(),c=Be.min(),h=un.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=p}withSequenceNumber(e){return new _o(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new _o(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.Tt=e}}function eP(n){const e=KC({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?kf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tP{constructor(){this.Tn=new nP}addToCollectionParentIndex(e,t){return this.Tn.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(Ro.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(Ro.min())}updateCollectionGroup(e,t,i){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class nP{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t]||new qt(kt.comparator),a=!s.has(i);return this.index[t]=s.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),s=this.index[t];return s&&s.has(i)}getEntries(e){return(this.index[e]||new qt(kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},EE=41943040;class Bn{static withCacheSize(e){return new Bn(e,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bn.DEFAULT_COLLECTION_PERCENTILE=10,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Bn.DEFAULT=new Bn(EE,Bn.DEFAULT_COLLECTION_PERCENTILE,Bn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Bn.DISABLED=new Bn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new ca(0)}static Un(){return new ca(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy="LruGarbageCollector",rP=1048576;function Ly([n,e],[t,i]){const s=nt(n,t);return s===0?nt(e,i):s}class iP{constructor(e){this.Hn=e,this.buffer=new qt(Ly),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Ly(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class oP{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ye(Oy,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ya(t)?ye(Oy,"Ignoring IndexedDB error during garbage collection: ",t):await va(t)}await this.er(3e5)})}}class sP{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return J.resolve(ed.ae);const i=new iP(t);return this.tr.forEachTarget(e,s=>i.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>i.Zn(s))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ye("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Ny)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ye("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ny):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,s,a,c,h,p,v;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ye("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),s=this.params.maximumSequenceNumbersToCollect):s=T,c=Date.now(),this.nthSequenceNumber(e,s))).next(T=>(i=T,h=Date.now(),this.removeTargets(e,i,t))).next(T=>(a=T,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(v=Date.now(),Xs()<=Je.DEBUG&&ye("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-_}ms
	Determined least recently used ${s} in `+(h-c)+`ms
	Removed ${a} targets in `+(p-h)+`ms
	Removed ${T} documents in `+(v-p)+`ms
Total Duration: ${v-_}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:T})))}}function aP(n,e){return new sP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(){this.changes=new fs(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?J.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,t,i,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=s}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(i=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(i!==null&&pl(i.mutation,s,jr.empty(),Wt.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ze()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ze()){const s=ns();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,i).next(a=>{let c=al();return a.forEach((h,p)=>{c=c.insert(h,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=ns();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ze()))}populateOverlays(e,t,i){const s=[];return i.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((c,h)=>{t.set(c,h)})})}computeViews(e,t,i,s){let a=Vi();const c=fl(),h=function(){return fl()}();return t.forEach((p,v)=>{const _=i.get(v.key);s.has(v.key)&&(_===void 0||_.mutation instanceof ps)?a=a.insert(v.key,v):_!==void 0?(c.set(v.key,_.mutation.getFieldMask()),pl(_.mutation,v,_.mutation.getFieldMask(),Wt.now())):c.set(v.key,jr.empty())}),this.recalculateAndSaveOverlays(e,a).next(p=>(p.forEach((v,_)=>c.set(v,_)),t.forEach((v,_)=>{var T;return h.set(v,new uP(_,(T=c.get(v))!==null&&T!==void 0?T:null))}),h))}recalculateAndSaveOverlays(e,t){const i=fl();let s=new bt((c,h)=>c-h),a=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const h of c)h.keys().forEach(p=>{const v=t.get(p);if(v===null)return;let _=i.get(p)||jr.empty();_=h.applyToLocalView(v,_),i.set(p,_);const T=(s.get(h.batchId)||Ze()).add(p);s=s.insert(h.batchId,T)})}).next(()=>{const c=[],h=s.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),v=p.key,_=p.value,T=rE();_.forEach(I=>{if(!a.has(I)){const A=uE(t.get(I),i.get(I));A!==null&&T.set(I,A),a=a.add(I)}}),c.push(this.documentOverlayCache.saveOverlays(e,v,T))}return J.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,s){return function(c){return Ne.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):hC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,s):this.getDocumentsMatchingCollectionQuery(e,t,i,s)}getNextDocuments(e,t,i,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,s).next(a=>{const c=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,s-a.size):J.resolve(ns());let h=wl,p=a;return c.next(v=>J.forEach(v,(_,T)=>(h<T.largestBatchId&&(h=T.largestBatchId),a.get(_)?J.resolve():this.remoteDocumentCache.getEntry(e,_).next(I=>{p=p.insert(_,I)}))).next(()=>this.populateOverlays(e,v,a)).next(()=>this.computeViews(e,p,v,Ze())).next(_=>({batchId:h,changes:nE(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ne(t)).next(i=>{let s=al();return i.isFoundDocument()&&(s=s.insert(i.key,i)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,i,s){const a=t.collectionGroup;let c=al();return this.indexManager.getCollectionParents(e,a).next(h=>J.forEach(h,p=>{const v=function(T,I){return new rd(I,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(a));return this.getDocumentsMatchingCollectionQuery(e,v,i,s).next(_=>{_.forEach((T,I)=>{c=c.insert(T,I)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,a,s))).next(c=>{a.forEach((p,v)=>{const _=v.getKey();c.get(_)===null&&(c=c.insert(_,_n.newInvalidDocument(_)))});let h=al();return c.forEach((p,v)=>{const _=a.get(p);_!==void 0&&pl(_.mutation,v,jr.empty(),Wt.now()),od(t,v)&&(h=h.insert(p,v))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return J.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:si(s.createTime)}}(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(s){return{name:s.name,query:eP(s.bundledQuery),readTime:si(s.readTime)}}(t)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(){this.overlays=new bt(Ne.comparator),this.Rr=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const i=ns();return J.forEach(t,s=>this.getOverlay(e,s).next(a=>{a!==null&&i.set(s,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((s,a)=>{this.Et(e,t,a)}),J.resolve()}removeOverlaysForBatchId(e,t,i){const s=this.Rr.get(i);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(i)),J.resolve()}getOverlaysForCollection(e,t,i){const s=ns(),a=t.length+1,c=new Ne(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const p=h.getNext().value,v=p.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===a&&p.largestBatchId>i&&s.set(p.getKey(),p)}return J.resolve(s)}getOverlaysForCollectionGroup(e,t,i,s){let a=new bt((v,_)=>v-_);const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>i){let _=a.get(v.largestBatchId);_===null&&(_=ns(),a=a.insert(v.largestBatchId,_)),_.set(v.getKey(),v)}}const h=ns(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((v,_)=>h.set(v,_)),!(h.size()>=s)););return J.resolve(h)}Et(e,t,i){const s=this.overlays.get(i.key);if(s!==null){const c=this.Rr.get(s.largestBatchId).delete(i.key);this.Rr.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new PC(t,i));let a=this.Rr.get(t);a===void 0&&(a=Ze(),this.Rr.set(t,a)),this.Rr.set(t,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(){this.Vr=new qt(Xt.mr),this.gr=new qt(Xt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new Xt(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new Xt(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new Ne(new kt([])),i=new Xt(t,e),s=new Xt(t,e+1),a=[];return this.gr.forEachInRange([i,s],c=>{this.wr(c),a.push(c.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ne(new kt([])),i=new Xt(t,e),s=new Xt(t,e+1);let a=Ze();return this.gr.forEachInRange([i,s],c=>{a=a.add(c.key)}),a}containsKey(e){const t=new Xt(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Xt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ne.comparator(e.key,t.key)||nt(e.Cr,t.Cr)}static pr(e,t){return nt(e.Cr,t.Cr)||Ne.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new qt(Xt.mr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,s){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new CC(a,t,i,s);this.mutationQueue.push(c);for(const h of s)this.Mr=this.Mr.add(new Xt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return J.resolve(c)}lookupMutationBatch(e,t){return J.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,s=this.Nr(i),a=s<0?0:s;return J.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?mp:this.Fr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Xt(t,0),s=new Xt(t,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([i,s],c=>{const h=this.Or(c.Cr);a.push(h)}),J.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new qt(nt);return t.forEach(s=>{const a=new Xt(s,0),c=new Xt(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,c],h=>{i=i.add(h.Cr)})}),J.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,s=i.length+1;let a=i;Ne.isDocumentKey(a)||(a=a.child(""));const c=new Xt(new Ne(a),0);let h=new qt(nt);return this.Mr.forEachWhile(p=>{const v=p.key.path;return!!i.isPrefixOf(v)&&(v.length===s&&(h=h.add(p.Cr)),!0)},c),J.resolve(this.Br(h))}Br(e){const t=[];return e.forEach(i=>{const s=this.Or(i);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){pt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return J.forEach(t.mutations,s=>{const a=new Xt(s.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new Xt(t,0),s=this.Mr.firstAfterOrEqual(i);return J.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mP{constructor(e){this.kr=e,this.docs=function(){return new bt(Ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,s=this.docs.get(i),a=s?s.size:0,c=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return J.resolve(i?i.document.mutableCopy():_n.newInvalidDocument(t))}getEntries(e,t){let i=Vi();return t.forEach(s=>{const a=this.docs.get(s);i=i.insert(s,a?a.document.mutableCopy():_n.newInvalidDocument(s))}),J.resolve(i)}getDocumentsMatchingQuery(e,t,i,s){let a=Vi();const c=t.path,h=new Ne(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(h);for(;p.hasNext();){const{key:v,value:{document:_}}=p.getNext();if(!c.isPrefixOf(v.path))break;v.path.length>c.length+1||$A(BA(_),i)<=0||(s.has(_.key)||od(t,_))&&(a=a.insert(_.key,_.mutableCopy()))}return J.resolve(a)}getAllFromCollectionGroup(e,t,i,s){je()}qr(e,t){return J.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new gP(this)}getSize(e){return J.resolve(this.size)}}class gP extends lP{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,s)=>{s.isValidDocument()?t.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(i)}),J.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e){this.persistence=e,this.Qr=new fs(t=>yp(t),_p),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Rp,this.targetCount=0,this.Ur=ca.Kn()}forEachTarget(e,t){return this.Qr.forEach((i,s)=>t(s)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),J.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new ca(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.zn(t),J.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.br(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,i){let s=0;const a=[];return this.Qr.forEach((c,h)=>{h.sequenceNumber<=t&&i.get(h.targetId)===null&&(this.Qr.delete(c),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),s++)}),J.waitFor(a).next(()=>s)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return J.resolve(i)}addMatchingKeys(e,t,i){return this.Kr.yr(t,i),J.resolve()}removeMatchingKeys(e,t,i){this.Kr.Sr(t,i);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(c=>{a.push(s.markPotentiallyOrphaned(e,c))}),J.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Kr.br(t),J.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Kr.vr(t);return J.resolve(i)}containsKey(e,t){return J.resolve(this.Kr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new ed(0),this.zr=!1,this.zr=!0,this.jr=new fP,this.referenceDelegate=e(this),this.Hr=new vP(this),this.indexManager=new tP,this.remoteDocumentCache=function(s){return new mP(s)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new ZC(t),this.Yr=new dP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new hP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new pP(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){ye("MemoryPersistence","Starting transaction:",e);const s=new yP(this.Gr.next());return this.referenceDelegate.Zr(),i(s).next(a=>this.referenceDelegate.Xr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}ei(e,t){return J.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class yP extends WA{constructor(e){super(),this.currentSequenceNumber=e}}class kp{constructor(e){this.persistence=e,this.ti=new Rp,this.ni=null}static ri(e){return new kp(e)}get ii(){if(this.ni)return this.ni;throw je()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),J.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),J.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(s=>this.ii.add(s.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.ii.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ii,i=>{const s=Ne.fromPath(i);return this.si(e,s).next(a=>{a||t.removeEntry(s,Be.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return J.or([()=>J.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Uc{constructor(e,t){this.persistence=e,this.oi=new fs(i=>GA(i.path),(i,s)=>i.isEqual(s)),this.garbageCollector=aP(this,t)}static ri(e,t){return new Uc(e,t)}Zr(){}Xr(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(s=>i+s))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return J.forEach(this.oi,(i,s)=>this.ar(e,i,s).next(a=>a?J.resolve():t(s)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.qr(e,c=>this.ar(e,c,t).next(h=>{h||(i++,a.removeEntry(c,Be.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),J.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),J.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=mc(e.data.value)),t}ar(e,t,i){return J.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.oi.get(t);return J.resolve(s!==void 0&&s>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,t,i,s){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=s}static Yi(e,t){let i=Ze(),s=Ze();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new Ap(e,t.fromCache,i,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return JI()?8:qA(wn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,s){const a={result:null};return this.rs(e,t).next(c=>{a.result=c}).next(()=>{if(!a.result)return this.ss(e,t,s,i).next(c=>{a.result=c})}).next(()=>{if(a.result)return;const c=new _P;return this._s(e,t,c).next(h=>{if(a.result=h,this.Xi)return this.us(e,t,c,h.size)})}).next(()=>a.result)}us(e,t,i,s){return i.documentReadCount<this.es?(Xs()<=Je.DEBUG&&ye("QueryEngine","SDK will not create cache indexes for query:",Js(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),J.resolve()):(Xs()<=Je.DEBUG&&ye("QueryEngine","Query:",Js(t),"scans",i.documentReadCount,"local documents and returns",s,"documents as results."),i.documentReadCount>this.ts*s?(Xs()<=Je.DEBUG&&ye("QueryEngine","The SDK decides to create cache indexes for query:",Js(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,oi(t))):J.resolve())}rs(e,t){if(xy(t))return J.resolve(null);let i=oi(t);return this.indexManager.getIndexType(e,i).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=kf(t,null,"F"),i=oi(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const c=Ze(...a);return this.ns.getDocuments(e,c).next(h=>this.indexManager.getMinOffset(e,i).next(p=>{const v=this.cs(t,h);return this.ls(t,v,c,p.readTime)?this.rs(e,kf(t,null,"F")):this.hs(e,v,t,p)}))})))}ss(e,t,i,s){return xy(t)||s.isEqual(Be.min())?J.resolve(null):this.ns.getDocuments(e,i).next(a=>{const c=this.cs(t,a);return this.ls(t,c,i,s)?J.resolve(null):(Xs()<=Je.DEBUG&&ye("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Js(t)),this.hs(e,c,t,zA(s,wl)).next(h=>h))})}cs(e,t){let i=new qt(eE(e));return t.forEach((s,a)=>{od(e,a)&&(i=i.add(a))}),i}ls(e,t,i,s){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}_s(e,t,i){return Xs()<=Je.DEBUG&&ye("QueryEngine","Using full collection scan to execute query:",Js(t)),this.ns.getDocumentsMatchingQuery(e,t,Ro.min(),i)}hs(e,t,i,s){return this.ns.getDocumentsMatchingQuery(e,i,s).next(a=>(t.forEach(c=>{a=a.insert(c.key,c)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cp="LocalStore",EP=3e8;class TP{constructor(e,t,i,s){this.persistence=e,this.Ps=t,this.serializer=s,this.Ts=new bt(nt),this.Is=new fs(a=>yp(a),_p),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cP(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function xP(n,e,t,i){return new TP(n,e,t,i)}async function xE(n,e){const t=He(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let s;return t.mutationQueue.getAllMutationBatches(i).next(a=>(s=a,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const c=[],h=[];let p=Ze();for(const v of s){c.push(v.batchId);for(const _ of v.mutations)p=p.add(_.key)}for(const v of a){h.push(v.batchId);for(const _ of v.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(i,p).next(v=>({Rs:v,removedBatchIds:c,addedBatchIds:h}))})})}function IP(n,e){const t=He(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const s=e.batch.keys(),a=t.ds.newChangeBuffer({trackRemovals:!0});return function(h,p,v,_){const T=v.batch,I=T.keys();let A=J.resolve();return I.forEach(b=>{A=A.next(()=>_.getEntry(p,b)).next(j=>{const V=v.docVersions.get(b);pt(V!==null),j.version.compareTo(V)<0&&(T.applyToRemoteDocument(j,v),j.isValidDocument()&&(j.setReadTime(v.commitVersion),_.addEntry(j)))})}),A.next(()=>h.mutationQueue.removeMutationBatch(p,T))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let p=Ze();for(let v=0;v<h.mutationResults.length;++v)h.mutationResults[v].transformResults.length>0&&(p=p.add(h.batch.mutations[v].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,s))})}function IE(n){const e=He(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function SP(n,e){const t=He(n),i=e.snapshotVersion;let s=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=t.ds.newChangeBuffer({trackRemovals:!0});s=t.Ts;const h=[];e.targetChanges.forEach((_,T)=>{const I=s.get(T);if(!I)return;h.push(t.Hr.removeMatchingKeys(a,_.removedDocuments,T).next(()=>t.Hr.addMatchingKeys(a,_.addedDocuments,T)));let A=I.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(T)!==null?A=A.withResumeToken(un.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):_.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(_.resumeToken,i)),s=s.insert(T,A),function(j,V,q){return j.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=EP?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(I,A,_)&&h.push(t.Hr.updateTargetData(a,A))});let p=Vi(),v=Ze();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,_))}),h.push(RP(a,c,e.documentUpdates).next(_=>{p=_.Vs,v=_.fs})),!i.isEqual(Be.min())){const _=t.Hr.getLastRemoteSnapshotVersion(a).next(T=>t.Hr.setTargetsMetadata(a,a.currentSequenceNumber,i));h.push(_)}return J.waitFor(h).next(()=>c.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,p,v)).next(()=>p)}).then(a=>(t.Ts=s,a))}function RP(n,e,t){let i=Ze(),s=Ze();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let c=Vi();return t.forEach((h,p)=>{const v=a.get(h);p.isFoundDocument()!==v.isFoundDocument()&&(s=s.add(h)),p.isNoDocument()&&p.version.isEqual(Be.min())?(e.removeEntry(h,p.readTime),c=c.insert(h,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(p),c=c.insert(h,p)):ye(Cp,"Ignoring outdated watch update for ",h,". Current version:",v.version," Watch version:",p.version)}),{Vs:c,fs:s}})}function kP(n,e){const t=He(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=mp),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function AP(n,e){const t=He(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let s;return t.Hr.getTargetData(i,e).next(a=>a?(s=a,J.resolve(s)):t.Hr.allocateTargetId(i).next(c=>(s=new _o(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,s).next(()=>s))))}).then(i=>{const s=t.Ts.get(i.targetId);return(s===null||i.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function Df(n,e,t){const i=He(n),s=i.Ts.get(e),a=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",a,c=>i.persistence.referenceDelegate.removeTarget(c,s))}catch(c){if(!ya(c))throw c;ye(Cp,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ts=i.Ts.remove(e),i.Is.delete(s.target)}function Vy(n,e,t){const i=He(n);let s=Be.min(),a=Ze();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,v,_){const T=He(p),I=T.Is.get(_);return I!==void 0?J.resolve(T.Ts.get(I)):T.Hr.getTargetData(v,_)}(i,c,oi(e)).next(h=>{if(h)return s=h.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(c,h.targetId).next(p=>{a=p})}).next(()=>i.Ps.getDocumentsMatchingQuery(c,e,t?s:Be.min(),t?a:Ze())).next(h=>(CP(i,pC(e),h),{documents:h,gs:a})))}function CP(n,e,t){let i=n.Es.get(e)||Be.min();t.forEach((s,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Es.set(e,i)}class My{constructor(){this.activeTargetIds=wC()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PP{constructor(){this.ho=new My,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new My,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="ConnectivityMonitor";class jy{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ye(Fy,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ye(Fy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rc=null;function Nf(){return rc===null?rc=function(){return 268435456+Math.round(2147483648*Math.random())}():rc++,"0x"+rc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tf="RestConnection",DP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class NP{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${s}`,this.wo=this.databaseId.database===Nc?`project_id=${i}`:`project_id=${i}&database_id=${s}`}So(e,t,i,s,a){const c=Nf(),h=this.bo(e,t.toUriEncodedString());ye(tf,`Sending RPC '${e}' ${c}:`,h,i);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,s,a),this.vo(e,h,p,i).then(v=>(ye(tf,`Received RPC '${e}' ${c}: `,v),v),v=>{throw sa(tf,`RPC '${e}' ${c} failed with error: `,v,"url: ",h,"request:",i),v})}Co(e,t,i,s,a,c){return this.So(e,t,i,s,a)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ga}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,a)=>e[a]=s),i&&i.headers.forEach((s,a)=>e[a]=s)}bo(e,t){const i=DP[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vn="WebChannelConnection";class LP extends NP{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,s){const a=Nf();return new Promise((c,h)=>{const p=new Pw;p.setWithCredentials(!0),p.listenOnce(bw.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case pc.NO_ERROR:const _=p.getResponseJson();ye(vn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(_)),c(_);break;case pc.TIMEOUT:ye(vn,`RPC '${e}' ${a} timed out`),h(new Ce(re.DEADLINE_EXCEEDED,"Request time out"));break;case pc.HTTP_ERROR:const T=p.getStatus();if(ye(vn,`RPC '${e}' ${a} failed with status:`,T,"response text:",p.getResponseText()),T>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const A=I==null?void 0:I.error;if(A&&A.status&&A.message){const b=function(V){const q=V.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(q)>=0?q:re.UNKNOWN}(A.status);h(new Ce(b,A.message))}else h(new Ce(re.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new Ce(re.UNAVAILABLE,"Connection failed."));break;default:je()}}finally{ye(vn,`RPC '${e}' ${a} completed.`)}});const v=JSON.stringify(s);ye(vn,`RPC '${e}' ${a} sending request:`,s),p.send(t,"POST",v,i,15)})}Wo(e,t,i){const s=Nf(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Ow(),h=Nw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const _=a.join("");ye(vn,`Creating RPC '${e}' stream ${s}: ${_}`,p);const T=c.createWebChannel(_,p);let I=!1,A=!1;const b=new OP({Fo:V=>{A?ye(vn,`Not sending because RPC '${e}' stream ${s} is closed:`,V):(I||(ye(vn,`Opening RPC '${e}' stream ${s} transport.`),T.open(),I=!0),ye(vn,`RPC '${e}' stream ${s} sending:`,V),T.send(V))},Mo:()=>T.close()}),j=(V,q,te)=>{V.listen(q,Z=>{try{te(Z)}catch(he){setTimeout(()=>{throw he},0)}})};return j(T,sl.EventType.OPEN,()=>{A||(ye(vn,`RPC '${e}' stream ${s} transport opened.`),b.Qo())}),j(T,sl.EventType.CLOSE,()=>{A||(A=!0,ye(vn,`RPC '${e}' stream ${s} transport closed`),b.Ko())}),j(T,sl.EventType.ERROR,V=>{A||(A=!0,sa(vn,`RPC '${e}' stream ${s} transport errored:`,V),b.Ko(new Ce(re.UNAVAILABLE,"The operation could not be completed")))}),j(T,sl.EventType.MESSAGE,V=>{var q;if(!A){const te=V.data[0];pt(!!te);const Z=te,he=(Z==null?void 0:Z.error)||((q=Z[0])===null||q===void 0?void 0:q.error);if(he){ye(vn,`RPC '${e}' stream ${s} received error:`,he);const U=he.status;let ce=function(S){const P=Ft[S];if(P!==void 0)return dE(P)}(U),C=he.message;ce===void 0&&(ce=re.INTERNAL,C="Unknown error status: "+U+" with message "+he.message),A=!0,b.Ko(new Ce(ce,C)),T.close()}else ye(vn,`RPC '${e}' stream ${s} received:`,te),b.Uo(te)}}),j(h,Dw.STAT_EVENT,V=>{V.stat===Tf.PROXY?ye(vn,`RPC '${e}' stream ${s} detected buffering proxy`):V.stat===Tf.NOPROXY&&ye(vn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.$o()},0),b}}function nf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(n){return new jC(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,t,i=1e3,s=1.5,a=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=s,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),s=Math.max(0,t-i);s>0&&ye("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="PersistentStream";class RE{constructor(e,t,i,s,a,c,h,p){this.Ti=e,this.n_=i,this.r_=s,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new SE(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(Li(t.toString()),Li("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,s])=>{this.i_===t&&this.V_(i,s)},i=>{e(()=>{const s=new Ce(re.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(s)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{i(()=>this.m_(s))}),this.stream.onMessage(s=>{i(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ye(Uy,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ye(Uy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class VP extends RE{constructor(e,t,i,s,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,s,c),this.serializer=a}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=BC(this.serializer,e),i=function(a){if(!("targetChange"in a))return Be.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Be.min():c.readTime?si(c.readTime):Be.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=bf(this.serializer),t.addTarget=function(a,c){let h;const p=c.target;if(h=Rf(p)?{documents:WC(a,p)}:{query:qC(a,p).ht},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=pE(a,c.resumeToken);const v=Af(a,c.expectedCount);v!==null&&(h.expectedCount=v)}else if(c.snapshotVersion.compareTo(Be.min())>0){h.readTime=jc(a,c.snapshotVersion.toTimestamp());const v=Af(a,c.expectedCount);v!==null&&(h.expectedCount=v)}return h}(this.serializer,e);const i=GC(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=bf(this.serializer),t.removeTarget=e,this.I_(t)}}class MP extends RE{constructor(e,t,i,s,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,s,c),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return pt(!!e.streamToken),this.lastStreamToken=e.streamToken,pt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){pt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=HC(e.writeResults,e.commitTime),i=si(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=bf(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>$C(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{}class jP extends FP{constructor(e,t,i,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new Ce(re.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.So(e,Cf(t,i),s,a,c)).catch(a=>{throw a.name==="FirebaseError"?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ce(re.UNKNOWN,a.toString())})}Co(e,t,i,s,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,h])=>this.connection.Co(e,Cf(t,i),s,c,h,a)).catch(c=>{throw c.name==="FirebaseError"?(c.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Ce(re.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class UP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Li(t),this.N_=!1):ye("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls="RemoteStore";class zP{constructor(e,t,i,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(c=>{i.enqueueAndForget(async()=>{ms(this)&&(ye(ls,"Restarting streams for network reachability change."),await async function(p){const v=He(p);v.W_.add(4),await jl(v),v.j_.set("Unknown"),v.W_.delete(4),await cd(v)}(this))})}),this.j_=new UP(i,s)}}async function cd(n){if(ms(n))for(const e of n.G_)await e(!0)}async function jl(n){for(const e of n.G_)await e(!1)}function kE(n,e){const t=He(n);t.U_.has(e.targetId)||(t.U_.set(e.targetId,e),Np(t)?Dp(t):_a(t).c_()&&bp(t,e))}function Pp(n,e){const t=He(n),i=_a(t);t.U_.delete(e),i.c_()&&AE(t,e),t.U_.size===0&&(i.c_()?i.P_():ms(t)&&t.j_.set("Unknown"))}function bp(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}_a(n).y_(e)}function AE(n,e){n.H_.Ne(e),_a(n).w_(e)}function Dp(n){n.H_=new LC({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.U_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),_a(n).start(),n.j_.B_()}function Np(n){return ms(n)&&!_a(n).u_()&&n.U_.size>0}function ms(n){return He(n).W_.size===0}function CE(n){n.H_=void 0}async function BP(n){n.j_.set("Online")}async function $P(n){n.U_.forEach((e,t)=>{bp(n,e)})}async function HP(n,e){CE(n),Np(n)?(n.j_.q_(e),Dp(n)):n.j_.set("Unknown")}async function WP(n,e,t){if(n.j_.set("Online"),e instanceof fE&&e.state===2&&e.cause)try{await async function(s,a){const c=a.cause;for(const h of a.targetIds)s.U_.has(h)&&(await s.remoteSyncer.rejectListen(h,c),s.U_.delete(h),s.H_.removeTarget(h))}(n,e)}catch(i){ye(ls,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await zc(n,i)}else if(e instanceof yc?n.H_.We(e):e instanceof hE?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Be.min()))try{const i=await IE(n.localStore);t.compareTo(i)>=0&&await function(a,c){const h=a.H_.ot(c);return h.targetChanges.forEach((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const _=a.U_.get(v);_&&a.U_.set(v,_.withResumeToken(p.resumeToken,c))}}),h.targetMismatches.forEach((p,v)=>{const _=a.U_.get(p);if(!_)return;a.U_.set(p,_.withResumeToken(un.EMPTY_BYTE_STRING,_.snapshotVersion)),AE(a,p);const T=new _o(_.target,p,v,_.sequenceNumber);bp(a,T)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t)}catch(i){ye(ls,"Failed to raise snapshot:",i),await zc(n,i)}}async function zc(n,e,t){if(!ya(e))throw e;n.W_.add(1),await jl(n),n.j_.set("Offline"),t||(t=()=>IE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ye(ls,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await cd(n)})}function PE(n,e){return e().catch(t=>zc(n,t,e))}async function dd(n){const e=He(n),t=Po(e);let i=e.K_.length>0?e.K_[e.K_.length-1].batchId:mp;for(;qP(e);)try{const s=await kP(e.localStore,i);if(s===null){e.K_.length===0&&t.P_();break}i=s.batchId,KP(e,s)}catch(s){await zc(e,s)}bE(e)&&DE(e)}function qP(n){return ms(n)&&n.K_.length<10}function KP(n,e){n.K_.push(e);const t=Po(n);t.c_()&&t.S_&&t.b_(e.mutations)}function bE(n){return ms(n)&&!Po(n).u_()&&n.K_.length>0}function DE(n){Po(n).start()}async function GP(n){Po(n).C_()}async function QP(n){const e=Po(n);for(const t of n.K_)e.b_(t.mutations)}async function YP(n,e,t){const i=n.K_.shift(),s=xp.from(i,e,t);await PE(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await dd(n)}async function XP(n,e){e&&Po(n).S_&&await async function(i,s){if(function(c){return DC(c)&&c!==re.ABORTED}(s.code)){const a=i.K_.shift();Po(i).h_(),await PE(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,s)),await dd(i)}}(n,e),bE(n)&&DE(n)}async function zy(n,e){const t=He(n);t.asyncQueue.verifyOperationInProgress(),ye(ls,"RemoteStore received new credentials");const i=ms(t);t.W_.add(3),await jl(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await cd(t)}async function JP(n,e){const t=He(n);e?(t.W_.delete(2),await cd(t)):e||(t.W_.add(2),await jl(t),t.j_.set("Unknown"))}function _a(n){return n.J_||(n.J_=function(t,i,s){const a=He(t);return a.M_(),new VP(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{xo:BP.bind(null,n),No:$P.bind(null,n),Lo:HP.bind(null,n),p_:WP.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Np(n)?Dp(n):n.j_.set("Unknown")):(await n.J_.stop(),CE(n))})),n.J_}function Po(n){return n.Y_||(n.Y_=function(t,i,s){const a=He(t);return a.M_(),new MP(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:GP.bind(null,n),Lo:XP.bind(null,n),D_:QP.bind(null,n),v_:YP.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await dd(n)):(await n.Y_.stop(),n.K_.length>0&&(ye(ls,`Stopping write stream with ${n.K_.length} pending writes`),n.K_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,t,i,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=s,this.removalCallback=a,this.deferred=new Di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,s,a){const c=Date.now()+i,h=new Op(e,t,c,s,a);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ce(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lp(n,e){if(Li("AsyncQueue",`${e}: ${n}`),ya(n))return new Ce(re.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{static emptySet(e){return new ia(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||Ne.comparator(t.key,i.key):(t,i)=>Ne.comparator(t.key,i.key),this.keyedMap=al(),this.sortedSet=new bt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ia)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=i.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new ia;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(){this.Z_=new bt(Ne.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):je():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class da{constructor(e,t,i,s,a,c,h,p,v){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=s,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(e,t,i,s,a){const c=[];return t.forEach(h=>{c.push({type:0,doc:h})}),new da(e,t,ia.emptySet(t),c,i,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&id(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==i[s].type||!t[s].doc.isEqual(i[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class e1{constructor(){this.queries=$y(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const s=He(t),a=s.queries;s.queries=$y(),a.forEach((c,h)=>{for(const p of h.ta)p.onError(i)})})(this,new Ce(re.ABORTED,"Firestore shutting down"))}}function $y(){return new fs(n=>Zw(n),id)}async function NE(n,e){const t=He(n);let i=3;const s=e.query;let a=t.queries.get(s);a?!a.na()&&e.ra()&&(i=2):(a=new ZP,i=e.ra()?0:1);try{switch(i){case 0:a.ea=await t.onListen(s,!0);break;case 1:a.ea=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(c){const h=Lp(c,`Initialization of query '${Js(e.query)}' failed`);return void e.onError(h)}t.queries.set(s,a),a.ta.push(e),e.sa(t.onlineState),a.ea&&e.oa(a.ea)&&Vp(t)}async function OE(n,e){const t=He(n),i=e.query;let s=3;const a=t.queries.get(i);if(a){const c=a.ta.indexOf(e);c>=0&&(a.ta.splice(c,1),a.ta.length===0?s=e.ra()?0:1:!a.na()&&e.ra()&&(s=2))}switch(s){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function t1(n,e){const t=He(n);let i=!1;for(const s of e){const a=s.query,c=t.queries.get(a);if(c){for(const h of c.ta)h.oa(s)&&(i=!0);c.ea=s}}i&&Vp(t)}function n1(n,e,t){const i=He(n),s=i.queries.get(e);if(s)for(const a of s.ta)a.onError(t);i.queries.delete(e)}function Vp(n){n.ia.forEach(e=>{e.next()})}var Of,Hy;(Hy=Of||(Of={}))._a="default",Hy.Cache="cache";class LE{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const s of e.docChanges)s.type!==3&&i.push(s);e=new da(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=da.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Of.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e){this.key=e}}class ME{constructor(e){this.key=e}}class r1{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ze(),this.mutatedKeys=Ze(),this.ya=eE(e),this.wa=new ia(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new By,s=t?t.wa:this.wa;let a=t?t.mutatedKeys:this.mutatedKeys,c=s,h=!1;const p=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,v=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((_,T)=>{const I=s.get(_),A=od(this.query,T)?T:null,b=!!I&&this.mutatedKeys.has(I.key),j=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let V=!1;I&&A?I.data.isEqual(A.data)?b!==j&&(i.track({type:3,doc:A}),V=!0):this.va(I,A)||(i.track({type:2,doc:A}),V=!0,(p&&this.ya(A,p)>0||v&&this.ya(A,v)<0)&&(h=!0)):!I&&A?(i.track({type:0,doc:A}),V=!0):I&&!A&&(i.track({type:1,doc:I}),V=!0,(p||v)&&(h=!0)),V&&(A?(c=c.add(A),a=j?a.add(_):a.delete(_)):(c=c.delete(_),a=a.delete(_)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const _=this.query.limitType==="F"?c.last():c.first();c=c.delete(_.key),a=a.delete(_.key),i.track({type:1,doc:_})}return{wa:c,Da:i,ls:h,mutatedKeys:a}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,s){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((_,T)=>function(A,b){const j=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je()}};return j(A)-j(b)}(_.type,T.type)||this.ya(_.doc,T.doc)),this.Ca(i),s=s!=null&&s;const h=t&&!s?this.Fa():[],p=this.pa.size===0&&this.current&&!s?1:0,v=p!==this.ga;return this.ga=p,c.length!==0||v?{snapshot:new da(this.query,e.wa,a,c,e.mutatedKeys,p===0,v,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new By,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ze(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new ME(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new VE(i))}),t}Oa(e){this.fa=e.gs,this.pa=Ze();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return da.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Mp="SyncEngine";class i1{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class o1{constructor(e){this.key=e,this.Ba=!1}}class s1{constructor(e,t,i,s,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new fs(h=>Zw(h),id),this.qa=new Map,this.Qa=new Set,this.$a=new bt(Ne.comparator),this.Ka=new Map,this.Ua=new Rp,this.Wa={},this.Ga=new Map,this.za=ca.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function a1(n,e,t=!0){const i=$E(n);let s;const a=i.ka.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Na()):s=await FE(i,e,t,!0),s}async function l1(n,e){const t=$E(n);await FE(t,e,!0,!1)}async function FE(n,e,t,i){const s=await AP(n.localStore,oi(e)),a=s.targetId,c=n.sharedClientState.addLocalQueryTarget(a,t);let h;return i&&(h=await u1(n,e,a,c==="current",s.resumeToken)),n.isPrimaryClient&&t&&kE(n.remoteStore,s),h}async function u1(n,e,t,i,s){n.Ha=(T,I,A)=>async function(j,V,q,te){let Z=V.view.ba(q);Z.ls&&(Z=await Vy(j.localStore,V.query,!1).then(({documents:C})=>V.view.ba(C,Z)));const he=te&&te.targetChanges.get(V.targetId),U=te&&te.targetMismatches.get(V.targetId)!=null,ce=V.view.applyChanges(Z,j.isPrimaryClient,he,U);return qy(j,V.targetId,ce.Ma),ce.snapshot}(n,T,I,A);const a=await Vy(n.localStore,e,!0),c=new r1(e,a.gs),h=c.ba(a.documents),p=Fl.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",s),v=c.applyChanges(h,n.isPrimaryClient,p);qy(n,t,v.Ma);const _=new i1(e,t,c);return n.ka.set(e,_),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),v.snapshot}async function c1(n,e,t){const i=He(n),s=i.ka.get(e),a=i.qa.get(s.targetId);if(a.length>1)return i.qa.set(s.targetId,a.filter(c=>!id(c,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(s.targetId),i.sharedClientState.isActiveQueryTarget(s.targetId)||await Df(i.localStore,s.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(s.targetId),t&&Pp(i.remoteStore,s.targetId),Lf(i,s.targetId)}).catch(va)):(Lf(i,s.targetId),await Df(i.localStore,s.targetId,!0))}async function d1(n,e){const t=He(n),i=t.ka.get(e),s=t.qa.get(i.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Pp(t.remoteStore,i.targetId))}async function h1(n,e,t){const i=_1(n);try{const s=await function(c,h){const p=He(c),v=Wt.now(),_=h.reduce((A,b)=>A.add(b.key),Ze());let T,I;return p.persistence.runTransaction("Locally write mutations","readwrite",A=>{let b=Vi(),j=Ze();return p.ds.getEntries(A,_).next(V=>{b=V,b.forEach((q,te)=>{te.isValidDocument()||(j=j.add(q))})}).next(()=>p.localDocuments.getOverlayedDocuments(A,b)).next(V=>{T=V;const q=[];for(const te of h){const Z=kC(te,T.get(te.key).overlayedDocument);Z!=null&&q.push(new ps(te.key,Z,qw(Z.value.mapValue),zr.exists(!0)))}return p.mutationQueue.addMutationBatch(A,v,q,h)}).next(V=>{I=V;const q=V.applyToLocalDocumentSet(T,j);return p.documentOverlayCache.saveOverlays(A,V.batchId,q)})}).then(()=>({batchId:I.batchId,changes:nE(T)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(s.batchId),function(c,h,p){let v=c.Wa[c.currentUser.toKey()];v||(v=new bt(nt)),v=v.insert(h,p),c.Wa[c.currentUser.toKey()]=v}(i,s.batchId,t),await Ul(i,s.changes),await dd(i.remoteStore)}catch(s){const a=Lp(s,"Failed to persist write");t.reject(a)}}async function jE(n,e){const t=He(n);try{const i=await SP(t.localStore,e);e.targetChanges.forEach((s,a)=>{const c=t.Ka.get(a);c&&(pt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.Ba=!0:s.modifiedDocuments.size>0?pt(c.Ba):s.removedDocuments.size>0&&(pt(c.Ba),c.Ba=!1))}),await Ul(t,i,e)}catch(i){await va(i)}}function Wy(n,e,t){const i=He(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const s=[];i.ka.forEach((a,c)=>{const h=c.view.sa(e);h.snapshot&&s.push(h.snapshot)}),function(c,h){const p=He(c);p.onlineState=h;let v=!1;p.queries.forEach((_,T)=>{for(const I of T.ta)I.sa(h)&&(v=!0)}),v&&Vp(p)}(i.eventManager,e),s.length&&i.La.p_(s),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function f1(n,e,t){const i=He(n);i.sharedClientState.updateQueryState(e,"rejected",t);const s=i.Ka.get(e),a=s&&s.key;if(a){let c=new bt(Ne.comparator);c=c.insert(a,_n.newNoDocument(a,Be.min()));const h=Ze().add(a),p=new ld(Be.min(),new Map,new bt(nt),c,h);await jE(i,p),i.$a=i.$a.remove(a),i.Ka.delete(e),Fp(i)}else await Df(i.localStore,e,!1).then(()=>Lf(i,e,t)).catch(va)}async function p1(n,e){const t=He(n),i=e.batch.batchId;try{const s=await IP(t.localStore,e);zE(t,i,null),UE(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Ul(t,s)}catch(s){await va(s)}}async function m1(n,e,t){const i=He(n);try{const s=await function(c,h){const p=He(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let _;return p.mutationQueue.lookupMutationBatch(v,h).next(T=>(pt(T!==null),_=T.keys(),p.mutationQueue.removeMutationBatch(v,T))).next(()=>p.mutationQueue.performConsistencyCheck(v)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(v,_,h)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,_)).next(()=>p.localDocuments.getDocuments(v,_))})}(i.localStore,e);zE(i,e,t),UE(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Ul(i,s)}catch(s){await va(s)}}function UE(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function zE(n,e,t){const i=He(n);let s=i.Wa[i.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),i.Wa[i.currentUser.toKey()]=s}}function Lf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ua.br(e).forEach(i=>{n.Ua.containsKey(i)||BE(n,i)})}function BE(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(Pp(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ka.delete(t),Fp(n))}function qy(n,e,t){for(const i of t)i instanceof VE?(n.Ua.addReference(i.key,e),g1(n,i)):i instanceof ME?(ye(Mp,"Document no longer in limbo: "+i.key),n.Ua.removeReference(i.key,e),n.Ua.containsKey(i.key)||BE(n,i.key)):je()}function g1(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(ye(Mp,"New document in limbo: "+t),n.Qa.add(i),Fp(n))}function Fp(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new Ne(kt.fromString(e)),i=n.za.next();n.Ka.set(i,new o1(t)),n.$a=n.$a.insert(t,i),kE(n.remoteStore,new _o(oi(wp(t.path)),i,"TargetPurposeLimboResolution",ed.ae))}}async function Ul(n,e,t){const i=He(n),s=[],a=[],c=[];i.ka.isEmpty()||(i.ka.forEach((h,p)=>{c.push(i.Ha(p,e,t).then(v=>{var _;if((v||t)&&i.isPrimaryClient){const T=v?!v.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;i.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(v){s.push(v);const T=Ap.Yi(p.targetId,v);a.push(T)}}))}),await Promise.all(c),i.La.p_(s),await async function(p,v){const _=He(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>J.forEach(v,I=>J.forEach(I.Hi,A=>_.persistence.referenceDelegate.addReference(T,I.targetId,A)).next(()=>J.forEach(I.Ji,A=>_.persistence.referenceDelegate.removeReference(T,I.targetId,A)))))}catch(T){if(!ya(T))throw T;ye(Cp,"Failed to update sequence numbers: "+T)}for(const T of v){const I=T.targetId;if(!T.fromCache){const A=_.Ts.get(I),b=A.snapshotVersion,j=A.withLastLimboFreeSnapshotVersion(b);_.Ts=_.Ts.insert(I,j)}}}(i.localStore,a))}async function v1(n,e){const t=He(n);if(!t.currentUser.isEqual(e)){ye(Mp,"User change. New user:",e.toKey());const i=await xE(t.localStore,e);t.currentUser=e,function(a,c){a.Ga.forEach(h=>{h.forEach(p=>{p.reject(new Ce(re.CANCELLED,c))})}),a.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Ul(t,i.Rs)}}function y1(n,e){const t=He(n),i=t.Ka.get(e);if(i&&i.Ba)return Ze().add(i.key);{let s=Ze();const a=t.qa.get(e);if(!a)return s;for(const c of a){const h=t.ka.get(c);s=s.unionWith(h.view.Sa)}return s}}function $E(n){const e=He(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=jE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=y1.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=f1.bind(null,e),e.La.p_=t1.bind(null,e.eventManager),e.La.Ja=n1.bind(null,e.eventManager),e}function _1(n){const e=He(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=p1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=m1.bind(null,e),e}class Bc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ud(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return xP(this.persistence,new wP,e.initialUser,this.serializer)}Xa(e){return new TE(kp.ri,this.serializer)}Za(e){return new PP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bc.provider={build:()=>new Bc};class w1 extends Bc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){pt(this.persistence.referenceDelegate instanceof Uc);const i=this.persistence.referenceDelegate.garbageCollector;return new oP(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Bn.withCacheSize(this.cacheSizeBytes):Bn.DEFAULT;return new TE(i=>Uc.ri(i,t),this.serializer)}}class Vf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Wy(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=v1.bind(null,this.syncEngine),await JP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new e1}()}createDatastore(e){const t=ud(e.databaseInfo.databaseId),i=function(a){return new LP(a)}(e.databaseInfo);return function(a,c,h,p){return new jP(a,c,h,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,s,a,c,h){return new zP(i,s,a,c,h)}(this.localStore,this.datastore,e.asyncQueue,t=>Wy(this.syncEngine,t,0),function(){return jy.D()?new jy:new bP}())}createSyncEngine(e,t){return function(s,a,c,h,p,v,_){const T=new s1(s,a,c,h,p,v);return _&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const a=He(s);ye(ls,"RemoteStore shutting down."),a.W_.add(5),await jl(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Vf.provider={build:()=>new Vf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Li("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo="FirestoreClient";class E1{constructor(e,t,i,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=s,this.user=yn.UNAUTHENTICATED,this.clientId=Vw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async c=>{ye(bo,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(ye(bo,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Lp(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function rf(n,e){n.asyncQueue.verifyOperationInProgress(),ye(bo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async s=>{i.isEqual(s)||(await xE(e.localStore,s),i=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Ky(n,e){n.asyncQueue.verifyOperationInProgress();const t=await T1(n);ye(bo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>zy(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>zy(e.remoteStore,s)),n._onlineComponents=e}async function T1(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ye(bo,"Using user provided OfflineComponentProvider");try{await rf(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===re.FAILED_PRECONDITION||s.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;sa("Error using user provided cache. Falling back to memory cache: "+t),await rf(n,new Bc)}}else ye(bo,"Using default OfflineComponentProvider"),await rf(n,new w1(void 0));return n._offlineComponents}async function WE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ye(bo,"Using user provided OnlineComponentProvider"),await Ky(n,n._uninitializedComponentsProvider._online)):(ye(bo,"Using default OnlineComponentProvider"),await Ky(n,new Vf))),n._onlineComponents}function x1(n){return WE(n).then(e=>e.syncEngine)}async function qE(n){const e=await WE(n),t=e.eventManager;return t.onListen=a1.bind(null,e.syncEngine),t.onUnlisten=c1.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=l1.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=d1.bind(null,e.syncEngine),t}function I1(n,e,t={}){const i=new Di;return n.asyncQueue.enqueueAndForget(async()=>function(a,c,h,p,v){const _=new HE({next:I=>{_.su(),c.enqueueAndForget(()=>OE(a,T));const A=I.docs.has(h);!A&&I.fromCache?v.reject(new Ce(re.UNAVAILABLE,"Failed to get document because the client is offline.")):A&&I.fromCache&&p&&p.source==="server"?v.reject(new Ce(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(I)},error:I=>v.reject(I)}),T=new LE(wp(h.path),_,{includeMetadataChanges:!0,Ta:!0});return NE(a,T)}(await qE(n),n.asyncQueue,e,t,i)),i.promise}function S1(n,e,t={}){const i=new Di;return n.asyncQueue.enqueueAndForget(async()=>function(a,c,h,p,v){const _=new HE({next:I=>{_.su(),c.enqueueAndForget(()=>OE(a,T)),I.fromCache&&p.source==="server"?v.reject(new Ce(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(I)},error:I=>v.reject(I)}),T=new LE(h,_,{includeMetadataChanges:!0,Ta:!0});return NE(a,T)}(await qE(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gy=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(n,e,t){if(!t)throw new Ce(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function R1(n,e,t,i){if(e===!0&&i===!0)throw new Ce(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Qy(n){if(!Ne.isDocumentKey(n))throw new Ce(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Yy(n){if(Ne.isDocumentKey(n))throw new Ce(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function jp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":je()}function Mi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ce(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=jp(n);throw new Ce(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="firestore.googleapis.com",Xy=!0;class Jy{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Ce(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QE,this.ssl=Xy}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Xy;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=EE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rP)throw new Ce(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}R1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=KE((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ce(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ce(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ce(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,s){return i.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hd{constructor(e,t,i,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Jy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ce(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ce(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Jy(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new NA;switch(i.type){case"firstParty":return new MA(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Ce(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Gy.get(t);i&&(ye("ComponentProvider","Removing Datastore"),Gy.delete(t),i.terminate())}(this),Promise.resolve()}}function k1(n,e,t,i={}){var s;const a=(n=Mi(n,hd))._getSettings(),c=`${e}:${t}`;if(a.host!==QE&&a.host!==c&&sa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),i.mockUserToken){let h,p;if(typeof i.mockUserToken=="string")h=i.mockUserToken,p=yn.MOCK_USER;else{h=WI(i.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new Ce(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new yn(v)}n._authCredentials=new OA(new Lw(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new fd(this.firestore,e,this._query)}}class tr{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Io(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tr(this.firestore,e,this._key)}}class Io extends fd{constructor(e,t,i){super(e,t,wp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tr(this.firestore,null,new Ne(e))}withConverter(e){return new Io(this.firestore,e,this._path)}}function Up(n,e,...t){if(n=nr(n),GE("collection","path",e),n instanceof hd){const i=kt.fromString(e,...t);return Yy(i),new Io(n,null,i)}{if(!(n instanceof tr||n instanceof Io))throw new Ce(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(kt.fromString(e,...t));return Yy(i),new Io(n.firestore,null,i)}}function ml(n,e,...t){if(n=nr(n),arguments.length===1&&(e=Vw.newId()),GE("doc","path",e),n instanceof hd){const i=kt.fromString(e,...t);return Qy(i),new tr(n,null,new Ne(i))}{if(!(n instanceof tr||n instanceof Io))throw new Ce(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(kt.fromString(e,...t));return Qy(i),new tr(n.firestore,n instanceof Io?n.converter:null,new Ne(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="AsyncQueue";class e_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new SE(this,"async_queue_retry"),this.Su=()=>{const i=nf();i&&ye(Zy,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=nf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=nf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Di;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ya(e))throw e;ye(Zy,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const s=function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),h}(i);throw Li("INTERNAL UNHANDLED ERROR: ",s),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const s=Op.createAndSchedule(this,e,t,i,a=>this.Fu(a));return this.fu.push(s),s}Du(){this.gu&&je()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class wa extends hd{constructor(e,t,i,s){super(e,t,i,s),this.type="firestore",this._queue=new e_,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new e_(e),this._firestoreClient=void 0,await e}}}function A1(n,e){const t=typeof n=="object"?n:W_(),i=typeof n=="string"?n:Nc,s=np(t,"firestore").getImmediate({identifier:i});if(!s._initialized){const a=$I("firestore");a&&k1(s,...a)}return s}function zp(n){if(n._terminated)throw new Ce(re.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||C1(n),n._firestoreClient}function C1(n){var e,t,i;const s=n._freezeSettings(),a=function(h,p,v,_){return new XA(h,p,v,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,KE(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=s.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new E1(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(h){const p=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ha(un.fromBase64String(e))}catch(t){throw new Ce(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ha(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ce(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ln(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ce(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ce(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,s){if(i.length!==s.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=/^__.*__$/;class b1{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ps(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ml(e,this.data,t,this.fieldTransforms)}}function XE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je()}}class Wp{constructor(e,t,i,s,a,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=s,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Wp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:i,Qu:!1});return s.$u(e),s}Ku(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.ku({path:i,Qu:!1});return s.Bu(),s}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return $c(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(XE(this.Lu)&&P1.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class D1{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||ud(e)}ju(e,t,i,s=!1){return new Wp({Lu:e,methodName:t,zu:i,path:ln.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function JE(n){const e=n._freezeSettings(),t=ud(n._databaseId);return new D1(n._databaseId,!!e.ignoreUndefinedProperties,t)}function ZE(n,e,t,i,s,a={}){const c=n.ju(a.merge||a.mergeFields?2:0,e,t,s);r0("Data must be an object, but it was:",c,i);const h=t0(i,c);let p,v;if(a.merge)p=new jr(c.fieldMask),v=c.fieldTransforms;else if(a.mergeFields){const _=[];for(const T of a.mergeFields){const I=N1(e,T,t);if(!c.contains(I))throw new Ce(re.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);L1(_,I)||_.push(I)}p=new jr(_),v=c.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,v=c.fieldTransforms;return new b1(new vr(h),p,v)}function e0(n,e){if(n0(n=nr(n)))return r0("Unsupported field value:",e,n),t0(n,e);if(n instanceof YE)return function(i,s){if(!XE(s.Lu))throw s.Wu(`${i._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,s){const a=[];let c=0;for(const h of i){let p=e0(h,s.Uu(c));p==null&&(p={nullValue:"NULL_VALUE"}),a.push(p),c++}return{arrayValue:{values:a}}}(n,e)}return function(i,s){if((i=nr(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return EC(s.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Wt.fromDate(i);return{timestampValue:jc(s.serializer,a)}}if(i instanceof Wt){const a=new Wt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:jc(s.serializer,a)}}if(i instanceof $p)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ha)return{bytesValue:pE(s.serializer,i._byteString)};if(i instanceof tr){const a=s.databaseId,c=i.firestore._databaseId;if(!c.isEqual(a))throw s.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Sp(i.firestore._databaseId||s.databaseId,i._key.path)}}if(i instanceof Hp)return function(c,h){return{mapValue:{fields:{[Hw]:{stringValue:Ww},[Oc]:{arrayValue:{values:c.toArray().map(v=>{if(typeof v!="number")throw h.Wu("VectorValues must only contain numeric values.");return Ep(h.serializer,v)})}}}}}}(i,s);throw s.Wu(`Unsupported field value: ${jp(i)}`)}(n,e)}function t0(n,e){const t={};return Fw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hs(n,(i,s)=>{const a=e0(s,e.qu(i));a!=null&&(t[i]=a)}),{mapValue:{fields:t}}}function n0(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Wt||n instanceof $p||n instanceof ha||n instanceof tr||n instanceof YE||n instanceof Hp)}function r0(n,e,t){if(!n0(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const i=jp(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function N1(n,e,t){if((e=nr(e))instanceof Bp)return e._internalPath;if(typeof e=="string")return i0(n,e);throw $c("Field path arguments must be of type string or ",n,!1,void 0,t)}const O1=new RegExp("[~\\*/\\[\\]]");function i0(n,e,t){if(e.search(O1)>=0)throw $c(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Bp(...e.split("."))._internalPath}catch{throw $c(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function $c(n,e,t,i,s){const a=i&&!i.isEmpty(),c=s!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(a||c)&&(p+=" (found",a&&(p+=` in field ${i}`),c&&(p+=` in document ${s}`),p+=")"),new Ce(re.INVALID_ARGUMENT,h+n+p)}function L1(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,t,i,s,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new tr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new V1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(s0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class V1 extends o0{data(){return super.data()}}function s0(n,e){return typeof e=="string"?i0(n,e):e instanceof Bp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ce(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class F1{convertValue(e,t="none"){switch(Co(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ao(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw je()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return hs(e,(s,a)=>{i[s]=this.convertValue(a,t)}),i}convertVectorValue(e){var t,i,s;const a=(s=(i=(t=e.fields)===null||t===void 0?void 0:t[Oc].arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(c=>Lt(c.doubleValue));return new Hp(a)}convertGeoPoint(e){return new $p(Lt(e.latitude),Lt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=nd(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(El(e));default:return null}}convertTimestamp(e){const t=ko(e);return new Wt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=kt.fromString(e);pt(wE(i));const s=new Tl(i.get(1),i.get(3)),a=new Ne(i.popFirst(5));return s.isEqual(t)||Li(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(n,e,t){let i;return i=n?n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class l0 extends o0{constructor(e,t,i,s,a,c){super(e,t,i,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _c(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(s0("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class _c extends l0{data(e={}){return super.data(e)}}class j1{constructor(e,t,i,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new ul(s.hasPendingWrites,s.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new _c(this._firestore,this._userDataWriter,i.key,i,new ul(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ce(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let c=0;return s._snapshot.docChanges.map(h=>{const p=new _c(s._firestore,s._userDataWriter,h.doc.key,h.doc,new ul(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);return h.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const p=new _c(s._firestore,s._userDataWriter,h.doc.key,h.doc,new ul(s._snapshot.mutatedKeys.has(h.doc.key),s._snapshot.fromCache),s.query.converter);let v=-1,_=-1;return h.type!==0&&(v=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),_=c.indexOf(h.doc.key)),{type:U1(h.type),doc:p,oldIndex:v,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function U1(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(n){n=Mi(n,tr);const e=Mi(n.firestore,wa);return I1(zp(e),n._key).then(t=>H1(e,n,t))}class u0 extends F1{constructor(e){super(),this.firestore=e}convertBytes(e){return new ha(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new tr(this.firestore,null,t)}}function c0(n){n=Mi(n,fd);const e=Mi(n.firestore,wa),t=zp(e),i=new u0(e);return M1(n._query),S1(t,n._query).then(s=>new j1(e,i,n,s))}function t_(n,e,t){n=Mi(n,tr);const i=Mi(n.firestore,wa),s=a0(n.converter,e);return qp(i,[ZE(JE(i),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,zr.none())])}function B1(n){return qp(Mi(n.firestore,wa),[new Tp(n._key,zr.none())])}function $1(n,e){const t=Mi(n.firestore,wa),i=ml(n),s=a0(n.converter,e);return qp(t,[ZE(JE(n.firestore),"addDoc",i._key,s,n.converter!==null,{}).toMutation(i._key,zr.exists(!1))]).then(()=>i)}function qp(n,e){return function(i,s){const a=new Di;return i.asyncQueue.enqueueAndForget(async()=>h1(await x1(i),s,a)),a.promise}(zp(n),e)}function H1(n,e,t){const i=t.docs.get(e._key),s=new u0(n);return new l0(n,s,e._key,i,new ul(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){ga=s})(pa),oa(new is("firestore",(i,{instanceIdentifier:s,options:a})=>{const c=i.getProvider("app").getImmediate(),h=new wa(new LA(i.getProvider("auth-internal")),new FA(c,i.getProvider("app-check-internal")),function(v,_){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new Ce(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tl(v.options.projectId,_)}(c,s),c);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),To(ay,ly,e),To(ay,ly,"esm2017")})();var W1="firebase",q1="11.3.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */To(W1,q1,"app");const K1={apiKey:"AIzaSyDrmSpJIywf0ZFc61bJkPVWObxoXxXwLxQ",authDomain:"mediscrape.firebaseapp.com",projectId:"mediscrape",storageBucket:"mediscrape.firebasestorage.app",messagingSenderId:"207817260049",appId:"1:207817260049:web:f23466db3b718b978745b0"},d0=H_(K1),ic=bA(d0),rs=A1(d0),G1=n=>{switch(n){case"auth/weak-password":return"Weak password";case"auth/email-already-in-use":return"Email already in use";case"auth/invalid-email":return"Invalid email";case"auth/wrong-password":return"Wrong password";case"auth/user-not-found":return"User not found";default:return"Invalid credential"}},Q1=()=>{z.useEffect(()=>{(j=>{localStorage.getItem("userID")&&n("/Landing")})()},[]);const n=Cl(),[e,t]=z.useState(null),[i,s]=z.useState(""),[a,c]=z.useState(""),[h,p]=z.useState(""),v=b=>{t(e===b?null:b),s("")},_=async b=>{(await z1(ml(rs,"users",b.uid))).exists()||await t_(ml(rs,"users",b.uid),{Email:b.email}),LI(b.displayName,b.uid),n("/Landing")},T=async()=>{try{await mk(ic,a),alert("Reset email sent!"),v("login")}catch{s("Failed to send reset email. Please try again.")}},I=async()=>{try{if(e==="login"){const j=(await vk(ic,a,h)).user;console.log("Logged in:",j.uid),j.emailVerified?await _(j):s("Please verify your email first!")}else if(e==="signup"){const j=(await gk(ic,a,h)).user;console.log("Signed up:",j.uid),await t_(ml(rs,"users",j.uid),{Email:j.email}),localStorage.setItem("userLevel","Beginner"),await yk(j),alert("Verification email sent! Please verify your email before proceeding."),v("login")}}catch(b){console.error("Error:",b.message);const j=G1(b.code);s(j)}},A=async()=>{try{const b=new ki,V=(await Uk(ic,b)).user;console.log("Google Sign-In:",V.uid),await _(V)}catch(b){console.error("Error during Google Sign-In:",b.message),s("Google Sign-In failed. Please try again.")}};return oe.jsx("div",{className:"container",children:oe.jsxs("div",{className:"auth-panel",children:[oe.jsx("div",{className:"intro",children:oe.jsx("p",{className:"text",children:"Welcome!"})}),oe.jsx("div",{className:"formBtn",onClick:A,children:"Login with Gmail"}),oe.jsx("div",{className:"formBtn",onClick:()=>v("login"),children:"Login with Email"}),e==="login"&&oe.jsx(Pv,{onSubmit:I,error:i,email:a,setEmail:c,password:h,setPassword:p}),oe.jsx("div",{className:"formBtn",onClick:()=>v("signup"),children:"Sign-Up"}),e==="signup"&&oe.jsx(Pv,{onSubmit:I,error:i,email:a,setEmail:c,password:h,setPassword:p}),oe.jsx("div",{id:"forgetPassBtn",onClick:()=>v("forgetpass"),children:"Forget Password"}),e==="forgetpass"&&oe.jsxs("div",{className:"form",children:[oe.jsx("form",{children:oe.jsx(ff,{type:"text",placeholder:"Email",value:a,onChange:b=>c(b.target.value),icon:"fas fa-envelope"})}),oe.jsx("div",{id:"goBtn",onClick:T,children:"Go"})]})]})})};var of={exports:{}},sf,n_;function Y1(){if(n_)return sf;n_=1;var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return sf=n,sf}var af,r_;function X1(){if(r_)return af;r_=1;var n=Y1();function e(){}function t(){}return t.resetWarningCache=e,af=function(){function i(c,h,p,v,_,T){if(T!==n){var I=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw I.name="Invariant Violation",I}}i.isRequired=i;function s(){return i}var a={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:s,element:i,elementType:i,instanceOf:s,node:i,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},af}var i_;function J1(){return i_||(i_=1,of.exports=X1()()),of.exports}var Z1=J1();const yt=Bf(Z1),eb=new Map([["1km","application/vnd.1000minds.decision-model+xml"],["3dml","text/vnd.in3d.3dml"],["3ds","image/x-3ds"],["3g2","video/3gpp2"],["3gp","video/3gp"],["3gpp","video/3gpp"],["3mf","model/3mf"],["7z","application/x-7z-compressed"],["7zip","application/x-7z-compressed"],["123","application/vnd.lotus-1-2-3"],["aab","application/x-authorware-bin"],["aac","audio/x-acc"],["aam","application/x-authorware-map"],["aas","application/x-authorware-seg"],["abw","application/x-abiword"],["ac","application/vnd.nokia.n-gage.ac+xml"],["ac3","audio/ac3"],["acc","application/vnd.americandynamics.acc"],["ace","application/x-ace-compressed"],["acu","application/vnd.acucobol"],["acutc","application/vnd.acucorp"],["adp","audio/adpcm"],["aep","application/vnd.audiograph"],["afm","application/x-font-type1"],["afp","application/vnd.ibm.modcap"],["ahead","application/vnd.ahead.space"],["ai","application/pdf"],["aif","audio/x-aiff"],["aifc","audio/x-aiff"],["aiff","audio/x-aiff"],["air","application/vnd.adobe.air-application-installer-package+zip"],["ait","application/vnd.dvb.ait"],["ami","application/vnd.amiga.ami"],["amr","audio/amr"],["apk","application/vnd.android.package-archive"],["apng","image/apng"],["appcache","text/cache-manifest"],["application","application/x-ms-application"],["apr","application/vnd.lotus-approach"],["arc","application/x-freearc"],["arj","application/x-arj"],["asc","application/pgp-signature"],["asf","video/x-ms-asf"],["asm","text/x-asm"],["aso","application/vnd.accpac.simply.aso"],["asx","video/x-ms-asf"],["atc","application/vnd.acucorp"],["atom","application/atom+xml"],["atomcat","application/atomcat+xml"],["atomdeleted","application/atomdeleted+xml"],["atomsvc","application/atomsvc+xml"],["atx","application/vnd.antix.game-component"],["au","audio/x-au"],["avi","video/x-msvideo"],["avif","image/avif"],["aw","application/applixware"],["azf","application/vnd.airzip.filesecure.azf"],["azs","application/vnd.airzip.filesecure.azs"],["azv","image/vnd.airzip.accelerator.azv"],["azw","application/vnd.amazon.ebook"],["b16","image/vnd.pco.b16"],["bat","application/x-msdownload"],["bcpio","application/x-bcpio"],["bdf","application/x-font-bdf"],["bdm","application/vnd.syncml.dm+wbxml"],["bdoc","application/x-bdoc"],["bed","application/vnd.realvnc.bed"],["bh2","application/vnd.fujitsu.oasysprs"],["bin","application/octet-stream"],["blb","application/x-blorb"],["blorb","application/x-blorb"],["bmi","application/vnd.bmi"],["bmml","application/vnd.balsamiq.bmml+xml"],["bmp","image/bmp"],["book","application/vnd.framemaker"],["box","application/vnd.previewsystems.box"],["boz","application/x-bzip2"],["bpk","application/octet-stream"],["bpmn","application/octet-stream"],["bsp","model/vnd.valve.source.compiled-map"],["btif","image/prs.btif"],["buffer","application/octet-stream"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["c","text/x-c"],["c4d","application/vnd.clonk.c4group"],["c4f","application/vnd.clonk.c4group"],["c4g","application/vnd.clonk.c4group"],["c4p","application/vnd.clonk.c4group"],["c4u","application/vnd.clonk.c4group"],["c11amc","application/vnd.cluetrust.cartomobile-config"],["c11amz","application/vnd.cluetrust.cartomobile-config-pkg"],["cab","application/vnd.ms-cab-compressed"],["caf","audio/x-caf"],["cap","application/vnd.tcpdump.pcap"],["car","application/vnd.curl.car"],["cat","application/vnd.ms-pki.seccat"],["cb7","application/x-cbr"],["cba","application/x-cbr"],["cbr","application/x-cbr"],["cbt","application/x-cbr"],["cbz","application/x-cbr"],["cc","text/x-c"],["cco","application/x-cocoa"],["cct","application/x-director"],["ccxml","application/ccxml+xml"],["cdbcmsg","application/vnd.contact.cmsg"],["cda","application/x-cdf"],["cdf","application/x-netcdf"],["cdfx","application/cdfx+xml"],["cdkey","application/vnd.mediastation.cdkey"],["cdmia","application/cdmi-capability"],["cdmic","application/cdmi-container"],["cdmid","application/cdmi-domain"],["cdmio","application/cdmi-object"],["cdmiq","application/cdmi-queue"],["cdr","application/cdr"],["cdx","chemical/x-cdx"],["cdxml","application/vnd.chemdraw+xml"],["cdy","application/vnd.cinderella"],["cer","application/pkix-cert"],["cfs","application/x-cfs-compressed"],["cgm","image/cgm"],["chat","application/x-chat"],["chm","application/vnd.ms-htmlhelp"],["chrt","application/vnd.kde.kchart"],["cif","chemical/x-cif"],["cii","application/vnd.anser-web-certificate-issue-initiation"],["cil","application/vnd.ms-artgalry"],["cjs","application/node"],["cla","application/vnd.claymore"],["class","application/octet-stream"],["clkk","application/vnd.crick.clicker.keyboard"],["clkp","application/vnd.crick.clicker.palette"],["clkt","application/vnd.crick.clicker.template"],["clkw","application/vnd.crick.clicker.wordbank"],["clkx","application/vnd.crick.clicker"],["clp","application/x-msclip"],["cmc","application/vnd.cosmocaller"],["cmdf","chemical/x-cmdf"],["cml","chemical/x-cml"],["cmp","application/vnd.yellowriver-custom-menu"],["cmx","image/x-cmx"],["cod","application/vnd.rim.cod"],["coffee","text/coffeescript"],["com","application/x-msdownload"],["conf","text/plain"],["cpio","application/x-cpio"],["cpp","text/x-c"],["cpt","application/mac-compactpro"],["crd","application/x-mscardfile"],["crl","application/pkix-crl"],["crt","application/x-x509-ca-cert"],["crx","application/x-chrome-extension"],["cryptonote","application/vnd.rig.cryptonote"],["csh","application/x-csh"],["csl","application/vnd.citationstyles.style+xml"],["csml","chemical/x-csml"],["csp","application/vnd.commonspace"],["csr","application/octet-stream"],["css","text/css"],["cst","application/x-director"],["csv","text/csv"],["cu","application/cu-seeme"],["curl","text/vnd.curl"],["cww","application/prs.cww"],["cxt","application/x-director"],["cxx","text/x-c"],["dae","model/vnd.collada+xml"],["daf","application/vnd.mobius.daf"],["dart","application/vnd.dart"],["dataless","application/vnd.fdsn.seed"],["davmount","application/davmount+xml"],["dbf","application/vnd.dbf"],["dbk","application/docbook+xml"],["dcr","application/x-director"],["dcurl","text/vnd.curl.dcurl"],["dd2","application/vnd.oma.dd2+xml"],["ddd","application/vnd.fujixerox.ddd"],["ddf","application/vnd.syncml.dmddf+xml"],["dds","image/vnd.ms-dds"],["deb","application/x-debian-package"],["def","text/plain"],["deploy","application/octet-stream"],["der","application/x-x509-ca-cert"],["dfac","application/vnd.dreamfactory"],["dgc","application/x-dgc-compressed"],["dic","text/x-c"],["dir","application/x-director"],["dis","application/vnd.mobius.dis"],["disposition-notification","message/disposition-notification"],["dist","application/octet-stream"],["distz","application/octet-stream"],["djv","image/vnd.djvu"],["djvu","image/vnd.djvu"],["dll","application/octet-stream"],["dmg","application/x-apple-diskimage"],["dmn","application/octet-stream"],["dmp","application/vnd.tcpdump.pcap"],["dms","application/octet-stream"],["dna","application/vnd.dna"],["doc","application/msword"],["docm","application/vnd.ms-word.template.macroEnabled.12"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["dot","application/msword"],["dotm","application/vnd.ms-word.template.macroEnabled.12"],["dotx","application/vnd.openxmlformats-officedocument.wordprocessingml.template"],["dp","application/vnd.osgi.dp"],["dpg","application/vnd.dpgraph"],["dra","audio/vnd.dra"],["drle","image/dicom-rle"],["dsc","text/prs.lines.tag"],["dssc","application/dssc+der"],["dtb","application/x-dtbook+xml"],["dtd","application/xml-dtd"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["dump","application/octet-stream"],["dvb","video/vnd.dvb.file"],["dvi","application/x-dvi"],["dwd","application/atsc-dwd+xml"],["dwf","model/vnd.dwf"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["dxp","application/vnd.spotfire.dxp"],["dxr","application/x-director"],["ear","application/java-archive"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["ecma","application/ecmascript"],["edm","application/vnd.novadigm.edm"],["edx","application/vnd.novadigm.edx"],["efif","application/vnd.picsel"],["ei6","application/vnd.pg.osasli"],["elc","application/octet-stream"],["emf","image/emf"],["eml","message/rfc822"],["emma","application/emma+xml"],["emotionml","application/emotionml+xml"],["emz","application/x-msmetafile"],["eol","audio/vnd.digital-winds"],["eot","application/vnd.ms-fontobject"],["eps","application/postscript"],["epub","application/epub+zip"],["es","application/ecmascript"],["es3","application/vnd.eszigno3+xml"],["esa","application/vnd.osgi.subsystem"],["esf","application/vnd.epson.esf"],["et3","application/vnd.eszigno3+xml"],["etx","text/x-setext"],["eva","application/x-eva"],["evy","application/x-envoy"],["exe","application/octet-stream"],["exi","application/exi"],["exp","application/express"],["exr","image/aces"],["ext","application/vnd.novadigm.ext"],["ez","application/andrew-inset"],["ez2","application/vnd.ezpix-album"],["ez3","application/vnd.ezpix-package"],["f","text/x-fortran"],["f4v","video/mp4"],["f77","text/x-fortran"],["f90","text/x-fortran"],["fbs","image/vnd.fastbidsheet"],["fcdt","application/vnd.adobe.formscentral.fcdt"],["fcs","application/vnd.isac.fcs"],["fdf","application/vnd.fdf"],["fdt","application/fdt+xml"],["fe_launch","application/vnd.denovo.fcselayout-link"],["fg5","application/vnd.fujitsu.oasysgp"],["fgd","application/x-director"],["fh","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["fhc","image/x-freehand"],["fig","application/x-xfig"],["fits","image/fits"],["flac","audio/x-flac"],["fli","video/x-fli"],["flo","application/vnd.micrografx.flo"],["flv","video/x-flv"],["flw","application/vnd.kde.kivio"],["flx","text/vnd.fmi.flexstor"],["fly","text/vnd.fly"],["fm","application/vnd.framemaker"],["fnc","application/vnd.frogans.fnc"],["fo","application/vnd.software602.filler.form+xml"],["for","text/x-fortran"],["fpx","image/vnd.fpx"],["frame","application/vnd.framemaker"],["fsc","application/vnd.fsc.weblaunch"],["fst","image/vnd.fst"],["ftc","application/vnd.fluxtime.clip"],["fti","application/vnd.anser-web-funds-transfer-initiation"],["fvt","video/vnd.fvt"],["fxp","application/vnd.adobe.fxp"],["fxpl","application/vnd.adobe.fxp"],["fzs","application/vnd.fuzzysheet"],["g2w","application/vnd.geoplan"],["g3","image/g3fax"],["g3w","application/vnd.geospace"],["gac","application/vnd.groove-account"],["gam","application/x-tads"],["gbr","application/rpki-ghostbusters"],["gca","application/x-gca-compressed"],["gdl","model/vnd.gdl"],["gdoc","application/vnd.google-apps.document"],["geo","application/vnd.dynageo"],["geojson","application/geo+json"],["gex","application/vnd.geometry-explorer"],["ggb","application/vnd.geogebra.file"],["ggt","application/vnd.geogebra.tool"],["ghf","application/vnd.groove-help"],["gif","image/gif"],["gim","application/vnd.groove-identity-message"],["glb","model/gltf-binary"],["gltf","model/gltf+json"],["gml","application/gml+xml"],["gmx","application/vnd.gmx"],["gnumeric","application/x-gnumeric"],["gpg","application/gpg-keys"],["gph","application/vnd.flographit"],["gpx","application/gpx+xml"],["gqf","application/vnd.grafeq"],["gqs","application/vnd.grafeq"],["gram","application/srgs"],["gramps","application/x-gramps-xml"],["gre","application/vnd.geometry-explorer"],["grv","application/vnd.groove-injector"],["grxml","application/srgs+xml"],["gsf","application/x-font-ghostscript"],["gsheet","application/vnd.google-apps.spreadsheet"],["gslides","application/vnd.google-apps.presentation"],["gtar","application/x-gtar"],["gtm","application/vnd.groove-tool-message"],["gtw","model/vnd.gtw"],["gv","text/vnd.graphviz"],["gxf","application/gxf"],["gxt","application/vnd.geonext"],["gz","application/gzip"],["gzip","application/gzip"],["h","text/x-c"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["hal","application/vnd.hal+xml"],["hbci","application/vnd.hbci"],["hbs","text/x-handlebars-template"],["hdd","application/x-virtualbox-hdd"],["hdf","application/x-hdf"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["held","application/atsc-held+xml"],["hh","text/x-c"],["hjson","application/hjson"],["hlp","application/winhlp"],["hpgl","application/vnd.hp-hpgl"],["hpid","application/vnd.hp-hpid"],["hps","application/vnd.hp-hps"],["hqx","application/mac-binhex40"],["hsj2","image/hsj2"],["htc","text/x-component"],["htke","application/vnd.kenameaapp"],["htm","text/html"],["html","text/html"],["hvd","application/vnd.yamaha.hv-dic"],["hvp","application/vnd.yamaha.hv-voice"],["hvs","application/vnd.yamaha.hv-script"],["i2g","application/vnd.intergeo"],["icc","application/vnd.iccprofile"],["ice","x-conference/x-cooltalk"],["icm","application/vnd.iccprofile"],["ico","image/x-icon"],["ics","text/calendar"],["ief","image/ief"],["ifb","text/calendar"],["ifm","application/vnd.shana.informed.formdata"],["iges","model/iges"],["igl","application/vnd.igloader"],["igm","application/vnd.insors.igm"],["igs","model/iges"],["igx","application/vnd.micrografx.igx"],["iif","application/vnd.shana.informed.interchange"],["img","application/octet-stream"],["imp","application/vnd.accpac.simply.imp"],["ims","application/vnd.ms-ims"],["in","text/plain"],["ini","text/plain"],["ink","application/inkml+xml"],["inkml","application/inkml+xml"],["install","application/x-install-instructions"],["iota","application/vnd.astraea-software.iota"],["ipfix","application/ipfix"],["ipk","application/vnd.shana.informed.package"],["irm","application/vnd.ibm.rights-management"],["irp","application/vnd.irepository.package+xml"],["iso","application/x-iso9660-image"],["itp","application/vnd.shana.informed.formtemplate"],["its","application/its+xml"],["ivp","application/vnd.immervision-ivp"],["ivu","application/vnd.immervision-ivu"],["jad","text/vnd.sun.j2me.app-descriptor"],["jade","text/jade"],["jam","application/vnd.jam"],["jar","application/java-archive"],["jardiff","application/x-java-archive-diff"],["java","text/x-java-source"],["jhc","image/jphc"],["jisp","application/vnd.jisp"],["jls","image/jls"],["jlt","application/vnd.hp-jlyt"],["jng","image/x-jng"],["jnlp","application/x-java-jnlp-file"],["joda","application/vnd.joost.joda-archive"],["jp2","image/jp2"],["jpe","image/jpeg"],["jpeg","image/jpeg"],["jpf","image/jpx"],["jpg","image/jpeg"],["jpg2","image/jp2"],["jpgm","video/jpm"],["jpgv","video/jpeg"],["jph","image/jph"],["jpm","video/jpm"],["jpx","image/jpx"],["js","application/javascript"],["json","application/json"],["json5","application/json5"],["jsonld","application/ld+json"],["jsonl","application/jsonl"],["jsonml","application/jsonml+json"],["jsx","text/jsx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["kar","audio/midi"],["karbon","application/vnd.kde.karbon"],["kdb","application/octet-stream"],["kdbx","application/x-keepass2"],["key","application/x-iwork-keynote-sffkey"],["kfo","application/vnd.kde.kformula"],["kia","application/vnd.kidspiration"],["kml","application/vnd.google-earth.kml+xml"],["kmz","application/vnd.google-earth.kmz"],["kne","application/vnd.kinar"],["knp","application/vnd.kinar"],["kon","application/vnd.kde.kontour"],["kpr","application/vnd.kde.kpresenter"],["kpt","application/vnd.kde.kpresenter"],["kpxx","application/vnd.ds-keypoint"],["ksp","application/vnd.kde.kspread"],["ktr","application/vnd.kahootz"],["ktx","image/ktx"],["ktx2","image/ktx2"],["ktz","application/vnd.kahootz"],["kwd","application/vnd.kde.kword"],["kwt","application/vnd.kde.kword"],["lasxml","application/vnd.las.las+xml"],["latex","application/x-latex"],["lbd","application/vnd.llamagraphics.life-balance.desktop"],["lbe","application/vnd.llamagraphics.life-balance.exchange+xml"],["les","application/vnd.hhe.lesson-player"],["less","text/less"],["lgr","application/lgr+xml"],["lha","application/octet-stream"],["link66","application/vnd.route66.link66+xml"],["list","text/plain"],["list3820","application/vnd.ibm.modcap"],["listafp","application/vnd.ibm.modcap"],["litcoffee","text/coffeescript"],["lnk","application/x-ms-shortcut"],["log","text/plain"],["lostxml","application/lost+xml"],["lrf","application/octet-stream"],["lrm","application/vnd.ms-lrm"],["ltf","application/vnd.frogans.ltf"],["lua","text/x-lua"],["luac","application/x-lua-bytecode"],["lvp","audio/vnd.lucent.voice"],["lwp","application/vnd.lotus-wordpro"],["lzh","application/octet-stream"],["m1v","video/mpeg"],["m2a","audio/mpeg"],["m2v","video/mpeg"],["m3a","audio/mpeg"],["m3u","text/plain"],["m3u8","application/vnd.apple.mpegurl"],["m4a","audio/x-m4a"],["m4p","application/mp4"],["m4s","video/iso.segment"],["m4u","application/vnd.mpegurl"],["m4v","video/x-m4v"],["m13","application/x-msmediaview"],["m14","application/x-msmediaview"],["m21","application/mp21"],["ma","application/mathematica"],["mads","application/mads+xml"],["maei","application/mmt-aei+xml"],["mag","application/vnd.ecowin.chart"],["maker","application/vnd.framemaker"],["man","text/troff"],["manifest","text/cache-manifest"],["map","application/json"],["mar","application/octet-stream"],["markdown","text/markdown"],["mathml","application/mathml+xml"],["mb","application/mathematica"],["mbk","application/vnd.mobius.mbk"],["mbox","application/mbox"],["mc1","application/vnd.medcalcdata"],["mcd","application/vnd.mcd"],["mcurl","text/vnd.curl.mcurl"],["md","text/markdown"],["mdb","application/x-msaccess"],["mdi","image/vnd.ms-modi"],["mdx","text/mdx"],["me","text/troff"],["mesh","model/mesh"],["meta4","application/metalink4+xml"],["metalink","application/metalink+xml"],["mets","application/mets+xml"],["mfm","application/vnd.mfmp"],["mft","application/rpki-manifest"],["mgp","application/vnd.osgeo.mapguide.package"],["mgz","application/vnd.proteus.magazine"],["mid","audio/midi"],["midi","audio/midi"],["mie","application/x-mie"],["mif","application/vnd.mif"],["mime","message/rfc822"],["mj2","video/mj2"],["mjp2","video/mj2"],["mjs","application/javascript"],["mk3d","video/x-matroska"],["mka","audio/x-matroska"],["mkd","text/x-markdown"],["mks","video/x-matroska"],["mkv","video/x-matroska"],["mlp","application/vnd.dolby.mlp"],["mmd","application/vnd.chipnuts.karaoke-mmd"],["mmf","application/vnd.smaf"],["mml","text/mathml"],["mmr","image/vnd.fujixerox.edmics-mmr"],["mng","video/x-mng"],["mny","application/x-msmoney"],["mobi","application/x-mobipocket-ebook"],["mods","application/mods+xml"],["mov","video/quicktime"],["movie","video/x-sgi-movie"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mp4a","audio/mp4"],["mp4s","application/mp4"],["mp4v","video/mp4"],["mp21","application/mp21"],["mpc","application/vnd.mophun.certificate"],["mpd","application/dash+xml"],["mpe","video/mpeg"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpg4","video/mp4"],["mpga","audio/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["mpm","application/vnd.blueice.multipass"],["mpn","application/vnd.mophun.application"],["mpp","application/vnd.ms-project"],["mpt","application/vnd.ms-project"],["mpy","application/vnd.ibm.minipay"],["mqy","application/vnd.mobius.mqy"],["mrc","application/marc"],["mrcx","application/marcxml+xml"],["ms","text/troff"],["mscml","application/mediaservercontrol+xml"],["mseed","application/vnd.fdsn.mseed"],["mseq","application/vnd.mseq"],["msf","application/vnd.epson.msf"],["msg","application/vnd.ms-outlook"],["msh","model/mesh"],["msi","application/x-msdownload"],["msl","application/vnd.mobius.msl"],["msm","application/octet-stream"],["msp","application/octet-stream"],["msty","application/vnd.muvee.style"],["mtl","model/mtl"],["mts","model/vnd.mts"],["mus","application/vnd.musician"],["musd","application/mmt-usd+xml"],["musicxml","application/vnd.recordare.musicxml+xml"],["mvb","application/x-msmediaview"],["mvt","application/vnd.mapbox-vector-tile"],["mwf","application/vnd.mfer"],["mxf","application/mxf"],["mxl","application/vnd.recordare.musicxml"],["mxmf","audio/mobile-xmf"],["mxml","application/xv+xml"],["mxs","application/vnd.triscape.mxs"],["mxu","video/vnd.mpegurl"],["n-gage","application/vnd.nokia.n-gage.symbian.install"],["n3","text/n3"],["nb","application/mathematica"],["nbp","application/vnd.wolfram.player"],["nc","application/x-netcdf"],["ncx","application/x-dtbncx+xml"],["nfo","text/x-nfo"],["ngdat","application/vnd.nokia.n-gage.data"],["nitf","application/vnd.nitf"],["nlu","application/vnd.neurolanguage.nlu"],["nml","application/vnd.enliven"],["nnd","application/vnd.noblenet-directory"],["nns","application/vnd.noblenet-sealer"],["nnw","application/vnd.noblenet-web"],["npx","image/vnd.net-fpx"],["nq","application/n-quads"],["nsc","application/x-conference"],["nsf","application/vnd.lotus-notes"],["nt","application/n-triples"],["ntf","application/vnd.nitf"],["numbers","application/x-iwork-numbers-sffnumbers"],["nzb","application/x-nzb"],["oa2","application/vnd.fujitsu.oasys2"],["oa3","application/vnd.fujitsu.oasys3"],["oas","application/vnd.fujitsu.oasys"],["obd","application/x-msbinder"],["obgx","application/vnd.openblox.game+xml"],["obj","model/obj"],["oda","application/oda"],["odb","application/vnd.oasis.opendocument.database"],["odc","application/vnd.oasis.opendocument.chart"],["odf","application/vnd.oasis.opendocument.formula"],["odft","application/vnd.oasis.opendocument.formula-template"],["odg","application/vnd.oasis.opendocument.graphics"],["odi","application/vnd.oasis.opendocument.image"],["odm","application/vnd.oasis.opendocument.text-master"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogex","model/vnd.opengex"],["ogg","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["omdoc","application/omdoc+xml"],["onepkg","application/onenote"],["onetmp","application/onenote"],["onetoc","application/onenote"],["onetoc2","application/onenote"],["opf","application/oebps-package+xml"],["opml","text/x-opml"],["oprc","application/vnd.palm"],["opus","audio/ogg"],["org","text/x-org"],["osf","application/vnd.yamaha.openscoreformat"],["osfpvg","application/vnd.yamaha.openscoreformat.osfpvg+xml"],["osm","application/vnd.openstreetmap.data+xml"],["otc","application/vnd.oasis.opendocument.chart-template"],["otf","font/otf"],["otg","application/vnd.oasis.opendocument.graphics-template"],["oth","application/vnd.oasis.opendocument.text-web"],["oti","application/vnd.oasis.opendocument.image-template"],["otp","application/vnd.oasis.opendocument.presentation-template"],["ots","application/vnd.oasis.opendocument.spreadsheet-template"],["ott","application/vnd.oasis.opendocument.text-template"],["ova","application/x-virtualbox-ova"],["ovf","application/x-virtualbox-ovf"],["owl","application/rdf+xml"],["oxps","application/oxps"],["oxt","application/vnd.openofficeorg.extension"],["p","text/x-pascal"],["p7a","application/x-pkcs7-signature"],["p7b","application/x-pkcs7-certificates"],["p7c","application/pkcs7-mime"],["p7m","application/pkcs7-mime"],["p7r","application/x-pkcs7-certreqresp"],["p7s","application/pkcs7-signature"],["p8","application/pkcs8"],["p10","application/x-pkcs10"],["p12","application/x-pkcs12"],["pac","application/x-ns-proxy-autoconfig"],["pages","application/x-iwork-pages-sffpages"],["pas","text/x-pascal"],["paw","application/vnd.pawaafile"],["pbd","application/vnd.powerbuilder6"],["pbm","image/x-portable-bitmap"],["pcap","application/vnd.tcpdump.pcap"],["pcf","application/x-font-pcf"],["pcl","application/vnd.hp-pcl"],["pclxl","application/vnd.hp-pclxl"],["pct","image/x-pict"],["pcurl","application/vnd.curl.pcurl"],["pcx","image/x-pcx"],["pdb","application/x-pilot"],["pde","text/x-processing"],["pdf","application/pdf"],["pem","application/x-x509-user-cert"],["pfa","application/x-font-type1"],["pfb","application/x-font-type1"],["pfm","application/x-font-type1"],["pfr","application/font-tdpfr"],["pfx","application/x-pkcs12"],["pgm","image/x-portable-graymap"],["pgn","application/x-chess-pgn"],["pgp","application/pgp"],["php","application/x-httpd-php"],["php3","application/x-httpd-php"],["php4","application/x-httpd-php"],["phps","application/x-httpd-php-source"],["phtml","application/x-httpd-php"],["pic","image/x-pict"],["pkg","application/octet-stream"],["pki","application/pkixcmp"],["pkipath","application/pkix-pkipath"],["pkpass","application/vnd.apple.pkpass"],["pl","application/x-perl"],["plb","application/vnd.3gpp.pic-bw-large"],["plc","application/vnd.mobius.plc"],["plf","application/vnd.pocketlearn"],["pls","application/pls+xml"],["pm","application/x-perl"],["pml","application/vnd.ctc-posml"],["png","image/png"],["pnm","image/x-portable-anymap"],["portpkg","application/vnd.macports.portpkg"],["pot","application/vnd.ms-powerpoint"],["potm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["potx","application/vnd.openxmlformats-officedocument.presentationml.template"],["ppa","application/vnd.ms-powerpoint"],["ppam","application/vnd.ms-powerpoint.addin.macroEnabled.12"],["ppd","application/vnd.cups-ppd"],["ppm","image/x-portable-pixmap"],["pps","application/vnd.ms-powerpoint"],["ppsm","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],["ppsx","application/vnd.openxmlformats-officedocument.presentationml.slideshow"],["ppt","application/powerpoint"],["pptm","application/vnd.ms-powerpoint.presentation.macroEnabled.12"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["pqa","application/vnd.palm"],["prc","application/x-pilot"],["pre","application/vnd.lotus-freelance"],["prf","application/pics-rules"],["provx","application/provenance+xml"],["ps","application/postscript"],["psb","application/vnd.3gpp.pic-bw-small"],["psd","application/x-photoshop"],["psf","application/x-font-linux-psf"],["pskcxml","application/pskc+xml"],["pti","image/prs.pti"],["ptid","application/vnd.pvi.ptid1"],["pub","application/x-mspublisher"],["pvb","application/vnd.3gpp.pic-bw-var"],["pwn","application/vnd.3m.post-it-notes"],["pya","audio/vnd.ms-playready.media.pya"],["pyv","video/vnd.ms-playready.media.pyv"],["qam","application/vnd.epson.quickanime"],["qbo","application/vnd.intu.qbo"],["qfx","application/vnd.intu.qfx"],["qps","application/vnd.publishare-delta-tree"],["qt","video/quicktime"],["qwd","application/vnd.quark.quarkxpress"],["qwt","application/vnd.quark.quarkxpress"],["qxb","application/vnd.quark.quarkxpress"],["qxd","application/vnd.quark.quarkxpress"],["qxl","application/vnd.quark.quarkxpress"],["qxt","application/vnd.quark.quarkxpress"],["ra","audio/x-realaudio"],["ram","audio/x-pn-realaudio"],["raml","application/raml+yaml"],["rapd","application/route-apd+xml"],["rar","application/x-rar"],["ras","image/x-cmu-raster"],["rcprofile","application/vnd.ipunplugged.rcprofile"],["rdf","application/rdf+xml"],["rdz","application/vnd.data-vision.rdz"],["relo","application/p2p-overlay+xml"],["rep","application/vnd.businessobjects"],["res","application/x-dtbresource+xml"],["rgb","image/x-rgb"],["rif","application/reginfo+xml"],["rip","audio/vnd.rip"],["ris","application/x-research-info-systems"],["rl","application/resource-lists+xml"],["rlc","image/vnd.fujixerox.edmics-rlc"],["rld","application/resource-lists-diff+xml"],["rm","audio/x-pn-realaudio"],["rmi","audio/midi"],["rmp","audio/x-pn-realaudio-plugin"],["rms","application/vnd.jcp.javame.midlet-rms"],["rmvb","application/vnd.rn-realmedia-vbr"],["rnc","application/relax-ng-compact-syntax"],["rng","application/xml"],["roa","application/rpki-roa"],["roff","text/troff"],["rp9","application/vnd.cloanto.rp9"],["rpm","audio/x-pn-realaudio-plugin"],["rpss","application/vnd.nokia.radio-presets"],["rpst","application/vnd.nokia.radio-preset"],["rq","application/sparql-query"],["rs","application/rls-services+xml"],["rsa","application/x-pkcs7"],["rsat","application/atsc-rsat+xml"],["rsd","application/rsd+xml"],["rsheet","application/urc-ressheet+xml"],["rss","application/rss+xml"],["rtf","text/rtf"],["rtx","text/richtext"],["run","application/x-makeself"],["rusd","application/route-usd+xml"],["rv","video/vnd.rn-realvideo"],["s","text/x-asm"],["s3m","audio/s3m"],["saf","application/vnd.yamaha.smaf-audio"],["sass","text/x-sass"],["sbml","application/sbml+xml"],["sc","application/vnd.ibm.secure-container"],["scd","application/x-msschedule"],["scm","application/vnd.lotus-screencam"],["scq","application/scvp-cv-request"],["scs","application/scvp-cv-response"],["scss","text/x-scss"],["scurl","text/vnd.curl.scurl"],["sda","application/vnd.stardivision.draw"],["sdc","application/vnd.stardivision.calc"],["sdd","application/vnd.stardivision.impress"],["sdkd","application/vnd.solent.sdkm+xml"],["sdkm","application/vnd.solent.sdkm+xml"],["sdp","application/sdp"],["sdw","application/vnd.stardivision.writer"],["sea","application/octet-stream"],["see","application/vnd.seemail"],["seed","application/vnd.fdsn.seed"],["sema","application/vnd.sema"],["semd","application/vnd.semd"],["semf","application/vnd.semf"],["senmlx","application/senml+xml"],["sensmlx","application/sensml+xml"],["ser","application/java-serialized-object"],["setpay","application/set-payment-initiation"],["setreg","application/set-registration-initiation"],["sfd-hdstx","application/vnd.hydrostatix.sof-data"],["sfs","application/vnd.spotfire.sfs"],["sfv","text/x-sfv"],["sgi","image/sgi"],["sgl","application/vnd.stardivision.writer-global"],["sgm","text/sgml"],["sgml","text/sgml"],["sh","application/x-sh"],["shar","application/x-shar"],["shex","text/shex"],["shf","application/shf+xml"],["shtml","text/html"],["sid","image/x-mrsid-image"],["sieve","application/sieve"],["sig","application/pgp-signature"],["sil","audio/silk"],["silo","model/mesh"],["sis","application/vnd.symbian.install"],["sisx","application/vnd.symbian.install"],["sit","application/x-stuffit"],["sitx","application/x-stuffitx"],["siv","application/sieve"],["skd","application/vnd.koan"],["skm","application/vnd.koan"],["skp","application/vnd.koan"],["skt","application/vnd.koan"],["sldm","application/vnd.ms-powerpoint.slide.macroenabled.12"],["sldx","application/vnd.openxmlformats-officedocument.presentationml.slide"],["slim","text/slim"],["slm","text/slim"],["sls","application/route-s-tsid+xml"],["slt","application/vnd.epson.salt"],["sm","application/vnd.stepmania.stepchart"],["smf","application/vnd.stardivision.math"],["smi","application/smil"],["smil","application/smil"],["smv","video/x-smv"],["smzip","application/vnd.stepmania.package"],["snd","audio/basic"],["snf","application/x-font-snf"],["so","application/octet-stream"],["spc","application/x-pkcs7-certificates"],["spdx","text/spdx"],["spf","application/vnd.yamaha.smaf-phrase"],["spl","application/x-futuresplash"],["spot","text/vnd.in3d.spot"],["spp","application/scvp-vp-response"],["spq","application/scvp-vp-request"],["spx","audio/ogg"],["sql","application/x-sql"],["src","application/x-wais-source"],["srt","application/x-subrip"],["sru","application/sru+xml"],["srx","application/sparql-results+xml"],["ssdl","application/ssdl+xml"],["sse","application/vnd.kodak-descriptor"],["ssf","application/vnd.epson.ssf"],["ssml","application/ssml+xml"],["sst","application/octet-stream"],["st","application/vnd.sailingtracker.track"],["stc","application/vnd.sun.xml.calc.template"],["std","application/vnd.sun.xml.draw.template"],["stf","application/vnd.wt.stf"],["sti","application/vnd.sun.xml.impress.template"],["stk","application/hyperstudio"],["stl","model/stl"],["stpx","model/step+xml"],["stpxz","model/step-xml+zip"],["stpz","model/step+zip"],["str","application/vnd.pg.format"],["stw","application/vnd.sun.xml.writer.template"],["styl","text/stylus"],["stylus","text/stylus"],["sub","text/vnd.dvb.subtitle"],["sus","application/vnd.sus-calendar"],["susp","application/vnd.sus-calendar"],["sv4cpio","application/x-sv4cpio"],["sv4crc","application/x-sv4crc"],["svc","application/vnd.dvb.service"],["svd","application/vnd.svd"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["swa","application/x-director"],["swf","application/x-shockwave-flash"],["swi","application/vnd.aristanetworks.swi"],["swidtag","application/swid+xml"],["sxc","application/vnd.sun.xml.calc"],["sxd","application/vnd.sun.xml.draw"],["sxg","application/vnd.sun.xml.writer.global"],["sxi","application/vnd.sun.xml.impress"],["sxm","application/vnd.sun.xml.math"],["sxw","application/vnd.sun.xml.writer"],["t","text/troff"],["t3","application/x-t3vm-image"],["t38","image/t38"],["taglet","application/vnd.mynfc"],["tao","application/vnd.tao.intent-module-archive"],["tap","image/vnd.tencent.tap"],["tar","application/x-tar"],["tcap","application/vnd.3gpp2.tcap"],["tcl","application/x-tcl"],["td","application/urc-targetdesc+xml"],["teacher","application/vnd.smart.teacher"],["tei","application/tei+xml"],["teicorpus","application/tei+xml"],["tex","application/x-tex"],["texi","application/x-texinfo"],["texinfo","application/x-texinfo"],["text","text/plain"],["tfi","application/thraud+xml"],["tfm","application/x-tex-tfm"],["tfx","image/tiff-fx"],["tga","image/x-tga"],["tgz","application/x-tar"],["thmx","application/vnd.ms-officetheme"],["tif","image/tiff"],["tiff","image/tiff"],["tk","application/x-tcl"],["tmo","application/vnd.tmobile-livetv"],["toml","application/toml"],["torrent","application/x-bittorrent"],["tpl","application/vnd.groove-tool-template"],["tpt","application/vnd.trid.tpt"],["tr","text/troff"],["tra","application/vnd.trueapp"],["trig","application/trig"],["trm","application/x-msterminal"],["ts","video/mp2t"],["tsd","application/timestamped-data"],["tsv","text/tab-separated-values"],["ttc","font/collection"],["ttf","font/ttf"],["ttl","text/turtle"],["ttml","application/ttml+xml"],["twd","application/vnd.simtech-mindmapper"],["twds","application/vnd.simtech-mindmapper"],["txd","application/vnd.genomatix.tuxedo"],["txf","application/vnd.mobius.txf"],["txt","text/plain"],["u8dsn","message/global-delivery-status"],["u8hdr","message/global-headers"],["u8mdn","message/global-disposition-notification"],["u8msg","message/global"],["u32","application/x-authorware-bin"],["ubj","application/ubjson"],["udeb","application/x-debian-package"],["ufd","application/vnd.ufdl"],["ufdl","application/vnd.ufdl"],["ulx","application/x-glulx"],["umj","application/vnd.umajin"],["unityweb","application/vnd.unity"],["uoml","application/vnd.uoml+xml"],["uri","text/uri-list"],["uris","text/uri-list"],["urls","text/uri-list"],["usdz","model/vnd.usdz+zip"],["ustar","application/x-ustar"],["utz","application/vnd.uiq.theme"],["uu","text/x-uuencode"],["uva","audio/vnd.dece.audio"],["uvd","application/vnd.dece.data"],["uvf","application/vnd.dece.data"],["uvg","image/vnd.dece.graphic"],["uvh","video/vnd.dece.hd"],["uvi","image/vnd.dece.graphic"],["uvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvt","application/vnd.dece.ttml+xml"],["uvu","video/vnd.uvvu.mp4"],["uvv","video/vnd.dece.video"],["uvva","audio/vnd.dece.audio"],["uvvd","application/vnd.dece.data"],["uvvf","application/vnd.dece.data"],["uvvg","image/vnd.dece.graphic"],["uvvh","video/vnd.dece.hd"],["uvvi","image/vnd.dece.graphic"],["uvvm","video/vnd.dece.mobile"],["uvvp","video/vnd.dece.pd"],["uvvs","video/vnd.dece.sd"],["uvvt","application/vnd.dece.ttml+xml"],["uvvu","video/vnd.uvvu.mp4"],["uvvv","video/vnd.dece.video"],["uvvx","application/vnd.dece.unspecified"],["uvvz","application/vnd.dece.zip"],["uvx","application/vnd.dece.unspecified"],["uvz","application/vnd.dece.zip"],["vbox","application/x-virtualbox-vbox"],["vbox-extpack","application/x-virtualbox-vbox-extpack"],["vcard","text/vcard"],["vcd","application/x-cdlink"],["vcf","text/x-vcard"],["vcg","application/vnd.groove-vcard"],["vcs","text/x-vcalendar"],["vcx","application/vnd.vcx"],["vdi","application/x-virtualbox-vdi"],["vds","model/vnd.sap.vds"],["vhd","application/x-virtualbox-vhd"],["vis","application/vnd.visionary"],["viv","video/vnd.vivo"],["vlc","application/videolan"],["vmdk","application/x-virtualbox-vmdk"],["vob","video/x-ms-vob"],["vor","application/vnd.stardivision.writer"],["vox","application/x-authorware-bin"],["vrml","model/vrml"],["vsd","application/vnd.visio"],["vsf","application/vnd.vsf"],["vss","application/vnd.visio"],["vst","application/vnd.visio"],["vsw","application/vnd.visio"],["vtf","image/vnd.valve.source.texture"],["vtt","text/vtt"],["vtu","model/vnd.vtu"],["vxml","application/voicexml+xml"],["w3d","application/x-director"],["wad","application/x-doom"],["wadl","application/vnd.sun.wadl+xml"],["war","application/java-archive"],["wasm","application/wasm"],["wav","audio/x-wav"],["wax","audio/x-ms-wax"],["wbmp","image/vnd.wap.wbmp"],["wbs","application/vnd.criticaltools.wbs+xml"],["wbxml","application/wbxml"],["wcm","application/vnd.ms-works"],["wdb","application/vnd.ms-works"],["wdp","image/vnd.ms-photo"],["weba","audio/webm"],["webapp","application/x-web-app-manifest+json"],["webm","video/webm"],["webmanifest","application/manifest+json"],["webp","image/webp"],["wg","application/vnd.pmi.widget"],["wgt","application/widget"],["wks","application/vnd.ms-works"],["wm","video/x-ms-wm"],["wma","audio/x-ms-wma"],["wmd","application/x-ms-wmd"],["wmf","image/wmf"],["wml","text/vnd.wap.wml"],["wmlc","application/wmlc"],["wmls","text/vnd.wap.wmlscript"],["wmlsc","application/vnd.wap.wmlscriptc"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wmz","application/x-msmetafile"],["woff","font/woff"],["woff2","font/woff2"],["word","application/msword"],["wpd","application/vnd.wordperfect"],["wpl","application/vnd.ms-wpl"],["wps","application/vnd.ms-works"],["wqd","application/vnd.wqd"],["wri","application/x-mswrite"],["wrl","model/vrml"],["wsc","message/vnd.wfa.wsc"],["wsdl","application/wsdl+xml"],["wspolicy","application/wspolicy+xml"],["wtb","application/vnd.webturbo"],["wvx","video/x-ms-wvx"],["x3d","model/x3d+xml"],["x3db","model/x3d+fastinfoset"],["x3dbz","model/x3d+binary"],["x3dv","model/x3d-vrml"],["x3dvz","model/x3d+vrml"],["x3dz","model/x3d+xml"],["x32","application/x-authorware-bin"],["x_b","model/vnd.parasolid.transmit.binary"],["x_t","model/vnd.parasolid.transmit.text"],["xaml","application/xaml+xml"],["xap","application/x-silverlight-app"],["xar","application/vnd.xara"],["xav","application/xcap-att+xml"],["xbap","application/x-ms-xbap"],["xbd","application/vnd.fujixerox.docuworks.binder"],["xbm","image/x-xbitmap"],["xca","application/xcap-caps+xml"],["xcs","application/calendar+xml"],["xdf","application/xcap-diff+xml"],["xdm","application/vnd.syncml.dm+xml"],["xdp","application/vnd.adobe.xdp+xml"],["xdssc","application/dssc+xml"],["xdw","application/vnd.fujixerox.docuworks"],["xel","application/xcap-el+xml"],["xenc","application/xenc+xml"],["xer","application/patch-ops-error+xml"],["xfdf","application/vnd.adobe.xfdf"],["xfdl","application/vnd.xfdl"],["xht","application/xhtml+xml"],["xhtml","application/xhtml+xml"],["xhvml","application/xv+xml"],["xif","image/vnd.xiff"],["xl","application/excel"],["xla","application/vnd.ms-excel"],["xlam","application/vnd.ms-excel.addin.macroEnabled.12"],["xlc","application/vnd.ms-excel"],["xlf","application/xliff+xml"],["xlm","application/vnd.ms-excel"],["xls","application/vnd.ms-excel"],["xlsb","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],["xlsm","application/vnd.ms-excel.sheet.macroEnabled.12"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xlt","application/vnd.ms-excel"],["xltm","application/vnd.ms-excel.template.macroEnabled.12"],["xltx","application/vnd.openxmlformats-officedocument.spreadsheetml.template"],["xlw","application/vnd.ms-excel"],["xm","audio/xm"],["xml","application/xml"],["xns","application/xcap-ns+xml"],["xo","application/vnd.olpc-sugar"],["xop","application/xop+xml"],["xpi","application/x-xpinstall"],["xpl","application/xproc+xml"],["xpm","image/x-xpixmap"],["xpr","application/vnd.is-xpr"],["xps","application/vnd.ms-xpsdocument"],["xpw","application/vnd.intercon.formnet"],["xpx","application/vnd.intercon.formnet"],["xsd","application/xml"],["xsl","application/xml"],["xslt","application/xslt+xml"],["xsm","application/vnd.syncml+xml"],["xspf","application/xspf+xml"],["xul","application/vnd.mozilla.xul+xml"],["xvm","application/xv+xml"],["xvml","application/xv+xml"],["xwd","image/x-xwindowdump"],["xyz","chemical/x-xyz"],["xz","application/x-xz"],["yaml","text/yaml"],["yang","application/yang"],["yin","application/yin+xml"],["yml","text/yaml"],["ymp","text/x-suse-ymp"],["z","application/x-compress"],["z1","application/x-zmachine"],["z2","application/x-zmachine"],["z3","application/x-zmachine"],["z4","application/x-zmachine"],["z5","application/x-zmachine"],["z6","application/x-zmachine"],["z7","application/x-zmachine"],["z8","application/x-zmachine"],["zaz","application/vnd.zzazz.deck+xml"],["zip","application/zip"],["zir","application/vnd.zul"],["zirz","application/vnd.zul"],["zmm","application/vnd.handheld-entertainment+xml"],["zsh","text/x-scriptzsh"]]);function fa(n,e,t){const i=tb(n),{webkitRelativePath:s}=n,a=typeof e=="string"?e:typeof s=="string"&&s.length>0?s:`./${n.name}`;return typeof i.path!="string"&&o_(i,"path",a),o_(i,"relativePath",a),i}function tb(n){const{name:e}=n;if(e&&e.lastIndexOf(".")!==-1&&!n.type){const i=e.split(".").pop().toLowerCase(),s=eb.get(i);s&&Object.defineProperty(n,"type",{value:s,writable:!1,configurable:!1,enumerable:!0})}return n}function o_(n,e,t){Object.defineProperty(n,e,{value:t,writable:!1,configurable:!1,enumerable:!0})}const nb=[".DS_Store","Thumbs.db"];function rb(n){return ds(this,void 0,void 0,function*(){return Hc(n)&&ib(n.dataTransfer)?lb(n.dataTransfer,n.type):ob(n)?sb(n):Array.isArray(n)&&n.every(e=>"getFile"in e&&typeof e.getFile=="function")?ab(n):[]})}function ib(n){return Hc(n)}function ob(n){return Hc(n)&&Hc(n.target)}function Hc(n){return typeof n=="object"&&n!==null}function sb(n){return Mf(n.target.files).map(e=>fa(e))}function ab(n){return ds(this,void 0,void 0,function*(){return(yield Promise.all(n.map(t=>t.getFile()))).map(t=>fa(t))})}function lb(n,e){return ds(this,void 0,void 0,function*(){if(n.items){const t=Mf(n.items).filter(s=>s.kind==="file");if(e!=="drop")return t;const i=yield Promise.all(t.map(ub));return s_(h0(i))}return s_(Mf(n.files).map(t=>fa(t)))})}function s_(n){return n.filter(e=>nb.indexOf(e.name)===-1)}function Mf(n){if(n===null)return[];const e=[];for(let t=0;t<n.length;t++){const i=n[t];e.push(i)}return e}function ub(n){if(typeof n.webkitGetAsEntry!="function")return a_(n);const e=n.webkitGetAsEntry();return e&&e.isDirectory?f0(e):a_(n,e)}function h0(n){return n.reduce((e,t)=>[...e,...Array.isArray(t)?h0(t):[t]],[])}function a_(n,e){return ds(this,void 0,void 0,function*(){var t;if(globalThis.isSecureContext&&typeof n.getAsFileSystemHandle=="function"){const a=yield n.getAsFileSystemHandle();if(a===null)throw new Error(`${n} is not a File`);if(a!==void 0){const c=yield a.getFile();return c.handle=a,fa(c)}}const i=n.getAsFile();if(!i)throw new Error(`${n} is not a File`);return fa(i,(t=e==null?void 0:e.fullPath)!==null&&t!==void 0?t:void 0)})}function cb(n){return ds(this,void 0,void 0,function*(){return n.isDirectory?f0(n):db(n)})}function f0(n){const e=n.createReader();return new Promise((t,i)=>{const s=[];function a(){e.readEntries(c=>ds(this,void 0,void 0,function*(){if(c.length){const h=Promise.all(c.map(cb));s.push(h),a()}else try{const h=yield Promise.all(s);t(h)}catch(h){i(h)}}),c=>{i(c)})}a()})}function db(n){return ds(this,void 0,void 0,function*(){return new Promise((e,t)=>{n.file(i=>{const s=fa(i,n.fullPath);e(s)},i=>{t(i)})})})}var oc={},l_;function hb(){return l_||(l_=1,oc.__esModule=!0,oc.default=function(n,e){if(n&&e){var t=Array.isArray(e)?e:e.split(",");if(t.length===0)return!0;var i=n.name||"",s=(n.type||"").toLowerCase(),a=s.replace(/\/.*$/,"");return t.some(function(c){var h=c.trim().toLowerCase();return h.charAt(0)==="."?i.toLowerCase().endsWith(h):h.endsWith("/*")?a===h.replace(/\/.*$/,""):s===h})}return!0}),oc}var fb=hb();const lf=Bf(fb);function u_(n){return gb(n)||mb(n)||m0(n)||pb()}function pb(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mb(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function gb(n){if(Array.isArray(n))return Ff(n)}function c_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function d_(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?c_(Object(t),!0).forEach(function(i){p0(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):c_(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function p0(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Rl(n,e){return _b(n)||yb(n,e)||m0(n,e)||vb()}function vb(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m0(n,e){if(n){if(typeof n=="string")return Ff(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ff(n,e)}}function Ff(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function yb(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],s=!0,a=!1,c,h;try{for(t=t.call(n);!(s=(c=t.next()).done)&&(i.push(c.value),!(e&&i.length===e));s=!0);}catch(p){a=!0,h=p}finally{try{!s&&t.return!=null&&t.return()}finally{if(a)throw h}}return i}}function _b(n){if(Array.isArray(n))return n}var wb=typeof lf=="function"?lf:lf.default,Eb="file-invalid-type",Tb="file-too-large",xb="file-too-small",Ib="too-many-files",Sb=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=e.split(","),i=t.length>1?"one of ".concat(t.join(", ")):t[0];return{code:Eb,message:"File type must be ".concat(i)}},h_=function(e){return{code:Tb,message:"File is larger than ".concat(e," ").concat(e===1?"byte":"bytes")}},f_=function(e){return{code:xb,message:"File is smaller than ".concat(e," ").concat(e===1?"byte":"bytes")}},Rb={code:Ib,message:"Too many files"};function g0(n,e){var t=n.type==="application/x-moz-file"||wb(n,e);return[t,t?null:Sb(e)]}function v0(n,e,t){if(Zo(n.size))if(Zo(e)&&Zo(t)){if(n.size>t)return[!1,h_(t)];if(n.size<e)return[!1,f_(e)]}else{if(Zo(e)&&n.size<e)return[!1,f_(e)];if(Zo(t)&&n.size>t)return[!1,h_(t)]}return[!0,null]}function Zo(n){return n!=null}function kb(n){var e=n.files,t=n.accept,i=n.minSize,s=n.maxSize,a=n.multiple,c=n.maxFiles,h=n.validator;return!a&&e.length>1||a&&c>=1&&e.length>c?!1:e.every(function(p){var v=g0(p,t),_=Rl(v,1),T=_[0],I=v0(p,i,s),A=Rl(I,1),b=A[0],j=h?h(p):null;return T&&b&&!j})}function Wc(n){return typeof n.isPropagationStopped=="function"?n.isPropagationStopped():typeof n.cancelBubble<"u"?n.cancelBubble:!1}function sc(n){return n.dataTransfer?Array.prototype.some.call(n.dataTransfer.types,function(e){return e==="Files"||e==="application/x-moz-file"}):!!n.target&&!!n.target.files}function p_(n){n.preventDefault()}function Ab(n){return n.indexOf("MSIE")!==-1||n.indexOf("Trident/")!==-1}function Cb(n){return n.indexOf("Edge/")!==-1}function Pb(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return Ab(n)||Cb(n)}function ti(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return function(i){for(var s=arguments.length,a=new Array(s>1?s-1:0),c=1;c<s;c++)a[c-1]=arguments[c];return e.some(function(h){return!Wc(i)&&h&&h.apply(void 0,[i].concat(a)),Wc(i)})}}function bb(){return"showOpenFilePicker"in window}function Db(n){if(Zo(n)){var e=Object.entries(n).filter(function(t){var i=Rl(t,2),s=i[0],a=i[1],c=!0;return y0(s)||(console.warn('Skipped "'.concat(s,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),c=!1),(!Array.isArray(a)||!a.every(_0))&&(console.warn('Skipped "'.concat(s,'" because an invalid file extension was provided.')),c=!1),c}).reduce(function(t,i){var s=Rl(i,2),a=s[0],c=s[1];return d_(d_({},t),{},p0({},a,c))},{});return[{description:"Files",accept:e}]}return n}function Nb(n){if(Zo(n))return Object.entries(n).reduce(function(e,t){var i=Rl(t,2),s=i[0],a=i[1];return[].concat(u_(e),[s],u_(a))},[]).filter(function(e){return y0(e)||_0(e)}).join(",")}function Ob(n){return n instanceof DOMException&&(n.name==="AbortError"||n.code===n.ABORT_ERR)}function Lb(n){return n instanceof DOMException&&(n.name==="SecurityError"||n.code===n.SECURITY_ERR)}function y0(n){return n==="audio/*"||n==="video/*"||n==="image/*"||n==="text/*"||n==="application/*"||/\w+\/[-+.\w]+/g.test(n)}function _0(n){return/^.*\.[\w]+$/.test(n)}var Vb=["children"],Mb=["open"],Fb=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],jb=["refKey","onChange","onClick"];function Ub(n){return $b(n)||Bb(n)||w0(n)||zb()}function zb(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bb(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function $b(n){if(Array.isArray(n))return jf(n)}function uf(n,e){return qb(n)||Wb(n,e)||w0(n,e)||Hb()}function Hb(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w0(n,e){if(n){if(typeof n=="string")return jf(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return jf(n,e)}}function jf(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function Wb(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var i=[],s=!0,a=!1,c,h;try{for(t=t.call(n);!(s=(c=t.next()).done)&&(i.push(c.value),!(e&&i.length===e));s=!0);}catch(p){a=!0,h=p}finally{try{!s&&t.return!=null&&t.return()}finally{if(a)throw h}}return i}}function qb(n){if(Array.isArray(n))return n}function m_(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(s){return Object.getOwnPropertyDescriptor(n,s).enumerable})),t.push.apply(t,i)}return t}function Pt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?m_(Object(t),!0).forEach(function(i){Uf(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):m_(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function Uf(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function qc(n,e){if(n==null)return{};var t=Kb(n,e),i,s;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);for(s=0;s<a.length;s++)i=a[s],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}function Kb(n,e){if(n==null)return{};var t={},i=Object.keys(n),s,a;for(a=0;a<i.length;a++)s=i[a],!(e.indexOf(s)>=0)&&(t[s]=n[s]);return t}var Kp=z.forwardRef(function(n,e){var t=n.children,i=qc(n,Vb),s=T0(i),a=s.open,c=qc(s,Mb);return z.useImperativeHandle(e,function(){return{open:a}},[a]),CT.createElement(z.Fragment,null,t(Pt(Pt({},c),{},{open:a})))});Kp.displayName="Dropzone";var E0={disabled:!1,getFilesFromEvent:rb,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!1,autoFocus:!1};Kp.defaultProps=E0;Kp.propTypes={children:yt.func,accept:yt.objectOf(yt.arrayOf(yt.string)),multiple:yt.bool,preventDropOnDocument:yt.bool,noClick:yt.bool,noKeyboard:yt.bool,noDrag:yt.bool,noDragEventsBubbling:yt.bool,minSize:yt.number,maxSize:yt.number,maxFiles:yt.number,disabled:yt.bool,getFilesFromEvent:yt.func,onFileDialogCancel:yt.func,onFileDialogOpen:yt.func,useFsAccessApi:yt.bool,autoFocus:yt.bool,onDragEnter:yt.func,onDragLeave:yt.func,onDragOver:yt.func,onDrop:yt.func,onDropAccepted:yt.func,onDropRejected:yt.func,onError:yt.func,validator:yt.func};var zf={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function T0(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=Pt(Pt({},E0),n),t=e.accept,i=e.disabled,s=e.getFilesFromEvent,a=e.maxSize,c=e.minSize,h=e.multiple,p=e.maxFiles,v=e.onDragEnter,_=e.onDragLeave,T=e.onDragOver,I=e.onDrop,A=e.onDropAccepted,b=e.onDropRejected,j=e.onFileDialogCancel,V=e.onFileDialogOpen,q=e.useFsAccessApi,te=e.autoFocus,Z=e.preventDropOnDocument,he=e.noClick,U=e.noKeyboard,ce=e.noDrag,C=e.noDragEventsBubbling,x=e.onError,S=e.validator,P=z.useMemo(function(){return Nb(t)},[t]),O=z.useMemo(function(){return Db(t)},[t]),M=z.useMemo(function(){return typeof V=="function"?V:g_},[V]),k=z.useMemo(function(){return typeof j=="function"?j:g_},[j]),xe=z.useRef(null),Ie=z.useRef(null),Ke=z.useReducer(Gb,zf),Qe=uf(Ke,2),se=Qe[0],fe=Qe[1],pe=se.isFocused,F=se.isFileDialogActive,Y=z.useRef(typeof window<"u"&&window.isSecureContext&&q&&bb()),_e=function(){!Y.current&&F&&setTimeout(function(){if(Ie.current){var Re=Ie.current.files;Re.length||(fe({type:"closeDialog"}),k())}},300)};z.useEffect(function(){return window.addEventListener("focus",_e,!1),function(){window.removeEventListener("focus",_e,!1)}},[Ie,F,k,Y]);var Oe=z.useRef([]),Ve=function(Re){xe.current&&xe.current.contains(Re.target)||(Re.preventDefault(),Oe.current=[])};z.useEffect(function(){return Z&&(document.addEventListener("dragover",p_,!1),document.addEventListener("drop",Ve,!1)),function(){Z&&(document.removeEventListener("dragover",p_),document.removeEventListener("drop",Ve))}},[xe,Z]),z.useEffect(function(){return!i&&te&&xe.current&&xe.current.focus(),function(){}},[xe,te,i]);var $e=z.useCallback(function(de){x?x(de):console.error(de)},[x]),Ye=z.useCallback(function(de){de.preventDefault(),de.persist(),cn(de),Oe.current=[].concat(Ub(Oe.current),[de.target]),sc(de)&&Promise.resolve(s(de)).then(function(Re){if(!(Wc(de)&&!C)){var Le=Re.length,qe=Le>0&&kb({files:Re,accept:P,minSize:c,maxSize:a,multiple:h,maxFiles:p,validator:S}),gt=Le>0&&!qe;fe({isDragAccept:qe,isDragReject:gt,isDragActive:!0,type:"setDraggedFiles"}),v&&v(de)}}).catch(function(Re){return $e(Re)})},[s,v,$e,C,P,c,a,h,p,S]),Xe=z.useCallback(function(de){de.preventDefault(),de.persist(),cn(de);var Re=sc(de);if(Re&&de.dataTransfer)try{de.dataTransfer.dropEffect="copy"}catch{}return Re&&T&&T(de),!1},[T,C]),ze=z.useCallback(function(de){de.preventDefault(),de.persist(),cn(de);var Re=Oe.current.filter(function(qe){return xe.current&&xe.current.contains(qe)}),Le=Re.indexOf(de.target);Le!==-1&&Re.splice(Le,1),Oe.current=Re,!(Re.length>0)&&(fe({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),sc(de)&&_&&_(de))},[xe,_,C]),ft=z.useCallback(function(de,Re){var Le=[],qe=[];de.forEach(function(gt){var Wn=g0(gt,P),It=uf(Wn,2),Cn=It[0],Pn=It[1],ir=v0(gt,c,a),or=uf(ir,2),sr=or[0],bn=or[1],ar=S?S(gt):null;if(Cn&&sr&&!ar)Le.push(gt);else{var Tn=[Pn,bn];ar&&(Tn=Tn.concat(ar)),qe.push({file:gt,errors:Tn.filter(function(Hr){return Hr})})}}),(!h&&Le.length>1||h&&p>=1&&Le.length>p)&&(Le.forEach(function(gt){qe.push({file:gt,errors:[Rb]})}),Le.splice(0)),fe({acceptedFiles:Le,fileRejections:qe,isDragReject:qe.length>0,type:"setFiles"}),I&&I(Le,qe,Re),qe.length>0&&b&&b(qe,Re),Le.length>0&&A&&A(Le,Re)},[fe,h,P,c,a,p,I,A,b,S]),Zt=z.useCallback(function(de){de.preventDefault(),de.persist(),cn(de),Oe.current=[],sc(de)&&Promise.resolve(s(de)).then(function(Re){Wc(de)&&!C||ft(Re,de)}).catch(function(Re){return $e(Re)}),fe({type:"reset"})},[s,ft,$e,C]),En=z.useCallback(function(){if(Y.current){fe({type:"openDialog"}),M();var de={multiple:h,types:O};window.showOpenFilePicker(de).then(function(Re){return s(Re)}).then(function(Re){ft(Re,null),fe({type:"closeDialog"})}).catch(function(Re){Ob(Re)?(k(Re),fe({type:"closeDialog"})):Lb(Re)?(Y.current=!1,Ie.current?(Ie.current.value=null,Ie.current.click()):$e(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):$e(Re)});return}Ie.current&&(fe({type:"openDialog"}),M(),Ie.current.value=null,Ie.current.click())},[fe,M,k,q,ft,$e,O,h]),jt=z.useCallback(function(de){!xe.current||!xe.current.isEqualNode(de.target)||(de.key===" "||de.key==="Enter"||de.keyCode===32||de.keyCode===13)&&(de.preventDefault(),En())},[xe,En]),rr=z.useCallback(function(){fe({type:"focus"})},[]),_r=z.useCallback(function(){fe({type:"blur"})},[]),wr=z.useCallback(function(){he||(Pb()?setTimeout(En,0):En())},[he,En]),An=function(Re){return i?null:Re},$r=function(Re){return U?null:An(Re)},$n=function(Re){return ce?null:An(Re)},cn=function(Re){C&&Re.stopPropagation()},Ut=z.useMemo(function(){return function(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Re=de.refKey,Le=Re===void 0?"ref":Re,qe=de.role,gt=de.onKeyDown,Wn=de.onFocus,It=de.onBlur,Cn=de.onClick,Pn=de.onDragEnter,ir=de.onDragOver,or=de.onDragLeave,sr=de.onDrop,bn=qc(de,Fb);return Pt(Pt(Uf({onKeyDown:$r(ti(gt,jt)),onFocus:$r(ti(Wn,rr)),onBlur:$r(ti(It,_r)),onClick:An(ti(Cn,wr)),onDragEnter:$n(ti(Pn,Ye)),onDragOver:$n(ti(ir,Xe)),onDragLeave:$n(ti(or,ze)),onDrop:$n(ti(sr,Zt)),role:typeof qe=="string"&&qe!==""?qe:"presentation"},Le,xe),!i&&!U?{tabIndex:0}:{}),bn)}},[xe,jt,rr,_r,wr,Ye,Xe,ze,Zt,U,ce,i]),Hn=z.useCallback(function(de){de.stopPropagation()},[]),Er=z.useMemo(function(){return function(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Re=de.refKey,Le=Re===void 0?"ref":Re,qe=de.onChange,gt=de.onClick,Wn=qc(de,jb),It=Uf({accept:P,multiple:h,type:"file",style:{border:0,clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",height:"1px",margin:"0 -1px -1px 0",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap"},onChange:An(ti(qe,Zt)),onClick:An(ti(gt,Hn)),tabIndex:-1},Le,Ie);return Pt(Pt({},It),Wn)}},[Ie,t,h,Zt,i]);return Pt(Pt({},se),{},{isFocused:pe&&!i,getRootProps:Ut,getInputProps:Er,rootRef:xe,inputRef:Ie,open:An(En)})}function Gb(n,e){switch(e.type){case"focus":return Pt(Pt({},n),{},{isFocused:!0});case"blur":return Pt(Pt({},n),{},{isFocused:!1});case"openDialog":return Pt(Pt({},zf),{},{isFileDialogActive:!0});case"closeDialog":return Pt(Pt({},n),{},{isFileDialogActive:!1});case"setDraggedFiles":return Pt(Pt({},n),{},{isDragActive:e.isDragActive,isDragAccept:e.isDragAccept,isDragReject:e.isDragReject});case"setFiles":return Pt(Pt({},n),{},{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections,isDragReject:e.isDragReject});case"reset":return Pt({},zf);default:return n}}function g_(){}const Qb=()=>{const n=Cl(),[e,t]=z.useState(null),[i,s]=z.useState(null),[a,c]=z.useState([]),[h,p]=z.useState([]),[v,_]=z.useState(!1),[T,I]=z.useState(null),[A,b]=z.useState(null),[j,V]=z.useState(!1),q=z.useRef([]),te=localStorage.getItem("userID"),Z=z.useCallback(xe=>{xe.length!==0&&(b(xe[0]),c([]),t(null),I(null),V(!1))},[]),he=()=>{t(null),s(null),c([]),p([]),b(null),V(!1)},U=async()=>{if(!A)return;_(!0),I(null),V(!1);const xe=new FormData;xe.append("image",A);try{const Ie=await fetch("https://mediscrape.onrender.com/MediScrape",{method:"POST",body:xe});if(!Ie.ok)throw new Error("Failed to process the image.");const Ke=await Ie.json();t(Ke.doctorName||"Not Found"),s(Ke.disease||"Not Found"),c(Ke.medicines||["Not Found"]),p(Ke.tests||["Not Found"]),V(!0)}catch(Ie){I(Ie.message)}finally{_(!1)}},ce=async()=>{if(a.length===0&&h.length===0&&i.length===0){I("Doctor's name, medicines, tests, or disease must be filled in.");return}try{await $1(Up(rs,te),{doctorName:e,disease:i,medicines:a,tests:h,date:new Date}),alert("Data saved successfully!"),he()}catch(xe){I("Failed to save data to Firestore."),console.error(xe)}},{getRootProps:C,getInputProps:x,isDragActive:S}=T0({onDrop:Z,accept:{"image/*":[".jpeg",".png",".jpg"]},multiple:!1}),P=(xe,Ie)=>{const Ke=[...a];Ke[xe]=Ie,c(Ke)},O=(xe,Ie)=>{if(xe.key==="Backspace"&&xe.target.textContent.trim()===""){xe.preventDefault();const Ke=[...a];Ke.splice(Ie,1),c(Ke)}},M=()=>{c([...a,""])},k=()=>{localStorage.removeItem("userID"),alert("Logged out successfully!"),n("/")};return oe.jsxs(oe.Fragment,{children:[oe.jsxs("div",{className:"header",children:[oe.jsx("button",{onClick:()=>n("/history"),className:"top-btn",children:"History"}),oe.jsx("button",{onClick:()=>n("/analysis"),className:"top-btn",children:"Analysis"}),oe.jsx("button",{onClick:k,className:"top-btn",children:"Logout"})]}),oe.jsxs("div",{className:"container",children:[oe.jsx("h1",{className:"title",children:"Medicine Extractor"}),oe.jsxs("div",{...C(),className:`dropzone ${S?"dropzone-active":""}`,children:[oe.jsx("input",{...x()}),oe.jsx("p",{children:S?"Drop the image here...":"Drag and drop an image, or click to select one (JPEG/PNG)."})]}),A&&oe.jsxs("p",{className:"file-info",children:["File selected: ",A.name]}),oe.jsx("button",{onClick:U,className:"extractBtn",disabled:!A||v,children:"Extract Medicine"}),v&&oe.jsx("p",{className:"message",children:"Processing, please wait..."}),T&&oe.jsx("p",{className:"message message-error",children:T}),e&&oe.jsxs("div",{className:"message message-text",children:[oe.jsx("h3",{className:"title",children:"Doctor's Name:"}),oe.jsx("p",{contentEditable:"true",spellCheck:"false",suppressContentEditableWarning:!0,onBlur:xe=>t(xe.target.textContent),children:e})]}),i&&oe.jsxs("div",{className:"message message-text",children:[oe.jsx("h3",{className:"title",children:"Disease Name:"}),oe.jsx("p",{contentEditable:"true",spellCheck:"false",suppressContentEditableWarning:!0,onBlur:xe=>s(xe.target.textContent),children:i})]}),a.length>0&&oe.jsxs("div",{className:"message message-text",children:[oe.jsx("h3",{className:"title",children:"Validated Medicines:"}),a.map((xe,Ie)=>oe.jsx("div",{className:"editable-div",contentEditable:"true",spellCheck:"false",suppressContentEditableWarning:!0,ref:Ke=>q.current[Ie]=Ke,onBlur:Ke=>P(Ie,Ke.target.textContent),onKeyDown:Ke=>O(Ke,Ie),children:xe},Ie))]}),h.length>0&&oe.jsxs("div",{className:"message message-text",children:[oe.jsx("h3",{className:"title",children:"Prescribed Tests:"}),h.map((xe,Ie)=>oe.jsx("div",{className:"editable-div",children:xe},Ie))]}),j&&a.length>0&&oe.jsx(oe.Fragment,{children:oe.jsxs("div",{className:"actionBtn",children:[oe.jsx("button",{onClick:M,className:"addBtn",children:"Add Medicine"}),oe.jsx("button",{onClick:he,className:"cancelBtn",children:"Cancel"}),oe.jsx("button",{onClick:ce,className:"saveBtn",children:"Save"})]})}),j&&a.length===0&&oe.jsx("p",{className:"message",children:"No valid medicines found in the image."})]})]})},Yb=()=>{const n=Cl(),[e,t]=z.useState([]),i=localStorage.getItem("userID");z.useEffect(()=>{(async()=>{try{const p=(await c0(Up(rs,i))).docs.map(v=>({id:v.id,...v.data()}));t(p)}catch(h){console.error("Failed to fetch history:",h)}})()},[i]);const s=async c=>{try{await B1(ml(rs,i,c)),t(h=>h.filter(p=>p.id!==c)),alert("Entry deleted successfully!")}catch(h){console.error("Failed to delete entry:",h)}},a=()=>{localStorage.removeItem("userID"),alert("Logged out successfully!"),n("/")};return oe.jsxs(oe.Fragment,{children:[oe.jsxs("div",{className:"header",children:[oe.jsx("button",{onClick:()=>n("/Landing"),className:"top-btn",children:"Home"}),oe.jsx("button",{onClick:()=>n("/analysis"),className:"top-btn",children:"Analysis"}),oe.jsx("button",{onClick:a,className:"top-btn",children:"Logout"})]}),oe.jsxs("div",{className:"container",children:[oe.jsx("h1",{className:"title",children:"History"}),e.length>0?oe.jsx("div",{className:"history-grid",children:e.map(c=>oe.jsxs("div",{className:"history-card",children:[oe.jsxs("h3",{className:"doctor-name",children:["Doctor Name: ",c.doctorName]}),oe.jsx("h4",{className:"medicine-title",children:"Medicines:"}),oe.jsx("ul",{className:"medicine-list",children:c.medicines.map((h,p)=>oe.jsx("li",{className:"medicine-item",children:h},p))}),oe.jsx("button",{className:"deleteBtn",onClick:()=>s(c.id),children:"Delete"})]},c.id))}):oe.jsx("p",{className:"no-data",children:"No history found."})]})]})},Xb=()=>{const n=Cl(),[e,t]=z.useState([]),i=localStorage.getItem("userID");z.useEffect(()=>{(async()=>{try{const p=(await c0(Up(rs,i))).docs.flatMap(v=>v.data().medicines).reduce((v,_)=>(v[_]=(v[_]||0)+1,v),{});t(Object.entries(p))}catch(c){console.error("Failed to fetch analysis:",c)}})()},[i]);const s=()=>{localStorage.removeItem("userID"),alert("Logged out successfully!"),n("/")};return oe.jsxs(oe.Fragment,{children:[oe.jsxs("div",{className:"header",children:[oe.jsx("button",{onClick:()=>n("/Landing"),className:"top-btn",children:"Home"}),oe.jsx("button",{onClick:()=>n("/history"),className:"top-btn",children:"History"}),oe.jsx("button",{onClick:s,className:"top-btn",children:"Logout"})]}),oe.jsxs("div",{className:"container",children:[oe.jsx("h1",{className:"title",children:"Medicine Analysis"}),e.length>0?oe.jsx("div",{className:"analysis-grid",children:e.map(([a,c])=>oe.jsxs("div",{className:"analysis-card",children:[oe.jsx("h2",{className:"medicine-name",children:a}),oe.jsxs("p",{className:"medicine-count",children:["Count: ",c]})]},a))}):oe.jsx("p",{className:"no-data",children:"No analysis data found."})]})]})},Jb=EI([{path:"/",element:oe.jsx(Q1,{})},{path:"/Landing",element:oe.jsx(Qb,{})},{path:"/history",element:oe.jsx(Yb,{})},{path:"/analysis",element:oe.jsx(Xb,{})}]);OT.createRoot(document.getElementById("root")).render(oe.jsx(z.StrictMode,{children:oe.jsx(OI,{router:Jb})}));
